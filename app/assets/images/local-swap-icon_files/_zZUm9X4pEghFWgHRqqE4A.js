(function() {var e,aa="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global?global:this,ba={};function ca(a,b){(ba[a]=ba[a]||[]).push(b);var c=aa;a=a.split(".");for(var d=0;d<a.length-1&&c;d++)c=c[a[d]];a=a[a.length-1];c&&c[a]instanceof Function&&(c[a]=b(c[a]))}
function da(){da=function(){};if(!aa.Symbol){aa.Symbol=ea;var a=[],b=function(b){return function(d){a=[];d=b(d);for(var f=[],g=0,h=d.length;g<h;g++){var k;a:if(k=d[g],14>k.length)k=!1;else{for(var l=0;14>l;l++)if(k[l]!="jscomp_symbol_"[l]){k=!1;break a}k=!0}k?a.push(d[g]):f.push(d[g])}return f}};ca("Object.keys",b);ca("Object.getOwnPropertyNames",b);ca("Object.getOwnPropertySymbols",function(c){return function(d){b.PU=Object.getOwnPropertyNames(d);a.push.apply(c(d));return a}})}}var fa=0;
function ea(a){return"jscomp_symbol_"+a+fa++}function ha(){da();aa.Symbol.iterator||(aa.Symbol.iterator=aa.Symbol("iterator"));ha=function(){}}function ia(a){ha();da();ha();var b=a[Symbol.iterator];if(b)return b.call(a);var c=0;return{next:function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}}}}function ka(a){if(!(a instanceof Array)){a=ia(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}
function t(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;for(var d in b)if(Object.defineProperties){var f=Object.getOwnPropertyDescriptor(b,d);f&&Object.defineProperty(a,d,f)}else a[d]=b[d]}var la="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};
function ma(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function na(a,b){if(b){for(var c=aa,d=a.split("."),f=0;f<d.length-1;f++){var g=d[f];g in c||(c[g]={});c=c[g]}d=d[d.length-1];f=c[d];b=b(f);if(b!=f){a=ba[a]||[];for(f=0;f<a.length;f++)b=a[f](b);la(c,d,{configurable:!0,writable:!0,value:b})}}}
na("WeakMap",function(a){function b(a){this.oq=(k+=Math.random()+1).toString();if(a){da();ha();a=ia(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}}function c(a){if(!ma(a,g)){var b={};b[g]=h;la(a,g,{value:b})}}function d(a){return function(b){var c=a(b);if(ma(b,g)&&ma(b[g],g)&&b[g][g]===h)for(b=0;b<c.length;b++)if(c[b]==g){c.splice(b,1);break}return c}}function f(a){return function(b){c(b);return a(b)}}if(function(){if(!a||!Object.seal)return!1;var b=Object.seal({}),c=Object.seal({}),
d=new a([[b,2],[c,3]]);if(2!=d.get(b)||3!=d.get(c))return!1;d.delete(b);d.set(c,4);return!d.has(b)&&4==d.get(c)}())return a;var g="$jscomp_hidden_"+Math.random().toString().substring(2),h={};ca("Object.getOwnPropertyNames",d);ca("Object.keys",d);ca("Reflect.enumerate",d);ca("Reflect.ownKeys",d);ca("Object.freeze",f);ca("Object.preventExtensions",f);ca("Object.seal",f);var k=0;b.prototype.set=function(a,b){c(a);if(!ma(a,g))throw Error("WeakMap key fail: "+a);a[g][this.oq]=b;return this};b.prototype.get=
function(a){return ma(a,g)?a[g][this.oq]:void 0};b.prototype.has=function(a){return ma(a,g)&&ma(a[g],this.oq)};b.prototype.delete=function(a){return ma(a,g)&&ma(a[g],this.oq)?delete a[g][this.oq]:!1};return b});
na("Map",function(a){function b(){var a={};return a.previous=a.next=a.head=a}function c(a,b){var c=a.Eh,d={next:function(){if(c){for(;c.head!=a.Eh;)c=c.previous;for(;c.next!=c.head;)return c=c.next,{done:!1,value:b(c)};c=null}return{done:!0,value:void 0}}};d[Symbol.iterator]=function(){return d};return d}function d(a,b){var c;c=b&&typeof b;"object"==c||"function"==c?g.has(b)?c=g.get(b):(c=""+ ++h,g.set(b,c)):c="p_"+b;var d=a.tp[c];if(d&&ma(a.tp,c))for(a=0;a<d.length;a++){var f=d[a];if(b!==b&&f.key!==
f.key||b===f.key)return{id:c,list:d,index:a,Jd:f}}return{id:c,list:d,index:-1,Jd:void 0}}function f(a){this.tp={};this.Eh=b();this.size=0;if(a){a=ia(a);for(var c;!(c=a.next()).done;)c=c.value,this.set(c[0],c[1])}}if(function(){if(!a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),c=new a(ia([[b,"s"]]));if("s"!=c.get(b)||1!=c.size||c.get({x:4})||c.set({x:4},"t")!=c||2!=c.size)return!1;var d=c.entries(),f=d.next();if(f.done||f.value[0]!=b||"s"!=f.value[1])return!1;
f=d.next();return f.done||4!=f.value[0].x||"t"!=f.value[1]||!d.next().done?!1:!0}catch(g){return!1}}())return a;da();ha();var g=new WeakMap;f.prototype.set=function(a,b){var c=d(this,a);c.list||(c.list=this.tp[c.id]=[]);c.Jd?c.Jd.value=b:(c.Jd={next:this.Eh,previous:this.Eh.previous,head:this.Eh,key:a,value:b},c.list.push(c.Jd),this.Eh.previous.next=c.Jd,this.Eh.previous=c.Jd,this.size++);return this};f.prototype.delete=function(a){a=d(this,a);return a.Jd&&a.list?(a.list.splice(a.index,1),a.list.length||
delete this.tp[a.id],a.Jd.previous.next=a.Jd.next,a.Jd.next.previous=a.Jd.previous,a.Jd.head=null,this.size--,!0):!1};f.prototype.clear=function(){this.tp={};this.Eh=this.Eh.previous=b();this.size=0};f.prototype.has=function(a){return!!d(this,a).Jd};f.prototype.get=function(a){return(a=d(this,a).Jd)&&a.value};f.prototype.entries=function(){return c(this,function(a){return[a.key,a.value]})};f.prototype.keys=function(){return c(this,function(a){return a.key})};f.prototype.values=function(){return c(this,
function(a){return a.value})};f.prototype.forEach=function(a,b){for(var c=this.entries(),d;!(d=c.next()).done;)d=d.value,a.call(b,d[1],d[0],this)};f.prototype[Symbol.iterator]=f.prototype.entries;var h=0;return f});function qa(a,b){ha();a instanceof String&&(a+="");var c=0,d={next:function(){if(c<a.length){var f=c++;return{value:b(f,a[f]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d}
na("Array.prototype.keys",function(a){return a?a:function(){return qa(this,function(a){return a})}});na("Array.prototype.fill",function(a){return a?a:function(a,c,d){var f=this.length||0;0>c&&(c=Math.max(0,f+c));if(null==d||d>f)d=f;d=Number(d);0>d&&(d=Math.max(0,f+d));for(c=Number(c||0);c<d;c++)this[c]=a;return this}});na("Array.prototype.values",function(a){return a?a:function(){return qa(this,function(a,c){return c})}});
function ra(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,f=0;f<d;f++){var g=a[f];if(b.call(c,g,f,a))return{mF:f,BI:g}}return{mF:-1,BI:void 0}}na("Array.prototype.find",function(a){return a?a:function(a,c){return ra(this,a,c).BI}});na("Array.prototype.entries",function(a){return a?a:function(){return qa(this,function(a,c){return[a,c]})}});
na("Object.assign",function(a){return a?a:function(a,c){for(var d=1;d<arguments.length;d++){var f=arguments[d];if(f)for(var g in f)ma(f,g)&&(a[g]=f[g])}return a}});na("String.prototype.repeat",function(a){return a?a:function(a){var c;if(null==this)throw new TypeError("The 'this' value for String.prototype.repeat must not be null or undefined");c=this+"";if(0>a||1342177279<a)throw new RangeError("Invalid count value");a|=0;for(var d="";a;)if(a&1&&(d+=c),a>>>=1)c+=c;return d}});
na("Set",function(a){function b(a){this.Kf=new Map;if(a){a=ia(a);for(var b;!(b=a.next()).done;)this.add(b.value)}this.size=this.Kf.size}if(function(){if(!a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),d=new a(ia([b]));if(!d.has(b)||1!=d.size||d.add(b)!=d||1!=d.size||d.add({x:4})!=d||2!=d.size)return!1;var f=d.entries(),g=f.next();if(g.done||g.value[0]!=b||g.value[1]!=b)return!1;g=f.next();return g.done||g.value[0]==b||4!=g.value[0].x||g.value[1]!=g.value[0]?
!1:f.next().done}catch(h){return!1}}())return a;da();ha();b.prototype.add=function(a){this.Kf.set(a,a);this.size=this.Kf.size;return this};b.prototype.delete=function(a){a=this.Kf.delete(a);this.size=this.Kf.size;return a};b.prototype.clear=function(){this.Kf.clear();this.size=0};b.prototype.has=function(a){return this.Kf.has(a)};b.prototype.entries=function(){return this.Kf.entries()};b.prototype[Symbol.iterator]=function(){return this.Kf.values()};b.prototype.values=function(){return this.Kf.values()};
b.prototype.forEach=function(a,b){var f=this;this.Kf.forEach(function(g){return a.call(b,g,g,f)})};return b});na("Array.prototype.findIndex",function(a){return a?a:function(a,c){return ra(this,a,c).mF}});function sa(a){this.data=a}sa.prototype.get=function(a,b){if(!this.data)throw Error("no viewConfig, unable to get: "+a);b=void 0===this.data[a]?b:this.data[a];if(void 0===b)throw Error('Could not retrieve "'+a+'" from viewConfig');return b};var ta=(new UAParser).getResult(),ua=ta.browser.name,va=ta.browser.major,wa=(new sa(window.viewConfig||{})).get("magicButtonEnabled",null),xa=/\.247$/;
""==window.location.pathname||"/"==window.location.pathname||"/signup"==window.location.pathname||"/login"==window.location.pathname||ta.browser.version.match(xa)||("Chrome"===ua||"Chromium"==ua)&&27<=va||"Safari"===ua&&6<=va||"Firefox"===ua&&23<=va||("IE"===ua||"Edge"===ua)&&11<=va||"undefined"!=typeof window.localStorage&&window.localStorage.ignore_browser_cache||(wa&&wa.test(window.location.search)?window.location.href="/unsupported?playvideo\x3d1":window.location.href="/unsupported");function ya(){}function za(a,b,c){for(var d=[],f=2;f<arguments.length;++f)d[f-2]=arguments[f];if(!a)throw Error(2>arguments.length?"invalid argument":Aa.apply(ya,[].concat([b],ka(d))));}function Ba(a,b,c){for(var d=[],f=2;f<arguments.length;++f)d[f-2]=arguments[f];if(!a)throw Error(2>arguments.length?"invalid state":Aa.apply(ya,[].concat([b],ka(d))));}
function Ca(a,b,c){for(var d=[],f=2;f<arguments.length;++f)d[f-2]=arguments[f];if(null==a)throw Error(2>arguments.length?"argument is null":Aa.apply(ya,[].concat([b],ka(d))));return a}function Aa(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];var f=0;return a.replace(/\{}/g,function(){return f<c.length?c[f++]:"{}"})};function Da(a){this.type=a}Da.prototype.required=function(a,b){b=b[a];if(null==b||typeof b!=this.type)throw new TypeError("expected "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};Da.prototype.optional=function(a,b){b=b[a];if(null!=b&&typeof b!=this.type)throw new TypeError("expected optional "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};
Da.prototype.Rg=function(a,b){b=b[a];if(null!=b)if(Array.isArray(b))for(a=0;a<b.length;a++)this.required(String(a),b);else throw new TypeError("expected repeated "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};var Ea=new Da("string"),Fa=new Da("boolean"),Ga=new Da("number"),Ha=new Da("object");function Ia(a){if(null==a||"object"!=typeof a)throw new TypeError("expected an object, found: "+a);return a}function u(a,b){return Ga.optional(a,b)||0}
function Ja(a,b){return Ga.optional(a,b)}function La(a,b){return Ea.required(a,b)}function Ma(a,b){return Ea.optional(a,b)}function Na(a,b,c){return a(Ha.required(b,c))}function Pa(a,b,c){return(b=Ha.optional(b,c))?a(b):b}function Qa(a,b,c){return(b=Ha.Rg(b,c))?b.map(a):b}function Ra(a,b,c){return a(b,Ea.required(b,c))}function Sa(a){this.type=a}
Sa.prototype.required=function(a,b){if(null==b||typeof b!=this.type)throw new TypeError("expected "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};Sa.prototype.optional=function(a,b){if(null!=b){if(typeof b!=this.type)throw new TypeError("expected optional "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b}};
Sa.prototype.Rg=function(a,b){if(Array.isArray(b)){if(0==b.length)return;for(var c=0;c<b.length;c++)this.required(a+"["+String(c)+"]",b[c])}else throw new TypeError("expected repeated "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};var Ta=new Sa("string"),Ua=new Sa("boolean"),Va=new Sa("number"),Wa=new Sa("object");function Xa(a,b){return 0!==b?Va.required(a,b):void 0}function Ya(a,b,c){return Ta.required(b,a(b,c))}function Za(a,b,c){return Ta.optional(b,c?a(b,c):null)};var $a=$a||{},z,ab,A,bb,cb,db,eb,fb,gb,ib,jb,kb,lb,mb,nb,ob,pb,qb,C,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb;var G=new function(){this.EJ={upload:"/static/r/rekall/immovable/js/x9zITKdAvhuJA9i2mpYYlQ.js"};this.yJ=!1;this.zw=.1;this.sa={nL:330,PD:330,FT:500,JT:300,IT:300,MT:500,ny:300,HL:400,Op:300,GM:300,OF:1E3,PF:1E3,rj:200,Hn:20,lU:600,Uq:300,Of:500,gQ:2E3,rU:500,TQ:300,yl:600,GG:500,KT:150};this.Aw=140;this.To=1.2;this.ww=150;this.LC=.7;this.cm=30;this.yw="#ffffff";this.ys=24;this.xC=300;this.zs=10;this.yC=this.DC=1.2;this.cJ=42;this.$I=24;this.XI=16;this.bJ="Abril Fatface";this.ZI="Trocchi";this.WI="Arimo";this.wb=20;this.xb=
4;this.hJ=1024;this.kJ=[6,8,10,12,14,16,18,21,24,28,32,36,42,48,56,64,72,80,88,96,104,120,144];this.BC="undefined"!==typeof window&&1<window.devicePixelRatio;this.CC=.33;this.As=.5;this.nJ="undefined"!==typeof window&&window.navigator.userAgent.match(/Macintosh/)?!0:!1;this.oJ=5E3;this.Bs=500;this.Bw=255;this.Wo=3;this.Cs=10*this.Wo;this.pJ=40;this.qJ=1;this.oe=3;this.fh=.95;this.tJ=110;this.rJ=180;this.sJ=145;this.Xo=30;this.em=50;this.Fi="https://static.canva.com/static/images/placeholder.jpg";this.GC=1438;this.FC=560;
this.Qe=230/24;this.IC=1E3;this.Ds=50;this.vJ={MAB5cDHmsFw:"0e94ff",MAB5cMCyv6w:"72c0ff",MAB5cAQJlaQ:"d0eaff",MAB5cEikLyU:"c0f2dc",MAB5cM_6xEM:"83f2d9",MAB5cJzamNA:"00d1c0",MAB5cMvV4WI:"b7ff82",MAB5cEhZV9o:"d3ffb3",MAB5cCZyCJQ:"feffcb",MAB5cHj48Zw:"ffef42",MAB5cK1JDsE:"ffa351",MAB5hidY3ns:"ffde7d",MAB5cFsTlDk:"fff6df",MAB5cKyqi1s:"ffd8cf","MAB5hoaFM-I":"ffa3a1",MAB5cNEJxNs:"ff716e",MAB5cP9grzE:"ff6bcd",MAB5cMwWSfs:"ffc7ec",MAB5cGdDeZ4:"e4b9ff",MAB5cBzXdGA:"d38cff",MAB5cNvP7Pc:"c06af6",MAB5cKXAlps:"7f72ff",
MAB5cCOTPdQ:"9c92ff",MAB5cDcYB4g:"c7c1ff",MAB5cFxeE3w:"e0daf3",MAB5cE5y_5k:"b9b5c7",MAB5cCYeclo:"9a97a5",MAB5cOfCuGs:"73726d",MAB5cPkevM0:"a3a198",MAB5cPNsPAA:"dddbcd","MAB5cOxZt-I":"ff95db",MAAyKuwFB5o:"ffffff",MAAyKtahJms:"ffbd7e",MAAyKgcbIPk:"383838",MAAyKi3v9aM:"ababab",MAAyKiojphI:"3ea198",MAAyKgoNGiU:"f1eae2",MAAyKtzdfJo:"f2e6da",MAAyKjzFRMk:"b6b6b6",MAAyKl0hu7c:"3f0002",MAAyKrQbulQ:"aabee5",MAAyKjqXb3g:"1e404e",MAAyKpadICg:"383838",MAAyKriHEH4:"fce8d2",MAAyKvlJXOU:"86d694",MAAyKt_1BzE:"abddd8",
MAAyKtiLYqQ:"ffcd54",MAAyKu2TdB8:"a12e38",MAAyKojhmk8:"9c77b8",MAAyKvdlAbg:"4473a7",MAAMxVrOHEU:"d3e460",MAAMxR635oY:"3589a1",MAAMJGCfFWw:"8bcfb1",MAAMxcxaYiU:"8bcfb1",MAAMxbOmmrM:"de5947",MAAMxVr6xaM:"ab7253",MAAMxbd7Q4o:"ee826d",MAAMJKph95Q:"9d427a",MAAMJAC_3oM:"969db1",MAAMJEZCTiQ:"54a4a5",MAAMJMQdk_o:"be842e",MAAMJKR_eNE:"318ba2",MAAMJNt_z0k:"f3bc33",MAAMJPRAWEw:"df5a46",MAAMJEguyXk:"54a4a5",MAAMJMMLN98:"9f437b",MAAMJPOvhoc:"df5a46",MAAMJPQVxis:"ee826c",MAAMJOSYm7w:"f3bc33",MAAMJM5OR40:"b7a77f",
MAAMxUoD3Gw:"8cccaf",MAAMxdiUksM:"f3bc33",MAAMxRX8OJ4:"f3bc33",MAAMxbGelwc:"54a4a5",MAAMxSCeicM:"318ba2",MAAMxT7CVYA:"8cccaf"};this.Es=3E4;this.aJ=1500;this.JC=5;this.Fw=null;this.CJ=190;this.DJ=300;this.iJ=88;this.lJ=0;this.Fs=88;this.MC=10;this.wC=7;this.gJ=0;this.dJ=this.fJ=12;this.eJ=0;this.Gw=.7;this.Yo=1.3;this.EC=2.5},Hb={TITLE:"title",gT:"subtitle",BODY:"body"},Ib={wJ:"search",YS:"layout",TEXT:"text",PS:"backgrounds",nT:"uploads"};function Jb(a){this.$el=a}Jb.prototype.remove=function(){this.$el.remove()};function Kb(a){this.$el=a;this.zn={}}Kb.prototype.remove=function(){this.$el.off();this.$el.remove()};Kb.prototype.on=function(a,b){za(!this.zn[a],"listener already registered for event {}",a);this.zn[a]=b};Kb.prototype.off=function(a,b){null==a?this.zn={}:null!=b&&this.zn[a]!=b||delete this.zn[a]};Kb.prototype.trigger=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];(d=this.zn[a])&&d.apply(null,[].concat(ka(c)))};function I(a){this.fM=a.fallback;this.YF=a.localePrecedence;this.Zz={};this.C=a.messages;this.oQ=this.YF[0];this.VQ=!!a.returnKeys}I.prototype.format=function(a,b){if(this.VQ)return[].join.call(arguments,":");var c=Lb(this,a);return c.format.call(c,[].slice.call(arguments,1))};
function Lb(a,b){if(a.Zz.hasOwnProperty(b))return a.Zz[b];var c=a.oQ,d;a.YF.some(function(c){d=a.C[c]&&a.C[c][b];return void 0!==d});d||(c=a.fM,d=a.C[c]&&a.C[c][b]);if(!d)throw Error("Unknown message: "+b);c=new IntlMessageFormat(d,c,Mb);return a.Zz[b]=c}var Mb={number:{currency:{style:"currency",currency:"USD"},integer:{maximumFractionDigits:0},fixed2:{minimumFractionDigits:2,maximumFractionDigits:2}}};function Nb(){this.Ha=window.cmsg;this.eA=this.rp=this.Pm=this.px=this.Uc=this.kf=this.kC=this.Zx=this.ud=this.Ac=this.hf=this.Uf=this.Hb=this.Z=this.wa=this.Lm=this.ic=this.kc=this.ac=this.vg=this.fe=this.qg=this.qc=this.gp=this.ky=this.jy=this.sh=this.zb=this.ly=this.Id=this.ae=this.mx=this.hg=this.Tx=this.Y=null}function Qb(a){a.Y||(a.Y=new Rb(a.Ha));return a.Y}function Sb(a){a.Tx||(a.Tx=new Tb(a.Ha));return a.Tx}function Ub(a){a.hg||(a.hg=new Vb(a.Ha));return a.hg}
function Wb(a){a.mx||(a.mx=new Xb(a.Ha));return a.mx}function Yb(a){a.sh||(a.sh=new Zb(a.Ha));return a.sh}function $b(a){a.Id||(a.Id=new ac(a.Ha));return a.Id}function bc(a){a.ly||(a.ly=new cc(a.Ha));return a.ly}function dc(a){a.zb||(a.zb=new ec(a.Ha));return a.zb}function fc(a){a.jy||(a.jy=new gc(a.Ha));return a.jy}function hc(a){a.gp||(a.gp=new ic(a.Ha));return a.gp}function jc(a){a.Pm||(a.Pm=new kc(a.Ha));return a.Pm}function lc(a){a.rp||(a.rp=new mc(a.Ha));return a.rp}
function nc(a){a.wa||(a.wa=new pc(a.Ha));return a.wa}function qc(a){a.Z||(a.Z=new rc(a.Ha));return a.Z}function sc(a){a.kc||(a.kc=new tc(a.Ha));return a.kc}function uc(a){a.hf||(a.hf=new vc(a.Ha));return a.hf}function wc(a){a.Ac||(a.Ac=new xc(a.Ha));return a.Ac}function yc(a){a.kC||(a.kC=new zc(a.Ha));return a.kC}function Ac(a){a.kf||(a.kf=new Bc(a.Ha));return a.kf}function Cc(a){a.Uc||(a.Uc=new Dc(a.Ha));return a.Uc}function Fc(a){a.px||(a.px=new Gc(a.Ha));return a.px}
function Hc(a){a.eA||(a.eA=new Ic(a.Ha));return a.eA}function Rb(a){I.apply(this,arguments)}t(Rb,I);function Jc(a){return a.format("objectPanelInfoClose")}function Kc(a){return a.format("objectPanelInfoCloseThisInfoPanel")}function Lc(a){return a.format("objectPanelInfoUntitledImage")}Rb.prototype.gc=function(){return this.format("objectPanelInfoRoyaltyFree")};Rb.prototype.od=function(){return this.format("objectPanelInfoExtended")};function Mc(a,b){return a.format("objectPanelInfoLayouts",b)}
function Nc(a){return a.format("objectPanelUploadsPanelWriteOpsDisabledLabel")}function Oc(a){return a.format("objectPanelUploadsPanelDefaultFolderName")}function Pc(a,b){return a.format("objectPanelUploadsPanelSharePopOverPrivateLabelOtherOwner",b)}function Qc(a){return a.format("objectPanelUploadsPanelUnlimitedUseFolder")}function Rc(a){return a.format("objectPanelTextPanelAddHeading")}function Sc(a){return a.format("objectPanelTextPanelAddSubHeading")}
function Tc(a){return a.format("objectPanelLayoutsPanelYourDesignsTabLabel")}function Uc(a){return a.format("objectPanelLayoutsPanelLayoutsTabTitle")}function Vc(a){return a.format("objectPanelLayoutsPanelTeamTemplates")}function Wc(a,b){return a.format("objectPanelLicense",b)}function tc(a){I.apply(this,arguments)}t(tc,I);e=tc.prototype;e.pD=function(){return this.format("creditCardCardNumberPlaceholder")};e.eG=function(){return this.format("creditCardMonthPlaceholder")};e.QI=function(){return this.format("creditCardYearPlaceholder")};
e.JD=function(){return this.format("creditCardCvcPlaceholder")};e.save=function(){return this.format("creditCardSave")};e.xH=function(){return this.format("creditCardSavingTeamCard")};function Tb(a){I.apply(this,arguments)}t(Tb,I);Tb.prototype.Rn=function(){return this.format("documentPlaceholderText")};function ec(a){I.apply(this,arguments)}t(ec,I);ec.prototype.dw=function(){return this.format("editorControlsUpgrade")};ec.prototype.vB=function(){return this.format("editorControlsShare")};
ec.prototype.download=function(){return this.format("editorControlsDownload")};function Xc(a){I.apply(this,arguments)}t(Xc,I);Xc.prototype.error=function(){return this.format("findUserInputError")};function Vb(a){I.apply(this,arguments)}t(Vb,I);function Xb(a){I.apply(this,arguments)}t(Xb,I);Xb.prototype.bb=function(a){return this.format("colorPickerBrandColor",a)};function Yc(a){I.apply(this,arguments)}t(Yc,I);Yc.prototype.save=function(){return this.format("editorFileMenuPaneSave")};
Yc.prototype.PQ=function(){return this.format("editorFileMenuPaneResizeUpgradePrompt")};Yc.prototype.Rz=function(){return this.format("editorFileMenuPaneLearnMoreButtonLabel")};Yc.prototype.TM=function(a){return this.format("editorFileMenuPaneLastSavedLabel",a)};function Zb(a){I.apply(this,arguments)}t(Zb,I);Zb.prototype.OJ=function(){return this.format("customDimensionsPaneActionResize")};Zb.prototype.times=function(){return this.format("customDimensionsPaneTimes")};Zb.prototype.iQ=function(){return this.format("customDimensionsPanePixelsUnit")};
function Zc(a){I.apply(this,arguments)}t(Zc,I);Zc.prototype.ES=function(){return this.format("documentResizePaneUseCustomDimensions")};Zc.prototype.sx=function(){return this.format("documentResizePaneCouldNotBeLoaded")};Zc.prototype.XB=function(){return this.format("documentResizePaneTryLoadingAgain")};Zc.prototype.Fy=function(){return this.format("documentResizePaneFetchingDesignTypes")};function $c(a){I.apply(this,arguments)}t($c,I);e=$c.prototype;e.YK=function(){return this.format("magicResizePaneCopyAndResize")};
e.sx=function(){return this.format("magicResizePaneCouldNotBeLoaded")};e.XB=function(){return this.format("magicResizePaneTryLoadingAgain")};e.Fy=function(){return this.format("magicResizePaneFetchingDesignTypes")};e.hL=function(){return this.format("magicResizePaneCurrentDesignSize")};e.GJ=function(){return this.format("magicResizePaneAbracadabraResize")};e.sN=function(){return this.format("magicResizePaneOhSnap")};e.nN=function(){return this.format("magicResizePaneMultipleTabs")};
function gc(a){I.apply(this,arguments)}t(gc,I);gc.prototype.NJ=function(){return this.format("editorPageControlActionMoveUp")};gc.prototype.MJ=function(){return this.format("editorPageControlActionMoveDown")};gc.prototype.KJ=function(){return this.format("editorPageControlActionCopy")};gc.prototype.LJ=function(){return this.format("editorPageControlActionDelete")};function ad(a){I.apply(this,arguments)}t(ad,I);ad.prototype.oC=function(){return this.format("editorReplaceContentWarningTitle")};
ad.prototype.nC=function(){return this.format("editorReplaceContentWarningText")};ad.prototype.Ou=function(){return this.format("editorReplaceContentNeverShowAgain")};function ac(a){I.apply(this,arguments)}t(ac,I);function bd(a){return a.format("editorToolbarFilterOptionAdvanced")}function cd(a,b){return a.format("editorToolbarFilter"+b.replace(/\s*/g,""))}
function dd(a,b){b=b.replace(/(^[a-z])|(\-[a-z])/g,function(a){return(a[1]||a[0]).toUpperCase()});return a.format("editorToolbarFilterRange"+b)}e=ac.prototype;e.textAlign=function(){return this.format("editorToolbarTextAlign")};function ed(a){return a.format("editorToolbarElementTransparency")}function fd(a){return a.format("editorToolbarElementHorizontalAlignLeft")}function gd(a){return a.format("editorToolbarElementHorizontalAlignRight")}
function hd(a){return a.format("editorToolbarElementHorizontalAlignCenter")}function id(a){return a.format("editorToolbarElementVerticalAlignTop")}function jd(a){return a.format("editorToolbarElementVerticalAlignBottom")}function kd(a){return a.format("editorToolbarElementVerticalAlignCenter")}function ld(a){return a.format("editorToolbarElementHorizontalDistribute")}function md(a){return a.format("editorToolbarElementVerticalDistribute")}
function nd(a){return a.format("editorToolbarElementPickAColor")}function od(){return $b(pb).format("editorToolbarImagePickAColor")}e.Rz=function(){return this.format("editorToolbarLearnMoreButtonLabel")};e.Jb=function(){return this.format("editorToolbarTransparency")};e.lineHeight=function(){return this.format("editorToolbarLineHeight")};e.letterSpacing=function(){return this.format("editorToolbarLetterSpacing")};function cc(a){I.apply(this,arguments)}t(cc,I);cc.prototype.resize=function(){return this.format("editorSelectionBoxResize")};
cc.prototype.stretch=function(){return this.format("editorSelectionBoxStretch")};cc.prototype.rotate=function(){return this.format("editorSelectionBoxRotate")};cc.prototype.GQ=function(){return this.format("editorSelectionBoxRemoveWatermark")};function ic(a){I.apply(this,arguments)}t(ic,I);function pd(a){return a.format("canvaForWorkUpgradeTeamBrandKitsTitle")}function qd(a){return a.format("canvaForWorkUpgradeLayoutCreatorsTitle")}
function rd(a){return a.format("canvaForWorkUpgradeMagicallyResizeTitle")}function sd(a){return a.format("canvaForWorkUpgradePhotoFoldersTitle")}ic.prototype.Bn=function(){return this.format("canvaForWorkUpgradeMemberLabel")};function td(a){I.apply(this,arguments)}t(td,I);td.prototype.post=function(){return this.format("shareViewPost")};td.prototype.vB=function(){return this.format("shareViewShare")};td.prototype.email=function(){return this.format("shareViewEmail")};td.prototype.send=function(){return this.format("shareViewSend")};
function ud(a){I.apply(this,arguments)}t(ud,I);e=ud.prototype;e.zh=function(){return this.format("exportPopOverFileType")};e.ym=function(){return this.format("exportPopOverCropMarksAndBleed")};e.Ko=function(){return this.format("exportPopOverTransparentBackground")};e.mm=function(){return this.format("exportPopOverAllPagesLabel")};e.download=function(){return this.format("exportPopOverDownload")};e.title=function(){return this.format("exportPopOverTitle")};e.rv=function(){return this.format("exportPopOverPng")};
e.Bu=function(){return this.format("exportPopOverJpg")};e.Om=function(){return this.format("exportPopOverFileTypeInfoLinkTitle")};e.xm=function(){return this.format("exportPopOverCropAndBleedInfoLinkTitle")};function vd(a,b){return a.format("exportPopOverMultiPageZipWarning",b)}function kc(a){I.apply(this,arguments)}t(kc,I);e=kc.prototype;e.title=function(){return this.format("fileTypesDialogTitle")};e.rv=function(){return this.format("fileTypesDialogPng")};e.kQ=function(){return this.format("fileTypesDialogPngDescription")};
e.Bu=function(){return this.format("fileTypesDialogJpg")};e.QM=function(){return this.format("fileTypesDialogJpgDescription")};e.dQ=function(){return this.format("fileTypesDialogPdfStandard")};e.eQ=function(){return this.format("fileTypesDialogPdfStandardDescription")};e.bQ=function(){return this.format("fileTypesDialogPdfPrint")};e.cQ=function(){return this.format("fileTypesDialogPdfPrintDescription")};e.dz=function(){return this.format("fileTypesDialogGotIt")};
function mc(a){I.apply(this,arguments)}t(mc,I);e=mc.prototype;e.title=function(){return this.format("cropAndBleedDialogTitle")};e.Bi=function(){return this.format("cropAndBleedDialogSubtitle")};e.gL=function(){return this.format("cropAndBleedDialogCropMarksDescription")};e.cK=function(){return this.format("cropAndBleedDialogBleedAreaDescription")};e.dz=function(){return this.format("cropAndBleedDialogGotIt")};function pc(a){I.apply(this,arguments)}t(pc,I);e=pc.prototype;e.title=function(){return this.format("shareDesignDialogTitle")};
e.GB=function(){return this.format("shareDesignDialogSocial")};e.link=function(){return this.format("shareDesignDialogLink")};e.Gh=function(){return this.format("shareDesignDialogInviteLabel")};e.Fh=function(){return this.format("shareDesignDialogInviteButton")};e.ti=function(){return this.format("shareDesignDialogShareLabel")};e.Sh=function(){return this.format("shareDesignDialogMessagePlaceholder")};e.si=function(){return this.format("shareDesignDialogShareButton")};
e.Pb=function(a){return this.format("shareDesignDialogFolders",a)};function wd(a,b,c){return a.format("shareDesignDialogValidateEmailError",b,c)}e.Nh=function(){return this.format("shareDesignDialogLinkLabel")};e.Yd=function(){return this.format("shareDesignDialogCopyButton")};e.yh=function(){return this.format("shareDesignDialogEmbedPublic")};e.xh=function(){return this.format("shareDesignDialogEmbedMakePublic")};e.vh=function(){return this.format("shareDesignDialogEmbedDescription")};
e.Vk=function(a,b){return this.format("shareDesignDialogInviteMembersHtml",a,b)};e.mn=function(){return this.format("shareDesignDialogInviteMemberButton")};e.nn=function(){return this.format("shareDesignDialogInviteMemberError")};function rc(a){I.apply(this,arguments)}t(rc,I);e=rc.prototype;e.Se=function(){return this.format("publishViewActionClose")};e.fm=function(){return this.format("publishViewActionCloseHint")};e.gm=function(){return this.format("publishViewActionOK")};e.hm=function(){return this.format("publishViewActionRetry")};
function xd(a,b){return a.format("publishViewUnlimitedUseHint",b)}e.kn=function(){return this.format("publishViewHintSeeAllDesigns")};e.Pc=function(){return this.format("publishViewOneTimeUse")};e.fc=function(){return this.format("publishViewOneTimeUseDescription")};e.gc=function(){return this.format("publishViewRoyaltyFree")};e.hc=function(){return this.format("publishViewRoyaltyFreeDescription")};e.od=function(){return this.format("publishViewExtended")};e.pd=function(){return this.format("publishViewExtendedDescription")};
e.vd=function(){return this.format("publishViewNoLicenseOptionDescription")};e.Lh=function(a){return this.format("publishViewLicensePrice",a)};e.wm=function(a){return this.format("publishViewCreditAvailable",a)};e.total=function(a){return this.format("publishViewTotal",a)};e.Aj=function(a){return this.format("publishViewPayOption",a)};e.qx=function(a){return this.format("publishViewContributedBy",a)};e.Yn=function(){return this.format("publishViewPurchased")};e.bc=function(){return this.format("publishViewFree")};
e.wn=function(){return this.format("publishViewLayoutTitle")};e.Ej=function(){return this.format("publishViewPurchaseButton")};e.xH=function(){return this.format("publishViewSavingTeamCard")};e.ii=function(){return this.format("publishViewRestrictedOverlayHeading")};e.ji=function(){return this.format("publishViewRestrictedOverlayMessage")};e.hi=function(){return this.format("publishViewRestrictedOverlayDraftButton")};e.gi=function(){return this.format("publishViewRestrictedOverlayCancelButton")};
function yd(a){I.apply(this,arguments)}t(yd,I);function zd(a){return a.format("twentyThreeSecondOnboardingSearchText")}function Ad(a){return a.format("twentyThreeSecondOnboardingDragText")}function Bd(a){return a.format("twentyThreeSecondOnboardingPublishText")}function Cd(a){return a.format("twentyThreeSecondOnboardingYumText")}function Dd(a){I.apply(this,arguments)}t(Dd,I);Dd.prototype.eL=function(a){return this.format("teamUpgradeCreateTeamWelcomeTitleHtml",a)};Dd.prototype.fL=function(){return this.format("teamUpgradeCreateYourTeam")};
Dd.prototype.dL=function(a){return this.format("teamUpgradeCreateTeamWelcomeDescription",a)};function Ed(a){return a.format("teamUpgradeCreateTrialPeriodPoint1V")}function Fd(a,b){return a.format("teamUpgradeCreateTrialPeriodPoint2V",b)}function Gd(a){return a.format("teamUpgradeCreateTrialPeriodPoint3V")}function vc(a){I.apply(this,arguments)}t(vc,I);e=vc.prototype;e.dw=function(a){return this.format("teamBillingSignupUpgrade",a)};e.QR=function(){return this.format("teamBillingSignupStartTrial")};
e.WQ=function(){return this.format("teamBillingSignupRevertCard")};e.PM=function(){return this.format("teamBillingSignupItemsTitle")};e.bK=function(){return this.format("teamBillingSignupBillingError")};e.nS=function(){return this.format("teamBillingSignupTryAgain")};e.QL=function(){return this.format("teamBillingSignupEncryption")};e.ks=function(a,b){return this.format("teamBillingSignupTotalPrice",a,b)};function xc(a){I.apply(this,arguments)}t(xc,I);
function Hd(a){return a.format("starOnboardingActionStayAndPlay")}function Id(a){return a.format("starOnboardingActionKeepExploring")}xc.prototype.wQ=function(){return this.format("starOnboardingProgressTitle")};xc.prototype.KR=function(){return this.format("starOnboardingSpecialInstructionsTitle")};xc.prototype.IR=function(){return this.format("starOnboardingSpecialInstructionsHtml")};xc.prototype.JR=function(){return this.format("starOnboardingSpecialInstructionsQuestionText")};
function Jd(a){I.apply(this,arguments)}t(Jd,I);function zc(a){I.apply(this,arguments)}t(zc,I);zc.prototype.DA=function(){return this.format("viewDesignsPopOverTitle")};zc.prototype.BA=function(){return this.format("viewDesignsPopOverMessage")};zc.prototype.AA=function(){return this.format("viewDesignsPopOverDone")};function Kd(a){I.apply(this,arguments)}t(Kd,I);Kd.prototype.DA=function(){return this.format("downloadPopOverTitle")};Kd.prototype.BA=function(){return this.format("downloadPopOverMessage")};
Kd.prototype.AA=function(){return this.format("downloadPopOverDone")};function Bc(a){I.apply(this,arguments)}t(Bc,I);Bc.prototype.So=function(a){return this.format("zoomToolbarZoomPercentage",a)};Bc.prototype.qd=function(){return this.format("zoomToolbarFullscreenMode")};Bc.prototype.fill=function(){return this.format("zoomToolbarFill")};function Dc(a){I.apply(this,arguments)}t(Dc,I);function Gc(a){I.apply(this,arguments)}t(Gc,I);function Ic(a){I.apply(this,arguments)}t(Ic,I);function J(a,b){if(!a)throw new TypeError("Cannot adopt constructor "+a);if("object"!==typeof b)throw new TypeError("Cannot adopt non-object value "+b);if(null===b)throw new TypeError("Cannot adopt null value");return Object.create(a.prototype,Ld(b))}function Ld(a){var b=Object.create(null);Object.keys(a).forEach(function(c){b[c]={value:a[c],writable:!0,enumerable:!0,configurable:!0}});return b};function Md(a,b){this.name=a;this.defaultValue=b}function Od(a){this.values=a||{}}Od.prototype.get=function(a){return a.name in this.values?this.values[a.name]:a.defaultValue};function Pd(a){this.ta=a}
var Qd=new Md("ag",!0),Rd=new Md("aj",!1),Sd=new Md("au",!1),Td=new Md("ay",!1),Ud=new Md("av",!1),Vd=new Md("aw",!1),Wd=new Md("SSFB",!0),Xd=new Md("SSTW",!0),Yd=new Md("SSEM",!0),Zd=new Md("SSPI",!1),$d=new Md("SSLI",!1),ae=new Md("az",!1),be=new Md("bf",!1),ce=new Md("bg",!1),de=new Md("bk",!1),ee=new Md("bw",!1),fe=new Md("by",!1),ge=new Md("ca",!1),he=new Md("cf",250),ie=new Md("cn",!1),je=new Md("cv",!1),ke=new Md("de",!1),le=new Md("df",!1),me=new Md("dg",-1),ne=new Md("dh",-1),oe=new Md("di",
!0),pe=new Md("dj",!1),qe=new Md("dk",!1),re=new Md("dl",!1),se=new Md("dn",!1),te=new Md("dr",!1),ue=new Md("ex",!1),ve=new Md("ea",!1),we=new Md("ek",!1),xe=new Md("em","NONE"),ye=new Md("en",!1),ze=new Md("ep",!0),Ae=new Md("ey",!1),Be=new Md("ez",!1);Pd.prototype.up=function(){return!!this.ta.get(Sd)};Pd.prototype.Fm=function(){return this.ta.get(xe)};function Ce(a){return!!a.ta.get(ze)};var K="undefined"!==typeof _&&"undefined"!==typeof Backbone&&_.extend({},Backbone.Events),De=null,Ee=null;function Fe(a){this.yb=a.yb;this.fb=a.fb;this.Lf=a.Lf;this.tb=a.tb;this.Zv=a.Zv;this.pp=a.pp}function Ge(a,b,c,d){b=He(b);if(!b)return null;var f=L(a.yb);a=Ie(a,b.ya());isNaN(parseFloat(c*d))?(b.Zb(a),f.addElement(b,!0)):(a.Va(c||0),a.Wa(d||0),b.Zb(a),b.appendTo(f));Je(b);Ke(b);return b}Fe.prototype.UC=function(a,b,c){var d;d={height:a.dj().D(),isCutout:!1,mediaId:a.G(),mediaVersion:0,type:"image",width:a.dj().w()};b=Ge(this,d,b,c);Me(this.Zv,Ne(a),b)};
Fe.prototype.VC=function(a,b,c,d){switch(a.hb()){case Oe:a=Pe(a,"image",d);Ge(this,a,b,c);break;case Qe:a=a.Aa().Zp()?Pe(a,"graphic"):Pe(a,"svg");Ge(this,a,b,c);break;default:throw Error("Bad media. Composer unable to add media of type: "+a.hb());}};Fe.prototype.WC=function(a,b,c,d){a=a.WR?Re(a,"svg"):Re(a,"image",d);Ge(this,a,b,c)};
function Ne(a){var b=a.dj(),c=a.lc();return Se({files_:[{page:0,quality:"THUMBNAIL",height:c.D(),url:c.ma(),width:c.w()},{page:0,quality:"SCREEN",height:b.D(),url:b.ma(),width:b.w()}],id:a.G(),origin:Te,title:a.getName()})}function Pe(a,b,c){var d=a.Aa().ec()[Ue];b={height:d.D(),isCutout:!!c,mediaId:a.G(),mediaVersion:a.Aa().getVersion(),type:b,width:d.w()};a=a.Aa().Zp();null!=a&&(b.spritesheetMetadata=Ve(a));return b}
function Re(a,b,c){return{height:a.dc().height,isCutout:!!c,mediaId:a.rb().G(),mediaVersion:1,type:b,width:a.dc().width}}function We(a,b){b.forEach(function(a){a=Ne(a);Xe(this.Zv,a)},a)}function Ye(a,b){b.forEach(function(a){Ze(this.Lf,a.G(),a.Aa().getVersion(),a.Aa().ec())},a)}
function Ie(a,b){var c=b.clone(),d=$e(a.yb.Sa().dc());(function(){var a=c.w()/c.D();c.oa(Math.min(c.D(),d.D()*G.fh));c.pa(a*c.D())})();(function(){var a=c.D()/c.w();c.pa(Math.min(c.w(),d.w()*G.fh));c.oa(a*c.w())})();return c}Fe.prototype.ew=function(a,b,c){0<b.length&&this.pp(a,c).upload(b,af(a))};function bf(a,b){a.aE=b}
function cf(a,b,c,d,f,g){function h(){var a=b.getFile(Ue);return new M(0,0,a.w()*O,a.D()*O)}function k(a){var b,d,g;b=a.clientX-f.W()+c.W();d=a.clientY-f.N()+c.N();g=Math.max(Math.min((a.clientX-V)/R,1),0);g=1>w?Math.min(Math.max(w,1+g*(w-1)),1):Math.min(Math.max(1,1+g*(w-1)),w);a.clientX>H?(q=!0,g=w):q=!1;m(b,d,g)}function l(a){var b,c,f=!1,h;b=d.get(0).getBoundingClientRect();c=df(b);f=$(a.target).is(".hotspot");a=df(E);h=(b.left-E.left)/O;b=(b.top-E.top)/O;$(document).off("mouseup",l);$(document).off("mousemove",
k);!x&&f?p():q&&ef(c,a)?(g(h,b,x),p()):setTimeout(r,50);$("#hotspots").remove();ff().write(function(){$("#overlays .align").removeClass("on")})}function m(a,b,c){gf(d[0],{ki:c,Ij:c,Le:a,Me:b});q&&hf(D.F(),d)&&(null===Q&&(Q=new jf(d,E,{left:B,top:F})),a=kf(),lf(Q,W,a))}function n(){window.setTimeout(function(){d.remove()},650)}function p(){m(c.W(),c.N(),1);d.css("left",c.W()).css("top",c.N()).css("opacity",0).addClass("draggedMediaPlacing");n()}function r(){var a="",b="",f=d.get(0).getBoundingClientRect(),
g=y.aE||c,h=f.left-g.W(),f=f.top-g.N();100<h?a="draggedMediaReturningLeft":-100>h&&(a="draggedMediaReturningRight");100<f?b="draggedMediaReturningUp":-100>f&&(b="draggedMediaReturningDown");d.addClass(a).addClass(b).addClass("draggedMediaReturning");0>g.N()&&d.addClass("draggedMediaReturningFading").css("opacity",0);m(g.W(),g.N(),1);y.aE=void 0;n()}var q=!1,v,x=!1,w,y=a,B,F,D,E,H,V,R,O=N,W={},Q=null;0<d.find("img").length&&(x=mf(d.find("img").get(0))>G.zw);v=nf(h(),function(){var a=$e(y.yb.Sa().dc()),
b=G.fh*O;return new M(0,0,a.w()*b,a.D()*b)}());w=Math.min(h().w(),v.w())/c.w();B=f.W()-c.W();F=f.N()-c.N();D=L(a.yb);E=D.F().get(0).getBoundingClientRect();H=$("#objectPanel").get(0).getBoundingClientRect().right;V=H-$(".uploadsLayoutColumn").outerWidth()/2+20;R=H-V;S();d.on("dragstart",function(a){a.preventDefault();return!1});d.css("width",c.w());d.css("height",c.D());d.css("transform-origin",B+"px "+F+"px");m(c.W(),c.N(),1);d.attr("class","draggedMedia");$("#content").append(d);(function(){var a=
d.find("img"),c=$("\x3cli\x3e\x3c/li\x3e");d.toggleClass("cutout",x);c.data("result",b).append(a.clone());d.data("li",c);a.data("screenWidth",v.w());a.data("screenHeight",v.D());of(d,L(y.yb),!1)})();$(document).on("mousemove",k);$(document).on("mouseup",l)};function pf(a){this.Zf=new sa(a)}var qf=["DESIGN_TUTORIAL","FREE_NEW_USER","C4W_INVITED_NEW_USER","C4W_NEW_USER"];pf.prototype=Object.create(sa.prototype);pf.prototype.Gk=function(){var a=this.Zf.get("brandColor",null);return a&&rf(a)};pf.prototype.Fe=function(){return this.Zf.get("onboardingMode",null)};function sf(a){return a.Zf.get("enabledPublicationContexts",[])}pf.prototype.eK=function(){return this.Zf.get("brandMembershipEditable",!1)};function tf(a){this.da=a}e=tf.prototype;e.Sk=function(a){throw uf(a[0].errorKey);};e.vq=function(a){return"CreditCardInvalid"===a[0].errorType};e.ZK=P.method(function(a,b){return vf(this.da,"/billing/brands/"+encodeURIComponent(a)+"/account",{brand:a,stripeToken:b}).get(0).get("account").then(wf).catch(this.vq,this.Sk)});function xf(a,b,c){a.da.get("/billing/brands/"+encodeURIComponent(b)+"/account",function(a,b){200!=a?c(a,null):c(a,wf(b))})}
function yf(a,b){return new P(function(a,d){xf(this,b,function(b,g){zf(b)?a(g):d(b)})}.bind(a))}function Af(a,b){var c="/billing/designs/"+encodeURIComponent(b.document)+"/"+encodeURIComponent(b.Ri.toString())+"/licenses";0!==b.aa.length&&(c+="?pages\x3d"+b.aa.join(","));return Bf(a.da,c).get(0).then(Ia).then(Cf)}
e.getSubscription=P.method(function(a){return Bf(this.da,a.brand?"/billing/brands/"+a.brand+"/subscription"+(null!=a.excludeStandard?"?excludeStandard\x3d"+(a.excludeStandard?"true":"false"):""):"/billing/subscriptions/"+a.id).get(0).then(Df)});e.xS=P.method(function(a){return vf(this.da,a.brand?"/billing/brands/"+a.brand+"/subscription":"/billing/subscriptions/"+a.id,a).get(0).then(Ef).catch(this.vq,this.Sk)});
P.method(function(a){return vf(this.da,"/billing/brands/"+a.brand+"/subscription?refund",a).get(0).then(Ff).catch(this.vq,this.Sk)});P.method(function(a){return vf(this.da,"/billing/campaign",a).spread(Gf)});P.method(function(a){return Hf(this.da,"/billing/campaign/"+encodeURIComponent(a)).spread()});P.method(function(a,b){return Bf(this.da,"/billing/coupon/"+encodeURIComponent(a)+"?validate\x3d"+encodeURIComponent(b)).spread(If)});
P.method(function(a){a="/billing/brands/"+encodeURIComponent(a.na())+"/invoices?"+a.ie();return Bf(this.da,a).get(0).then(Jf)});P.method(function(a){a="/billing/invoices/"+encodeURIComponent(a.G())+"?"+a.ie();return Bf(this.da,a).get(0).then(Kf)});P.method(function(a){a=a.na()?"/billing/brands/"+encodeURIComponent(a.na())+"/invoice?upcoming":"/billing/brand/invoice?upcoming";return Bf(this.da,a).get(0).then(Lf).catch(this.vq,this.Sk)});
P.method(function(a){var b=a.na()?"/billing/brands/"+encodeURIComponent(a.na())+"/invoice?create":"/billing/brand/invoice?create";return vf(this.da,b,a).get(0).then(Mf)});P.method(function(a){return vf(this.da,"/billing/invoices/"+encodeURIComponent(a.invoiceId)+"?pay",a).get(0).then(Nf).catch(this.vq,this.Sk)});function Of(){}Of.prototype.G=function(){return this.id};Of.prototype.Ca=function(){return this.user};Of.prototype.Pk=function(){return this.status};function Pf(){}function Qf(a){return Object.freeze(J(Pf,a))}Pf.prototype.getDate=function(){return this.date};Pf.prototype.Ca=function(){return this.user};Pf.prototype.na=function(){return this.brand};Pf.prototype.G=function(){return this.id};function Rf(){}
function Sf(a){a=J(Rf,a);a.licenses=a.licenses.map(Tf);a.credits=a.credits.map(Uf);a.subscriptionCharges=a.subscriptionCharges.map(Vf);return Object.freeze(a)}function Wf(){}function Uf(a){a=J(Wf,a);a.date=new Date(a.date);return Object.freeze(a)}Wf.prototype.Qk=function(){return this.value};Wf.prototype.getDate=function(){return this.date};function Xf(){}function Vf(a){a=J(Xf,a);a.fromDate=new Date(a.fromDate);a.toDate=new Date(a.toDate);return Object.freeze(a)}Xf.prototype.getSubscription=function(){return this.subscription};
function Yf(){}Yf.prototype.getSubscription=function(){return this.subscription};function Df(a){a=J(Yf,a);a.subscription=Zf(a.subscription);return a}function $f(){}$f.prototype.G=function(){return this.id};$f.prototype.na=function(){return this.brand};$f.prototype.Pk=function(){return this.status};
function Zf(a){a=J($f,a);a.plan=Object.freeze(J(ag,a.plan));null!=a.trialEnd&&(a.trialEnd=new Date(a.trialEnd));null!=a.paidUntil&&(a.paidUntil=new Date(a.paidUntil));null!=a.periodEnd&&(a.periodEnd=new Date(a.periodEnd));return a}function ag(){}ag.prototype.G=function(){return this.id};ag.prototype.gb=function(){return this.displayName};ag.prototype.cq=function(){return this.trialPeriodDays};function bg(a){return a.billingInterval}ag.prototype.an=function(){return this.price};
function cg(a){return("YEARLY"===bg(a)?1:12)*a.an()}function dg(){}dg.prototype.me=function(a){this.brand=a;return this};function eg(){}eg.prototype.getSubscription=function(){return this.subscription};function Ef(a){a=J(eg,a);a.subscription=Zf(a.subscription);return a}function fg(){}function Ff(a){return Object.freeze(J(fg,a))}function gg(){}gg.prototype.G=function(){return this.id};gg.prototype.gb=function(){return this.displayName};gg.prototype.hb=function(){return this.type};gg.prototype.cq=function(){return this.trialPeriodDays};
function hg(a){a=J(gg,a);null!=a.created&&(a.created=new Date(a.created));null!=a.expiry&&(a.expiry=new Date(a.expiry));return a}function ig(){}ig.prototype.Ca=function(){return this.user};ig.prototype.na=function(){return this.brand};function jg(){}jg.prototype.Ca=function(){return this.user};jg.prototype.na=function(){return this.brand};function kg(){}function Gf(a){a=J(kg,a);a.campaign=hg(a.campaign);return a}function lg(){}
function If(a){a=J(lg,a);var b=J(jg,a.coupon);b.campaign=hg(b.campaign);null!=b.dateRedeemed&&(b.dateRedeemed=new Date(b.dateRedeemed));if(null!=b.couponRedemption){var c=J(ig,b.couponRedemption);c.dateRedeemed=new Date(c.dateRedeemed);b.couponRedemption=c}a.coupon=b;return a}function mg(a){a=void 0===a?{}:a;this.brand=a.ca||"";this.last4=a.gU||"";this.expMonth=a.QT||null;this.expYear=a.ST||null}mg.prototype.na=function(){return this.brand};function ng(){}
function og(a){a=J(ng,a);a.card=Object.freeze(J(mg,a.card));a.addedDate&&(a.addedDate=new Date(a.addedDate));a.deletedDate&&(a.deletedDate=new Date(a.deletedDate));return Object.freeze(a)}ng.prototype.Vm=function(){return this.card};function pg(a){a=void 0===a?{}:a;this.brand=a.ca||"";this.stripe=a.gf||!1;this.stripeKey=a.FU||null;this.credit=a.BT||0;this.card=a.Xc||null;this.delinquent=a.CT||!1;this.archivedCards=a.pT||[];this.purchaseRoles=a.sU||[]}
function wf(a){a=J(pg,a);a.archivedCards&&(a.archivedCards=a.archivedCards.map(og));return Object.freeze(a)}pg.prototype.na=function(){return this.brand};pg.prototype.Vm=function(){if(this.card)return Object.freeze(J(mg,this.card))};function qg(a){a=void 0===a?{}:a;this.media=a.media||"";this.version=a.version||0;this.title=a.title||"";this.contributorName=a.ct||null;this.thumbUrl=a.bS||null;this.price=a.he||0;this.sessionCreationDate=a.yU||null;this.layout=a.ja||""}e=qg.prototype;e.rb=function(){return this.media};
e.getVersion=function(){return this.version};e.Za=function(){return this.title};e.an=function(){return this.price};e.OE=function(){return this.contributorName};function Tf(a){return a?$.extend(new qg,a):null}function rg(a){this.media=a.media;this.version=a.version;this.$k=a.$k}
rg.prototype.serialize=function(){var a=this.media,b=this.version,c;a:switch(c=this.$k,c){case "ONE_USE":c="ONE_USE";break a;case "ROYALTY_FREE":c="ROYALTY_FREE";break a;case "EXTENDED":c="EXTENDED";break a;default:throw new TypeError('expected LicenseType for property "licenseType", found: '+JSON.stringify(c));}return{media:a,version:b,licenseType:c}};
function sg(a){this.media=a.media;this.ua=a.ua;this.document=a.document;this.ca=a.ca;this.he=a.he;this.type=a.type;this.Mi=a.Mi;this.Ft=a.Ft||null;this.tH=a.tH;this.ja=a.ja}function tg(a){return new sg({media:La("media",a),ua:u("mediaVersion",a),document:Ma("document",a),ca:La("brand",a),he:u("price",a),type:Ra(ug,"type",a),Mi:u("creationDate",a),Ft:Ja("expirationDate",a),tH:Fa.optional("revoked",a)||!1,ja:Ma("layout",a)})}
function vg(a,b){return null==b||0===a.length?Infinity:_.min(a.map(function(a){return a.Ft&&0!=a.he?a.Ft-b:Infinity}))}function wg(a){this.media=a.media;this.ct=a.ct;this.df=a.df||[]}function xg(a){return new wg({media:Na(yg,"media",a),ct:La("contributorName",a),df:Qa(tg,"licenses",a)})}function zg(a,b){return null==b||0===a.length?Infinity:_.min(a.map(function(a){return vg(a.df,b)}))}function Ag(a){this.document=a.document;this.Ri=a.Ri;this.aa=a.aa;this.sz=a.sz;this.wz=a.wz}
Ag.prototype.serialize=function(){return{document:this.document,documentVersion:this.Ri,pages:this.aa,includeContributorNames:this.sz,includeThumbnailUrls:this.wz}};function Bg(a){this.Cv=a.Cv;this.fi=null!=a.fi?a.fi:null;this.Ri=a.Ri;this.items=a.items||[]}function Cf(a){return new Bg({Cv:Fa.optional("requiresLicenses",a)||!1,Ri:u("documentVersion",a),fi:Ja("responseTimestamp",a),items:Qa(xg,"items",a)})}function Cg(a){this.ng=a.ng;this.df=a.df;this.ks=a.ks}
Cg.prototype.serialize=function(){return{docId:this.ng,licenses:this.df.map(function(a){return a.serialize()}),totalPrice:this.ks}};function Dg(a){this.nh=a.nh;this.$D=a.$D;this.fi=a.fi;this.RA=a.RA||[]}function Eg(a){return new Dg({nh:u("credits",a),$D:u("dollars",a),fi:u("responseTimestamp",a),RA:Qa(tg,"purchasedLicenses",a)})}function Fg(){}function Jf(a){return Object.freeze(J(Fg,a))}function Gg(){}
function Kf(a){a=J(Gg,a);a.invoice=Object.freeze(J(Of,a.invoice));a.details&&(a.details=Sf(a.details));return Object.freeze(a)}function Hg(){}function Lf(a){a=J(Hg,a);a.invoice=Object.freeze(J(Of,a.invoice));a.details=Sf(a.details);return Object.freeze(a)}function Ig(){}function Mf(a){a=J(Ig,a);return Object.freeze(a)}function Jg(){}function Nf(a){a=J(Jg,a);return Object.freeze(a)}function Kg(){qg.call(this);this.df=[]}Kg.prototype=Object.create(qg.prototype);Kg.prototype.constructor=Kg;function Lg(a){this.da=a;this.url="/folders"}Lg.prototype.vx=P.method(function(a){return vf(this.da,this.url+"/~",a).get(0).then(Mg)});Lg.prototype.BE=P.method(function(a){a=this.url+"/~?"+Ng(a);return Bf(this.da,a).get(0).then(Og)});Lg.prototype.qb=P.method(function(a){a=this.ma(a.qb());return Bf(this.da,a).get(0).then(Pg)});Lg.prototype.ma=function(a){var b=a.xc();return b?[this.url,"~/system",b.Ca(),b.hb()].join("/"):[this.url,a.G()].join("/")};
P.method(function(a){var b=this.ma(a.qb())+"?removeItems";return vf(this.da,b,a).return()});Lg.prototype.Gq=P.method(function(a){a=this.ma(a.qb())+"?list\x26"+a.ie();return Bf(this.da,a).get(0).then(Qg)});Lg.prototype.fN=P.method(function(a){var b=this.ma(a.bj())+"?moveItems";return vf(this.da,b,a).return()});Lg.prototype.aC=P.method(function(a){var b;if(a.qb().xc())throw Error("System folders cannot be updated");b=this.url+"/"+a.qb().G();return vf(this.da,b,a).get(0).then(Rg)});function Sg(){}Sg.prototype.ie=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};function Tg(a,b){a.to=b;return a}Sg.prototype.KI=function(a){this.items=a;return this};function Ug(a,b){a.from=b;return a}Sg.prototype.Md=function(){return this.items};Sg.prototype.bj=function(){if(this.from)return Vg(this.from)};
function Wg(a){this.id=a.id||null;this.systemFolder=a.YR;return this}function Vg(a){return Object.freeze(J(Wg,a))}Wg.prototype.G=function(){return this.id};Wg.prototype.xc=function(){if(this.systemFolder)return Object.freeze(J(Xg,this.systemFolder))};function af(a){return a.xc()?Vg({systemFolder:Object.freeze(J(Xg,{brand:a.na(),type:a.xc(),user:a.Ca()}))}):Vg({id:a.G()})}function Xg(){}Xg.prototype.na=function(){return this.brand};Xg.prototype.hb=function(){return this.type};Xg.prototype.Ca=function(){return this.user};
function Yg(){}function Rg(a){return Object.freeze(J(Yg,a))}Yg.prototype.qb=function(){if(this.folder)return Zg(this.folder)};Yg.prototype.xg=function(){return this.access};
function $g(a){a=void 0===a?{}:a;this.id=a.id||"";this.thumbnail=a.ah;this.systemFolder=a.YR||null;this.acl=a.Re;this.access=a.IJ;this.name=a.name||null;this.description=a.description||null;this.brand=a.ca||"";this.itemCount=a.fU||0;this.user=a.Pa||"";this.modifiedDate=a.kU||0;this.shared=a.BU||!1;this.type=a.type||ah;this.userSettings=a.QU||null}var ah="DESIGN";function Zg(a){return Object.freeze(J($g,a))}e=$g.prototype;e.G=function(){return this.id};
e.lc=function(){if(this.thumbnail)return Object.freeze(J(bh,this.thumbnail))};e.xc=function(){return this.systemFolder};e.Kd=function(){if(this.acl)return Object.freeze(J(ch,this.acl))};e.xg=function(){if(this.access)return this.access};e.getName=function(){return this.name};e.na=function(){return this.brand};e.Ca=function(){return this.user};e.hb=function(){return this.type};e.hj=function(){if(this.userSettings)return Object.freeze(J(dh,this.userSettings))};
e.Li=function(a){a=_.extend(_.pick(this,Object.keys(this)),a);return Zg(a)};
var eh=Zg({brand:"",id:"FACEBOOK",itemCount:0,modifiedDate:0,name:"Facebook",systemFolder:null,thumbnail:{height:200,url:"https://static.canva.com/static/images/upload_folder_facebook.png",width:200},user:""}),fh=Zg({brand:"",id:"UPLOADED_MEDIA",itemCount:0,modifiedDate:0,name:null,systemFolder:null,thumbnail:{height:200,url:"https://static.canva.com/static/images/default_folder_thumbnail_grey_bg.png",width:200},user:""}),gh=Zg({brand:"",id:"UNLIMITED_USE",itemCount:0,modifiedDate:0,name:null,systemFolder:null,thumbnail:{height:200,url:"https://static.canva.com/static/images/purchased_folder_thumbnail.png",
width:200},user:""}),hh={RS:eh,mT:fh,lT:gh};function bh(){}bh.prototype.D=function(){return this.height};bh.prototype.w=function(){return this.width};bh.prototype.ma=function(){return this.url};function ch(a){a=void 0===a?{}:a;this.entries=a.entries}ch.prototype.Li=function(a){a=_.extend(_.pick(this,Object.keys(this)),a);return Object.freeze(J(ch,a))};ch.prototype.getEntries=function(){if(this.entries)return this.entries.filter(function(a){return!!a}).map(function(a){return Object.freeze(J(ih,a))})};
function ih(a){a=void 0===a?{}:a;this.user=a.Pa;this.brand=a.ca;this.access=a.IJ}ih.prototype.Li=function(a){a=_.extend(_.pick(this,Object.keys(this)),a);return Object.freeze(J(ih,a))};ih.prototype.na=function(){return this.brand};ih.prototype.xg=function(){return this.access};ih.prototype.Ca=function(){return this.user};function jh(){}e=jh.prototype;e.ie=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};
e.$f=function(a){this.folder=a;return this};function kh(a,b){a.acl=b;return a}e.Zj=function(a){this.name=a;return this};e.FI=function(a){this.description=a;return this};function lh(a){a.trash=!0;return a}e.sC=function(a){this.userSettings=a;return this};e.qb=function(){if(this.folder)return Vg(this.folder)};e.Kd=function(){if(this.acl)return Object.freeze(J(ch,this.acl))};e.getName=function(){return this.name};e.hj=function(){if(this.userSettings)return Object.freeze(J(dh,this.userSettings))};
function mh(a,b,c){var d;d=function(){var c=[];a.Kd()&&a.Kd().getEntries()&&a.Kd().getEntries().forEach(function(a){a.na()!==b&&c.push({brand:a.na(),access:a.xg()})});return c}();c&&d.push({brand:b,access:c});c=Object.freeze(J(ch,{entries:d}));return kh((new jh).$f(af(a)),c)}function nh(a){this.gD=a.gD;this.$G=a.$G;this.kG=a.kG;this.hH=a.hH;this.SF=a.SF;this.zD=a.zD;this.RF=a.RF;this.Ln=a.Ln}function oh(){}function Qg(a){return Object.freeze(J(oh,a))}oh.prototype.Md=function(){if(this.items)return this.items.filter(function(a){return!!a}).map(function(a){return ph(a)})};
oh.prototype.Rb=function(){return this.continuation};oh.prototype.qb=function(){if(this.folder)return Zg(this.folder)};oh.prototype.xg=function(){return this.access};function qh(){}e=qh.prototype;e.ie=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b]||Array.isArray(a[b]))return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};e.jf=function(a){this.limit=a;return this};e.$f=function(a){this.folder=a;return this};
function rh(a){a.includeMetadata=!0;return a}e.dh=function(a){this.continuation=a;return this};e.Nd=function(){return this.limit};e.qb=function(){if(this.folder)return Vg(this.folder)};e.PE=function(){return this.decorations};e.Rb=function(){return this.continuation};function sh(){}function Pg(a){return Object.freeze(J(sh,a))}sh.prototype.qb=function(){if(this.folder)return Zg(this.folder)};sh.prototype.xg=function(){return this.access};function th(){}
th.prototype.ie=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};th.prototype.$f=function(a){this.folder=a;return this};th.prototype.qb=function(){if(this.folder)return Vg(this.folder)};function uh(){}function Og(a){return Object.freeze(J(uh,a))}uh.prototype.aj=function(){if(this.folders)return this.folders.filter(function(a){return!!a}).map(function(a){return Zg(a)})};
uh.prototype.Rb=function(){return this.continuation};function vh(){}e=vh.prototype;e.ie=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};e.jf=function(a){this.limit=a;return this};e.me=function(a){this.brand=a;return this};e.am=function(a){this.user=a;return this};function wh(a,b){a.folderTypes=b;return a}e.dh=function(a){this.continuation=a;return this};
e.KI=function(a){this.items=a;return this};e.sC=function(){this.projections||(this.projections=[]);this.projections.push("USER_SETTINGS");return this};e.Nd=function(){return this.limit};e.na=function(){return this.brand};e.Ca=function(){return this.user};e.Rb=function(){return this.continuation};
function Ng(a){return Object.keys(a).map(function(a){var c=this[a];if(Array.isArray(c))return a+"\x3d"+c.map(encodeURIComponent).join(",");if("object"!==typeof c)return a+"\x3d"+encodeURIComponent(c)},a).filter(Boolean).join("\x26")}function xh(){}function Mg(a){return Object.freeze(J(xh,a))}xh.prototype.xg=function(){return this.access};xh.prototype.qb=function(){if(this.folder)return Zg(this.folder)};function yh(){}e=yh.prototype;
e.ie=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};e.Zj=function(a){this.name=a;return this};e.me=function(a){this.brand=a;return this};e.am=function(a){this.user=a;return this};e.sC=function(a){this.userSettings=a;return this};e.getName=function(){return this.name};e.na=function(){return this.brand};e.Ca=function(){return this.user};e.hb=function(){return this.type};
e.hj=function(){return this.userSettings};function zh(){this.width=this.height=0;this.url="";this.version=0}zh.prototype.w=function(){return this.width};zh.prototype.D=function(){return this.height};zh.prototype.getVersion=function(){return this.version};zh.prototype.ma=function(){return this.url};
function Ah(){this.type=Bh;this.name=this.id="";this.timestamp=this.version=0;this.trashedTimestamp=null;this.thumbnail=new zh;this.tags=[];this.document=this.socialMetadata=this.folders=this.owner=this.marketplaceStatus=null}var Bh="DESIGN";
function ph(a){a=$.extend(new Ah,a);a.owner&&(a.owner=Object.freeze(J(Ch,a.owner)));if(a.thumbnail){var b;b=(b=a.thumbnail)?$.extend(new zh,b):null;a.thumbnail=b}if(a.socialMetadata){b=a.socialMetadata;var c=Fa.optional("brandPublik",b),d=Fa.optional("publik",b),f;f=Dh;var g=Ea.optional("myRole",b);f=null!=g?f("myRole",g):g;b=new nh({gD:c,$G:d,kG:f,hH:u("remixCount",b),SF:u("likerCount",b),zD:u("commentCount",b),RF:Fa.optional("likedByMe",b)||!1,Ln:Pa(Eh,"owner",b)});a.socialMetadata=b}a.document&&
(a.document=Fh(a.document));return a}e=Ah.prototype;e.Li=function(a){a=_.extend(_.pick(this,Object.keys(this)),a);return ph(a)};e.hb=function(){return this.type};e.G=function(){return this.id};e.getName=function(){return this.name};e.getVersion=function(){return this.version};e.ku=function(){return this.timestamp};e.lc=function(){return this.thumbnail};e.aj=function(){return this.folders};e.rb=function(){return this.media?yg(this.media):null};e.getDocument=function(){return this.document};
function Ch(){}Ch.prototype.Ca=function(){return this.user};Ch.prototype.na=function(){return this.brand};function dh(a){this.starred=a.EU};function Gh(){this.xhr=null}Gh.prototype.cancel=function(){this.xhr&&(this.xhr.abort(),this.xhr=null)};Gh.prototype.finish=function(){this.xhr=null};function Hh(a){this.YC=a&&a.analyticsContext||null;this.Qw=a&&a.authToken||null;this.Rw=a&&a.authzToken||null;this.hD=a&&a.brandRestriction||null;this.kD=a&&a.buildName||null;this.lD=a&&a.buildSha||null;this.zm=a&&a.csrfTokens||{};this.mB=a&&a.serverRoot||null;this.EH=!!this.mB;this.kR=this.mB?this.mB+"/_ajax":"/_ajax"}
function Ih(a){var b=a.indexOf("/",1);return-1==b?a:a.substring(0,b)}function zf(a){return 200<=a&&300>a}Hh.prototype.get=function(a,b){var c=new Gh;this.send("GET",a,null,!0,null,c,null,b);return c};function Bf(a,b){var c;return(new P(function(d,f){c=a.get(b,function(a,b){zf(a)?d([b,a]):f([b,a])})})).cancellable().catch(P.CancellationError,function(a){c.cancel();throw a;})}Hh.prototype.post=function(a,b,c,d){var f=new Gh;Jh(this,"POST",a,b,!0,0,f,c,d);return f};
function vf(a,b,c){var d;return(new P(function(f,g){d=a.post(b,c,null,function(a,b){zf(a)?f([b,a]):g([b,a])})})).cancellable().catch(P.CancellationError,function(a){d.cancel();throw a;})}function Kh(a,b,c,d){if(a.EH)throw Error("synchronous XHRs cannot be made with withCredentials");a.send("POST",b,d,!1,c,new Gh,null,function(){})}function Lh(a,b,c){var d=new Gh;Jh(a,"DELETE",b,null,!0,0,d,null,c);return d}
function Hf(a,b){var c;return(new P(function(d,f){c=Lh(a,b,function(a,b){zf(a)?d([b,a]):f([b,a])})})).cancellable().catch(P.CancellationError,function(a){c.cancel();throw a;})}
function Jh(a,b,c,d,f,g,h,k,l){var m=Ih(c);if(m in a.zm){var n=a.zm[m];a.send(b,c,d,f,n,h,k,function(p,r){418==p&&1>g?(a.zm[m]==n&&delete a.zm[m],Jh(a,b,c,d,f,g+1,h,k,l)):(l&&l(p,r),h.finish())})}else a.send("GET","/csrf"+m,null,f,null,h,null,function(n,r){200==n?(m in a.zm||(a.zm[m]=String(r)),Jh(a,b,c,d,f,g,h,k,l)):(l(n,null),h.finish())})}
Hh.prototype.send=function(a,b,c,d,f,g,h,k){function l(){4==n.readyState&&m()}function m(){var a,b,c;try{a=n.status;var d,f;try{d=n.getResponseHeader("X-Canva-Auth")}catch(h){}try{f=n.getResponseHeader("X-Canva-Authz")}catch(h){}d&&(p.Qw="!"!=d?d:null);f&&(p.Rw="!"!=f?f:null);b=n.responseText}catch(h){if(h.message&&h.message.match(/c00c023f/))a=0,b="";else throw g.finish(),h;}b=b&&b.trim?b.trim():"";d=b.substring(0,20);if(0<d.length){if("'\"])}while(1);\x3c/x\x3e//"!=d){k(500,null);g.finish();return}b=
b.substring(20);try{c=JSON.parse(b)}catch(h){k(500,null);g.finish();return}}else c=null;k(a,c);g.finish()}b=this.kR+b;var n=g.xhr=new XMLHttpRequest,p=this;n.open(a,b,d);this.EH&&(n.withCredentials=!0);"GET"!=a&&f&&n.setRequestHeader("X-Csrf-Token",f);this.YC&&n.setRequestHeader("X-Canva-Analytics",this.YC);this.Qw&&n.setRequestHeader("X-Canva-Auth",this.Qw);this.Rw&&n.setRequestHeader("X-Canva-Authz",this.Rw);this.hD&&n.setRequestHeader("X-Canva-Brand",this.hD);this.kD&&n.setRequestHeader("X-Canva-Build-Name",
this.kD);this.lD&&n.setRequestHeader("X-Canva-Build-Sha",this.lD);null===c?a=null:"object"==typeof c&&"undefined"!==typeof Blob&&c instanceof Blob?(n.setRequestHeader("Content-Type",c.type),h&&n.upload.addEventListener("progress",h,!1),a=c):(n.setRequestHeader("Content-Type","application/json;charset\x3dUTF-8"),a=JSON.stringify(c));d?(n.onreadystatechange=l,n.send(a)):(n.send(a),m())};function Mh(a){this.da=a;this.url="/metrics"}function Nh(a,b){return vf(a.da,a.url,Oh(b)).get(0).then(Ia).then(Ph)}function Qh(a,b){return vf(a.da,a.url,Rh(b)).get(0).then(Ia).then(Ph)};function Sh(a,b){switch(b){case "HISTOGRAM":return"HISTOGRAM";case "TIMELINE":return"TIMELINE";default:throw new TypeError('expected MetricType for property "'+a+'", found: '+JSON.stringify(b));}}function Th(a){this.bl=a.bl;this.name=a.name;this.value=a.value}function Oh(a){return{metricType:Ya(Sh,"metricType",a.bl),name:Ta.required("name",a.name),value:Xa("value",a.value)}}function Uh(a){this.bl=a.bl;this.name=a.name;this.events=a.events||new Map}
function Rh(a){var b=Ya(Sh,"metricType",a.bl),c=Ta.required("name",a.name);a=a.events;if(!(a instanceof Map))throw new TypeError('expected Map for property "events", found: '+JSON.stringify(a));for(var d={},f=ia(a.keys()),g=f.next();!g.done;g=f.next()){var h=g.value;if("string"!==typeof h)throw new TypeError('expected string key in property "events", found: '+JSON.stringify(h));g=h;h=a.get(h);if("number"!==typeof h)throw new TypeError('expected number value in property "events", found: '+JSON.stringify(h));
d[g]=h}return{metricType:b,name:c,events:d}}function Vh(){}function Ph(){return new Vh};function Wh(){}Wh.prototype.now=function(){return Date.now()};var Xh=new Wh;var Zh=new Yh;function Yh(){}e=Yh.prototype;e.setInterval=function(a,b){return window.setInterval(a,b)};e.clearInterval=function(a){window.clearInterval(a)};e.setTimeout=function(a,b){return window.setTimeout(a,b)};e.clearTimeout=function(a){window.clearTimeout(a)};e.requestAnimationFrame=function(a){return window.requestAnimationFrame(a)};e.cancelAnimationFrame=function(a){window.cancelAnimationFrame(a)};function $h(a){window.requestAnimationFrame(function(){window.requestAnimationFrame(a)})};function ai(a,b,c,d){this.name=a;this.se=b;this.cl=c;this.startTime=d;this.events=new Map}ai.prototype.kd=function(a){this.events.set(a,this.se.now()-this.startTime)};ai.prototype.done=function(){this.events.size&&bi(this.cl,this.name,this.events)};function ci(a,b){this.name=a;this.cl=b}ci.prototype.update=function(a){di(this.cl,this.name,a)};function ei(a,b,c){this.GH=a;this.se=b;this.UP=c}function fi(a){var b=window.cstart;if(void 0===b)throw Error("cstart undefined");return new ei(a,Xh,b)}
ei.prototype.pz=function(a){return new ci(a,this)};function bi(a,b,c){b=new Uh({bl:"TIMELINE",name:b,events:c});Qh(a.GH,b).catch(function(){})}function di(a,b,c){Nh(a.GH,new Th({bl:"HISTOGRAM",name:b,value:c})).catch(function(){})};function gi(){this.aB=[]}gi.prototype.update=function(a){this.aB.push(a)};gi.prototype.serialize=function(){if(0==this.aB.length)return null;var a=Infinity,b=-Infinity,c=0,d=0;this.aB.forEach(function(f){a=Math.min(a,f);b=Math.max(b,f);c+=f;d++});return{min:a,max:b,sum:c,count:d,mean:c/d}};function hi(a){this.Gb=a;this.yt=a.W();this.zt=a.N();this.WD=this.UD=0;if(a.kg){var b=a.Lo;this.yt=b.W();this.zt=b.N();this.UD=(b.W()-a.W())*N;this.WD=(b.N()-a.N())*N}}e=hi.prototype;e.uc=function(){var a=this.Gb.uc()+this.UD,b=this.Gb.Ib().W()*N;return a+b};e.vc=function(){var a=this.Gb.vc()+this.WD,b=this.Gb.Ib().N()*N;return a+b};e.W=function(){return this.Gb.Ib().W()+this.yt};e.Ya=hi.prototype.W;e.N=function(){return this.Gb.Ib().N()+this.zt};e.ab=hi.prototype.N;e.w=function(){return this.Gb.Ib().w()};
e.de=hi.prototype.w;e.D=function(){return this.Gb.Ib().D()};e.ce=hi.prototype.D;e.Ua=function(){return this.W()+this.w()};e.$b=hi.prototype.Ua;e.Ga=function(){return this.N()+this.D()};e.Qb=hi.prototype.Ga;e.Xm=function(){return this.W()+this.w()/2};e.Ma=function(){return 0};e.setSize=function(a,b){var c=this.Gb.Ib();c.pa(a);c.oa(b);ii(this.Gb,c)};e.pa=function(a){var b=this.Gb.Ib();b.pa(a);ii(this.Gb,b)};e.oa=function(a){var b=this.Gb.Ib();b.oa(a);ii(this.Gb,b)};
e.Va=function(a){var b=this.Gb.Ib();b.Va(a-this.yt);ii(this.Gb,b)};e.Wa=function(a){var b=this.Gb.Ib();b.Wa(a-this.zt);ii(this.Gb,b)};e.setPosition=function(a,b){var c=this.Gb.Ib();c.setPosition(a-this.yt,b-this.zt);ii(this.Gb,c)};
function ji(a){this.We=a;a=Array.min(this.We.map(function(a){return a.Ya()}));var b=Array.max(this.We.map(function(a){return a.$b()})),c=Array.min(this.We.map(function(a){return a.ab()})),d=Array.max(this.We.map(function(a){return a.Qb()}));this.width=b-a;this.height=d-c}e=ji.prototype;e.uc=function(){return Array.min(this.We.map(function(a){return a.uc()}))};e.vc=function(){return Array.min(this.We.map(function(a){return a.vc()}))};e.W=function(){return Array.min(this.We.map(function(a){return a.Ya()}))};
e.Ya=ji.prototype.W;e.N=function(){return Array.min(this.We.map(function(a){return a.ab()}))};e.ab=ji.prototype.N;e.w=function(){return this.width};e.de=ji.prototype.w;e.D=function(){return this.height};e.ce=ji.prototype.D;e.Ua=function(){return this.W()+this.w()};e.$b=ji.prototype.Ua;e.Ga=function(){return this.N()+this.D()};e.Qb=ji.prototype.Ga;e.Xm=function(){return this.W()+this.w()/2};e.Ma=function(){return 0};e.ha=function(){return this.We[0].ha()};
e.ya=function(){return new M(this.W(),this.N(),this.w(),this.D())};e.un=function(a){return a?ef(this.ya(),a.ya()):!1};e.setSize=function(){};e.pa=function(){};e.oa=function(){};e.Va=function(a){var b=a-this.W();this.We.forEach(function(a){a.Va(a.W()+b)})};e.Wa=function(a){var b=a-this.N();this.We.forEach(function(a){a.Wa(a.N()+b)})};e.setPosition=function(a,b){var c=a-this.W(),d=b-this.N();this.We.forEach(function(a){a.setPosition(a.W()+c,a.N()+d)})};
function jf(a,b,c){this.elem=a;this.Mg=b;this.height=a.height();this.width=a.width();this.hC=void 0!==c;this.origin=c}e=jf.prototype;e.uc=function(){return this.elem[0].getBoundingClientRect().left+$("#canvaDocument").scrollLeft()-$("#canvaDocument").offset().left};e.vc=function(){var a=$("#canvaDocument"),b=a.scrollTop(),a=a.offset().top;return this.elem[0].getBoundingClientRect().top+b-a};e.W=function(){return(this.elem[0].getBoundingClientRect().left-this.Mg.left)/N};e.Ya=jf.prototype.W;
e.N=function(){return(this.elem[0].getBoundingClientRect().top-this.Mg.top)/N};e.ab=jf.prototype.N;e.w=function(){return this.elem[0].getBoundingClientRect().width/N};e.de=jf.prototype.w;e.D=function(){return this.elem[0].getBoundingClientRect().height/N};e.ce=jf.prototype.D;e.Ua=function(){return this.W()+this.w()};e.$b=jf.prototype.Ua;e.Ga=function(){return this.N()+this.D()};e.Qb=jf.prototype.Ga;e.Xm=function(){return this.W()+this.w()/2};e.Ma=function(){return 0};e.setSize=function(){};e.pa=function(){};
e.oa=function(){};e.Va=function(a){var b;this.hC?(b=ki(this.elem[0]).ki,a=a*N+this.Mg.left+(b-1)*this.origin.left,gf(this.elem[0],{Le:a})):this.elem.css("left",a*N+this.Mg.left)};e.Wa=function(a){var b;this.hC?(b=ki(this.elem[0]).Ij,a=a*N+this.Mg.top+(b-1)*this.origin.top,gf(this.elem[0],{Me:a})):this.elem.css("top",a*N+this.Mg.top)};
e.setPosition=function(a,b){var c;this.hC?(c=ki(this.elem[0]),a=a*N+this.Mg.left+(c.ki-1)*this.origin.left,b=b*N+this.Mg.top+(c.Ij-1)*this.origin.top,gf(this.elem[0],{Le:a,Me:b})):this.elem.css("left",a*N+this.Mg.left).css("top",b*N+this.Mg.top)};function li(a){this.Pa=a.Pa;this.ca=a.ca;this.Bj=a.Bj;this.qk=a.qk;this.Ol=a.Ol;this.Ze=this.Ye=null;this.dv=[];this.ready=!1;this.Km=a.Km;this.Xi=a.Xi;this.ga=a.ga}function mi(a){return{id:a.G(),username:a.Cf(),vA:a.ju(),displayName:a.gb(),SM:a.ME("200"),vH:a.bn()&&a.bn().join(", ")}}
function ni(a,b){b=Object.assign({},b);a.Ye&&(b.design=a.Ye);b.experience=a.Km;for(var c in a.Xi)a.Xi.hasOwnProperty(c)&&(b["Experiment:"+c]=a.Xi[c]);a.ca&&(b.brand=a.ca);null!=a.Bj&&(b.personal=a.Bj);null!=a.qk&&(b.cohort=a.qk);a.Ol&&(b.tier=a.Ol);try{var d=window.crypto||window.msCrypto,f=new Uint8Array(16);d.getRandomValues(f);b.insert_id=btoa(String.fromCharCode.apply(null,f))}catch(g){}return b}e=li.prototype;e.track=function(){};e.identify=function(a){this.Pa=a};e.alias=function(){};e.Wk=function(){return this.ready};
e.set=function(){};e.union=function(){};function oi(a,b,c,d,f,g){var h={};h.type=b;h.section=c;h.subsection=d;h.location=f;g&&Object.assign(h,g);a.track("button_click",h)}function pi(a,b){var c=De;c.Ye=a;c.Ze=b;c.track("design_open",{design:c.Ye,source:"editor",template:c.Ze})}function qi(a,b,c){a.track("design_shared",{design:a.Ye,template:a.Ze,medium:b,location:c,edit_access:void 0})}function ri(a,b){a.Ze?a.kd(si(b,"template",a.Ze)):a.kd(b)}
function ti(a,b,c,d){a.track("link_click",{type:b,section:"editor",subsection:c,location:d})}function ui(a,b,c,d){a.track("dialog_close",{type:b,section:"editor",subsection:c,location:d})}e.kd=function(a){this.track(a.name,a.OA)};function vi(a){this.name=a;this.OA={}}function si(a,b,c){if(a.OA[b])throw Error("duplicated property");a.OA[b]=c;return a};function wi(a){li.call(this,{Km:a.Km,Xi:a.Xi,Pa:a.Pa,ca:a.ca,Bj:a.Bj,qk:a.qk,Ol:a.Ol,ga:function(a,c,d){window.console.log("Google track: ",a,c,d)},VT:function(a){window.console.log("Facebook track pixelId: ",a)},OU:function(a){window.console.log("Twitter trackPid: ",a)}})}t(wi,li);e=wi.prototype;e.track=function(a,b){window.console.log("analytics:track",this.Pa,a,ni(this,b))};e.identify=function(a,b,c,d){this.Pa=a;window.console.log("analytics:identify",a,b,c,d)};
e.alias=function(a){window.console.log("analytics:alias",this.Pa,a);this.Pa=a};e.set=function(a,b){window.console.log("analytics:set",this.Pa,a);b&&window.setTimeout(b,0)};e.union=function(a){window.console.log("analytics:union",this.Pa,a)};var xi=!1;
function yi(a){function b(b){for(this.ready=!0;this.dv&&0<this.dv.length;)this.dv.shift()();this.dv=null;if(b&&a.Pa){var c=(new UAParser).getResult();b=c.browser.name;var g=c.browser.version,h=c.device.type,c=c.os.name;h||"Android"!=c&&"iOS"!=c||(h="mobile");this.set({"Most recent browser":b+" "+g,timezone:(new Date).getTimezoneOffset()/-60});this.union({"Operating Systems":[c],Browsers:[b],Devices:[h]})}}li.call(this,a);var c=window.analytics;c&&(c.ready(b.bind(this,!xi)),xi||(xi=!0,c.load(a.hS),c.page()))}
t(yi,li);e=yi.prototype;e.track=function(a,b){window.analytics&&window.analytics.track(a,ni(this,b),{integrations:{Leanplum:!1}})};e.identify=function(a,b,c,d){"object"===typeof b&&(b={id:b.id,username:b.username,personalBrand:b.vA,displayName:b.displayName,largeAvatarUrl:b.SM,roles:b.vH,onboarding:b.wG});window.analytics&&window.analytics.identify(a,b,c,d)};e.alias=function(a){window.analytics&&window.analytics.alias(a)};e.set=function(a,b){window.analytics&&window.analytics.identify(a,b)};
e.union=function(){};function zi(){var a=window.analyticsConfig,b=window.ga,c=a.user,d=a.brand,f=a.personal,g=a.cohort,h=a.tier,k=String(a.experience),l=a.experiments,m=a.impl;switch(m){case "console":a=new wi({Km:k,Xi:l,Pa:c,ca:d,Bj:f,qk:g,Ol:h});break;case "segment":a=new yi({hS:a.segmentWriteKey,Km:k,Xi:l,Pa:c,ca:d,Bj:f,qk:g,Ol:h,ga:b});break;default:throw Error("Cant find analytics implementation "+m);}c&&a.identify(c);return a};function Ai(a,b,c){a=si(si(si(new vi("upgrade_cta_clicked"),"section","editor"),"subsection",a),"location",b);c&&si(a,"variant",c);return a}function Bi(a){return si(si(si(new vi("upgrade_dialog_cta_clicked"),"section",a),"subsection","upgrade_dialog"),"location","bottom")}function Ci(a,b){return si(si(si(new vi("upgrade_dialog_loaded"),"section",a),"subsection","upgrade_dialog"),"can_upgrade",b)};function Di(){return"/brand/members"};function M(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}function Ei(a){return a?new M(a.left||0,a.top||0,a.width||0,a.height||0):Fi.clone()}function df(a){return Ei({left:a.left,top:a.top,width:a.width,height:a.height})}function Gi(a,b){a=a||null;b=b||null;return null===a&&null===b?!0:null===a||null===b?!1:a.height===b.height&&a.left===b.left&&a.top===b.top&&a.width===b.width}var Fi=new M(0,0,0,0);e=M.prototype;
e.serialize=function(){return{left:this.left,top:this.top,width:this.width,height:this.height}};e.clone=function(){return new M(this.left,this.top,this.width,this.height)};function Hi(a){var b=isFinite(a.left)&&isFinite(a.top)&&isFinite(a.width)&&isFinite(a.height);return!(isNaN(a.left)||isNaN(a.top)||isNaN(a.width)||isNaN(a.height))&&b}e.W=function(){return this.left};e.Ya=M.prototype.W;e.N=function(){return this.top};e.ab=M.prototype.N;e.Ua=function(){return this.left+this.width};e.$b=M.prototype.Ua;
e.Ga=function(){return this.top+this.height};e.Qb=M.prototype.Ga;e.w=function(){return this.width};e.de=M.prototype.w;e.D=function(){return this.height};e.ce=M.prototype.D;e.cn=function(){return{width:this.width,height:this.height}};function Ii(a){return{x:a.left+a.width/2,y:a.top+a.height/2}}e.Va=function(a){this.left=a;return this};e.Wa=function(a){this.top=a;return this};e.setPosition=function(a,b){this.left=a;this.top=b;return this};e.pa=function(a){this.width=a;return this};
e.oa=function(a){this.height=a;return this};e.setSize=function(a,b){this.width=a;this.height=b;return this};function Ji(a){return a.width/a.height}e.translate=function(a,b){this.left+=a;this.top+=b;return this};e.scale=function(a,b){void 0===b&&(b=a);this.left*=a;this.top*=b;this.width*=a;this.height*=b;return this};function Ki(a,b,c,d,f){a.translate(-b,-c);a.scale(d,f);a.translate(b,c)}function Li(a,b){a.left-=b;a.top-=b;a.width+=2*b;a.height+=2*b}
function Mi(a,b,c){a.width+=b;a.height+=c;return a}function Ni(a,b){a.left=b.left-(a.width-b.width)/2;a.top=b.top-(a.height-b.height)/2;return a}function Oi(a,b){var c=Ji(a);Ji(a)>Ji(b)?(a.height=b.height,a.width=c*a.height):(a.width=b.width,a.height=a.width/c);Ni(a,b);return a}function nf(a,b){var c=Ji(a);Ji(a)<Ji(b)?(a.height=b.height,a.width=c*a.height):(a.width=b.width,a.height=a.width/c);Ni(a,b);return a}
e.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function ef(a,b){return a.Ua()<=b.W()||a.Ga()<=b.N()||a.W()>=b.Ua()||a.N()>=b.Ga()?!1:!0}e.touches=function(a){return.25>Math.abs(this.N()-a.Ga())||.25>Math.abs(this.Ga()-a.N())?this.W()<=a.Ua()&&this.Ua()>=a.W():.25>Math.abs(this.Ua()-a.W())||.25>Math.abs(this.W()-a.Ua())?this.N()<=a.Ga()&&this.Ga()>=a.N():!1};
function Pi(a,b){return a.W()<=b.W()&&a.N()<=b.N()&&a.Ua()>=b.Ua()&&a.Ga()>=b.Ga()}function Qi(a,b){a.Ua()>b.Ua()&&a.translate(b.Ua()-a.Ua(),0);a.W()<b.W()&&a.translate(b.W()-a.W(),0);a.Ga()>b.Ga()&&a.translate(0,b.Ga()-a.Ga());a.N()<b.N()&&a.translate(0,b.N()-a.N())}function Ri(a,b,c){0!=(c&1)&&a.Va(b.w()-a.Ua());0!=(c&2)&&a.Wa(b.D()-a.Ga());return a}
function Si(a,b,c){c=Vi(c);a.clone();var d,f;if(Gi(a,b))return 0;if(0<=c&&90>c){var g=c*Math.PI/180;c=a.clone();d=b.Ga()-c.N();f=d*Math.tan(g);c.translate(f,d);if(c.touches(b))return-(d/Math.cos(g));c=a.clone();f=b.W()-c.Ua();d=f/Math.tan(g);c.translate(f,d);if(c.touches(b))return d/Math.cos(g)}else if(90<=c&&180>c){g=(c-90)*Math.PI/180;c=a.clone();d=b.W()-c.Ua();f=d*Math.tan(g);c.translate(d,f);if(c.touches(b))return d/Math.cos(g);c=a.clone();f=b.N()-c.Ga();d=f/Math.tan(g);c.translate(d,f);if(c.touches(b))return d/
Math.cos(g)}else if(180<=c&&270>c){g=(c-180)*Math.PI/180;c=a.clone();d=b.N()-c.Ga();f=d*Math.tan(g);c.translate(f,d);if(c.touches(b))return d/Math.cos(g);c=a.clone();f=b.Ua()-c.W();d=f/Math.tan(g);c.translate(f,d);if(c.touches(b))return-(d/Math.cos(g))}else if(270<=c&&360>c){g=(c-270)*Math.PI/180;c=a.clone();d=b.Ua()-c.W();f=d*Math.tan(g);c.translate(d,f);if(c.touches(b))return-(d/Math.cos(g));c=a.clone();f=b.Ga()-c.N();d=f/Math.tan(g);c.translate(d,f);if(c.touches(b))return-(d/Math.cos(g))}return Infinity}
;var Wi={Page1:{items:[{type:"columns",children:[{type:"item"}]}]},Page2:{items:[{type:"columns",children:[{type:"item",width:66.67},{type:"item"}]}]},Page3:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]}]},Page4:{items:[{type:"item"},{type:"item"}]},Page5:{items:[{type:"item"},{type:"item"},{type:"item"}]},Page6:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page7:{items:[{type:"item",height:60},{type:"columns",children:[{type:"item"},{type:"item"}]}]},
Page8:{items:[{type:"item",height:66.67},{type:"columns",children:[{type:"item",width:33.33},{type:"item"}]}]},Page8_1:{items:[{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page8_2:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"item"}]}]},Page9:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"}]}]},Page10:{items:[{type:"columns",children:[{type:"item",
width:33.33},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:50},{type:"item"}]}]}]},Page11:{items:[{type:"item",height:66.67},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page12:{items:[{type:"columns",children:[{type:"item",width:66.67},{type:"item"}],height:66.67},{type:"columns",children:[{type:"item",width:33.33},{type:"item"}]}]},Page13:{items:[{type:"columns",children:[{type:"item",width:66.67},{type:"rows",children:[{type:"item"},
{type:"item"},{type:"item"}]}]}]},Page14:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:33.33},{type:"item"}],width:66.67},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page15:{items:[{type:"item",height:66.67},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page16:{items:[{type:"item",height:50},{type:"columns",children:[{type:"rows",children:[{type:"item",height:50},{type:"item"}],width:33.33},{type:"item"}]}]},Page17:{items:[{type:"item",
height:40},{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page18:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page19:{items:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},Page20:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"item"}]}]}]},Page21:{items:[{type:"columns",
children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page22:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:66.67},{type:"item"}],width:66.67},{type:"rows",children:[{type:"item",height:33.33},{type:"item"}]}]}]},Page23:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"item"},{type:"columns",children:[{type:"item"},{type:"item"}]}]},Page24:{items:[{type:"item",height:75},{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"}]}]},Page25:{items:[{type:"item"},{type:"columns",children:[{type:"item",width:50},{type:"item"}]},{type:"columns",children:[{type:"item",width:50},{type:"item"}]}]},Page27:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"}]}]},Page28:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page29:{items:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},Page30:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page31:{items:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page32:{items:[{type:"columns",
children:[{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}]}]},{type:"item"}]}]},Page33:{items:[{type:"columns",children:[{type:"item",width:33.33},{type:"item"}]},{type:"columns",children:[{type:"item",width:66.67},{type:"item"}]},{type:"columns",children:[{type:"item",width:33.33},{type:"item"}]}]},Page34:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:33.33},
{type:"item"}],width:33.33},{type:"rows",children:[{type:"item",height:66.67},{type:"item"}],width:33.33},{type:"rows",children:[{type:"item",height:33.33},{type:"item"}]}]}]},Page35:{items:[{type:"columns",children:[{type:"item",width:66.67},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:66.67},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page36:{items:[{type:"item"},{type:"columns",children:[{type:"rows",children:[{type:"columns",children:[{type:"item"},
{type:"item"}]},{type:"item"}]},{type:"item"},{type:"item"}]}]},Page37:{items:[{type:"columns",children:[{type:"item",width:75},{type:"rows",children:[{type:"item"},{type:"item"}]}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"item"}]}]},Page38:{items:[{type:"item"},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page39:{items:[{type:"item",height:80},
{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page40:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page41:{items:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},Page42:{items:[{type:"item"},{type:"item"},{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},
Page43:{items:[{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"item"},{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"item"},{type:"columns",children:[{type:"item"},{type:"item"}]}]}]}]},Page44:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}]}]},Page45:{items:[{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page46:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page47:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",
children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page48:{items:[{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page49:{items:[{type:"columns",children:[{type:"item",width:25},{type:"item",width:25},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},
{type:"rows",children:[{type:"item",height:50},{type:"item"}]}],height:50},{type:"columns",children:[{type:"item",width:25},{type:"item",width:25},{type:"item"}]}]},Page50:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:75},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:66.67},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:66.67},{type:"columns",children:[{type:"item",width:33.33},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},
{type:"item"}]}]},Page51:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:25},{type:"item"}]},Page52:{items:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]}]},Page53:{items:[{type:"columns",
children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],width:25},{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]}]},Page54:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:25},{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page55:{items:[{type:"columns",children:[{type:"item",width:50},{type:"item",
width:25},{type:"item"}],height:50},{type:"columns",children:[{type:"item",width:50},{type:"item",width:25},{type:"item"}],height:25},{type:"columns",children:[{type:"item",width:50},{type:"item",width:25},{type:"item"}]}]},Page56:{items:[{type:"columns",children:[{type:"item",width:40},{type:"rows",children:[{type:"item"},{type:"item"}],width:20},{type:"item"}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:20},{type:"item",width:60},{type:"rows",children:[{type:"item"},
{type:"item"}]}]}]},Page57:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"item",width:66.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}]}]},Page58:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:66.67},{type:"item"}]},{type:"item"},{type:"rows",children:[{type:"item",height:66.67},{type:"item"}]}]},{type:"columns",children:[{type:"item"},
{type:"rows",children:[{type:"item",height:33.33},{type:"item"}]},{type:"item"}]}]},Page59:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:33.33},{type:"item"}]},{type:"rows",children:[{type:"item",height:66.67},{type:"item"}]},{type:"rows",children:[{type:"item",height:33.33},{type:"item"}]}],height:60},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page60:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}],height:33.33},
{type:"columns",children:[{type:"rows",children:[{type:"item",height:25},{type:"item",height:50},{type:"item"}]},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"item",height:25},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page61:{items:[{type:"columns",children:[{type:"item"},{type:"item"}],height:50},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:16.67},
{type:"columns",children:[{type:"item"},{type:"item"}]}]},Page62:{items:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}]}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"item"}]}]},Page63:{items:[{type:"columns",children:[{type:"item",width:80},{type:"rows",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"}]}],height:80},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page64:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:20},{type:"item",height:60},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page65:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"rows",
children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"item"}]}]},Page66:{items:[{type:"columns",children:[{type:"item",width:40},{type:"item",width:20},{type:"item"}],height:25},{type:"columns",children:[{type:"rows",children:[{type:"item",height:50},{type:"item"}],width:20},{type:"item",width:60},{type:"rows",children:[{type:"item",
height:50},{type:"item"}]}],height:50},{type:"columns",children:[{type:"item",width:40},{type:"item",width:20},{type:"item"}]}]},Page67:{items:[{type:"columns",children:[{type:"item",width:33.33},{type:"item"}]},{type:"columns",children:[{type:"item",width:33.33},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"item"}]},{type:"columns",children:[{type:"item",width:66.67},{type:"item"}]}]},Page68:{items:[{type:"columns",
children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:16.67},{type:"columns",children:[{type:"item",width:75},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:66.67},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page69:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:75},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:40},{type:"rows",children:[{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"}],height:25},{type:"item"}]}],height:66.67},{type:"columns",children:[{type:"item",width:40},{type:"item",width:40},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page70:{items:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"item"}]},{type:"columns",children:[{type:"item",width:33.33},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"item"}]},{type:"columns",children:[{type:"item",
width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"item"}]}]},Page71:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:20},{type:"columns",children:[{type:"item",width:75},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}],height:60},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page72:{items:[{type:"columns",children:[{type:"rows",children:[{type:"columns",children:[{type:"item"},
{type:"item"}],height:33.33},{type:"item"}],width:50},{type:"item",width:25},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}]},{type:"columns",children:[{type:"item",width:25},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:25},{type:"item"}]}]},Page73:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},
{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page74:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:50},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page75:{items:[{type:"columns",
children:[{type:"item",width:66.67},{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}]}]}],height:66.67},{type:"columns",children:[{type:"item",width:33.33},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"item"}]}]},Page76:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},
{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page77:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:16.67},{type:"columns",children:[{type:"rows",children:[{type:"item",height:50},{type:"item"}],width:25},{type:"item",width:50},{type:"rows",children:[{type:"item",height:50},{type:"item"}]}],height:66.67},{type:"columns",
children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page78:{items:[{type:"columns",children:[{type:"item",width:30},{type:"item",width:45},{type:"item"}],height:30},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:15},{type:"item",width:70},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}],height:45},{type:"columns",children:[{type:"item",width:30},{type:"item",width:45},{type:"item"}]}]},Page79:{items:[{type:"columns",
children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}]}]},Page80:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",
children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page81:{items:[{type:"columns",children:[{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"item"}],width:33.33},{type:"rows",children:[{type:"item"},{type:"columns",children:[{type:"item",width:50},{type:"item"}]}],width:33.33},{type:"item"}],height:40},{type:"item",height:40},{type:"columns",children:[{type:"item",width:16.67},
{type:"item",width:16.67},{type:"item",width:16.67},{type:"item",width:16.67},{type:"item",width:16.67},{type:"item"}]}]},Page82:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:25},{type:"item"}]},{type:"rows",children:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},
{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:25},{type:"item"}]}]}]},Page83:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:20},{type:"item",width:60},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:50},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},
Page84:{items:[{type:"columns",children:[{type:"item",width:66.67},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"}]}]},{type:"columns",children:[{type:"rows",children:[{type:"item",height:50},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item",height:50},{type:"item"}],width:16.67},{type:"item"}]},{type:"columns",children:[{type:"item",width:66.67},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"rows",
children:[{type:"item"},{type:"item"}]}]}]},Page86:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:16.67},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"item",width:66.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}],height:50},{type:"columns",children:[{type:"item"},{type:"item"}]}]},Page87:{items:[{type:"columns",children:[{type:"rows",
children:[{type:"item",height:66.67},{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:33.33},{type:"item"}]}],height:75},{type:"columns",children:[{type:"item",width:25},{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},
Page88:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:12.5},{type:"columns",children:[{type:"item"},{type:"item"}],height:12.5},{type:"item"}],width:25},{type:"rows",children:[{type:"item",height:25},{type:"columns",children:[{type:"item"},{type:"item"}],height:12.5},{type:"columns",children:[{type:"item"},{type:"item"}],height:12.5},{type:"item"}],width:25},{type:"rows",children:[{type:"item",height:25},
{type:"item",height:50},{type:"item"}]}]}]},Page89:{items:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:25},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"item"}]}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},
{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"item"}]}]},Page90:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page91:{items:[{type:"columns",children:[{type:"item",
width:66.67},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:33.33},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item",height:75},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:33.33},{type:"rows",children:[{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:33.33},{type:"item"}]},
{type:"item"}]}]}]},Page92:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:66.67},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}],width:50},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"item"}]},{type:"columns",children:[{type:"item",width:33.33},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}],
height:33.33},{type:"item"}]}]}]},Page93:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:20},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:20},{type:"item",width:60},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}],height:60},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page94:{items:[{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:16.67},{type:"columns",children:[{type:"rows",children:[{type:"item",height:25},{type:"item",height:25},{type:"item",height:25},{type:"item"}],width:16.67},{type:"item",width:66.67},{type:"rows",children:[{type:"item",height:25},{type:"item",height:25},{type:"item",height:25},{type:"item"}]}],height:66.67},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page95:{items:[{type:"columns",
children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],
width:16.67},{type:"item"}]}]},Page96:{items:[{type:"columns",children:[{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]},{type:"item"}]},{type:"item"},{type:"item"},{type:"rows",children:[{type:"item"},{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]}],height:33.33},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"columns",children:[{type:"rows",children:[{type:"columns",
children:[{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"item"}]},{type:"item"}]},{type:"item"}]}]},{type:"item"}]}]},Page97:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page98:{items:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:25},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"item"}]}]},{type:"columns",
children:[{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:25},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"item"}],width:25},{type:"item"}]}]},Page99:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},
{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}]}]},{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"item",width:50},{type:"rows",children:[{type:"item"},
{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page100:{items:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:25},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"item"}]}],
height:50},{type:"columns",children:[{type:"item",width:25},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"item",width:25},{type:"item"}],height:25},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"item",width:25},{type:"item",width:25},{type:"item"}]}]},Page101:{items:[{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page102:{items:[{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},
{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page103:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},
{type:"item"}]}]},Page104:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},
{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},
{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},
{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]}};var Xi={BARCHART1:{left:0,top:0,width:400,height:300,type:"group",charts:[{data:[["Apples",10],["Oranges",22],["Banana",39],["Mango",13],["Kitten",15]],keyIndex:0,valueIndex:1,largestValueWidth:21,largestLabelWidth:72,labelHeight:17,barSpacing:.1,color:"#00c4cc",gradientRange:.5}]},BARCHART2:{left:0,top:0,width:400,height:300,type:"group",charts:[{data:[["A",1],["B",2],["C",3],["D",4],["E",5],["F",6],["G",7]],keyIndex:0,valueIndex:1,largestValueWidth:21,largestLabelWidth:21,labelHeight:17,barSpacing:.2,
color:"#b760e6",gradientRange:.5}]}};function Yi(a){a&&a.id&&null!=a.version&&(this.id=a.id,this.version=a.version)}function Zi(a){return $i(new Yi(a.layout),a)}function $i(a,b){$.extend(!0,a,_.omit(b,"layout"));return a}function aj(a,b,c,d){if(a=a.elements&&a.elements[0]){var f=a.spacing;void 0===f&&(f=G.zs);_.extend(a,bj(b,c,f,d).serialize())}}e=Yi.prototype;e.getName=function(){return this.name};
e.Ig=function(){var a={elements:this.elements,width:this.width,height:this.height,dpi:this.dpi},b=this.serialize();if(b&&a.elements){var c=(new cj(b)).nm().serialize();a.elements.forEach(function(a){a.origin=c;a.contents&&a.contents.forEach(function(a){a.origin=c})})}return a};e.serialize=function(){return this.id&&this.version?{id:this.id,version:this.version}:null};e.pa=function(a){this.width=a};e.oa=function(a){this.height=a};e.w=function(){return this.width};e.D=function(){return this.height};
function dj(a){function b(a){a.mediaId&&c.push(new ej({id:a.mediaId,version:a.mediaVersion}));a.fontMedia&&c.push(fj(a.fontMedia));Array.isArray(a.htmlFontMedia)&&(c=c.concat(a.htmlFontMedia.map(fj)))}var c=[];a.elements&&a.elements.length&&a.elements.forEach(function(a){b(a);a.contents&&a.contents.length&&a.contents.forEach(b)});return c};function gj(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];b.length||(b=[1,0,0,0,1,0,0,0,1]);this.m=new Float32Array(b)}function hj(a){var b=new gj;b.m[2]=a[0];b.m[5]=a[1];return b}function ij(a){return[a.m[2],a.m[5]]}e=gj.prototype;
e.multiply=function(a){var b=new gj;b.m[0]=this.m[0]*a.m[0]+this.m[1]*a.m[3]+this.m[2]*a.m[6];b.m[1]=this.m[0]*a.m[1]+this.m[1]*a.m[4]+this.m[2]*a.m[7];b.m[2]=this.m[0]*a.m[2]+this.m[1]*a.m[5]+this.m[2]*a.m[8];b.m[3]=this.m[3]*a.m[0]+this.m[4]*a.m[3]+this.m[5]*a.m[6];b.m[4]=this.m[3]*a.m[1]+this.m[4]*a.m[4]+this.m[5]*a.m[7];b.m[5]=this.m[3]*a.m[2]+this.m[4]*a.m[5]+this.m[5]*a.m[8];b.m[6]=this.m[6]*a.m[0]+this.m[7]*a.m[3]+this.m[8]*a.m[6];b.m[7]=this.m[6]*a.m[1]+this.m[7]*a.m[4]+this.m[8]*a.m[7];b.m[8]=
this.m[6]*a.m[2]+this.m[7]*a.m[5]+this.m[8]*a.m[8];this.m=b.m;return this};e.transform=function(a){var b=new gj;b.m=this.m;this.m=a.m;return this.multiply(b)};e.translate=function(a,b){var c=new gj;c.m[2]=a;c.m[5]=b;return this.transform(c)};e.reflect=function(){var a=new gj;a.m[0]=-1;a.m[4]=-1;return this.transform(a)};e.scale=function(a,b){var c=new gj;c.m[0]=a;c.m[4]=void 0===b?a:b;return this.transform(c)};
function jj(a,b){var c=new gj,d=b*Math.PI/180;b=Math.cos(d);d=Math.sin(d);c.m[0]=b;c.m[1]=d;c.m[2]=-0*b-0*d;c.m[3]=-1*d;c.m[4]=b;c.m[5]=-0*b+0*d;return a.transform(c)}e.rotate=function(a){if(0===a||360===Math.abs(a))return this;var b=new gj,c=a*Math.PI/180;a=Math.cos(c);c=Math.sin(c);b.m[0]=a;b.m[1]=c;b.m[3]=-1*c;b.m[4]=a;return this.transform(b)};e.toArray=function(){return Array.prototype.slice.call(this.m)};function kj(a,b,c){return Math.min(Math.max(a,b||0),c||1)}function lj(a,b,c){c=kj(c);var d=a+c*(b-a);a=mj(a,b,c);0<a&&21>a&&(d=parseFloat(d.toPrecision(a)));return d}function mj(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var d=0;b.forEach(function(a){a=a.toString().split(".");d+=a[0].length;2===a.length&&(d+=a[1].length)});return d};function nj(){this.La=[255,0,255];this.cf=[300,100,50]}function rj(a,b,c,d){a.cf=[b,c,d];var f;f=b/60;c/=100;d/=100;b=Math.floor(f);var g=f-b;f=d*(1-c);var h=d*(1-g*c);c=d*(1-(1-g)*c);b%=6;a.La=[Math.round(255*[d,h,f,f,c,d][b]),Math.round(255*[c,d,d,h,f,f][b]),Math.round(255*[f,f,c,d,d,h][b])];return a}e=nj.prototype;e.Qk=function(){return this.cf[2]};e.ro=function(a){return rj(this,this.cf[0],this.cf[1],a)};function sj(a,b,c,d){a.La=[b,c,d];a.cf=tj(b,c,d);return a}
function uj(a,b,c){var d=new nj;a=a*Math.PI/180;b=[c,Math.cos(a)*b,Math.sin(a)*b];b=vj(b[0],b[1],b[2]);d.La=wj(b[0],b[1],b[2]);d.cf=tj(d.La[0],d.La[1],d.La[2]);return d}function xj(a){var b=new nj;if(!/^#?[0-9a-f]{1,6}$/i.test(a))throw new SyntaxError('Invalid hexadecimal color: "'+a+'"');"#"==a.charAt(0)&&(a=a.slice(1));var c=Math.ceil(a.length/3);return sj(b,yj(a,0*c,c),yj(a,1*c,c),yj(a,2*c,c))}function zj(a){return 0==(a.La[0]&-256|a.La[1]&-256|a.La[2]&-256)}
e.qa=function(){return"#"+(256+this.La[0]).toString(16).slice(-2)+(256+this.La[1]).toString(16).slice(-2)+(256+this.La[2]).toString(16).slice(-2)};function Aj(a){a=Bj(a.La[0],a.La[1],a.La[2]);a=Cj(a[0],a[1],a[2]);var b=a[1],c=a[2],d=Math.sqrt(b*b+c*c),b=(180*Math.atan2(c,b)/Math.PI+360)%360,b=0===Math.round(1E4*d)?NaN:b;return[b,d,a[0]]}e.clone=function(){var a=new nj;a.La=this.La;a.cf=this.cf;return a};
function Dj(a){return Math.round(Math.sqrt(.241*a.La[0]*a.La[0]+.691*a.La[1]*a.La[1]+.068*a.La[2]*a.La[2]))}function Ej(a){return rj(new nj,a.cf[0],a.cf[1],100)}function Fj(a,b,c){return sj(new nj,Math.round(a.La[0]+(b.La[0]-a.La[0])*c),Math.round(a.La[1]+(b.La[1]-a.La[1])*c),Math.round(a.La[2]+(b.La[2]-a.La[2])*c))}
function Gj(a,b){b=void 0===b?.5:b;var c=110*b,d=10*b;b*=36;var f=Aj(a);f[0]=360>=f[0]+c?f[0]+c:f[0]-c;f[1]+=d;f[1]=Math.min(f[1],100);f[2]=50>f[2]?f[2]+b:f[2]-b;return function(b,c){var d=uj(f[0],f[1],f[2]);b/=c-1;var l=Aj(d),m=Aj(a),d=lj(m[0],l[0],b);c=lj(m[1],l[1],b);b=lj(m[2],l[2],b);return uj(d,c,b).qa()}}e.equals=function(a){return null!=a&&a.serialize()===this.serialize()};function rf(a){try{return Hj(a)}catch(b){}return null}
function Hj(a){var b=String(a);if("#"===b.slice(0,1))return xj(b);if("hsl("===b.slice(0,4)){a=new nj;var c=/^hsl\((\d*(?:\.\d+)?),\s*(\d*(?:\.\d+)?)%,\s*(\d*(?:\.\d+)?)%\)$/.exec(b);if(!c)throw new SyntaxError('Invalid HSL color: "'+b+'"');var b=+c[2],d=+c[3],b=b/100,d=d/100,f=b*(.5>d?d:1-d),g=d+f,c=[+c[1],100*(0<d?2*f/g:b),100*g];return rj(a,c[0],c[1],c[2])}if("rgb("===b.slice(0,4)){a=new nj;c=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/.exec(b);if(!c)throw new SyntaxError('Invalid RGB color: "'+b+'"');return sj(a,
+c[1],+c[2],+c[3])}if(6>=b.length)return xj(b);throw Error("could not parse color: "+a);}function Ij(a,b,c){0>c&&(c+=1);1<c&&--c;return c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+(b-a)*(2/3-c)*6:a}function tj(a,b,c){a/=255;b/=255;c/=255;var d=Math.max(a,b,c),f=Math.min(a,b,c),g;if(d==f)g=f=0;else{var h=d-f,f=h/d;switch(d){case a:g=(b-c)/h+(b<c?6:0);break;case b:g=(c-a)/h+2;break;case c:g=(a-b)/h+4}g/=6}return[360*g,100*f,100*d]}
function wj(a,b,c){a=[a,b,c];a=a.map(function(a){return kj(a/100)});b=[];b[0]=3.2404542*a[0]-1.5371385*a[1]-.4985314*a[2];b[1]=-.969266*a[0]+1.8760108*a[1]+.041556*a[2];b[2]=.0556434*a[0]-.2040259*a[1]+1.0572252*a[2];b=b.map(function(a){return.00304>=a?12.92*a:1.055*Math.pow(a,1/2.4)-.055});return b=b.map(function(a){return kj(Math.round(255*a),0,255)})}
function Bj(a,b,c){a=[a,b,c];a=a.map(function(a){return kj(a/255)});a=a.map(function(a){return.04045>=a?a/12.92:Math.pow((a+.055)/1.055,2.4)});b=[];b[0]=.4124564*a[0]+.3575761*a[1]+.1804375*a[2];b[1]=.2126729*a[0]+.7151522*a[1]+.072175*a[2];b[2]=.0193339*a[0]+.119192*a[1]+.9503041*a[2];return b=b.map(function(a){return 100*a})}
function Cj(a,b,c){function d(a){return.008856452<a?Math.pow(a,1/3):a/.12841855+.137931034}a=[a/95.047,b/100,c/108.883];b=[];b[0]=116*d(a[1])-16;b[1]=500*(d(a[0])-d(a[1]));b[2]=200*(d(a[1])-d(a[2]));return b}function vj(a,b,c){function d(a){return.206896552<a?a*a*a:.12841855*(a-.137931034)}a=(a+16)/116;return[95.047*d(isNaN(b)?a:a+b/500),100*d(a),108.883*d(isNaN(c)?a:a-c/200)]}function yj(a,b,c){var d=parseInt(a.charAt(b),16)|0;return 16*d+(1==c?d:parseInt(a.charAt(b+1),16)|0)}
function Jj(a,b,c){return sj(new nj,a.La[0]+Math.round(c*(b.La[0]-a.La[0])),a.La[1]+Math.round(c*(b.La[1]-a.La[1])),a.La[2]+Math.round(c*(b.La[2]-a.La[2])))}e.serialize=nj.prototype.qa;e.toString=nj.prototype.qa;function Kj(){}Kj=Backbone.View.extend({className:"colorPicker showColorCode"});e=Kj.prototype;e.initialize=function(a){this.Rh=a.Rh;this.ib=(a.ib||Kj.YI).clone();this.Zq=this.Zq.bind(this);this.ar=this.ar.bind(this);this.$q=this.$q.bind(this);this.br=this.br.bind(this)};e.events=function(){return{"mousedown .colorPickerSpectrum":this.YO,"mousedown .colorPickerValue":this.ZO,"keydown .colorPickerHexCode":this.PO,"input .colorPickerHexCode":this.GO}};e.Ok=function(){return this.ib.clone()};
e.Lr=function(a){a.equals(this.ib)||(this.ib=a.clone(),Lj(this),Mj(this),Nj(this),this.trigger("preview",this.Ok()))};e.render=function(){this.$el.addClass("on");this.$el.html(Kj.TEMPLATE({colorCodeLabel:this.Rh.format("colorPickerColorCode")}));Lj(this);Mj(this);Nj(this);return this};
e.remove=function(){var a=this;this.$el.removeClass("on");this.$el.one("animationend",function(){$(document).off("mousemove",a.Zq);$(document).off("mouseup",a.ar);$(document).off("mousemove",a.$q);$(document).off("mouseup",a.br);Backbone.View.prototype.remove.call(a)});return this};
function Lj(a){var b=Oj(a.ib.cf[0]),c=(Kj.KC-Kj.Uo)*a.ib.cf[1]/100,d=c*Math.cos(b),b=c*Math.sin(b);a.$(".colorPickerSpectrum \x3e .marker").css("transform","translate("+d+"px, "+b+"px)");a.$(".colorPickerValue").css("background-color",Ej(a.ib).qa())}function Mj(a){var b=a.ib.Qk(),b=(Kj.PC-2*Kj.Uo)*(100-b)/100;a.$(".colorPickerValue \x3e .marker").css("transform","translateX("+b+"px)")}function Nj(a){var b=a.$(".colorPickerHexCode");b.blur();b.val(a.ib.qa().slice(1))}
function Pj(a,b){var c=b.clientX,d=b.clientY;b=a.$(".colorPickerSpectrum").get(0).getBoundingClientRect();var f=b.left+b.width/2,g=b.top+b.height/2;b=Qj(f,g,c,d);c=100*Math.min(Rj(f,g,c,d)/(Kj.KC-Kj.Uo),1);d=a.ib.Qk();rj(a.ib,b,c,d);Lj(a);Nj(a);a.trigger("preview",a.Ok())}function Sj(a,b){b=b.clientX;var c=a.$(".colorPickerValue").get(0).getBoundingClientRect();a.ib.ro(100-100*Math.max(0,Math.min((b-c.left-Kj.Uo)/(Kj.PC-2*Kj.Uo),1)));Mj(a);Nj(a);a.trigger("preview",a.Ok())}
e.YO=function(a){0===a.button&&(a.preventDefault(),Pj(this,a),this.undelegateEvents(),this.$(".colorPickerSpectrum").addClass("mousedown"),$(document).on("mousemove",this.Zq),$(document).on("mouseup",this.ar))};e.Zq=function(a){Pj(this,a)};e.ar=function(a){$(document).off("mousemove",this.Zq);$(document).off("mouseup",this.ar);this.$(".colorPickerSpectrum").removeClass("mousedown");this.delegateEvents();Pj(this,a)};
e.ZO=function(a){0===a.button&&(a.preventDefault(),Sj(this,a),this.undelegateEvents(),this.$(".colorPickerValue").addClass("mousedown"),$(document).on("mousemove",this.$q),$(document).on("mouseup",this.br))};e.$q=function(a){Sj(this,a)};e.br=function(a){$(document).off("mousemove",this.$q);$(document).off("mouseup",this.br);this.$(".colorPickerValue").removeClass("mousedown");this.delegateEvents();Sj(this,a)};e.PO=function(a){if(13===a.which||27===a.which)a.preventDefault(),this.trigger("confirm")};
e.GO=function(){var a=this.$(".colorPickerHexCode").val(),a=a.replace(/\W+/g,"").slice(0,6).replace(/[^0-9a-f]/gi,"0");this.ib=rf(a)||sj(new nj,0,0,0);Lj(this);Mj(this);this.trigger("preview",this.Ok())};Kj.YI=sj(new nj,255,255,255);Kj.KC=100;Kj.Uo=10;Kj.PC=200;
Kj.TEMPLATE=_.template('\x3cdiv class\x3d"colorPickerSpectrum"\x3e\x3cdiv class\x3d"marker"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"colorPickerValue"\x3e\x3cdiv class\x3d"marker"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"colorPickerColorCode"\x3e\x3c%- data.colorCodeLabel %\x3e #\x3cinput class\x3d"colorPickerHexCode" maxlength\x3d"6" spellcheck\x3d"false"\x3e\x3c/div\x3e',{variable:"data"});function Tj(){}Tj=Backbone.View.extend({className:"colorPalette"});e=Tj.prototype;e.initialize=function(a){this.Rh=a.Rh;this.hg=a.hg;this.jp=a.jp;this.Ng=a.Ng;this.Ue=a.Ue;this.$s=(this.ib=a.ib)&&this.ib.clone();this.IA=!1;this.Wd=null;this.Dr=a.Dr;this.Sg=null;this.analytics=a.analytics;this.fa=a.fa;(this.window=a.window||null)&&$(this.window).on("resize.colorPaletteView",_.throttle(this.Tr.bind(this),50));Uj(this)};
e.events=function(){return{"click .colorPaletteAdd":this.dO,"click .colorPaletteEntry":this.FN,mousedown:this.XO,"mousedown .colorPaletteEntry":this.WO}};function Uj(a){a.Ue&&(-1!==a.fa.ta.get(me)&&a.Ue.splice(a.fa.ta.get(me)),-1!==a.fa.ta.get(ne)&&(a.Ue=a.Ue.map(function(a){return a.Li({colors:a.Ld().slice(0,this.fa.ta.get(ne))})},a)))}
function Vj(a){function b(a){return new Wj({name:null,AM:a})}return[new Xj({name:a.hg.format("colorPaletteDefaultColors"),qf:"ff5c5c ffbd4a fff952 99e265 35b729 44d9e6 2eb2ff 5271ff b760e6 ff63b1".split(" ").map(b)}),new Xj({name:"",qf:["000000","666666","a8a8a8","d9d9d9","ffffff"].map(b)})]}
e.render=function(){var a={},b=$("\x3cdiv\x3e").appendTo(this.$el);this.$el.addClass("on");(this.Ue||[]).concat(Vj(this)).filter(function(a){return 0<a.Ld().length}).forEach(function(c){b.append(Tj.UI({colors:c.Ld().map(function(a){return Yj(a)}),label:c.getName()}));c.Ld().forEach(function(b){a["#"+Yj(b)]=!0})});var c=Zj(this.Ng.Bg()).filter(function(b){return a[b]?!1:a[b]=!0});b.prepend(Tj.FJ({colors:c,label:this.hg.format("colorPaletteDocumentColors")}));this.Dr&&(this.$el.addClass("colorPaletteScrollable"),
b.addClass("disableAncestorScroll"),this.Sg=new ak(b),this.Sg.render());this.listenTo(this.Ng,"paletteEntry:add",this.tN);this.listenTo(this.Ng,"paletteEntry:remove",this.lP);this.listenTo(this.Ng,"paletteEntry:sync",this.Tr);return this};e.appendTo=function(a){this.render().$el.appendTo(a);this.Tr()};
e.Tr=function(){if(this.$el.width()){var a=Math.floor(this.$el.width()/40);this.$el.find(".colorPaletteGroup").each(function(b,c){c=$(c);b=$(c).find("li");for(var d=[];0<b.length;)d.push(b.splice(0,a));c.children().detach();d.forEach(function(a){var b=$("\x3cdiv\x3e").addClass("colorPalette__row");a.forEach(function(a){b.append(a)});b.appendTo(c)});d.length&&d[d.length-1].length<a&&c.find(".colorPalette__row:nth-last-child(2)").addClass("colorPalette__row--roundSecondLast")})}};
e.Ok=function(){return this.ib&&this.ib.clone()};e.Lr=function(a){a.equals(this.ib)||(this.ib=a.clone(),this.trigger("preview",a));this.Wd&&(this.Wd.Lr(a),this.$(".colorPaletteAdd").css("color",a.qa()));return this};e.confirm=function(){this.ib&&!this.ib.equals(this.$s)&&bk(this);return this};function ck(a){a.Wd&&(a.Wd.remove(),a.Wd=null,a.trigger("hideColorPicker"));a.IA&&(dk(a),a.IA=!1);a.$(".colorPaletteAdd").css("color","transparent")}
e.remove=function(){ck(this);this.Sg&&(this.Sg.remove(),this.Sg=null);this.$el.hasClass("on")&&(this.$el.removeClass("on"),this.$el.one("animationend",Backbone.View.prototype.remove.bind(this)),this.$s&&ek(this,this.$s)&&this.analytics.track("brand_color_used"));this.window&&$(this.window).off("resize.colorPaletteView");return this};function bk(a){a.$s=a.Ok();a.trigger("confirm")}
function dk(a){if(a.ib){var b=a.ib.qa();a.$(".colorPaletteEntry").toArray().some(function(a){return $(a).data("color")===b})||(fk(a.Ng,a.ib),bk(a))}}e.FN=function(a){a.preventDefault();a=$(a.currentTarget).data("color");if(a=rf(a))this.Lr(a),this.Wd||this.confirm()};
e.dO=function(a){a.preventDefault();this.Wd?ck(this):this.Wd||(this.Wd=new Kj({Rh:this.Rh,ib:this.ib}),this.listenTo(this.Wd,"preview",this.jP),this.listenTo(this.Wd,"confirm",this.hO),this.Wd.render(),this.jp.bh(this.Wd.$el,this.$(".colorPaletteAdd")),this.trigger("showColorPicker"))};e.XO=function(a){0===a.button&&(0<$(a.target).closest(".colorPaletteAdd, .colorPaletteEntry").length?a.preventDefault():ck(this))};
e.WO=function(a){if(0===a.button&&(a.preventDefault(),!$(a.currentTarget).parents(".pinnedPalette").length)){var b=$(a.currentTarget).data("color"),c=(new gk({target:a.currentTarget})).Pw(a.clientX,a.clientY);this.listenTo(c,"end",function(a){var f=rf(b);!f||this.$el.is(a)||this.$el.get(0).contains(a)||(hk(this.Ng,f),bk(this));this.stopListening(c)})}};
e.tN=function(a){if(!ek(this,a)&&!ik(this,a)){a=a.qa();var b=$("\x3cli\x3e");b.addClass("colorPaletteEntry");b.data("color",a);b.attr("data-color",a);b.css("color",a);b.insertAfter(this.$(".colorPaletteAdd"))}};function ek(a,b){return a.Ue&&a.Ue.length?-1!==a.Ue.map(function(a){return a.Ld()}).reduce(function(a,b){return a.concat(b)}).map(function(a){return Yj(a)}).indexOf(b.qa().substr(1)):!1}
function ik(a,b){return Vj(a).length?-1!==Vj(a).map(function(a){return a.Ld()}).reduce(function(a,b){return a.concat(b)}).map(function(a){return Yj(a)}).indexOf(b.qa().substr(1)):!1}e.lP=function(a){var b=a.qa();this.$(".workingPalette .colorPaletteEntry").filter(function(){return $(this).data("color")===b}).remove()};e.jP=function(a){this.Wd&&(this.IA=!0,this.Lr(a))};e.hO=function(){ck(this);this.confirm()};
Tj.UI=_.template('\x3cdiv class\x3d"pinnedPalette"\x3e\x3ch3 class\x3d"colorPaletteLabel"\x3e\x3c%- data.label %\x3e\x3c/h3\x3e\x3cmenu class\x3d"colorPaletteGroup"\x3e\x3c% data.colors.forEach(function(hexString) { %\x3e\x3cli class\x3d"colorPaletteEntry" data-color\x3d"#\x3c%- hexString %\x3e" title\x3d"#\x3c%- hexString %\x3e" style\x3d"color: #\x3c%- hexString %\x3e;"\x3e\x3c/li\x3e\x3c% }); %\x3e\x3c/menu\x3e\x3c/div\x3e',{variable:"data"});
Tj.FJ=_.template('\x3cdiv class\x3d"workingPalette"\x3e\x3ch3 class\x3d"colorPaletteLabel"\x3e\x3c%- data.label %\x3e\x3c/h3\x3e\x3cmenu class\x3d"colorPaletteGroup"\x3e\x3cli class\x3d"colorPaletteAdd"\x3e\x3c/li\x3e\x3c% data.colors.forEach(function(hexString) { %\x3e\x3cli class\x3d"colorPaletteEntry" data-color\x3d"\x3c%- hexString %\x3e" title\x3d"#\x3c%- hexString %\x3e" style\x3d"color: \x3c%- hexString %\x3e;"\x3e\x3c/li\x3e\x3c% }); %\x3e\x3c/menu\x3e\x3c/div\x3e',{variable:"data"});function gk(a){this.target=a.target;this.uh=null;this.rt={x:0,y:0};this.st=void 0!==a.st?a.st:5;this.fE=!1;this.cs=null;this.gG=this.qM.bind(this);this.hG=this.rM.bind(this)}e=gk.prototype;e.trigger=Backbone.Events.trigger;e.on=Backbone.Events.on;e.off=Backbone.Events.off;e.listenTo=Backbone.Events.listenTo;e.Pw=function(a,b){this.rt.x=a;this.rt.y=b;this.uh=this.target.cloneNode(!0);document.addEventListener("mousemove",this.gG);document.addEventListener("mouseup",this.hG);return this};
e.release=function(a){document.removeEventListener("mousemove",this.gG);document.removeEventListener("mouseup",this.hG);$(this.target).removeClass("fauxDraggerTarget");this.uh&&this.uh.parentNode&&this.uh.parentNode.removeChild(this.uh);this.uh=null;this.trigger("end",a);this.off()};e.qM=function(a){var b=a.pageX-this.rt.x;a=a.pageY-this.rt.y;this.fE?$(this.uh).css("top",this.cs.top+a+"px").css("left",this.cs.left+b+"px"):(Math.abs(b)>this.st||Math.abs(a)>this.st)&&this.ay()};
e.rM=function(a){a.preventDefault();a.target instanceof Element&&this.release(a.target)};e.ay=function(){this.cs=this.target.getBoundingClientRect();$(this.uh).css("top",this.cs.top+"px").css("left",this.cs.left+"px").addClass("fauxDraggerClone");$(this.target).addClass("fauxDraggerTarget");document.body.appendChild(this.uh);this.trigger("start");this.fE=!0};function jk(a,b){this.item={sn:!1,elements:[],Tn:null,timestamp:0,gh:null,hh:null};this.Yr=a;this.bI=(b||"anonymous")+"-copybuffer"}function kk(a){var b=JSON.stringify({elements:a.item.elements.map(function(a){return a.serialize()}),timestamp:a.item.timestamp,activeFilterable:a.item.gh,activeText:a.item.hh});try{a.Yr.setItem(a.bI,b)}catch(c){}}
function lk(a){var b;return a.Yr&&(b=a.Yr.getItem(a.bI))&&(b=JSON.parse(b),b.timestamp>a.item.timestamp)?{elements:(b.elements||[]).map(function(a){return He(a)}),Tn:null,timestamp:b.timestamp,gh:b.activeFilterable,hh:b.activeText}:null}
function mk(a,b){a.item.timestamp=Date.now();a.item.sn=!0;a.item.elements=[b];a.item.gh=null;b.jj()&&-1!==b.Qp()&&(a.item.gh={elementIndex:0,filterableIndex:b.Qp()});a.item.hh=null;b.jn()&&-1!==b.$a()&&(a.item.hh={elementIndex:0,textIndex:b.$a()});a.item.Tn=null;a.Yr&&kk(a)}function nk(a,b){var c=Fb;c.item.timestamp=Date.now();c.item.sn=!1;c.item.elements=a;c.item.Tn=b?b:null;c.Yr&&kk(c)}
function ok(){var a=Fb,b=lk(a);return b?b:{sn:a.item.sn,elements:a.item.elements,Tn:a.item.Tn,timestamp:a.item.timestamp,gh:a.item.gh,hh:a.item.hh}};function pk(a,b){this.ba=a;this.lI=b||null;this.qw=this.xv=null}pk.prototype.read=function(a){this.xv||(qk++,rk.splice(qk,0,this));this.xv=a;if(sk==tk||sk==uk)this.ba.requestAnimationFrame(vk),sk=wk;return this};pk.prototype.write=function(a){this.qw||(xk++,yk.splice(xk,0,this));this.qw=a;sk==tk&&(this.ba.requestAnimationFrame(vk),sk=wk);return this};function ff(a){return new pk(Zh,a)}var tk=0,wk=1,uk=3,sk=tk,rk=[],yk=[],qk=0,xk=0;
function vk(){var a,b;sk=2;xk=-1;for(a=0;a<rk.length;a++){qk=a;b=rk[a];var c=b.xv;b.xv=null;c&&c.call(b.lI,b)}rk.length=0;qk=-1;sk=uk;for(a=0;a<yk.length;a++)xk=a,b=yk[a],c=b.qw,b.qw=null,c&&c.call(b.lI,b);yk.length=0;xk=-1;sk!=wk&&(sk=tk)};function zk(){this.da=mb;this.url="/designschool"};function Ak(){}function Bk(a){return Object.freeze(J(Ak,a))};function Ck(a){this.analytics=a.analytics;this.fa=a.fa;this.zx=a.zx;this.CB=!1}function Dk(a,b){if(!a.CB){var c=a.zx();c.on("signup",function(){$(window).off("beforeunload");window.location="/brand/onboarding/upgrader"});c.on("hide",function(){a.CB=!1});Ek(c,b);a.CB=!0}};function Fk(a,b){this.action=a;this.param=b}var Gk={iT:"tab",wJ:"search",VS:"folder"};function Hk(){var a=window.location.hash;if(!a)return null;a=a.slice(1).split("\x3d");if(2!==a.length)return null;var b;b=a[0];var c=_.values(Gk);b=b&&-1<c.indexOf(b)?b:null;if(!b)return null;var d;try{d=decodeURIComponent(a[1])}catch(f){d=a[1]}a=d;c=_.values(Ib);return"tab"===b&&-1===c.indexOf(a)||!/^[\w ]+$/.test(d)?null:new Fk(b,d||null)};function Ik(a){this.qf=Jk(a);this.Zs=null}function Jk(a){if(a){var b={};return a.filter(function(a){a=a.qa();return b[a]?!1:b[a]=!0})}return[]}function Kk(a,b){return 0<=Zj(a).indexOf(b.qa())}Ik.prototype.md=function(){this.Zs=null};function Lk(a,b){zj(b)&&!Kk(a,b)&&(a.qf.push(b),a.md())}function Mk(a,b){zj(b)&&Kk(a,b)&&(a.qf=a.qf.filter(function(a){return!a.equals(b)}),a.md())}Ik.prototype.unshift=function(a){zj(a)&&!Kk(this,a)&&(this.qf.unshift(a),this.md())};
function Nk(){var a=new Ik;a.qf=[];a.md();return a}Ik.prototype.Ld=function(){return this.qf};function Zj(a){a.Zs||(a.Zs=a.qf.map(function(a){return a.qa()}));return a.Zs}Ik.prototype.serialize=function(){this.md();return this.qf.map(function(a){return a.serialize()})};function Ok(a){function b(){q&&(q=!1,$("#overlays .rotationGuide").addClass("willSnap"))}function c(a){a.shiftKey&&$("#overlays .rotationGuide").hasClass("willSnap")&&(q=!0,$("#overlays .rotationGuide").removeClass("willSnap"))}function d(a){var b=p+Qj(l,m,void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY)-r;$("#overlays .rotation.align").addClass("on");var c=b%45;0>c&&(c+=45);var d=b>n.Ma(),f=d&&42<c,d=!d&&3>c,g=3>c||42<
c;if(a.shiftKey)w=!1,$("#overlays .rotationGuide").removeClass("willSnap"),g||(q=!1);else{g?$("#overlays .rotationGuide").addClass("willSnap"):(w=!1,$("#overlays .rotationGuide").removeClass("willSnap"));if(w)return!1;f?(b=b+45-c,w=!0):d&&($("#overlays .rotationGuide").addClass("willSnap"),b-=c,w=!0)}a=b;$("#overlays .rotationGuide").css("transform",Pk({co:a}));c=a=b;0>c&&(c=360+c);v.html(Math.round(c)+"\x26deg;").css("transform",Pk({co:360-a}));n.pi(b);n instanceof Qk&&Rk(n);return!1}function f(){n.Dd=
!1;x.off("mousemove|touchmove",d).off("mouseup|touchend",f);g.removeClass("on");n.Hg&&n.Hg();$(".cornerHandles .rotate").empty();$("#overlays .align").removeClass("on");$("#overlays .rotationGuide").removeClass("willSnap");$(document).off("keydown",c);$(document).off("keydown",b);if(p!=n.Ma()){var a={elementIndex:n.ea(),pageIndex:T(z,n.ha()),"new":{rotation:n.Ma()},old:{rotation:p}};C.register(new U(Sk,a))}}K.trigger("hideContextualControlsRequested");Tk();var g=$(this);g.addClass("on");var h=$(this).parents(".selectionBox").data("element"),
k=h.offset(),l=k.left+h.width()/2,m=k.top+h.height()/2,n=h.data("canvaElement"),p=n.Ma(),r=Qj(l,m,void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY),q=!1,v=$('\x3cspan class\x3d"degrees"\x3e\x3c/span\x3e');$(".cornerHandles .rotate").append(v);$(document).on("keydown",c);$(document).on("keyup",b);var x=new Uk($(document));n.Dd=!0;x.on("mousemove|touchmove",d).on("mouseup|touchend",f);a=Vk(n);var w=!1,h=$("#overlays").get(0).getBoundingClientRect();
$("#overlays .rotation.align").first().css("left",a.x-h.left+"px").css("top",a.y-h.top+"px");$("#overlays .rotationGuide").first().css("left",a.x-h.left+"px").css("top",a.y-h.top+"px").css("margin-top",-1*Wk(n)/2+"px").css("height",Wk(n)+"px");return!1};function Xk(a,b){this.Vw=a;this.namespace=void 0===b?null:b}function Yk(){if(window.localStorage)return new Xk(window.localStorage,void 0);throw Error("ClientStore: localStorage is not defined on window, likely an unsupported browser");}Xk.prototype.setItem=function(a,b){try{return this.Vw.setItem(null==this.namespace?a:this.namespace+"."+a,b),!0}catch(c){return!1}};Xk.prototype.getItem=function(a){return this.Vw.getItem(null==this.namespace?a:this.namespace+"."+a)};
Xk.prototype.removeItem=function(a){this.Vw.removeItem(null==this.namespace?a:this.namespace+"."+a)};function Zk(a){this.fa=a.fa;this.Mb=a.Mb;this.lb=a.lb;this.Ui=a.Ui;this.ia=a.ia;this.C=a.C;this.analytics=a.analytics;this.wd=a.wd;this.Kb=a.Kb;this.wk=a.wk;this.vm=a.vm}Zk.prototype.go=function(a,b,c,d,f,g){a=a&&a.content;b=$k(b);if(!a)throw Error("Malformed document. Missing content.");al(this,a,b,c,d,f,g)};
function al(a,b,c,d,f,g,h){a.analytics.identify(a.wk.G(),mi(a.wk));b={content:b,Kc:c,PL:!(-1==qf.indexOf(d.Fe())&&!d.Fe()),Mb:a.Mb,Ui:a.Ui,lb:a.lb,Si:d,PJ:g,dS:h,C:a.C,pf:f,fa:a.fa,vm:a.vm,analytics:a.analytics,uE:function(){var b=["C4W_UPGRADED_USER","C4W_INVITED_EXISTING_USER"],c=d.Fe(),f;if(z){if(-1!=qf.indexOf(d.Fe())){var g=a.C;g.ud||(g.ud=new Jd(g.Ha));(new bl(z,d,g.ud)).go()}g=new cl(a.ia,d,a.C,a.fa);if(!c&&a.Kb&&"1"==a.Kb.getItem("onboardingPhase")){if(a.fa.ta.get(je)){var h,r;r=a.C;r.Zx||
(r.Zx=new Kd(r.Ha));r=r.Zx;h=_.defaults({},h,{analytics:a.analytics,ck:"download_hint",wd:a.wd,ds:5,title:r.DA(),content:r.BA(),Yc:r.AA(),anchor:$("button.editorActionExport"),Ls:"download",position:dl});new el(h)}a.Kb.setItem("onboardingPhase","2");h="first_design";a.fa.ta.get(oe)?h="appcues_first_design_1":a.fa.ta.get(pe)?h="appcues_first_design_2":a.fa.ta.get(qe)?h="appcues_first_design_3":a.fa.ta.get(re)&&(h="appcues_first_design_4");a.analytics.identify(a.wk.G(),{wG:h})}"FREE_NEW_USER"===c?(g.go(),
fl(a),f="regular"):gl()?(g.go(),fl(a),new el({analytics:a.analytics,ck:"five_saves_view_designs",wd:a.wd,ds:5,title:yc(a.C).DA(),content:$('\x3cp class\x3d"viewYourDesigns"\x3e\x3c/p\x3e').text(yc(a.C).BA()),Yc:yc(a.C).AA(),anchor:$("#editorLogo"),Ls:"homepage"}),f="layouts"):-1<b.indexOf(c)&&(hl({Fe:c,up:a.fa.up(),AQ:0<=sf(d).indexOf("TEAM_TEMPLATE"),Ac:wc(a.C)}).start(),f="c4w");f&&a.analytics.identify(a.wk.G(),{wG:f})}}};il(b)}function fl(a){a.Kb&&a.Kb.setItem("onboardingPhase","1")};function jl(a,b,c){var d=this;this.Kc=b;this.If=a.keywords||[];this.locale=a.locale||null;this.zj=Nk();this.Jm=Nk();this.Og=Nk();a.palette&&a.palette.forEach(function(a){var b="!"===a.charAt(0);if(a=rf(b?a.slice(1):a))b?Lk(this.Jm,a):(Lk(this.zj,a),Lk(this.Og,a))},this);0===this.zj.Ld().length&&(this.zj=new Ik,this.Og=new Ik,this.Jm.Ld().forEach(function(a){Mk(this.zj,a);Mk(this.Og,a)},this));this.aa=[];this.cp=null;this.title=new kl(c,a.title,this.Sa().getName());this.title.on("change",this.vM.bind(this));
this.fw={title:{},subtitle:{},body:{}};$.extend(this.fw,a.defaultFonts);this.hk={title:{fontSize:G.cJ,fontFamily:G.bJ},subtitle:{fontSize:G.$I,fontFamily:G.ZI},body:{fontSize:G.XI,fontFamily:G.WI}};$.extend(this.hk,a.canvaDefaultFonts);a=ll(this,a);a.pages?a.pages.forEach(function(a){d.aa.push(new ml(d,a))}):this.aa.push(new ml(this,this.Ig()));nl(this,0)}e=jl.prototype;e.Sa=function(){return this.Kc};e.Ig=function(){return this.Kc.Ig()};e.trigger=Backbone.Events.trigger;e.listenTo=Backbone.Events.listenTo;
e.stopListening=Backbone.Events.stopListening;e.on=Backbone.Events.on;e.once=Backbone.Events.once;e.off=Backbone.Events.off;_.extend(jl.prototype,Backbone.Events);e=jl.prototype;e.Bg=function(){return this.Og};
e.yv=function(){var a=this,b=this.Og,c=Nk();this.zj.Ld().forEach(function(a){Lk(c,a)});this.aa.forEach(function(b){b.Bg().Ld().forEach(function(b){Kk(a.Jm,b)||Lk(c,b)})});for(var b=b.Ld(),d=c.Ld(),f=b.length-1,g=d.length-1;0<=f;)0>g||b[f].qa()!==d[g].qa()?this.trigger("paletteEntry:remove",b[f]):g--,f--;for(;0<=g;)this.trigger("paletteEntry:add",d[g]),g--;this.trigger("paletteEntry:sync");this.Og=c};
function fk(a,b){if(zj(b)){var c=Zj(a.Og);0<c.length&&c[0]===b.qa()||(hk(a,b),Mk(a.Jm,b),a.zj.unshift(b),a.Og.unshift(b),a.trigger("paletteEntry:add",b),a.trigger("paletteEntry:sync"))}}function hk(a,b){zj(b)&&Kk(a.Og,b)&&(Lk(a.Jm,b),Mk(a.zj,b),Mk(a.Og,b),a.trigger("paletteEntry:remove",b),a.trigger("paletteEntry:sync"))}function ol(a){return Zj(a.zj).concat(a.Jm.Ld().map(function(a){return"!"+a.qa()}))}
e.serialize=function(){var a;a=this.aa.reduce(function(a,c){c.Td||a.push(c.serialize());return a},[]);a={canvaDefaultFonts:this.hk,defaultFonts:this.fw,layout:this.Sa().G(),pages:a,palette:ol(this),title:this.title.$p()};this.If&&0<this.If.length&&(a.keywords=this.If);return a};e.Za=function(){return this.title};e.cj=function(){return this.If};function pl(a,b){a.If=b;""!==a.If.join("")&&(a.trigger("change:keywords",a),a.trigger("change",a))}e.Ag=function(){return this.locale};
e.setLocale=function(a){var b=this.locale;this.locale=a;this.locale!==b&&(this.trigger("change:locale",this),this.trigger("change",this))};e.Eg=function(){return this.Kc.dc().Eg()};function L(a){for(var b=0;b<a.aa.length;b++)if(a.aa[b].Ce())return a.aa[b];return a.aa[0]}function ql(a){var b=L(a);return T(a,b)}e.hu=function(){return this.aa};e.Ae=function(){return this.aa.length};function rl(a){return a.aa.filter(function(a){return!a.Td})}
function nl(a,b){b=Math.min(Math.max(0,b),a.aa.length-1);b=a.aa[b];var c=b.Ce();b.Oj(!0);var d=b.Ce();c!==d&&a.trigger("page:change:selected",a,b)}function T(a,b){return b?a.aa.indexOf(b):-1}function sl(a){var b=new ml(a,a.Ig());if(0<a.aa.length){var c=tl(a.aa[a.aa.length-1]);0<c.length&&(c=c[c.length-1].clone(),c.appendTo(b),ul(c))}a.aa.push(b);a.trigger("page:add",a,b);b.za().forEach(function(a){b.trigger("element:add",b,a)});return b}
function vl(a,b,c,d){var f=a.aa.indexOf(b),g=!0;!1===d&&(g=!1);wl(b,a);-1==f?(a.aa.splice(c,0,b),a.trigger("page:add",a,b,c,g)):(a.aa.splice(c,0,a.aa.splice(f,1)[0]),a.trigger("page:move",a,b,f,c));-1==f&&b.za().forEach(function(a){b.trigger("element:add",b,a)})}function xl(a,b){var c=ql(a),d=a.aa.indexOf(b);-1<d&&a.aa.splice(d,1);wl(b,null);c>d&&c--;nl(a,Math.max(0,Math.min(a.aa.length-1,c)));a.trigger("page:remove",a,b,d)}
e.Ja=function(){var a=[],b=this.aa.map(function(a){return a.Ja()});return a.concat.apply(a,b)};function yl(){return z.aa.some(function(a){return 0<a.Ja().length})}e.za=function(){var a=[],b=this.aa.map(function(a){return a.za()});return a.concat.apply(a,b)};function zl(a){a=a.za();var b=a.filter(function(a){return a.Ih()});a.filter(function(a){return a.zu()}).forEach(function(a){a.Vy().forEach(function(a){b.push(a)})});return b}
function Al(a){var b={};zl(a).filter(function(a){return a.Vb()}).map(function(a){return a.Vb()}).forEach(function(a){Bl(bb,a)&&(b[a.G()]=a)});return _.values(b)}function Cl(a){return zl(a).some(function(a){return(a=a.Vb())&&!Bl(bb,a)?!0:!1})}e.Ik=function(a){return $.extend(!0,{},this.hk[a],this.fw[a])};
function ll(a,b){b=$.extend(!0,{},b);(function(a){var b=[];(a.pages||[]).forEach(function(a){(a.elements||[]).forEach(function(a){"text"===a.type?b.push(a):"svg"===a.type&&a.contents&&a.contents.forEach(function(a){"text"===a.type&&b.push(a)})})});return b})(b).forEach(function(b){var d=Object.keys(Hb).map(function(a){return Hb[a]}),f=b.style;-1<d.indexOf(f)&&(d=a.Ik(f),void 0===b.fontFamily&&(b.fontFamily=d.fontFamily),void 0===b.fontSize&&(b.fontSize=d.fontSize))});return b}
function Dl(a){function b(a){var f,g;for(g in a)a.hasOwnProperty(g)&&(f=a[g],c=c&&("number"===typeof f?!isNaN(f):!0),"object"==typeof f&&b(f));Array.isArray(a)&&a.forEach(function(a){c=c&&("number"===typeof a?!isNaN(a):!0);"object"==typeof f&&b(f)})}var c=!0;b(a);return c}e.isEmpty=function(){return 0<this.za().length?this.za().every(function(a){return a.Td}):!0};e.vM=function(){this.trigger("change:title",this);this.trigger("change",this)};
e.resize=function(a){this.Kc=a;this.aa.forEach(function(b){b.resize(a)});this.trigger("resize");this.trigger("change")};e.YB=function(a,b){this.Kc=b;this.aa.forEach(function(b,d){b.YB(a.pages[d])});this.trigger("resize");this.trigger("change")};function El(){Error.captureStackTrace&&Error.captureStackTrace(this,El)}El.prototype=Object.create(Error.prototype);function Fl(){El.call(this)}Fl.prototype=Object.create(El.prototype);function Gl(){El.call(this)}Gl.prototype=Object.create(El.prototype);function Hl(){El.call(this)}Hl.prototype=Object.create(El.prototype);function Il(a){switch(a){case "NONE":return"NONE";case "LOG":return"LOG";case "THROW":return"THROW";default:throw Error("unknown DocumentDeserializationMode: "+a);}}function Jl(a,b,c){this.da=a;this.Fm=b;this.fB=c;this.path="/documents"}function Kl(a){return new Jl(mb,Il(nb.Fm()),a)}e=Jl.prototype;e.duplicate=function(a){return vf(this.da,this.path+"?duplicate\x3d"+encodeURIComponent(a.G()),a).get(0).tap(this.kk("CreateDocumentResponseProto (duplicate)",Ll)).then(Ml)};
e.delete=function(a){return vf(this.da,this.path+"/"+encodeURIComponent(a)+"?delete",null).return()};e.move=function(a,b,c){return vf(this.da,this.path+"/"+encodeURIComponent(a)+"?move",{owner:{user:b,brand:c}}).get(0).get("doc")};e.rl=function(a){return vf(this.da,this.path+"/"+encodeURIComponent(a)+"?publicify",null).return()};e.Mo=function(a){return vf(this.da,this.path+"/"+encodeURIComponent(a)+"?unpublicify",null).return()};
e.bx=function(a){return vf(this.da,this.path+"/"+encodeURIComponent(a)+"?brandPublicify",null).return()};e.ex=function(a){return vf(this.da,this.path+"/"+encodeURIComponent(a)+"?brandUnpublicify",null).return()};e.es=function(a){return vf(this.da,this.path+"/"+encodeURIComponent(a)+"?templatify",null).return()};e.ns=function(a){return vf(this.da,this.path+"/"+encodeURIComponent(a)+"?untemplatify",null).return()};
e.getDocument=function(a){a=[this.path,null!=a.doc?"/"+encodeURIComponent(a.doc):"",a.excludePages?"?excludePages":""].join("");return Bf(this.da,a).get(0).tap(this.kk("GetDocumentResponseProto",Nl)).then(Ol)};
function Pl(a,b){b=[a.path+"?",null!=b.continuation?"\x26continuation\x3d"+encodeURIComponent(b.continuation):"",null!=b.designType?"\x26designType\x3d"+encodeURIComponent(b.designType):"",b.excludeApiDocuments?"\x26excludeApiDocuments":"",b.excludeEmpty?"\x26excludeEmpty":"",null!=b.ids?"\x26ids\x3d"+encodeURIComponent(b.ids):"",null!=b.limit?"\x26limit\x3d"+encodeURIComponent(b.limit):"",null!=b.principal?"\x26brand\x3d"+encodeURIComponent(b.principal.brand):"",null!=b.principal?"\x26user\x3d"+
encodeURIComponent(b.principal.user):"",null!=b.principalRoles?"\x26principalRoles\x3d"+encodeURIComponent(b.principalRoles.join(",")):"",b["public"]?"\x26public":"",null!=b.withoutTags?"\x26withoutTags\x3d"+encodeURIComponent(b.withoutTags):""].join("").replace("?\x26","?");return Bf(a.da,b).get(0).tap(a.kk("FindDocumentsResponseProto",Ql)).then(function(a){return{documents:a.documents.map(Fh),continuation:a.continuation}})}
function Rl(a,b){return Bf(a.da,a.path+"/"+encodeURIComponent(b)+"/acl").get(0).tap(a.kk("GetDocumentAclResponseProto",Sl)).then(Tl)}e.search=function(a){a=this.path+"/search?"+a.ie();return Bf(this.da,a).get(0).tap(this.kk("SearchDocumentsResponseProto",Ul)).then(Vl)};function Wl(a){var b=db;return Bf(b.da,b.path+"/"+encodeURIComponent(a)+"/media").get(0).then(Xl)}
e.kk=function(a,b){var c=this;return function(d){try{b(Ia(d))}catch(f){switch(c.Fm){case "THROW":throw f;case "LOG":c.fB.log("Failed deserialization of "+a,f)}}}};function Yl(){this.remix=this.edit=this.view=this["default"]=null}Yl.prototype.QE=function(){return this["default"]};Yl.prototype.Rk=function(){return this.view};Yl.prototype.RE=function(){return this.edit};function Zl(a){var b=new Yl;a&&$.extend(b,a);return b}function $l(a){this.width=a.width;this.height=a.height;this.url=a.url}function am(){}function Ml(a){return Object.freeze(J(am,a))}am.prototype.getDocument=function(){return Fh(this.document)};am.prototype.getSession=function(){return this.session};
am.prototype.hb=function(){if(this.type)return $k(this.type)};function bm(){}function cm(a){var b=new bm;b.doc=a;return b}function dm(){}function Ol(a){return Object.freeze(J(dm,a))}dm.prototype.getDocument=function(){return Fh(this.document)};function em(){}em.prototype.ws=function(a){this.ids=a.slice(0);return this};em.prototype.GI=function(a){this.designType=a;return this};function fm(a){var b=new em;b.excludeApiDocuments=a;return b}function gm(a){a.excludeEmpty=!0;return a}
em.prototype.nw=function(a,b){this.continuation=a;this.limit=b;return this};function hm(a,b,c){a.principal={user:b,brand:c};a.principalRoles=[im]}function jm(){}function Tl(a){return Object.freeze(J(jm,a))}jm.prototype.Kd=function(){return Object.freeze(J(km,this.acl))};function lm(){}function mm(){}function nm(a){return Object.freeze(J(mm,a))}mm.prototype.Kd=function(){return Object.freeze(J(km,this.acl))};function om(){}om.prototype.D=function(){return this.height};om.prototype.Ty=function(){return this.images};
om.prototype.getVersion=function(){return this.version};om.prototype.w=function(){return this.width};function pm(a){if(!a)return null;a=$.extend(new om,a);if(a.images){var b;b=(b=a.images)?b.map(qm):null;a.images=b}return a}function rm(){}rm.prototype.ha=function(){return this.page};rm.prototype.ma=function(){return this.url};rm.prototype.getKey=function(){return this.key};function qm(a){return a?$.extend(new rm,a):null}function sm(){}sm.prototype.G=function(){return this.id};
sm.prototype.getVersion=function(){return this.version};sm.prototype.Ty=function(){return this.images};function tm(a){a=J(sm,a);var b=a.images;if(b)for(var c in b)b[c]=um(b[c]);return a}function Xl(a){return a.map(tm)}function vm(){}function Vl(a){return Object.freeze(J(vm,a))}vm.prototype.Xp=function(){return this.results?this.results.map(wm):[]};function xm(){}function wm(a){return Object.freeze(J(xm,a))}xm.prototype.Za=function(){return this.title};xm.prototype.G=function(){return this.id};
xm.prototype.lc=function(){var a=this.thumbnail;return new $l({width:Ja("width",a),height:Ja("height",a),url:La("url",a)})};function km(){}km.prototype.Yp=function(){return this.rules.map(ym)};function zm(){}zm.prototype.hb=function(){return this.type};zm.prototype.Cg=function(){var a=this.hb();Ba("USER"==a||"BRAND"==a,"only USER or BRAND assignments have principals");return Object.freeze(J(Am,this.principal))};zm.prototype.Bf=function(){return this.role};
zm.prototype.Mc=function(){return this.origin?Object.freeze(J(Bm,this.origin)):null};function ym(a){return Object.freeze(J(zm,a))}function Am(){}Am.prototype.na=function(){return this.brand};Am.prototype.Ca=function(){return this.user};function Bm(){}Bm.prototype.hb=function(){return this.type};Bm.prototype.G=function(){return this.id};function Cm(a){this.principal=a.kr;this.roleChange=a.XQ;this.origin=a.origin}
function Dm(a,b,c){return new Cm({kr:{user:a,brand:b},XQ:{op:"SET",role:c.toString()},origin:{type:"MANUAL"}})}function Em(){}e=Em.prototype;e.Sp=function(){return this.extensions};e.G=function(){return this._id};e.Zc=function(){return this.draft};function Fm(a,b){if((a=a.draft)&&a.imageSets&&a.imageSets.thumbnail){a=a.imageSets.thumbnail.images;for(var c=0;c<a.length;c++)if(a[c].page==b+1)return a[c].url}return null}e.Za=function(){try{return this.draft.content.title.trim()||null}catch(a){return null}};
e.getVersion=function(){var a=this.draft;return a?a.version:-1};var im="OWNER";function Dh(a,b){switch(b){case "NONE":return"NONE";case "EDITOR":return"EDITOR";case "OWNER":return im;case "REMIXER":return"REMIXER";case "VIEWER":return"VIEWER";default:throw Error('unexpected accessRole type for property "'+a+'": '+b);}}var Gm={NONE:0,VIEWER:1,REMIXER:2,EDITOR:3,OWNER:4};function Fh(a){var b=new Em;$.extend(b,a);b.extensions=Zl(a.extensions);return b};function Hm(a,b){switch(b){case "USER":return"USER";case "BRAND":return"BRAND";case "EXTENSION":return"EXTENSION";case "DEFAULT":return"DEFAULT";default:throw new TypeError('expected AccessControlListActorType for property "'+a+'", found: '+JSON.stringify(b));}}
function Im(a,b){switch(b){case "NONE":return"NONE";case "OWNER":return"OWNER";case "VIEWER":return"VIEWER";case "REMIXER":return"REMIXER";case "EDITOR":return"EDITOR";default:throw new TypeError('expected AccessControlListRole for property "'+a+'", found: '+JSON.stringify(b));}}function Jm(a,b){switch(b){case "MANUAL":return"MANUAL";case "FOLDER":return"FOLDER";default:throw new TypeError('expected AccessControlListOriginType for property "'+a+'", found: '+JSON.stringify(b));}}
function Km(a){this.id=a.id;this.qI=a.qI;this.dB=a.dB||[];this.sb=a.sb}Km.prototype.G=function(){return this.id};Km.prototype.Xp=function(){return this.dB};Km.prototype.Rb=function(){return this.sb};function Ul(a){return new Km({id:La("id",a),qI:u("totalHits",a),dB:Qa(Lm,"results",a),sb:Ma("continuation",a)})}function Mm(a){this.Al=a.Al;this.sl=a.sl;this.id=a.id;this.title=a.title;this.description=a.description;this.ja=a.ja;this.CG=a.CG;this.Mi=a.Mi;this.rI=a.rI;this.ah=a.ah;this.Dm=a.Dm}e=Mm.prototype;
e.$E=function(){return this.Al};e.ZE=function(){return this.sl};e.G=function(){return this.id};e.Za=function(){return this.title};e.lc=function(){return this.ah};function Lm(a){return new Mm({Al:La("searchId",a),sl:u("rank",a),id:La("id",a),title:La("title",a),description:Ma("description",a),ja:La("layout",a),CG:La("owningBrand",a),Mi:u("creationDate",a),rI:Fa.optional("trashed",a)||!1,ah:Na(Nm,"thumbnail",a),Dm:La("designTypeDisplayName",a)})}function Om(a){this.ZD=a.ZD||[];this.sb=a.sb}
Om.prototype.Rb=function(){return this.sb};function Ql(a){return new Om({ZD:Qa(Qm,"documents",a),sb:Ma("continuation",a)})}function Rm(a){this.document=a.document;this.Ea=a.Ea;this.RC=a.RC}Rm.prototype.getDocument=function(){return this.document};Rm.prototype.getSession=function(){return this.Ea};function Nl(a){return new Rm({document:Na(Qm,"document",a),Ea:Ja("session",a),RC:Ra(Im,"accessRole",a)})}function Sm(a){this.document=a.document;this.Ea=a.Ea}Sm.prototype.getDocument=function(){return this.document};
Sm.prototype.getSession=function(){return this.Ea};function Ll(a){return new Sm({document:Na(Qm,"document",a),Ea:u("session",a)})}function Tm(a){this.Re=a.Re}Tm.prototype.Kd=function(){return this.Re};function Sl(a){return new Tm({Re:Na(Um,"acl",a)})}function Vm(a){this.Re=a.Re}Vm.prototype.Kd=function(){return this.Re};function Wm(a){return new Vm({Re:Na(Um,"acl",a)})}function Xm(a){this.rules=a.rules||[];this.version=a.version}Xm.prototype.Yp=function(){return this.rules};
Xm.prototype.getVersion=function(){return this.version};function Um(a){return new Xm({rules:Qa(Ym,"rules",a),version:u("version",a)})}function Zm(a){this.type=a.type;this.kr=a.kr;this.Ev=a.Ev;this.origin=a.origin;this.timestamp=a.timestamp}e=Zm.prototype;e.hb=function(){return this.type};e.Cg=function(){return this.kr};e.Bf=function(){return this.Ev};e.Mc=function(){return this.origin};e.ku=function(){return this.timestamp};
function Ym(a){return new Zm({type:Ra(Hm,"type",a),kr:Pa($m,"principal",a),Ev:Ra(Im,"role",a),origin:Pa(an,"origin",a),timestamp:Ja("timestamp",a)})}function bn(a){this.ca=a.ca;this.Pa=a.Pa}bn.prototype.na=function(){return this.ca};bn.prototype.Ca=function(){return this.Pa};function $m(a){return new bn({ca:La("brand",a),Pa:Ma("user",a)})}function cn(a){this.type=a.type;this.id=a.id}cn.prototype.hb=function(){return this.type};cn.prototype.G=function(){return this.id};
function an(a){return new cn({type:Ra(Jm,"type",a),id:Ma("id",a)})}function dn(a){this.id=a.id;this.Mi=a.Mi;this.Gp=a.Gp;this.tags=a.tags||[];this.Re=a.Re;this.$x=a.$x}dn.prototype.G=function(){return this.id};dn.prototype.Sp=function(){return this.Gp};dn.prototype.Kd=function(){return this.Re};dn.prototype.Zc=function(){return this.$x};function Qm(a){return new dn({id:La("id",a),Mi:u("creationDate",a),Gp:Na(en,"extensions",a),tags:Ea.Rg("tags",a),Re:Pa(Um,"acl",a),$x:Na(fn,"draft",a)})}
function gn(a){this.default=a.default;this.view=a.view;this.gH=a.gH;this.hy=a.hy}gn.prototype.QE=function(){return this.default};gn.prototype.Rk=function(){return this.view};gn.prototype.RE=function(){return this.hy};function en(a){return new gn({default:Ma("default",a),view:Ma("view",a),gH:Ma("remix",a),hy:Ma("edit",a)})}function hn(a){this.content=a.content;this.version=a.version;this.timestamp=a.timestamp;this.nl=a.nl;this.pF=a.pF}hn.prototype.getContent=function(){return this.content};
hn.prototype.getVersion=function(){return this.version};hn.prototype.ku=function(){return this.timestamp};hn.prototype.Ae=function(){return this.nl};function fn(a){return new hn({content:Na(jn,"content",a),version:u("version",a),timestamp:u("timestamp",a),nl:u("pageCount",a),pF:Na(kn,"imageSets",a)})}function ln(a){this.ah=a.ah;this.Vn=a.Vn}ln.prototype.lc=function(){return this.ah};function kn(a){return new ln({ah:Na(mn,"thumbnail",a),Vn:Pa(mn,"preview",a)})}
function nn(a){this.height=a.height;this.width=a.width;this.version=a.version;this.images=a.images||[]}nn.prototype.D=function(){return this.height};nn.prototype.w=function(){return this.width};nn.prototype.getVersion=function(){return this.version};nn.prototype.Ty=function(){return this.images};function mn(a){return new nn({height:u("height",a),width:u("width",a),version:u("version",a),images:Qa(on,"images",a)})}function pn(a){this.bucket=a.bucket;this.key=a.key;this.page=a.page;this.url=a.url}
pn.prototype.getKey=function(){return this.key};pn.prototype.ha=function(){return this.page};pn.prototype.ma=function(){return this.url};function on(a){return new pn({bucket:La("bucket",a),key:La("key",a),page:u("page",a),url:Ma("url",a)})}function qn(a){this.width=a.width;this.height=a.height;this.url=a.url}qn.prototype.w=function(){return this.width};qn.prototype.D=function(){return this.height};qn.prototype.ma=function(){return this.url};
function Nm(a){return new qn({width:Ja("width",a),height:Ja("height",a),url:La("url",a)})}function rn(a){this.fontFamily=a.fontFamily;this.fontSize=a.fontSize;this.bold=a.bold;this.o=a.o;this.Hf=a.Hf;this.letterSpacing=a.letterSpacing;this.lineHeight=a.lineHeight;this.color=a.color}e=rn.prototype;e.wc=function(){return this.fontSize};e.Rp=function(){return this.bold};e.Tp=function(){return this.o};e.Up=function(){return this.Hf};e.Zm=function(){return this.letterSpacing};e.Mk=function(){return this.lineHeight};
e.rd=function(){return this.color};function sn(a){return new rn({fontFamily:Ma("fontFamily",a),fontSize:Ja("fontSize",a),bold:Fa.optional("bold",a),o:Fa.optional("italic",a),Hf:Ma("justification",a),letterSpacing:Ja("letterSpacing",a),lineHeight:Ja("lineHeight",a),color:Ma("color",a)})}function tn(a){this.title=a.title;this.Bi=a.Bi;this.body=a.body}tn.prototype.Za=function(){return this.title};function un(a){return new tn({title:Pa(sn,"title",a),Bi:Pa(sn,"subtitle",a),body:Pa(sn,"body",a)})}
function vn(a){this.ja=a.ja;this.title=a.title;this.description=a.description;this.If=a.If||[];this.hk=a.hk;this.OD=a.OD;this.aa=a.aa||[]}vn.prototype.Za=function(){return this.title};vn.prototype.cj=function(){return this.If};vn.prototype.hu=function(){return this.aa};function jn(a){return new vn({ja:La("layout",a),title:Ma("title",a),description:Ma("description",a),If:Ea.Rg("keywords",a),hk:Na(un,"canvaDefaultFonts",a),OD:Pa(un,"defaultFonts",a),aa:Qa(wn,"pages",a)})}
function xn(a){this.height=a.height;this.width=a.width;this.zk=a.zk;this.elements=a.elements||[]}e=xn.prototype;e.D=function(){return this.height};e.w=function(){return this.width};e.Jk=function(){return this.zk};e.za=function(){return this.elements};function wn(a){return new xn({height:u("height",a),width:u("width",a),zk:Ja("dpi",a),elements:Qa(yn,"elements",a)})}e.addElement=function(a){this.elements.push(a)};
function zn(a){this.type=a.type;this.top=a.top;this.left=a.left;this.height=a.height;this.width=a.width;this.Jb=a.Jb;this.rotation=a.rotation;this.pb=a.pb;this.mb=a.mb;this.backgroundColor=a.backgroundColor;this.Da=a.Da;this.ra=a.ra;this.ua=a.ua;this.Sb=a.Sb;this.style=a.style;this.html=a.html;this.fontFamily=a.fontFamily;this.fontSize=a.fontSize;this.color=a.color;this.bold=a.bold;this.o=a.o;this.FE=a.FE;this.Hf=a.Hf;this.letterSpacing=a.letterSpacing;this.lineHeight=a.lineHeight;this.TF=a.TF||[];
this.padding=a.padding;this.textTransform=a.textTransform;this.border=a.border;this.GF=a.GF||[];this.link=a.link;this.spacing=a.spacing;this.items=a.items||[];this.contents=a.contents||[];this.scale=a.scale;this.yf=a.yf||[];this.Tj=a.Tj;this.index=a.index}e=zn.prototype;e.hb=function(){return this.type};e.N=function(){return this.top};e.W=function(){return this.left};e.D=function(){return this.height};e.w=function(){return this.width};e.cz=function(){return this.Jb};e.Ma=function(){return this.rotation};
e.Af=function(){return this.backgroundColor};e.Kk=function(){return this.Da};e.VE=function(){return this.ra};e.WE=function(){return this.ua};e.wc=function(){return this.fontSize};e.rd=function(){return this.color};e.Rp=function(){return this.bold};e.Tp=function(){return this.o};e.Up=function(){return this.Hf};e.Zm=function(){return this.letterSpacing};e.Mk=function(){return this.lineHeight};e.XE=function(){return this.padding};e.zg=function(){return this.link};e.az=function(){return this.spacing};
e.Md=function(){return this.items};e.ea=function(){return this.index};
function yn(a){var b=La("type",a),c=u("top",a),d=u("left",a),f=u("height",a),g=u("width",a),h=Ja("transparency",a),k=Ja("rotation",a),l=Ja("flipOrientation",a),m=Fa.optional("isBackground",a),n=Ma("backgroundColor",a),p=Pa(An,"imageBox",a),r=Ma("mediaId",a),q=Ja("mediaVersion",a),v=Fa.optional("mediaApproved",a),x=Ma("style",a),w=Ma("html",a),y=Ma("fontFamily",a),B=Ja("fontSize",a),F=Ma("color",a),D=Fa.optional("bold",a),E=Fa.optional("italic",a),H=Pa(Bn,"fontMedia",a),V=Ma("justification",a),R=Ja("letterSpacing",
a),O=Ja("lineHeight",a),W;W=Ga.Rg("lineLengths",a);return new zn({type:b,top:c,left:d,height:f,width:g,Jb:h,rotation:k,pb:l,mb:m,backgroundColor:n,Da:p,ra:r,ua:q,Sb:v,style:x,html:w,fontFamily:y,fontSize:B,color:F,bold:D,o:E,FE:H,Hf:V,letterSpacing:R,lineHeight:O,TF:W,padding:Ja("padding",a),textTransform:Ma("textTransform",a),border:Pa(Cn,"border",a),GF:Qa(Dn,"kerning",a),link:Ma("link",a),spacing:Ja("spacing",a),items:Qa(En,"items",a),contents:Qa(yn,"contents",a),scale:Ja("scale",a),yf:Qa(Fn,"fillColors",
a),Tj:Pa(Gn,"svgMetadata",a),index:Ja("index",a)})}function Hn(a){this.width=a.width}Hn.prototype.w=function(){return this.width};function Cn(a){return new Hn({width:u("width",a)})}function In(a){this.IG=a.IG;this.km=a.km}function Dn(a){return new In({IG:La("pair",a),km:u("adjustment",a)})}function Jn(a){this.type=a.type;this.width=a.width;this.height=a.height;this.children=a.children||[]}Jn.prototype.hb=function(){return this.type};Jn.prototype.w=function(){return this.width};Jn.prototype.D=function(){return this.height};
Jn.prototype.getChildren=function(){return this.children};function En(a){return new Jn({type:Ma("type",a),width:Ja("width",a),height:Ja("height",a),children:Qa(En,"children",a)})}function Kn(a){this.top=a.top;this.left=a.left;this.width=a.width;this.height=a.height}Kn.prototype.N=function(){return this.top};Kn.prototype.W=function(){return this.left};Kn.prototype.w=function(){return this.width};Kn.prototype.D=function(){return this.height};
function An(a){return new Kn({top:u("top",a),left:u("left",a),width:u("width",a),height:u("height",a)})}function Ln(a){this.index=a.index;this.color=a.color}Ln.prototype.ea=function(){return this.index};Ln.prototype.rd=function(){return this.color};function Fn(a){return new Ln({index:u("index",a),color:La("color",a)})}function Mn(a){this.id=a.id;this.version=a.version}Mn.prototype.G=function(){return this.id};Mn.prototype.getVersion=function(){return this.version};
function Bn(a){return new Mn({id:La("id",a),version:u("version",a)})}function Nn(a){this.viewBox=a.viewBox;this.kI=a.kI||[];this.MG=a.MG||[];this.yf=a.yf||[];this.qD=a.qD;this.mI=a.mI}function Gn(a){return new Nn({viewBox:Na(An,"viewBox",a),kI:Qa(An,"textHolderBoxes",a),MG:Qa(An,"photoHolderBoxes",a),yf:Ea.Rg("fillColors",a),qD:Pa(An,"centerBox",a),mI:Fa.optional("tile",a)})};function On(a,b,c,d){this.eb=a;this.da=b;this.context=c;this.Uj=null;this.gI=d;this.qn=!1;this.iq=this.KG=this.im=this.Nn=this.Gi=null}e=On.prototype;e.start=function(){null!=this.context.id&&(Pn(this,6666),Qn(this))};function Pn(a,b){b!=a.im&&(null!=a.Gi&&window.clearInterval(a.Gi),a.im=b,a.Gi=null!=b?window.setInterval(function(){a.save()},b):null)}function Qn(a){6E5!=a.KG&&(null!=a.Nn&&window.clearInterval(a.Nn),a.KG=6E5,a.Nn=window.setInterval(function(){a.sync()},6E5))}
e.save=function(){this.context.Fg()&&this.sync()};e.sync=function(){function a(a){var f=b.im;a=a.throttle;if(b.Uj==c){b.Uj=null;var g=f;!0===a?g=Math.min(2*b.im,6E5):!1===a&&(g=Math.max(b.im-1E3,6666));g!=b.im&&Pn(b,g)}return f}if(this.qn&&null!=this.context.id&&!this.Uj){var b=this,c=new Rn(b.da,b.context);b.Uj=c;b.Uj.sync().then(a).then(function(a){b.gI.update(a)})}};
e.close=function(){this.qn=!1;this.Uj&&(this.Uj.stop(),this.Uj=null);this.Gi&&(window.clearInterval(this.Gi),this.Gi=null);this.Nn&&(window.clearInterval(this.Nn),this.Nn=null)};e.uB=function(a){this.context.uB(a)};e.post=function(a,b){var c=this.context,d=null;3!=c.Tc&&(c.gg!=a?(c.Tc=3,c.state=null):(c.Tc=0,c.state=b,c.gg++,d=c.gg));Sn(c);a=d;null!=a&&(this.iq=b);return a};e.An=function(a){this.iq||(this.iq=a)};function Tn(a,b){return!(!a.iq||_.isEqual(a.iq,b))}
e.rl=function(a){var b=this.context.G();if(this.context.Fg())return P.reject(new Gl);if(!this.context.Bh())return P.reject(new Fl);if(!b)return P.reject(new Hl);switch(a){case "BRAND":return this.eb.bx(b);case "GLOBAL":return this.eb.rl(b)}return P.reject(new El)};e.Mo=function(a){var b=this.context.G();if(!b)return P.reject(new Hl);switch(a){case "BRAND":return this.eb.ex(b);case "GLOBAL":return this.eb.Mo(b)}return P.reject(new El)};
e.es=function(){var a=this.context.G();return a?this.eb.es(a):P.reject(Error("synced context has no id"))};e.ns=function(){var a=this.context.G();return a?this.eb.ns(a):P.reject(Error("synced context has no id"))};e.va=function(){return this.context.G()};function Un(a){return a.context.Sp().QE()}e.timestamp=function(){return this.context.ku()};e.version=function(){return this.context.gg};e.Rc=function(){return this.context.Rc};e.Fg=function(){return this.context.Fg()};e.tn=function(){return this.context.tn()};
e.state=function(){return this.context.Bh()};function Vn(a,b,c,d,f,g,h,k,l){this.id=a;this.gg=c;this.ip=d;this.Rc=f;this.Gr=g;this.state=k;this.KF=null;this.timestamp=h;this.Gp=l;this.HF=this.Tc=b;this.Yv=null}e=Vn.prototype;e.G=function(){return this.id};e.Sp=function(){return this.Gp};e.ku=function(){return this.timestamp};e.Fg=function(){return 0==this.Tc||1==this.Tc};e.tn=function(){return 3!=this.Tc};e.Bh=function(){return this.state};
e.uB=function(a){if(this.Yv)throw Error("Cannot overwrite DocumentContext sync listener");this.Yv=a};function Wn(a,b,c){b==a.gg&&c==a.Rc&&0==a.Tc&&(a.Tc=1,Sn(a))}function Xn(a,b,c){3!=a.Tc&&a.Rc==b&&(b=c.document.draft,b.version<=a.Rc||(a.timestamp=b.timestamp,a.Rc=b.version,a.Gr=b.session,a.Gr!=a.ip&&(a.gg++,a.Tc=3,a.state=null),Sn(a)))}
function Yn(a,b,c,d,f){3!=a.Tc&&(f=f.document.draft,a.Rc==d&&(a.KF=b,a.gg==c&&(a.Tc=2),a.timestamp=f.timestamp,a.Rc=f.version,a.Gr=f.session,a.ip=f.session,Sn(a)))}function Zn(a,b,c,d){3==a.Tc||a.Rc>c||(a.timestamp=d.timestamp,a.Rc=d.version,a.Gr=d.session,a.Gr!=a.ip?(a.gg++,a.Tc=3,a.state=null):a.gg==b&&(a.Tc=2),Sn(a))}function Sn(a){a.Tc!=a.HF&&null!=a.id&&(a.HF=a.Tc,a.Yv&&a.Yv(a.Tc))}function Rn(a,b){this.da=a;this.context=b;this.Vj=this.request=this.jc=null}
function $n(a){var b=.2*Math.random()-.1;return null==a?5E3:6E5<a?6E5:a*(1.6+b)}Rn.prototype.stop=function(){this.jc=null;this.request&&(this.request.cancel(),this.request=null);null!=this.Vj&&(window.clearTimeout(this.Vj),this.Vj=null)};Rn.prototype.sync=function(){if(this.jc)throw Error("already syncing");return new P(function(a){this.jc=a;ao(this,$n(null))}.bind(this))};Rn.prototype.finish=function(a,b){var c=this.jc;c&&(this.jc=null,c({success:a,throttle:b}))};
function bo(a,b){var c=null,d=!1,f=b;if(null!=a){var g=[],h;for(h in b)"pages"===h||_.isEqual(b[h],a[h])||g.push(h);a=a.pages;h=b.pages;if(a&&h){var k=a.length==h.length,l=!_.isEqual(a,h);if(0==g.length&&k&&l){for(b=0;b<a.length;b++)if(!_.isEqual(a[b],h[b]))if(null==c)c=b;else{c=null;break}null!=c&&(f=h[c])}else l||1!=g.length||"title"!=g[0]||(f={title:b.title},d=!0)}}return{eS:d,FG:c,nQ:f}}
function ao(a,b){function c(c,f){window.clearTimeout(a.Vj);a.request=null;a.Vj=null;var g=f&&null!=f.throttle?!!f.throttle:null,l=!1;n&&200==c?Yn(d,m,h,k,f):n&&409==c?Zn(d,h,k,f):n||200!=c?0!=c&&(l=!0):Xn(d,k,f);l?a.Vj=window.setTimeout(function(){ao(a,$n(b))},b):a.finish(200==c,g)}var d=a.context,f=d.G(),g=d.ip,h=d.gg,k=d.Rc,l,m=d.Bh(),n=d.Fg();if(n&&m)l=bo(d.KF,m),f="/documents"+(null==f?"":"/"+encodeURIComponent(f)+"/content"),l.eS?f+="/title":null!=l.FG&&(f+="/pages/"+l.FG),f+="?version\x3d"+
encodeURIComponent(k.toString())+(null==g?"":"\x26session\x3d"+encodeURIComponent(g.toString()));else{if(null==f)return;f="/documents/"+encodeURIComponent(f)+(null==g?"":"?session\x3d"+encodeURIComponent(g.toString()))}a.Vj=window.setTimeout(function(){var c=a.jc;a.jc=null;a.request&&a.request.cancel();a.request=null;a.Vj=null;a.jc=c;ao(a,$n(b))},b);n?(a.request=a.da.post(f,l.nQ,null,c),Wn(d,h,k)):a.request=a.da.get(f,c)};function co(a){this.da=a;this.Px="/doctypes"}co.prototype.createDocumentType=function(a){return vf(this.da,this.Px,a).get(0).then(eo)};function fo(a,b){b=a.Px+"?"+b.ie();return Bf(a.da,b).get(0).then(go)}co.prototype.Sa=function(a){a=this.Px+"/"+encodeURIComponent(a.G())+"?"+a.ie();return Bf(this.da,a).get(0).then(ho)};function io(){}function jo(a){return Object.freeze(J(io,_.extend({},a,{thumbnail:a.thumbnail&&Object.freeze(J(ko,a.thumbnail))})))}io.prototype.getName=function(){return this.name};io.prototype.Ag=function(){return this.locale};io.prototype.lc=function(){return this.thumbnail};function lo(){}function mo(a){a.descriptions&&Object.keys(a.descriptions).forEach(function(b){a.descriptions[b]=jo(a.descriptions[b])});return Object.freeze(J(lo,a))}lo.prototype.G=function(){return this.id};
lo.prototype.getName=function(){return this.name};lo.prototype.getVersion=function(){return this.version};function no(){}function oo(a){return Object.freeze(J(no,a))}no.prototype.w=function(){return this.width};no.prototype.Eg=function(){return this.units};var po={bT:"PIXELS",WS:"INCHES",QS:"CENTIMETERS",$S:"MILLIMETERS"};no.prototype.D=function(){return this.height};function qo(a,b,c){c=ro(c);return a+c+" × "+b+c}
function ro(a){switch(a){case "PIXELS":return"px";case "CENTIMETERS":return"cm";case "INCHES":return"in";case "MILLIMETERS":return"mm";default:throw Error("Unknown units: "+a);}}no.prototype.print=function(){return qo(this.w(),this.D(),this.Eg())};
function $e(a){var b;switch(a.Eg()){case "PIXELS":return a;case "CENTIMETERS":b=a.w()/2.54*96;a=a.D()/2.54*96;break;case "INCHES":b=96*a.w();a=96*a.D();break;case "MILLIMETERS":b=a.w()/25.4*96;a=a.D()/25.4*96;break;default:throw Error("Unknown units: "+a.Eg());}return oo({units:"PIXELS",width:b,height:a})}function so(){}function $k(a){a.descriptions&&Object.keys(a.descriptions).forEach(function(b){a.descriptions[b]=jo(a.descriptions[b])});return Object.freeze(J(so,a))}
so.prototype.lc=function(){if(this.thumbnail)return Object.freeze(J(ko,this.thumbnail))};function ko(){}ko.prototype.w=function(){return this.width};ko.prototype.getKey=function(){return this.key};ko.prototype.ma=function(){return this.url};ko.prototype.D=function(){return this.height};so.prototype.Wy=function(){return this.multiPage};so.prototype.Xy=function(){return this.newPageElements};so.prototype.Zy=function(){if(this.pdfExportSettings)return Object.freeze(J(to,this.pdfExportSettings))};
function to(){}to.prototype.Jk=function(){return this.dpi};so.prototype.cu=function(){if(this.imageExportSettings)return Object.freeze(J(uo,this.imageExportSettings))};function uo(){}uo.prototype.Jk=function(){return this.dpi};e=so.prototype;e.getName=function(){return this.name};e.G=function(){return this.id};e.au=function(){return this.category};e.na=function(){return this.brand};e.dc=function(){return oo(this.dimensions)};
function vo(a,b){var c=qo(a,b,"PIXELS");return $k({id:"custom",name:c,sentenceName:"design",dimensions:{width:a,height:b,units:"PIXELS"},visible:!1,order:0,multiPage:!0,showAsNew:!1,custom:{width:a,height:b,units:"PIXELS"},imageExportSettings:{dpi:96,filetype:"JPG",compression:null,jpqQuality:null,jpgTargetFilesizeKb:null},pdfExportSettings:{dpi:300}})}function wo(a){a=a.Xy();return Array.isArray(a)?a.filter(function(a){return"fixed"===a.type}):[]}
function xo(a){a=wo(a);a=_.min(_.pluck(a,"left"));return Math.min(0,a)}function yo(a){a=wo(a);a=_.min(_.pluck(a,"top"));return Math.min(0,a)}function zo(a){var b=wo(a),b=_.max(b.map(function(a){return a.top+a.height})),c=yo(a);return Math.max($e(a.dc()).D(),b)-c}function Ao(a){var b=wo(a),b=_.max(b.map(function(a){return a.left+a.width})),c=xo(a);return Math.max($e(a.dc()).w(),b)-c}e.Ig=function(){var a=this.cu(),b=$e(this.dc());return{elements:this.Xy(),width:b.w(),height:b.D(),dpi:a&&a.Jk()}};
function Bo(){this.includeAllDescriptions=!1}Bo.prototype.ie=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};Bo.prototype.eh=function(a){this.id=a;return this};Bo.prototype.G=function(){return this.id};function Co(){}function ho(a){return Object.freeze(J(Co,a))}function Do(){}e=Do.prototype;
e.ie=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};function Eo(a){a.multiPage=!0;return a}e.Zj=function(a){this.name=a;return this};e.me=function(a){this.brand=a;return this};function Fo(a){var b=new Do;b.dimensions=a;return b}e.lc=function(){if(this.thumbnail)return Object.freeze(J(ko,this.thumbnail))};e.Wy=function(){return this.multiPage};e.Xy=function(){return this.newPageElements};
e.Zy=function(){if(this.pdfExportSettings)return Object.freeze(J(to,this.pdfExportSettings))};e.cu=function(){if(this.imageExportSettings)return Object.freeze(J(uo,this.imageExportSettings))};e.getName=function(){return this.name};e.au=function(){return this.category};e.na=function(){return this.brand};e.dc=function(){if(this.dimensions)return oo(this.dimensions)};function Go(){}function eo(a){a=_.extend({},a,{docType:a.docType&&$k(a.docType)});return Object.freeze(J(Go,a))}Go.prototype.Sa=function(){return this.docType};
function Ho(){}e=Ho.prototype;e.ie=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};e.jf=function(a){this.limit=a;return this};e.dh=function(a){this.continuation=a;return this};function Io(a){a.fetchCategories=!0;return a}e.Nd=function(){return this.limit};e.Rb=function(){return this.continuation};function Jo(){}
function go(a){function b(a){return!!a}a=_.extend({},a,{categories:a.categories&&a.categories.filter(b).map(mo),docTypes:a.docTypes&&a.docTypes.filter(b).map($k)});return Object.freeze(J(Jo,a))}Jo.prototype.Rb=function(){return this.continuation};function Ko(a,b){switch(b){case "IMAGESETS":return"IMAGESETS";default:throw new TypeError('expected Kind for property "'+a+'", found: '+JSON.stringify(b));}}function Lo(a,b){switch(b){case "DOCUMENT_SERVICE":return"DOCUMENT_SERVICE";case "DOWNLOAD":return"DOWNLOAD";case "WORKFLOW":return"WORKFLOW";default:throw new TypeError('expected DestinationCode for property "'+a+'", found: '+JSON.stringify(b));}}
function Mo(a,b){switch(b){case "PNG":return"PNG";case "PDF":return"PDF";case "JPG":return"JPG";default:throw new TypeError('expected FileFormat for property "'+a+'", found: '+JSON.stringify(b));}}function No(a,b){switch(b){case "LOSSLESS":return"LOSSLESS";case "LOSSY":return"LOSSY";case "NONE":return"NONE";default:throw new TypeError('expected OptimizationStrategy for property "'+a+'", found: '+JSON.stringify(b));}}
function Oo(a,b){switch(b){case "PRINT":return"PRINT";case "SCREEN":return"SCREEN";case "THUMBNAIL":return"THUMBNAIL";default:throw new TypeError('expected ExportMediaQuality for property "'+a+'", found: '+JSON.stringify(b));}}function Po(a,b){switch(b){case "HIGH":return"HIGH";case "MEDIUM":return"MEDIUM";case "LOW":return"LOW";default:throw new TypeError('expected Priority for property "'+a+'", found: '+JSON.stringify(b));}}
function Qo(a,b){switch(b){case "COMPLETE":return"COMPLETE";case "FAILED":return"FAILED";case "CREATED":return"CREATED";default:throw new TypeError('expected ExportStatus for property "'+a+'", found: '+JSON.stringify(b));}}function Ro(a){this.dk=a.dk;this.ng=a.ng;this.Em=a.Em;this.VD=a.VD;this.kind=a.kind;this.Sr=a.Sr;this.KA=a.KA;this.QG=a.QG;this.TG=a.TG}
function So(a){var b=Ua.optional("attachment",a.dk),c=Ta.required("docId",a.ng),d=Va.optional("docVersion",a.Em),f=a.VD,f=Wa.optional("docMedia",f?To(f):null),g=Za(Ko,"kind",a.kind),h;h=a.Sr;h=Wa.optional("spec",h?Uo(h):null);return{attachment:b,docId:c,docVersion:d,docMedia:f,kind:g,spec:h,priority:Za(Po,"priority",a.KA),pollableJob:Ua.optional("pollableJob",a.QG),prefetchDocument:Ua.optional("prefetchDocument",a.TG)}}
function Vo(a){this.type=a.type;this.Yw=a.Yw;this.Ax=a.Ax;this.destination=a.destination;this.Kq=a.Kq;this.format=a.format;this.zG=a.zG;this.Lq=a.Lq;this.aa=a.aa||[];this.PB=a.PB;this.rF=a.rF;this.oF=a.oF;this.RI=a.RI;this.EF=a.EF;this.XA=a.XA}Vo.prototype.hb=function(){return this.type};Vo.prototype.hu=function(){return this.aa};
function Uo(a){var b=Ya(Wo,"type",a.type),c=Ua.optional("bleed",a.Yw),d=Ua.optional("crops",a.Ax),f=Za(Lo,"destination",a.destination),g=Xa("mediaDpi",a.Kq),h=Ya(Mo,"format",a.format),k=Za(No,"optimizationStrategy",a.zG),l=Ya(Oo,"mediaQuality",a.Lq),m;m=Va.Rg("pages",a.aa);return{type:b,bleed:c,crops:d,destination:f,mediaDpi:g,format:h,optimizationStrategy:k,mediaQuality:l,pages:m,targetImageSizeKb:Va.optional("targetImageSizeKb",a.PB),imageWidth:Va.optional("imageWidth",a.rF),imageHeight:Va.optional("imageHeight",
a.oF),zipped:Ua.optional("zipped",a.RI),jpgQuality:Va.optional("jpgQuality",a.EF),removeCanvas:Ua.optional("removeCanvas",a.XA)}}function Wo(a,b){switch(b){case "CUSTOM":return"CUSTOM";case "PRINT":return"PRINT";case "SCREEN":return"SCREEN";case "THUMBNAIL":return"THUMBNAIL";case "PREVIEW":return"PREVIEW";default:throw new TypeError('expected ExportType for property "'+a+'", found: '+JSON.stringify(b));}}function Xo(a){this.vf=a.vf}Xo.prototype.Sy=function(){return this.vf};
function Yo(a){return new Xo({vf:Na(Zo,"export",a)})}function $o(a){this.id=a.id;this.er=a.er;this.status=a.status}$o.prototype.G=function(){return this.id};$o.prototype.Pk=function(){return this.status};function Zo(a){return new $o({id:Ja("id",a),er:Pa(ap,"output",a),status:Ra(Qo,"status",a)})}function bp(a){this.title=a.title;this.It=a.It||[]}bp.prototype.Za=function(){return this.title};function ap(a){return new bp({title:Ma("title",a),It:Qa(cp,"exportBlobs",a)})}
function dp(a){this.bucket=a.bucket;this.key=a.key;this.page=a.page;this.url=a.url}dp.prototype.getKey=function(){return this.key};dp.prototype.ha=function(){return this.page};dp.prototype.ma=function(){return this.url};function cp(a){return new dp({bucket:La("bucket",a),key:La("key",a),page:u("page",a),url:La("url",a)})}function ep(a){this.dk=a.dk;this.id=a.id}ep.prototype.G=function(){return this.id};function fp(a){this.vf=a.vf}fp.prototype.Sy=function(){return this.vf};
function gp(a){return new fp({vf:Na(Zo,"export",a)})}function hp(a){this.id=a.id}hp.prototype.G=function(){return this.id};function ip(){}function jp(){return new ip};function kp(a,b){this.da=a;this.path="/export";this.aA=void 0!=b?b.aA:1E3;this.aG=void 0!=b?b.aG:3E4;this.yF=void 0!=b?b.yF:1.6}kp.prototype.tm=function(a){var b=this;return lp(this,a).bind(this).then(function(a){Ca(a.vf.id);var d=a.vf.id;return mp(b,a.vf,b.aA).catch(P.CancellationError,function(a){return np(b,new hp({id:d})).finally(function(){return P.reject(a)})})})};function lp(a,b){return vf(a.da,a.path,So(b)).get(0).then(Ia).then(Yo)}
function mp(a,b,c){c=Math.max(c||0,a.aA);return"FAILED"===b.status?P.reject(b):"CREATED"!==b.status?P.resolve(b):P.delay(c).cancellable().bind(a).then(function(){za(!!b.id,"Job id required to get an export");return this.Sy(new ep({id:b.id,dk:!0}))}).then(function(a){return mp(this,a.vf,Math.min(c*this.yF,this.aG))})}kp.prototype.Sy=function(a){return Bf(this.da,this.path+"/"+encodeURIComponent(a.id+"")+("?attachment\x3d"+encodeURIComponent(a.dk+""))).get(0).then(Ia).then(gp)};
function np(a,b){return Hf(a.da,a.path+"/"+encodeURIComponent(b.id+"")).get(0).then(Ia).then(jp)};var op={neverShowReplacePageContentWarning:"aa"};function pp(a){this.da=a;this.path="/profile"}pp.prototype.Ca=P.method(function(a){return Bf(this.da,this.path+"/users/"+encodeURIComponent(a)).get(0).then(qp)});function rp(a,b){return Bf(a.da,a.path+"/users/"+encodeURIComponent(b)+"?detailed").get(0).then(sp)}
function tp(a){return Bf(a.da,a.path+"/user/uiinfo").get(0).then(function(a){for(var c=_.invert(op),d=ia(Object.keys(a)),f=d.next();!f.done;f=d.next())f=f.value,c[f]&&(a[c[f]]=a[f],delete a[f]);return a})}function up(a,b,c){return tp(a).then(function(a){op[b]&&(delete a[b],b=op[b]);if(a[b]===c)return a;a[b]=c;return vf(this.da,this.path+"/user/uiinfo",a).get(0)}.bind(a))}function vp(a,b){return vf(a.da,a.path+"/brands/"+encodeURIComponent(b.brand),b).get(0).then(wp)}
pp.prototype.na=function(a){return Bf(this.da,this.path+"/brands/"+encodeURIComponent(a)).get(0).then(xp)};pp.prototype.jR=P.method(function(a){var b=this.path+"/brands/"+encodeURIComponent(a.na())+"/invitations";return vf(this.da,b,a).spread(yp)});
P.method(function(a){a=this.path+"/brands/"+encodeURIComponent(a.na())+"/invitations?"+(null!=a.Rb()?"\x26continuation\x3d"+encodeURIComponent(a.Rb()):"")+(null!=a.Nd()?"\x26limit\x3d"+encodeURIComponent(a.Nd()):"")+(a.countOnly?"\x26countOnly\x3d"+encodeURIComponent(a.countOnly):"");return Bf(this.da,a).spread(zp)});P.method(function(a){var b=this.path+"/brands/"+encodeURIComponent(a.na())+"/invitations?update\x3dtrue";return vf(this.da,b,a).spread(Ap)});
pp.prototype.Kp=P.method(function(a){a=this.path+"/brands/"+encodeURIComponent(a.na())+"/members?"+(a.includeAvatars?"\x26includeAvatars\x3d"+encodeURIComponent(a.includeAvatars):"")+(a.includeEmails?"\x26includeEmails\x3d"+encodeURIComponent(a.includeEmails):"")+(a.countOnly?"\x26countOnly\x3d"+encodeURIComponent(a.countOnly):"")+(null!=a.Rb()?"\x26continuation\x3d"+encodeURIComponent(a.Rb()):"")+(null!=a.Nd()?"\x26limit\x3d"+encodeURIComponent(a.Nd()):"")+(null!=a.lu()?"\x26users\x3d"+encodeURIComponent(a.lu().join(",")):
"");return Bf(this.da,a).spread(Bp)});P.method(function(a){var b=this.path+"/brands/"+encodeURIComponent(a.na())+"/members";return vf(this.da,b,a).spread(Cp)});function Dp(){}function Ep(a){return Object.freeze(J(Dp,a))}Dp.prototype.clone=function(){return Ep(JSON.parse(JSON.stringify(this)))};Dp.prototype.equals=function(a){function b(a){for(var d in a){var f=a[d];null===f?delete a[d]:f instanceof Object&&b(f)}return a}return _.isEqual(b(JSON.parse(JSON.stringify(this))),b(JSON.parse(JSON.stringify(a))))};function Fp(a){if(a.colorPalettes)return a.colorPalettes.filter(Boolean).map(Gp)}function Xj(a){this.colors=a.qf;this.name=a.name}
function Gp(a){a=J(Xj,a);a.colors&&(a.colors=a.colors.map(Hp));return Object.freeze(a)}Xj.prototype.Ld=function(){return this.colors.slice()};Xj.prototype.getName=function(){return this.name};Xj.prototype.Li=function(a){a=_.extend(_.pick(this,Object.keys(this)),a);return Gp(a)};function Ip(a){if(a.textStylePalettes)return a.textStylePalettes.filter(Boolean).map(Jp)}function Kp(){}function Jp(a){return Object.freeze(J(Kp,a))}Kp.prototype.getName=function(){return this.name};
function Lp(a){if(a.textStyles)return a.textStyles.filter(Boolean).map(Mp)}function Np(){}function Mp(a){return Object.freeze(J(Np,a))}function Op(a){if(a.font)return Object.freeze(J(Pp,a.font))}Np.prototype.getName=function(){return this.name};function Pp(){}Pp.prototype.Rp=function(){return this.bold};Pp.prototype.Tp=function(){return this.italic};Pp.prototype.cn=function(){return this.size};Pp.prototype.rb=function(){return this.media};Dp.prototype.Gk=function(){if(this.brandColor)return Hp(this.brandColor)};
function Wj(a){this.hexString=a.AM;this.name=a.name}function Hp(a){return Object.freeze(J(Wj,a))}function Yj(a){return a.hexString}Wj.prototype.getName=function(){return this.name};Wj.prototype.Li=function(a){a=_.extend(_.pick(this,Object.keys(this)),a);return Hp(a)};function Qp(){this.enabled=null;this.allowedReferrers=[]}Qp.prototype.isEnabled=function(){return this.enabled};function Rp(){}
function Sp(){this.id="";this.brandname=this.displayName=null;this.thirdParty=this.layoutContributor=this.contributor=this.personal=!1;this.billingInfo=this.brandKit=this.apiSettings=null}e=Sp.prototype;e.G=function(){return this.id};e.gb=function(){return this.displayName};e.Qy=function(){return this.brandname};e.nj=function(){return this.personal};e.Hk=function(){return this.brandKit};
function wp(a){if(!a)return null;a=J(Sp,a);var b;b=(b=a.apiSettings)?J(Qp,b):null;a.apiSettings=b;a.brandKit&&(a.brandKit=Ep(a.brandKit));a.billingInfo&&(a.billingInfo=Object.freeze(J(Rp,a.billingInfo)));return a}function Tp(a){a=void 0===a?{}:a;this.id=a.id||"";this.displayName=a.displayName||null;this.brandname=a.sT||null;this.personal=a.Bj||!1;this.contributor=a.yT||!1;this.layoutContributor=a.hU||!1;this.thirdParty=a.MU||!1;this.brandColor=a.bb||null}e=Tp.prototype;e.G=function(){return this.id};
e.gb=function(){return this.displayName};e.Qy=function(){return this.brandname};e.nj=function(){return this.personal};e.Gk=function(){return this.brandColor};function xp(a){if(!a)return null;var b=J(Tp,a);a.brandKit&&(b.brandKit=Ep(a.brandKit));return b}function Up(){this.brand="";this.owner=this.billingInfo=this.hiddenMagicTemplates=this.personal=this.brandKit=this.apiSettings=this.displayName=this.brandname=null}e=Up.prototype;e.eh=function(a){this.brand=a;return this};e.G=function(){return this.brand};
e.Zj=function(a){this.brandname=a;return this};e.getName=function(){return this.brandname};e.gb=function(){return this.displayName};function Vp(a){a.personal=!1;return a}function Wp(a){a=void 0===a?{}:a;this.id=a.id||"UNKNOWN_USER_ID";this.username=a.username||"";this.personalBrand=a.vA||"";this.displayName=a.displayName||"";this.homepage=a.ZT||null;this.city=a.xT||null;this.countryCode=a.AT||null;this.avatar=a.rT||null;this.roles=a.vH||[];this.deactivated=a.iL||!1}e=Wp.prototype;e.G=function(){return this.id};
e.Cf=function(){return this.username};e.ju=function(){return this.personalBrand};e.gb=function(){return this.displayName};e.Um=function(){return this.avatar};e.bn=function(){return this.roles};function qp(a){if(!a)return null;a=J(Wp,a);a.avatar&&(a.avatar=Xp(a.avatar));return a}function Eh(a){return qp(a)}e.ME=function(a){var b=this.Um();return b&&(a=Yp(b,a))?a.ma():null};function Zp(){}
function $p(){this.id="";this.creationDate=0;this.temporary=this.deactivated=!1;this.email=this.displayName="";this.emailVerified=!1;this.username="";this.userNotificationSettings=this.countryCode=this.city=this.homepage=null;this.avatars=[];this.facebook=this.credentials=this.avatar=null;this.apiDetails=this["google]"]=null;this.roles=[];this.personalBrand="";this.brands={};this.uiInfo=null;this.features=[];this.locale=""}e=$p.prototype;e.G=function(){return this.id};e.gb=function(){return this.displayName};
e.ze=function(){return this.email};e.Cf=function(){return this.username};e.NE=function(){if(this.avatars)return this.avatars.map(Xp)};e.Um=function(){return this.avatar};e.bn=function(){return this.roles};e.ju=function(){return this.personalBrand};e.aF=function(){return this.uiInfo};e.Ag=function(){return this.locale};e.setLocale=function(a){this.locale=a};
function sp(a){var b;if(!a)return null;b=J($p,a);b.avatar=Xp(b.avatar);a.userNotificationSettings&&(b.userNotificationSettings=J(Zp,a.userNotificationSettings));return b}e.ME=function(a){var b=this.Um();return b&&(a=Yp(b,a))?a.ma():null};e.VB=function(){return qp({id:this.id,username:this.username,personalBrand:this.personalBrand,displayName:this.displayName,homepage:this.homepage,city:this.city,countryCode:this.countryCode,avatar:this.avatar,roles:this.roles,deactivated:this.deactivated})};
function aq(a){a=void 0===a?{}:a;this.version=a.version||0;this.sizes=a.sizes||{}}aq.prototype.getVersion=function(){return this.version};aq.prototype.NE=function(){return this.sizes};function Yp(a,b){return a.sizes&&a.sizes[b]||null}function Xp(a){if(!a)return null;a=J(aq,a);var b;var c=a.sizes,d={};if(c){for(b in c){var f=b,g;g=(g=c[b])?J(bq,g):null;d[f]=g}b=d}else b=null;a.sizes=b;return a}
function bq(a){a=void 0===a?{}:a;this.size=a.size||0;this.width=a.width||0;this.height=a.height||0;this.url=a.url||""}bq.prototype.cn=function(){return this.size};bq.prototype.w=function(){return this.width};bq.prototype.D=function(){return this.height};bq.prototype.ma=function(){return this.url};var cq=Xp({version:0,sizes:{50:{size:50,width:50,height:50,url:"https://static.canva.com/static/images/default_avatar_50.png"},200:{size:200,width:200,height:200,url:"https://static.canva.com/static/images/default_avatar_200.png"}}});function dq(){}
dq.prototype.ze=function(){return this.email};dq.prototype.Bf=function(){return this.role};function eq(){}eq.prototype.me=function(a){this.brand=a;return this};eq.prototype.na=function(){return this.brand};function fq(){}function yp(a){return Object.freeze(J(fq,a))}function gq(){}gq.prototype.Rb=function(){return this.continuation};gq.prototype.getCount=function(){return this.count};function zp(a){return Object.freeze(J(gq,a))}
function hq(a){a=void 0===a?{}:a;this.user=a.Pa;this.email=a.email;this.role=a.Ev}hq.prototype.Ca=function(){return qp(this.user)};hq.prototype.ze=function(){return this.email};hq.prototype.Bf=function(){return this.role};function iq(a){return Object.freeze(J(hq,a))}function jq(){}e=jq.prototype;e.me=function(a){this.brand=a;return this};e.na=function(){return this.brand};e.dh=function(a){this.continuation=a;return this};e.Rb=function(){return this.continuation};e.jf=function(a){this.limit=a;return this};
e.Nd=function(){return this.limit};function kq(a){a.includeAvatars=!0;return a}function lq(a){a.includeEmails=!0;return a}function mq(a){a.countOnly=!0;return a}function nq(a,b){a.users=b;return a}e.lu=function(){return this.users};function oq(a){a=void 0===a?{}:a;this.members=a.uj}oq.prototype.fu=function(){return this.members.map(iq)};oq.prototype.Rb=function(){return this.continuation};oq.prototype.getCount=function(){return this.count};function Bp(a){return Object.freeze(J(oq,a))}
function pq(){}pq.prototype.fu=function(){return this.members.map(iq)};pq.prototype.na=function(){return this.brand};function Cp(a){return Object.freeze(J(pq,a))}function qq(){}function Ap(a){return Object.freeze(J(qq,a))};function rq(a,b,c){this.da=a;this.path="/social";this.Fm=b;this.fB=c}function sq(a,b){return new rq(mb,Il(a.Fm()),b)}rq.prototype.createComment=function(a){return vf(this.da,this.path+"/comments/"+encodeURIComponent(a.object),tq(a)).get(0).then(Ia).then(uq)};function vq(a,b){return vf(a.da,a.path+"/documents/"+encodeURIComponent(b.Lc)+"/emails",wq(b)).get(0).then(Ia).then(xq)}
rq.prototype.kk=function(a,b){var c=this;return function(d){try{b(d)}catch(f){switch(c.Fm){case "THROW":throw f;case "LOG":c.fB.log("Failed deserialization of "+a,f)}}}};function tq(a){return{object:Ta.required("object",a.object),content:Ta.required("content",a.content)}}function yq(a){this.id=a.id;this.HD=a.HD}yq.prototype.G=function(){return this.id};function uq(a){return new yq({id:La("id",a),HD:u("created",a)})}function zq(a){this.Lc=a.Lc;this.YD=a.YD;this.mode=a.mode;this.xf=a.xf;this.Bk=a.Bk||[];this.K=a.K;this.FH=a.FH;this.ts=a.ts;this.Fd=a.Fd}zq.prototype.va=function(){return this.Lc};zq.prototype.getExtension=function(){return this.xf};
function wq(a){var b=Ta.required("documentId",a.Lc),c=Ta.optional("documentUrl",a.YD),d=Ta.required("mode",a.mode),f=Ta.optional("extension",a.xf),g;g=Ta.Rg("emails",a.Bk);return{documentId:b,documentUrl:c,mode:d,extension:f,emails:g,imageUrl:Ta.optional("imageUrl",a.K),senderId:Ta.optional("senderId",a.FH),utmSource:Ta.optional("utmSource",a.ts),brandId:Ta.optional("brandId",a.Fd)}}function Aq(){}function xq(){return new Aq};function Bq(){}function Cq(){var a=J(Bq,window.clientInfo),b;b=J(Dq,a.brandInfo);b.brand=xp(b.brand);b.brandKit&&(b.brandKit=Ep(b.brandKit));b.subscription&&(b.subscription=Zf(b.subscription));b=Object.freeze(b);a.brandInfo=b;b=J(Eq,a.user);b.avatar=Xp(b.avatar);b=Object.freeze(b);a.user=b;return Object.freeze(a)}function Fq(a){return a.brandInfo}function Gq(a){return a.user}function Dq(){}Dq.prototype.na=function(){return this.brand};Dq.prototype.Hk=function(){return this.brandKit||null};
Dq.prototype.getSubscription=function(){return this.subscription||null};function Eq(){}e=Eq.prototype;e.G=function(){return this.id};e.ze=function(){return this.email};e.Cf=function(){return this.username};e.gb=function(){return this.displayName};e.bn=function(){return this.roles};e.ju=function(){return this.personalBrand};e.aF=function(){return this.uiInfo};e.Ag=function(){return this.locale};
e.VB=function(){return qp({id:this.G(),username:this.Cf(),personalBrand:this.ju(),displayName:this.gb(),avatar:this.avatar,roles:this.bn()})};function Hq(){this.da=mb;this.url="/session"};function X(){}X=Backbone.View.extend();X.prototype.initialize=function(a){a=_.defaults({},a,{nk:!0,content:$(),Qd:!0,Qj:!0});this.ba=a.ba;this.nk=!!a.nk;this.content=a.content;this.Dc=new Iq({style:this.Nk(),ba:this.ba});this.listenTo(this.Dc,"maskClick",this.blur);this.result=1;this.Qd=!!a.Qd;this.Sc=!!a.Sc;this.Qj=!!a.Qj;this.title=a.Qj?a.title:"";this.vE=null};X.AC=300;e=X.prototype;e.blur=function(){this.nk&&(this.result=0,this.remove())};e.cancel=function(){this.result=1;this.remove()};
e.fail=function(a){this.result=3;this.vE=a||null;this.remove()};e.events=function(){return{"click .close":this.mG,"click .dialogMaskCloseButton":this.mG,"click button.done":this.ok}};e.Nk=function(){return Jq};e.ok=function(){this.result=2;this.remove()};e.mG=function(a){a.preventDefault();this.cancel()};
e.remove=function(){var a=this;this.$el.children(".dialog").addClass("disappearing");this.Dc.hide();this.trigger("hide",this.result);this.ba.setTimeout(function(){a.trigger("remove",a);Backbone.View.prototype.remove.call(a)},X.AC);return this};e.render=function(){this.$el.html(this.template(this.Qf()));this.$(".content").append(this.content);this.$(".dialog").data("Canva_Views_Dialog",this);return this};
e.Qf=function(){return{showCloseButton:this.Qd,showDialogMaskCloseButton:this.Sc,showTitle:this.Qj,title:this.title}};e.JH=function(a){this.$("h2").text(a);this.title=a};e.show=function(){function a(d){d.target===d.currentTarget&&(b.off("animationend transitionend",a),c.trigger("showTransitionEnd",c))}var b,c=this;this.render();b=this.$el.children(".dialog");this.Dc.show(this.$el);this.trigger("show",this);$h(function(){b.removeClass("preparing");b.on("animationend transitionend",a)});return this};
function Kq(a){return new P(function(a,c){this.once("hide",function(d){3!==d?a(d):c(this.vE)}.bind(this));this.show()}.bind(a))}e.template=_.template('\x3c% if (showDialogMaskCloseButton) { %\x3e\x3ca class\x3d"dialogMaskCloseButton"\x3eClose\x3c/a\x3e\x3c% } %\x3e\x3cdiv class\x3d"dialog preparing"\x3e\x3c% if (showTitle) { %\x3e\x3ch2 class\x3d"dialog__title"\x3e\x3c%- title %\x3e\x3c/h2\x3e\x3c% } %\x3e\x3cdiv class\x3d"content"\x3e\x3c/div\x3e\x3c% if (showCloseButton) { %\x3e\x3ca class\x3d"close" href\x3d"#" title\x3d"Close this dialog"\x3eClose\x3c/a\x3e\x3c% } %\x3e\x3c/div\x3e');function Lq(){}Lq=X.extend({className:"fontUploadDialog"});Lq.create=function(){return new Lq({})};e=Lq.prototype;e.events=function(){return _.extend(X.prototype.events.call(this),{"click .fontUploadDialogConfirm":this.TN,"click .fontUploadDialogFinish":this.ok,"click .fontUploadDialogCancel":this.fK})};e.initialize=function(){X.prototype.initialize.call(this,{ba:Zh,Qd:!0,nk:!0,Sc:!1});this.error=null;this.Ky="the font you are uploading.";this.opentype=opentype;this.progress=!1};
e.render=function(){X.prototype.render.call(this);Mq(this);this.$(".fontFileInput").remove();var a=$('\x3cinput class\x3d"fontFileInput" type\x3d"file" accept\x3d".ttf,.otf,.woff"\x3e');this.$el.append(a);a.on("change",this.AN.bind(this));return this};
e.AN=function(){var a={message:"Your font file could not be read. Try a different font. If this problem persists, contact support."},b=this.$(".fontFileInput")[0].files;if(b.length&&/.*\.(ttf|otf|woff)$/gi.test(b[0].name)){if(this.error=null,this.Ut=b[0],this.Ky=this.Ut.name,this.opentype){var c=new FileReader;c.onload=function(){if(c.result)try{var b=this.opentype.parse(c.result);b&&b.supported?b.names&&b.names.fullName&&b.names.fullName.en&&(this.Ky=b.names.fullName.en):this.error=a}catch(f){this.error=
a}else this.error=a;this.show()}.bind(this);c.readAsArrayBuffer(this.Ut);return}}else this.error={message:"Are you sure that is a font? Please check the file and try again."};this.show()};
e.TN=function(){this.$(".fontUploadDialogDisclaimerCheck").prop("checked")?(this.progress=1,this.$(".fontUploadDialogBlurb").html("Please wait while the font is uploaded to your brand kit. It will be ready in a jiffy."),this.$(".fontUploadDialogConfirm").addClass("buttonProgress").html('\x3cspan class\x3d"buttonProgressIndicator"\x3e\x3c/span\x3e\x3cspan class\x3d"buttonProgressText"\x3eUploading\x26hellip;\x3c/span\x3e'),this.Ut&&this.trigger("fontUpload",this.Ut)):Nq(this)};
function Nq(a){a.$(".fontUploadDialogDisclaimerError").addClass("on");setTimeout(function(){this.$(".fontUploadDialogDisclaimerError").removeClass("on")}.bind(a),3200)}e.vi=function(a){this.error=a;Mq(this)};function Mq(a){a.$(".fontUploadDialogContents").remove();a.$(".dialog .content").append(a.ox({canEditFontName:!1,error:null!=a.error?a.error.message:!1,supportUrl:null!=a.error?a.error.KU:null,supportTitle:null!=a.error?a.error.JU:"fonts",fontName:a.Ky,progress:a.progress||!1}))}
e.fK=function(){this.trigger("fontUploadCancel");this.cancel()};e.ox=_.template('\x3cdiv class\x3d"fontUploadDialogContents"\x3e\x3c% if (error) { %\x3e\x3ch2\x3eSorry, something went wrong\x3c/h2\x3e\x3cdiv class\x3d"fontUploadDialogError"\x3e\x3cp\x3e\x3c%- error %\x3e\x3c/p\x3e\x3c% if (supportUrl !\x3d null) { %\x3e\x3cp\x3ePlease see the support article on \x3ca href\x3d"\x3c%- supportUrl %\x3e" target\x3d"_blank"\x3e\x3c%- supportTitle %\x3e\x3c/a\x3e for more info.\x3c/p\x3e\x3c% } %\x3e\x3cdiv class\x3d"fontUploadDialogControls"\x3e\x3cbutton class\x3d"button buttonBlock buttonSubmittable fontUploadDialogFinish"\x3eOK\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c% } else { %\x3e\x3ch2\x3eBefore you upload, please confirm the following:\x3c/h2\x3e\x3cdiv class\x3d"fontUploadDialogDisclaimer"\x3e\x3cp\x3e\x3cstrong\x3eFont name\x3c/strong\x3e: \x3c% if (canEditFontName) { %\x3e\x3cinput class\x3d"fontUploadDialogFontName" autocomplete\x3d"off" value\x3d"\x3c%- fontName %\x3e"\x3e\x3c% } else { %\x3e\x3c%- fontName %\x3e\x3c% } %\x3e\x3c/p\x3e\x3cp\x3e\x3cspan class\x3d"fontUploadDialogDisclaimerError"\x3eYou must confirm this before uploading.\x3c/span\x3e\x3clabel\x3e\x3cinput class\x3d"fontUploadDialogDisclaimerCheck" type\x3d"checkbox"\x3e\x3cspan class\x3d"fontUploadDialogDisclaimerText"\x3eI own this font or have the right to use it for my intended purpose.\x3c/span\x3e\x3c/label\x3e\x3c/p\x3e\x3c/div\x3e\x3cdiv class\x3d"fontUploadDialogControls"\x3e\x3cbutton class\x3d"button buttonBlock buttonSubmittable fontUploadDialogConfirm"\x3eYes. Upload away!\x3c/button\x3e\x3cspan class\x3d"fontUploadDialogCancel"\x3eCancel the upload.\x3c/span\x3e\x3c/div\x3e\x3c% } %\x3e\x3c/div\x3e');function Oq(){}Oq=Backbone.View.extend({className:"multipageDialog"});e=Oq.prototype;e.initialize=function(a){this.ba=Zh;this.Gd=0;this.Kt=a.Kt||[];this.Xe=void 0===a.Xe||a.Xe;this.Sc=!!a.Sc;this.Dc=new Iq({ba:this.ba,style:Jq});this.aa=a.aa;this.aa.forEach(function(a){this.listenTo(a,"next",this.yR);this.listenTo(a,"back",this.AR)},this)};e.events=function(){return{click:this.Mf,"click .dialogMaskCloseButton":this.hide}};
e.hide=function(){this.$el.addClass("multipageDialogDisappearing");this.Dc.hide();this.ba.setTimeout(function(){this.trigger("hide")}.bind(this),300)};e.Mf=function(a){$(a.target).is(".multipageDialogPage, .multipageDialogPageWrapper")&&this.Xe&&this.hide()};
e.render=function(){var a=this;(function(){a.Kt.forEach(function(b){a.$el.addClass(b)})})();(function(){a.aa.forEach(function(a){a.$el.detach()});a.$el.empty()})();a.Sc&&a.$el.append('\x3cbutton class\x3d"buttonLink dialogMaskCloseButton"\x3eClose\x3c/button\x3e');(function(){a.aa.forEach(function(b){var c,d;c=$("\x3cdiv\x3e").addClass("multipageDialogPageWrapper");d=$("\x3cdiv\x3e").addClass("multipageDialogPage");c.append(d);d.append(b.render().$el);a.$el.append(c)})})();Pq(this,this.Gd);return this};
e.show=function(){this.$el.addClass("multipageDialogAppearing");this.Dc.show(this.render().$el);this.ba.setTimeout(function(){this.$el.removeClass("multipageDialogAppearing")}.bind(this),300)};e.yR=function(){var a=this.Gd+1;a>=this.aa.length?this.hide():Pq(this,a)};e.AR=function(){var a=this.Gd-1;0>a?this.hide():Pq(this,a)};
function Pq(a,b){a.trigger("pageChange",a.aa[b]);var c=a.$(".multipageDialogPageWrapper"),d=a.$(".multipageDialogPage");a.Gd=b;c.css("transform","translateY("+-100*b+"%)");d.removeClass("multipageDialogCurrentPage");d.eq(b).addClass("multipageDialogCurrentPage")};function Qq(a){var b={},c=a.ZC,c=c.left+c.width/2,d=a.sk.w(),f=c-a.margin-a.jw.W(),g=a.jw.Ua()-c-a.margin;b.left=Math.round((g>=d||g>=f?c+a.margin:c-a.margin-d)-a.lG.W())+"px";c=a.ZC;c=c.top+c.height/2;d=a.sk.D();f=c-a.margin-a.jw.N();g=a.jw.Ga()-c-a.margin;b.top=Math.round((g>=d||g>=f?c+a.margin:c-a.margin-d)-a.lG.N())+"px";return b}function Rq(a){this.$o=a.$o;this.fq=a.fq;this.margin=a.margin||0;this.Zr=a.Zr}
Rq.prototype.bh=function(a,b){if(0!==b.length&&0!==a.length){this.$o(a);var c=a.get(0),d=b.get(0),f=c.offsetParent||c.ownerDocument.body;b=this.fq().get(0)||c.ownerDocument.body;c=df(c.getBoundingClientRect());d=df(d.getBoundingClientRect());f=df(f.getBoundingClientRect());b=df(b.getBoundingClientRect());Li(d,this.margin);Li(b,-this.margin);b=this.Zr({margin:this.margin,ZC:d,sk:c,lG:f,jw:b});a.css(b)}};function Sq(){}Sq=X.extend();Sq.prototype.initialize=function(a){X.prototype.initialize.call(this,_.extend(a,{ba:Zh}));this.Lx=a.Lx};Sq.prototype.render=function(){X.prototype.render.call(this);this.$(".dialog").addClass("alert");this.$(".content").append('\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button done"\x3e'+(this.Lx?this.Lx:"OK")+"\x3c/button\x3e\x3c/p\x3e");return this};var dl="top",Tq={LEFT:"left",ZS:"leftTop",jT:dl,kT:"topLeft",eT:"rightTop"};function Uq(){}Uq=X.extend();e=Uq.prototype;e.initialize=function(a){X.prototype.initialize.call(this,_.extend({ba:Zh},a));this.Yc=a.Yc||"Done";this.Mr=void 0!==a.Mr?a.Mr:!0;this.Zo=null;this.SG=a.position instanceof Array?a.position:[a.position||dl];this.position=null;this.dd=_.defaults({},a.dd,{left:0,top:0});this.Mn=a.Mn||!1;this.on("hide",this.LD);this.keydown=this.keydown.bind(this)};
e.DQ=function(){$(document).off("keydown",this.keydown)};e.Nk=function(){return Vq};e.getCurrentPosition=function(){return this.position};e.render=function(){X.prototype.render.call(this);this.$(".dialog").addClass("popover").addClass(this.Mn?"paddingLess":"").prepend('\x3cdiv class\x3d"pointer"\x3e\x3c/div\x3e');this.Mr&&this.$(".content").append('\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button buttonBlock done"\x3e'+this.Yc+"\x3c/button\x3e\x3c/p\x3e");return this};
e.Tf=function(a){if(!this.Zo){var b=_.debounce(this.bh.bind(this),300);window.addEventListener("resize",b,!1);this.on("remove",function(){window.removeEventListener("resize",b,!1)})}this.show();$(document).on("keydown",this.keydown);this.on("remove",this.DQ);Wq(this,a);this.bh();return this};function Xq(){this.yA=this.Pg=this.dialogLeft=this.dialogTop=null}
e.bh=function(){for(var a,b,c=0;c<this.SG.length;c++){a=b=this.SG[c];var d=this.Mn?5:13,f=this.Mn?20:40,g=this.Zo,h=g.offset(),k=h.top-$(document).scrollTop(),l=g.outerWidth(),m=g.outerHeight(),n=this.$(".dialog").outerHeight(),p=this.$(".dialog").outerWidth(),r=this.$el.width(),g=new Xq,q=Math.round(h.left+l/2-p/2);switch(a){case dl:g.dialogLeft=q+p+10>r?r-p-10:q;g.dialogLeft+=this.dd.left;g.dialogTop=Math.round(k)+m+d+this.dd.top;a=q-g.dialogLeft;g.Pg="calc(50% - 7px + "+a+"px)";break;case "topLeft":g.dialogLeft=
h.left+p+10>r?r-p-10:h.left;g.dialogLeft+=this.dd.left;g.dialogTop=Math.round(k)+m+d+this.dd.top;g.Pg=g.dialogLeft+d;break;case "left":g.dialogLeft=h.left+l+this.dd.left;g.dialogTop=k-n/2+d+this.dd.top;break;case "leftTop":g.dialogLeft=h.left+l+this.dd.left+d;g.dialogTop=k+m/2-f+this.dd.top;10>g.dialogTop&&(g.yA=g.dialogTop-10,g.dialogTop=10);break;case "rightTop":g.dialogLeft=h.left-p+this.dd.left-d,g.dialogTop=k+m/2-f+this.dd.top,10>g.dialogTop&&(g.yA=g.dialogTop-10,g.dialogTop=10)}d=a=g;f=this.$(".dialog");
if(!(d.dialogLeft+f.outerWidth()>$(window).width()||d.dialogTop+f.outerHeight()>$(window).height()))break}this.position=b;this.$(".dialog").css("top",a.dialogTop).css("left",a.dialogLeft);c=this.$(".pointer");c.removeClass(_.values(Tq).join(" ")).addClass(b);c.css("left",a.Pg||"");c.css("margin-top",a.yA||"");return this};function Wq(a,b){a.LD();a.Zo=b;b.addClass("on");b.blur()}e.LD=function(){this.Zo&&this.Zo.removeClass("on")};
e.keydown=function(a){27===a.which&&(this.cancel(),a.stopPropagation(),a.preventDefault())};function Yq(a){soy.asserts.assertType(goog.isString(a.sw)||a.sw instanceof goog.soy.data.SanitizedContent,"zoomInLabel",a.sw,"string|goog.soy.data.SanitizedContent");var b=a.sw;soy.asserts.assertType(goog.isString(a.uw)||a.uw instanceof goog.soy.data.SanitizedContent,"zoomOutLabel",a.uw,"string|goog.soy.data.SanitizedContent");var c=a.uw;soy.asserts.assertType(goog.isString(a.Xt)||a.Xt instanceof goog.soy.data.SanitizedContent,"fullscreenModeLabel",a.Xt,"string|goog.soy.data.SanitizedContent");var d=
a.Xt;soy.asserts.assertType(goog.isString(a.Pu)||a.Pu instanceof goog.soy.data.SanitizedContent,"normalModeLabel",a.Pu,"string|goog.soy.data.SanitizedContent");var f=a.Pu,g=a.Wc,h=a.NS,k=a.rh;soy.asserts.assertType(goog.isString(a.Qt)||a.Qt instanceof goog.soy.data.SanitizedContent,"fitLabel",a.Qt,"string|goog.soy.data.SanitizedContent");var l=a.Qt;soy.asserts.assertType(goog.isString(a.Nt)||a.Nt instanceof goog.soy.data.SanitizedContent,"fillLabel",a.Nt,"string|goog.soy.data.SanitizedContent");var m=
a.Nt;soy.asserts.assertType(goog.isBoolean(a.Ck)||1===a.Ck||0===a.Ck,"enablePresentationMode",a.Ck,"boolean");a=!!a.Ck;b='\x3csection class\x3d"zoomer zoomer__pane '+(a?"zoomer--presentation":"")+'"\x3e\x3cdiv class\x3d"zoomer__toolbar"\x3e'+(a?'\x3cbutton class\x3d"zoomer__item zoomer__toolbarItem zoomer__fullscreen" title\x3d"'+soy.$$escapeHtmlAttribute(d)+'"\x3e\x3c/button\x3e\x3cbutton class\x3d"zoomer__item zoomer__toolbarItem zoomer__normal" title\x3d"'+soy.$$escapeHtmlAttribute(f)+'"\x3e\x3c/button\x3e\x3cdiv class\x3d"zoomer__divider"\x3e\x3c/div\x3e':
"")+'\x3cbutton class\x3d"zoomer__item zoomer__toolbarItem zoomer__out" title\x3d"'+soy.$$escapeHtmlAttribute(c)+'"\x3e\x26ndash;\x3c/button\x3e\x3cbutton class\x3d"zoomer__item zoomer__toolbarItem zoomer__prev" title\x3d"'+soy.$$escapeHtmlAttribute(c)+'"\x3e\x26nbsp;\x3c/button\x3e\x3cspan class\x3d"zoomer__item zoomer__toolbarItem zoomer__status zoomer__zoomLevel"\x3e'+soy.$$escapeHtml(g[k])+'\x3c/span\x3e\x3cspan class\x3d"zoomer__item zoomer__toolbarItem zoomer__status zoomer__pageIndex"\x3e\x3c/span\x3e\x3cbutton class\x3d"zoomer__item zoomer__toolbarItem zoomer__in" title\x3d"'+
soy.$$escapeHtmlAttribute(b)+'"\x3e+\x3c/button\x3e\x3cbutton class\x3d"zoomer__item zoomer__toolbarItem zoomer__next" title\x3d"'+soy.$$escapeHtmlAttribute(b)+'"\x3e\x26nbsp;\x3c/button\x3e\x3c/div\x3e\x3cdiv class\x3d"zoomer__popover zoomer__pane"\x3e\x3cul class\x3d"zoomer__popoverList"\x3e';c=g.length;for(d=0;d<c;d++)f=g[d],b+='\x3cli data-zoom\x3d"'+soy.$$escapeHtmlAttribute(f)+'" class\x3d"zoomer__item zoomer__popoverItem '+(d==k?"zoomer__item--selected":"")+'"\x3e'+("fit"==f?soy.$$escapeHtml(l):
"fill"==f?soy.$$escapeHtml(m):soy.$$escapeHtml(h[d]))+"\x3c/li\x3e";return soydata.VERY_UNSAFE.ordainSanitizedHtml(b+'\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"zoomer__popoverArrow"\x3e\x3c/div\x3e\x3c/section\x3e')};function Zq(a,b,c){Backbone.View.call(this,{className:"zoomToolbar"});this.ba=a;this.kf=b;this.Ck=c;this.Wc=[];this.rh=0;this.qd=!1;this.So=this.lF=0;this.paused=!1;this.Hm=this.Hm.bind(this)}t(Zq,Backbone.View);e=Zq.prototype;e.Pw=function(a,b){this.Wc=b;this.rh=Math.max(0,b.indexOf("100%"));this.So=parseInt(this.Wc[this.rh],10);this.render().$el.appendTo(a)};
e.events=function(){return{"click .zoomer__out":this.TI,"click .zoomer__in":this.SI,"click .zoomer__next":this.qN,"click .zoomer__prev":this.rQ,"click .zoomer__fullscreen":this.JE,"click .zoomer__normal":this.rN,"click .zoomer__popover .zoomer__item":this.MS,"click .zoomer__zoomLevel":this.nI,"mouseenter .zoomer__popover":this.nI.bind(this,!0),"mouseleave .zoomer":this.kF}};e.SI=function(){this.trigger("zoomInClick")};e.TI=function(){0<this.rh&&this.trigger("zoomOutClick")};e.qN=function(){this.trigger("nextPageClick")};
e.rQ=function(){this.trigger("prevPageClick")};e.JE=function(){this.trigger("presentationModeClick");this.Hm()};e.rN=function(){this.exitFullscreen()};e.MS=function(a){this.trigger("zoomLevelClick",$(a.currentTarget).data("zoom"))};e.nI=function(a){this.qd||(this.ba.clearTimeout(this.lF),this.$el.toggleClass("zoomer--expanded",a))};e.kF=function(){var a=this;this.lF=this.ba.setTimeout(function(){a.$el.removeClass("zoomer--expanded")},500)};
e.AS=function(a,b){a="string"==typeof a?this.Wc.indexOf(a):-1;-1<a&&(this.rh=a);this.$el.removeClass("zoomer--minZoom zoomer--maxZoom");0===a?this.$el.addClass("zoomer--minZoom"):a===this.Wc.indexOf("fill")-1&&this.$el.addClass("zoomer--maxZoom");a=this.Wc[this.rh];"number"!=typeof b||"fill"!=a&&"fit"!=a||(this.So=100*b,a=this.So.toFixed(1));a=this.kf.So(parseInt(a,10));this.$el.find(".zoomer__zoomLevel").text(a);this.$el.find(".zoomer__popoverItem").removeClass("zoomer__item--selected").eq(this.rh).addClass("zoomer__item--selected")};
e.xI=function(a){this.$el.removeClass("zoomer--firstPage zoomer--lastPage");var b=ql(a);a=a.Ae();0===b&&this.$el.addClass("zoomer--firstPage");b===a-1&&this.$el.addClass("zoomer--lastPage");this.$el.find(".zoomer__pageIndex").text(++b+" / "+a);this.qd&&this.paused&&this.Hm()};e.exitFullscreen=function(){this.qd&&(this.$el.removeClass("zoomer--fullscreenMode"),this.qd=!1,this.trigger("fullscreenMode",this.qd))};
e.Hm=function(){this.$el.addClass("zoomer--fullscreenMode");this.qd=!0;this.kF();this.trigger("fullscreenMode",this.qd)};function $q(a){a.paused=!1;$("body").removeClass("zoomer--fullscreenWindowMode");$("#content").off("click",a.Hm)}
e.render=function(){var a=this;this.el.innerHTML=Yq({Wc:this.Wc,rh:this.rh,Ck:this.Ck,NS:this.Wc.map(function(b){return a.kf.So(parseInt(b,10))}),sw:this.kf.format("zoomToolbarZoomIn"),uw:this.kf.format("zoomToolbarZoomOut"),Xt:this.kf.qd(),Pu:this.kf.format("zoomToolbarNormalMode"),Nt:this.kf.fill(),Qt:this.kf.format("zoomToolbarFit")});return this};var N=1;function ar(a,b,c,d,f,g){this.tf=a;this.lf=b;this.PG=c;this.xA=!1;this.ba=d;this.fa=f;this.analytics=g;this.fr=!1;this.lastIndex=0;this.On=!0}function br(a,b,c,d,f,g,h){d=new Zq(Zh,d,!!f.ta.get(ke));a=new ar(a,d,a.$el,Zh,f,g);cr(a);d.listenTo(c,"documentView:zoom",d.AS);d.listenTo(b,"page:change:selected",d.xI);d.on("fullscreenMode",h);d.xI(b);a.listenTo(c,"pausePresentationOnExit",a.aQ);return a}
function cr(a){var b=$("#canvaDocument"),c=_.values(dr);a.gz=a.gz.bind(a);a.lf.Pw(b,c);a.listenTo(a.lf,{zoomInClick:a.QK,zoomOutClick:a.SK,nextPageClick:a.jx,prevPageClick:a.kx,zoomLevelClick:a.RK,presentationModeClick:a.FK,fullscreenMode:a.tM});$(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",function(){var b=$("body");if(er())fr(a);else if(a.On){a.lastIndex=ql(a.tf.model);var c=a.lf;$("body").addClass("zoomer--fullscreenWindowMode");c.paused=!0;$("#content").on("click",
c.Hm);a.On=b.hasClass("modalContentVisible")}else gr(a)});$(document).on("keyup",function(b){return hr(a,b)});$(window).on("mousewheel wheel",a.gz);document.documentElement.SL=document.documentElement.webkitRequestFullscreen||document.documentElement.mozRequestFullScreen||document.documentElement.msRequestFullscreen||document.documentElement.requestFullscreen;document.YL=document.webkitExitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen||document.exitFullscreen}
function er(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}function hr(a,b){if(!($("body").hasClass("modalContentVisible")||b.metaKey||b.ctrlKey||b.altKey))switch(b.which){case 27:if(er())return a.On=!1,!0;a.lf.paused&&gr(a);break;case 38:case 37:case 33:return a.kx(),!1;case 40:case 39:case 34:case 32:case 13:return a.jx(),!1;case 116:return a.lf.JE(),!1}}e=ar.prototype;
e.tM=function(a){var b=$("body");this.lastIndex=ql(this.tf.model);a?(this.On=!1,b.addClass("enterFullscreen"),document.documentElement.SL()):(this.On=!1,document.YL(),gr(this))};function gr(a){var b=$("body");$q(a.lf);a.lf.exitFullscreen();G.Fs=G.iJ;b.off("mousemove",ir);b.removeClass("fullscreenMode enterFullscreen fullscreenModeLinkAnimations fullscreenModeTransitionIn");jr(a.tf,!1);kr(a.tf,a.lastIndex)}
function fr(a){var b=$("body");$q(a.lf);G.Fs=G.lJ;S();b.addClass("fullscreenMode");jr(a.tf,!0);b.on("mousemove",ir);P.delay(100).then(function(){kr(a.tf,a.lastIndex);return P.delay(100)}).then(function(){b.addClass("fullscreenModeTransitionIn")})}e.aQ=function(a){er()&&(this.On=a)};function ir(a){var b=$("body");120>a.clientY?b.addClass("hoverTop"):120>$(window).outerHeight()-a.clientY?b.addClass("zoomer--hoverBottom"):b.removeClass("zoomer--hoverBottom hoverTop")}
e.gz=function(a){var b=this,c=a.originalEvent.wheelDeltaY||a.originalEvent.deltaY,d=a.originalEvent.wheelDeltaX||a.originalEvent.deltaX,c=Math.abs(d)>Math.abs(c)?d:c;!this.lf.qd&&this.PG&&this.PG.find(a.target).length&&a.ctrlKey&&(a.preventDefault(),lr(this,c));this.lf.qd&&!this.fr&&(120<=c?(this.kx(),this.fr=!0,this.ba.setTimeout(function(){b.fr=!1},600)):-120>=c&&(this.jx(),this.fr=!0,this.ba.setTimeout(function(){b.fr=!1},600)))};
function lr(a,b){a.xA||(0<b?a.lf.SI():a.lf.TI(),a.xA=!0,a.ba.setTimeout(function(){return a.xA=!1},250))}e.QK=function(){var a=mr(this.tf);this.analytics.track("zoom",{type:"zoom_in",section:"editor",subsection:"zoom_toolbar",location:"bottom_right",value:a});return!1};e.SK=function(){var a=nr(this.tf);this.analytics.track("zoom",{type:"zoom_out",section:"editor",subsection:"zoom_toolbar",location:"bottom_right",value:a});return!1};
e.RK=function(a){or(this.tf,a);this.analytics.track("zoom",{type:"popover_item",section:"editor",subsection:"zoom_toolbar",location:"bottom_right",value:a});return!1};e.FK=function(){this.analytics.track("fullscreen_mode",{type:"button",section:"editor",subsection:"zoom_toolbar",location:"bottom_right"});return!1};e.jx=function(){var a=this.tf,b=ql(a.model);b+1<a.model.Ae()&&kr(a,b+1);return!1};e.kx=function(){var a=this.tf,b=ql(a.model);0<=b-1&&kr(a,b-1);return!1};e.listenTo=Backbone.Events.listenTo;
e.off=Backbone.Events.off;e.on=Backbone.Events.on;e.stopListening=Backbone.Events.stopListening;e.trigger=Backbone.Events.trigger;function il(a){G.nJ&&$("html").addClass("isMac");$("#content").addClass("preparing");pr();window.setTimeout(function(){qr(a.content,a.Kc,a.Si,a.C,a.PJ,a.dS);rr();var b=new sr({C:$b(a.C)});$("#canvaDocument").before(b.render());b.init({pf:a.pf,C:a.C,analytics:a.analytics});tr({C:a.C,Mb:a.Mb,Ui:a.Ui,lb:a.lb});a.vm(ab,z,K,Ac(a.C),a.fa,a.analytics,function(a){rb.toggle(a,z.za())});ur(a.C);vr(!!a.PL);wr(0,!0);a.uE&&a.uE();$("body").hasClass("preroll")?(window.setTimeout(function(){window.requestAnimationFrame(xr)},
G.sa.Of*G.To),window.setTimeout(function(){yr()},2E3)):window.setTimeout(function(){$("#content").removeClass("preparing").addClass("on")},G.sa.Of*G.To)},G.wb)}function xr(){var a=$(".preroll .prerollDelay6");if(1>a.length)window.requestAnimationFrame(xr);else $(a).one("animationend",yr)}function yr(){$("#content").removeClass("preparing").addClass("on");$("#search").css("transform","translateX(0)");$("body").removeClass("preroll")}
function pr(){ub=tb=sb=0;var a=zr("editorPageToolbarStylesheet");if(null!=a)for(var b=0;b<a.length&&!(".pageToolbar"==a[b].selectorText?(ub=parseInt(a[b].style.marginTop,10),sb=parseInt(a[b].style.width,10)):".pageToolbar.vertical"==a[b].selectorText&&(tb=parseInt(a[b].style.width,10)),tb&&sb&&ub);b++);}function zr(a){for(var b=null,c=0;c<document.styleSheets.length;c++)if(document.styleSheets[c].ownerNode.id==a){b=document.styleSheets[c];break}return null==b?null:b.cssRules||null}
function wr(a,b){if(!Ar&&!Br){var c=$("#objectPanel");Cr();var d=$(".layer",c).eq(0).width();a=Math.ceil(d/G.tJ);var f=Math.ceil(d/G.rJ),d=Math.ceil(d/G.sJ),g=zr("objectPanelStylesheet");null!=g&&(g[0].style.width=Math.round(100/a*10)/10+"%",g[1].style.width=Math.round(100/f*10)/10+"%",g[2].style.width=Math.round(100/d*10)/10+"%");Dr();window.setTimeout(function(){c.find(".results \x3e .layer \x3e .inner \x3e .browseCategories").each(function(){Er($(this),!0)})},G.wb);$("body").hasClass("fullscreenMode")||
($("#canvaDocument").nextAll(".hScrollTrack").andSelf().css("left",c.outerWidth(!0)),$(".toolbarContainer").css("left",c.outerWidth(!0)));ab&&ab.Ku(b)}}function Fr(a){return A.tn()?A.Fg()?new P(function(b,c){function d(a){2==a?(f(),b()):1!=a&&0!=a&&(f(),c())}function f(){window.clearTimeout(g);K.off("session:sync",d)}var g=window.setTimeout(function(){f();c()},a||G.aJ);K.on("session:sync",d);A.save()}):P.resolve():P.reject()};function Gr(a){this.da=a.da;this.rA=a.rA;this.Ye=a.Ye;this.Ea=a.Ea;this.qy=a.qy;this.jd=a.jd;this.Xw=a.Xw;this.iy=a.iy}
Gr.prototype.gB=function(){if(!this.qy&&!G.yJ&&this.Ea&&this.Ea.tn()&&!$("#savingError").hasClass("on")){if(0<this.jd.Jo.length)return"You're in the middle of uploading an image. Are you sure you want to leave the Canva editor?";if(this.Ea.Fg())return this.Ea.save(),"We are still auto-saving the latest changes to your design. Are you sure you want to leave the Canva editor?";var a=z;if(a&&Tn(this.Ea,a.serialize()))return a.trigger("change"),"We are still auto-saving the latest changes to your design. Are you sure you want to leave the Canva editor?";
this.Ea.close();this.Xw||(a=Math.floor((Date.now()-this.rA)/1E3),Kh(this.da,"/session/editor/"+encodeURIComponent(this.Ye)+"?close",this.iy,{docId:this.Ye,session:this.Ea.context.ip,durationSecs:a}))}};var Hr="bold fontFamily fontSize italic justification letterSpacing lineHeight list textTransform".split(" ");function Ir(a,b,c){return new P(function(d){var f=[];a.forEach(function(a,b){f[b]=a.length});new Jr({fontSize:b,fontFamily:c,type:"text",html:a.join(""),lineLengths:f,lockedWidth:!1},function(b){var c=b.F();$("#limbo").append(c);Kr(c);var f=b.w(),l=b.D()/a.length;c.remove();b.remove();d({width:f,height:l})})})}
function Lr(a){a=a.children(".inner").get(0);a=Mr(a);for(var b=window.getSelection(),c=a.filter(function(a){return Nr(b,a,!1)}),d=a.map(function(a){return a.textContent||""}).join(""),f="",g=0,h=b.rangeCount;g!=h;g++)f+=b.getRangeAt(g).toString();d=Or(d,f);(f=a.length)&&"BR"==a[f-1].nodeName&&--f;return c.length>=f&&d}
function Or(a,b){if(a==b)return!0;a=a.replace(/^\s*/,"").replace(/\s*$/,"").replace(/(?!^)\s+(?!$)/gi," ");b=b.replace(/^\s*/,"").replace(/\s*$/,"").replace(/(?!^)\s+(?!$)/gi," ");return a==b}function Pr(a){var b=window.getSelection();return 0<b.rangeCount&&(b=b.getRangeAt(0).cloneRange(),b.collapse(!0),a=a.get(0))?(b.setStart(a,0),b.toString().slice(-1)):""}
function Qr(a){var b=window.getSelection();if(0==b.rangeCount)return-1;a=a.children(".inner");if(0==a.length)return-1;a=a.get(0);return Rr(b,a)?b.toString().length:-1}function Sr(a){var b=window.getSelection();if(0==b.rangeCount)return!0;a=a.children(".inner");if(0==a.length)return!0;a=a.get(0);return Rr(b,a)?b.isCollapsed:!0}
function Rr(a,b){if(!b)return!1;var c=a.getRangeAt(0);a=c.startContainer;c=c.endContainer;if(!a||!c)return!1;a=3==a.nodeType||4==a.nodeType?Tr(a):a;var d=3==c.nodeType||4==c.nodeType?Tr(c):c,c=!(b!=a&&b!=d);b=!(!b.contains(a)&&!b.contains(d));return c||b}function Ur(a,b){var c=a.Qa(b).children(".inner");Vr(c);Wr(c);c.find("*").css({"font-size":"","line-height":"","letter-spacing":"",color:""});c.find("br").removeAttr("color");Xr(a,b)}
function Xr(a,b){function c(a){if(1!==a.length)return!1;a=a.get(0);if(a.nodeType!==Node.ELEMENT_NODE)return!1;var b=a.nodeName.toLowerCase();return"ul"===b||"li"===b?!1:1===a.parentNode.childNodes.length}for(var d=a.Wb(b),f=a.Qa(b).children(".inner").contents(),g=f,h=!1;c(f);)Yr(d,f.get(0)),h=!0,f=f.contents();h&&(g.replaceWith(f),a.ri(b,d))}
function Yr(a,b){function c(a){a=a.match(/"[^"]*"|'[^']*'|[^\s"',]+/g);if(!a)return"";a=a[0];var b=a.charAt(0);if('"'===b||"'"===b)a=a.slice(1,-1).trim();return a}var d=b.nodeName.toLowerCase();if("b"===d||"strong"===d)a.bold=!0;else{var f=b.style.fontWeight;a.bold="bold"===f||"600"<=f&&"900">=f}"i"===d||"em"===d?a.italic=!0:(f=b.style.fontStyle,a.italic="italic"===f||"oblique"===f);f=rf(b.style.color);b.color&&(f=rf(b.color));f&&(a.color=f.qa());f=null;(f="font"===d?c(b.face):c(b.style.fontFamily))&&
(b=Zr(f))&&(a.fontFamily=b)}function $r(a){var b=[],c=[],d=a.children(".inner").get(0);Mr(d).forEach(function(d){"br"!==d.nodeName.toLowerCase()&&(d=as(Tr(d),a),Array.prototype.push.apply(b,d.bf),Array.prototype.push.apply(c,d.zf))});return{bf:b,zf:c}}function bs(a){return a.filter(function(){return 0!==this.offsetHeight||0!==this.offsetWidth})}function cs(a,b){var c=a.offsetTop-b.offsetTop;return 0<=c||c>=b.offsetHeight-a.offsetHeight}
function ds(a){function b(){if(this.nodeType===Node.ELEMENT_NODE){var a=this.nodeName.toLowerCase();if("br"!==a&&"script"!==a&&"style"!==a){var d=$(this).contents();if("span"===a){if(this.classList.contains("fauxCaret"))return;if(this.classList.contains("char")){if(1===d.length&&d[0].nodeType===Node.TEXT_NODE&&1===d[0].data.length)return;d.replaceAll(this)}}d.each(b)}}else this.nodeType===Node.TEXT_NODE&&(a=this.data.split("").map(function(a){var b=document.createElement("span");b.classList.add("char");
c.test(a)&&b.classList.add("diacriticalMark");b.appendChild(document.createTextNode(a));return b}),$(this).replaceWith(a))}var c=/[\u0300-\u036f]/,d=String(a.data("fontFamily"));ob&&es(d)||a.children(".inner").each(b)}function fs(a,b){!b&&a.data("kernPairs")||a.find(".char").each(function(){var a=$(this),b=a.contents();0<b.length?a.replaceWith(b):a.remove()})}var gs=!1;
function hs(a,b){function c(a){return" "===a||"\n"===a||"\t"===a||"\r"===a||"᠎"===a||"\u2028"===a||"\u2029"===a||"﻿"===a}ds(a);var d=[],f=a.children(".inner"),g=f.find(".char"),h=a.data("letterSpacing")||0,k=0!==h?h/1E3+"em":"0";if(function(){return b.reduce(function(a,b){return a+b},0)}()===g.length){f.addClass("explicitLineBreaksLayoutMode");f.find(".implicitLineBreak").remove();a.removeData("ephemeralLetterSpacing");a.css("letter-spacing",k);a.data("cachedLineLengths",b);document.body.contains(a[0])||
(f.addClass("doNotTransform"),a.addClass("doNotTransform"),a.appendTo("#limbo"),d.push(function(){a.detach();a.removeClass("doNotTransform");f.removeClass("doNotTransform")}));var l=0,m=-1,n=0,p=0,r=0;b.forEach(function(a){var b=l,f=Math.min(b+a,g.length);if(!(b>=f)){for(var h=b,k=f-1;h<=k&&c(g[h].firstChild.data);)h++;for(;h<=k&&c(g[k].firstChild.data);)k--;d.push(function(){g.slice(b,h).addClass("superfluousWhitespace");g.slice(k+1,f).addClass("superfluousWhitespace")});h<=k&&(0<=m&&cs(g[m],g[h])&&
d.push(function(){$("\x3cbr\x3e").addClass("implicitLineBreak").insertBefore(g[b])}),m=k,h!==k&&(a=g[k].offsetLeft+g[k].offsetWidth-g[h].offsetLeft,a>n&&(n=a,p=h,r=k)));l=f}});k=f[0].offsetWidth;if(n>k){var q=bs(g.slice(p,r+1)).length,k=(k-n)/q,q=parseFloat(window.getComputedStyle(f[0]).getPropertyValue("font-size")),v=Math.max(h-1E3/12,1E3*k/q),x=a.data("index")||0;d.push(function(){var b=a.data("canvaElement");b&&b.Mv(x,v)})}d.forEach(function(a){a()});gs=!0;Kr(a);gs=!1}}
function is(a,b){gs||(fs(a,b),a.removeData("cachedLineLengths"),b=a.children(".inner"),b.hasClass("explicitLineBreaksLayoutMode")&&(b.removeClass("explicitLineBreaksLayoutMode"),b.find(".implicitLineBreak").remove(),b.find(".superfluousWhitespace").removeClass("superfluousWhitespace"),Kr(a)))}
function Vr(a){for(var b=a.find("*"),c=b.length-1;0<=c;c--){var d=b[c],f=d.nodeName.toLowerCase();"br"!==f&&"div"!==f&&"ul"!==f&&"li"!==f&&"p"!==f&&(("span"!==f&&"font"!==f||0!==d.attributes.length)&&""!==d.textContent.trim()||$(d).contents().replaceAll(d))}a.get(0).normalize()}
function Wr(a){function b(a,b){if(!a||!b)return!1;var f;if(a.nodeType===Node.ELEMENT_NODE){f=a.nodeName.toLowerCase();if("br"===f||"div"===f||"ul"===f||"li"===f||"p"===f)return!1;for(;(a=a.lastChild)&&a.nodeType===Node.ELEMENT_NODE;)if("br"===a.nodeName.toLowerCase())return!1}return b.nodeType===Node.ELEMENT_NODE&&(f=b.nodeName.toLowerCase(),"ul"===f||"li"===f)?!1:!0}a.find("div, p").each(function(){var a=$(this);b(this.previousSibling,this.firstChild||this.nextSibling)&&$("\x3cbr\x3e").insertBefore(this);
b(this.lastChild||this.previousSibling,this.nextSibling)&&$("\x3cbr\x3e").insertAfter(this);a.replaceWith(a.contents())})}
function js(a){function b(a){var b;$.browser.msie?(b=document.selection.createRange(),b.collapse(!0),b=b.parentElement()):b=window.getSelection().getRangeAt(0).startContainer;return a.contains(b)}var c=[],d=[],f=window.getSelection(),g=a.children(".inner").get(0);Sr(a)?1==f.rangeCount&&b(g)&&(g=as(Tr(f.getRangeAt(0).startContainer),a),c=c.concat(g.bf),d=d.concat(g.zf)):Mr(g).filter(function(a){return Nr(f,a,!0)&&a.nodeType==Node.TEXT_NODE}).forEach(function(b){b=as(Tr(b),a);c=c.concat(b.bf);d=d.concat(b.zf)});
c=c.filter(function(a,b){return c.lastIndexOf(a)===b});d=d.filter(function(a,b){return d.lastIndexOf(a)===b});return{bf:c,zf:d}}
function as(a,b){var c,d,f=[],g=[],h=b.children(".inner").get(0);c=b.get(0);var k=b.data("fontName");b=b.data("fill");if(a==h||a==c)c=k,d=rf(b),c&&f.push(c),d&&g.push(d.qa());else{for(;a!==h;)"font"==a.tagName.toLowerCase()&&((c=a.getAttribute("face"))&&f.push(c),(d=rf($(a).css("color")||a.getAttribute("color")))&&g.push(d.qa())),a=a.parentElement;0==f.length&&k&&f.push(k);0==g.length&&b&&g.push(b)}return{bf:f,zf:g}}
function Mr(a){for(var b=[],c=0;c<a.childNodes.length;c++){var d=a.childNodes[c];0==d.childNodes.length?b.push(d):b=b.concat(Mr(d))}return b}function Tr(a){if(a.parentElement)return a.parentElement;for(a=a.parentNode;a&&a.nodeType!==Node.ELEMENT_NODE;)a=a.parentNode;return a}
function Nr(a,b,c){if(a.containsNode)return a.containsNode(b,c);c=document.createRange();c.selectNodeContents(b);b=0;for(var d;b<a.rangeCount;++b){d=a.getRangeAt(b);try{if(0>=d.compareBoundaryPoints(d.START_TO_START,c)&&0<=d.compareBoundaryPoints(d.END_TO_END,c))return!0}catch(f){if(f.code!==DOMException.WRONG_DOCUMENT_ERR)throw f;}}return!1}function ks(a){if(!a)return[];for(var b=/<font[^>]+\bface="([^"]+)/gi,c,d=[];c=b.exec(a);)c=c[1].replace(/('|&#39;)/g,""),d.push(c);return _.uniq(d)}
function ls(a){var b=a.html().toString();a.data("fontFamily")&&(b+='\x3cfont face\x3d"'+a.data("fontFamily")+'"\x3e\x3c/font\x3e');return ks(b).filter(function(a){return null!==ms(ob,a)})}function ns(a,b){b?this.Qa(a).data("fontMedia",{id:b.id,version:b.version}):this.Qa(a).removeData("fontMedia")}function os(a,b){function c(a){return{id:a.G(),version:a.getVersion()}}b&&0<b.length?this.Qa(a).data("htmlFontMedia",b.map(c)):this.Qa(a).removeData("htmlFontMedia")}
function rs(a,b,c,d){function f(a){if(a){var d="'"+m.family+"'";$.browser.msie||(d+=", "+m.wg);h.css("font-family",d).css("font-weight",void 0!==m.weight?m.weight:"");Kr(h);g.trigger("change:fontFamily",this,h,b)}c&&c(a)}var g=this,h=this.Qa(a),k=h.data("fontName"),l=!1;b&&es(String(b))&&(l=!0);d||h.find("font").removeAttr("face");b!==k&&(this.ul(a),this.ao(a),is(h),l&&Vr(h));if(void 0===b)h.removeData("fontName").removeData("fontFamily").removeData("fontWeight").removeData("fontMedia").removeData("htmlFontMedia").css("font-family",
"").css("font-weight",""),c&&c(!0);else if(ob){h.data("fontFamily",b);var m=ms(ob,b);d=ss(b);m||d?(h.data("fontName",m.name||m.family).data("fontFamily",m.family),this.Lj(a,d),ts(d,b,f)):c&&c(!1)}else c&&c(!1)}function us(a,b,c){var d=this.Qa(a),f=parseFloat(d.data("fontSize"))/b;if(isNaN(f)||2<=f||.5>=f)this.ul(a),this.ao(a),is(d);void 0===b?d.removeData("fontSize").css("font-size",""):(d.data("fontSize",b).css("font-size",b*G.Qe+"%"),!0!==c&&Kr(d,!0))}function vs(a){this.fd(this.$a(),a)}
function ws(a){return this.Qa(a).data("fontSize")||G.ys}function xs(a,b){a=this.Qa(a);void 0===b?a.removeData("justification").css("text-align",""):a.data("justification",b).css("text-align",b)}
function ys(a,b){function c(a,b,c){a.children(".inner").find("*").filter(function(){var a=rf($(this).css("color")||$(this).attr("color"));return a&&a.equals(b)}).attr("color",c?c.qa():"")}function d(a,b,c){b?a.data("fill",b.qa()).css("color",b.qa()):a.removeData("fill").css("color","");c&&a.find("*").removeAttr("color").css("color","")}a=this.Qa(a);var f=Lr(a),g=Sr(a),h=a.is(".focused"),k=rf(a.data("fill")),l=rf(js(a).zf[0]);h&&b&&document.execCommand("foreColor",!1,b.qa());h&&g?(f=0<js(a).zf.length,
k=l&&l.equals(k),!f||k?d(a,b,!1):c(a,l,b)):(f||g)&&d(a,b,h)}function zs(a,b){a=this.Qa(a);a.is(".focused")&&document.execCommand("bold",!1,null);if(Lr(a)||Sr(a))void 0===b?a.removeData("bold").removeClass("bold"):(a.data("bold",b),b?a.addClass("bold"):a.removeClass("bold"));Kr(a,!0)}
function As(a,b){a=this.Qa(a);a.is(".focused")&&document.execCommand("italic",!1,null);if(Lr(a)||Sr(a))void 0===b?a.removeData("italic").removeClass("italic"):(a.data("italic",b),b?a.addClass("italic"):a.removeClass("italic"));Kr(a,!0)}
function Bs(a,b){function c(){var b;l.focus();f()?b=!0:(l.click(),b=f());b&&(document.execCommand("selectAll",!1,null),document.execCommand("insertUnorderedList",!1,null),Ur(g,a),document.execCommand("selectAll",!1,null),d());l.attr("contentEditable",m)}function d(){window.setTimeout(function(){Kr(h,!0)},0)}function f(){return null!==window.getSelection().focusNode&&"BODY"!==window.getSelection().focusNode.tagName}var g=this,h=this.Qa(a),k=0<h.find("li").length;if(!!b!==k){var l=h.children(".inner"),
m=String(l.prop("contentEditable"));l.attr("contentEditable","true");l.focus();Cs(l,c)}b?h.data("list",!0):h.removeData("list")}function Ds(a){return"uppercase"===this.Qa(a).data("textTransform")}function Es(a,b){a=this.Qa(a);b?a.data("textTransform",b).css("text-transform",b):a.removeData("textTransform").css("text-transform","none");Kr(a,!0)}
function Fs(a,b){a=this.Qa(a);var c=a.children(".inner");b?(a.data("lineHeight",b),c.css("line-height",b/100)):(a.removeData("lineHeight"),c.css("line-height",G.Aw/100));Kr(a,!0)}function Gs(a){return this.Qa(a).data("lineHeight")||G.Aw}function Hs(a,b){a=this.Qa(a);a.removeData("ephemeralLetterSpacing");void 0===b||0===b?(a.removeData("letterSpacing"),a.css("letter-spacing","0")):(a.data("letterSpacing",b),a.css("letter-spacing",b/1E3+"em"));Kr(a,!0)}
function Is(a,b){a=this.Qa(a);var c=0!==b?b/1E3+"em":"0";a.data("ephemeralLetterSpacing",b);a.css("letter-spacing",c)}function Js(a){a=this.Qa(a);var b=a.data("ephemeralLetterSpacing"),c=a.data("letterSpacing")||0;b!==c&&a.css("letter-spacing",0!==c?c/1E3+"em":"0");a.removeData("ephemeralLetterSpacing")}function Ks(a){a=this.Qa(a);var b=a.data("ephemeralLetterSpacing");return void 0!==b?b:a.data("letterSpacing")||0}function Ls(a){return this.Qa(a).data("kernPairs")||{}}
function Ms(a,b){return(a=this.Qa(a).data("kernPairs"))&&a.hasOwnProperty(b)?parseFloat(a[b]):0}function Ns(a){a=this.Qa(a);a.data("kernPairs")&&(a.removeData("kernPairs"),fs(a,!0))}
function Os(a){var b=this.Qa(a);a=this.Lk(a);if(0<Object.keys(a).length){if(ds(b),a=b.data("kernPairs")||null)if(b=b[0].querySelectorAll(".char"),0!==b.length)for(var c=b[0].firstChild.data,d=1;d<b.length;d++){var f=b[d].firstChild.data,c=a[c+f]||0;0===c?b[d].removeAttribute("style"):b[d].style.marginLeft=c/1E3+"em";c=f}}else fs(b)}function Ps(a,b,c){if(2===c.length){var d=this.Qa(a);a=this.Lk(a);a[c]=b;d.data("kernPairs",a)}}function Qs(a,b){this.Qa(a).data("kernPairs",b)}
function Rs(){var a=this.sd();0<a.parents("#overlays").length&&Ss(a)}function Ts(a){var b=this.Lk(a),c=[];b&&0!==Object.keys(b).length&&Object.keys(b).forEach(function(a){c.push({pair:a,adjustment:b[a]})});return c}function Us(a){if(void 0===a||0===a.length)return null;var b={};a.forEach(function(a){b[a.pair]=a.adjustment});return b}
function Vs(a){function b(a){if(a=ss(a))return{id:a.id,version:a.version}}function c(){var a=h.data("cachedLineLengths");if(!a){a=h[0].style;if(""===a.fontFamily||""===a.width)return;a=h.data("fontScaling");if(void 0!==a&&1!==a||h.hasClass("focused"))return;var a=h,b=a.clone();b.addClass("doNotTransform");b.children(".inner").addClass("doNotTransform");b.appendTo("#limbo");ds(b);for(var c=b.find(".char"),d=0,f=[],k=bs(c),v=1;v<k.length;v++)if(!cs(k[v-1],k[v])){var x=c.index(k[v]);f.push(x-d);d=x}f.push(c.length-
d);b.remove();a.data("cachedLineLengths",f);a=f}g.lineLengths=a}function d(){var b=f.Kv(a);0!==b.length&&(g.kerning=b)}var f=this,g={index:a},h=this.Qa(a),k=String(h.data("fontFamily")),k=es(k);(function(){var a=h.clone();is(a,!0);g.html=a.children(".inner").html()})();(function(){Hr.forEach(function(a){var b=h.data(a);void 0!==b&&(g[a]=b)});h.data("fill")&&(g.color=h.data("fill"))})();k||(c(),d());(function(){var a=ss(g.fontFamily);a?g.fontMedia={id:a.id,version:a.version}:h.data("fontMedia")&&(g.fontMedia=
h.data("fontMedia"));var c=ls(h).map(b).filter(function(a){return!!a}).filter(function(b){return!a||b.id!==a.id});0<c.length?g.htmlFontMedia=c:h.data("htmlFontMedia")&&(g.htmlFontMedia=h.data("htmlFontMedia"))})();return g};function cj(a){this.type=a.type;this.id=a.id||"";this.version=a.version||0}cj.prototype.hb=function(){return this.type};cj.prototype.G=function(){return this.id};cj.prototype.nm=function(){this.type=Ws;return this};cj.prototype.serialize=function(){return this.type===Ws||this.type===Xs?{type:this.type,id:this.id,version:this.version}:this.type?{type:this.type}:null};function Y(a){this.C=pb;this.xa=$('\x3cdiv class\x3d"element" /\x3e');this.xa.data("canvaElement",this);this.selected=!1;this.pr=!0;this.pb=this.rotation=this.height=this.width=this.top=this.left=0;this.page=this.mc=null;this.oh=!1;this.Jb=0;this.link="";this.nr=this.Td=!1;this.kh=this.origin=null;this.Ps=!0;this.ep=1;this.tc=null;this.KL="group copy arrange transparency link delete".split(" ");this.gw=!0;if(a){var b=Ei({left:a.left,top:a.top,width:a.width,height:a.height});this.Zb(b);null!=a.rotation&&
(this.rotation=a.rotation);null!=a.flipOrientation&&(this.pb=a.flipOrientation);0<=Object.keys(a).indexOf("userEdited")&&(this.gw=a.userEdited);0<=Object.keys(a).indexOf("transparency")&&(this.Jb=a.transparency);0<=Object.keys(a).indexOf("link")&&(this.link=a.link);null!=a.origin&&(this.origin=new cj(a.origin))}}e=Y.prototype;e.WB=function(){this.Vc="top"};e.$z=function(){this.Vc="middle"};e.$w=function(){this.Vc="bottom"};function Ys(a){return"middle"===a.Vc}
function Zs(a){return"bottom"===a.Vc}e.trigger=Backbone.Events.trigger;e.listenTo=Backbone.Events.listenTo;e.stopListening=Backbone.Events.stopListening;e.on=Backbone.Events.on;e.once=Backbone.Events.once;e.off=Backbone.Events.off;_.extend(Y.prototype,Backbone.Events);e=Y.prototype;e.eI=function(){return!1};e.OB=function(){return!1};e.transform=function(a){var b=ij(hj([this.W(),this.N()]).transform(a));this.pi($s(this.Ma(),180*Math.atan2(a.m[3],a.m[4])/Math.PI*-1));this.setPosition(b[0],b[1])};
e.F=function(){return this.xa};function at(a){a=a.xa[0].children;for(var b=0;b<a.length;b++){var c=a[b];if(c.classList.contains("inner"))return $(c)}return $()}e.kq=function(){return!1};function bt(a){return a.elements&&0!==a.elements.length}e.hz=function(){return!1};e.lz=function(){return!1};e.lq=function(){return!1};e.$F=function(){this.Td=!0};e.jn=function(){return!1};e.jj=function(){return!1};e.iF=function(){return!1};e.wv=function(){};e.Zi=function(){};e.Yi=function(){};
e.Zn=function(){this.nr=!0};e.tl=function(){this.nr=!1};e.SE=function(){return this.KL};e.oj=function(){return!0};e.LE=function(){return[]};e.Wm=function(){return 0};
function ct(a,b){function c(){d.off("placeholderImage:loaded",f);d.vu(b)}if(void 0===a.Ka||void 0===a.Ob)throw Error("loadImagesAndFilters must be called on elements that have placeable and filterable images");var d=a,f=_.after(a.Ka.length,c);a.on("placeholderImage:loaded",f);0===a.Ka.length?window.setTimeout(c,0):a.Ka.forEach(function(a,b){a.update(function(){d.trigger("placeholderImage:loaded",b)})})}
e.vu=function(a){function b(){c.Av();a&&a()}if(void 0===this.Ka||void 0===this.Ob)throw Error("initializeFilters must be called on elements that have placeable and filterable images");var c=this,d=_.after(this.Ob.length,b);0===this.Ob.length?window.setTimeout(b,0):this.Ob.forEach(function(a){a.initialize(d)})};e.Mc=function(){return this.origin};
function dt(a,b){for(var c=[],d,f=_.pluck(a,"index"),g,h=0;h<b.length;h++)d={},g=f.indexOf(h),-1<g?d=a[g]:d.index=h,c.push(et(d.filter,b[d.index]));return c}function ft(a,b,c){for(var d=[],f,g=_.pluck(a,"index"),h,k=0;k<b;k++)f={},h=g.indexOf(k),-1<h?f=a[h]:f.index=k,h=c.is(".svg.element")?c.find("svg image.placeholder").eq(k).parent():c.find(".placeholder").eq(k).parent(),d.push(new gt(f,h));return d}
function He(a){switch(a.type){case "text":return new Jr(a);case "image":return new ht(a);case "graphic":return"print"!==it?a=new jt(a):(a=new Qk(a),a.AF=!0),a;case "svg":return new Qk(a);case "grid":return new kt(a);case "fixed":return new lt(a);case "group":if(nb.ta.get(ye)&&a.charts){var b=new mt(a.charts[0]);b.Cn(a.charts[0].data);a=new nt(b,ot,pt,a)}else a=new qt(a);return a}return null}e.md=function(){delete this.cd};
e.remove=function(){this.page&&this.page.ci(this,{EQ:!0});this.tc&&this.tc.remove();this.tc=this.mc=this.page=null};e.ea=function(){return this.page?this.page.za().indexOf(this):-1};e.ha=function(){return this.page};e.qo=function(a){this.Jb=a;this.Fb()};e.cz=function(){return this.Jb};function rt(a){for(var b in st)if(st.hasOwnProperty(b)&&st[b].test(a))return!0;return!1}e.zg=function(){return rt(this.link)?this.link:""};e.Va=function(a){tt(this,a);this.Fb()};
function tt(a,b){void 0!==b&&!isNaN(b)&&isFinite(b)&&(a.left=b)}function ut(a,b){a.left-=b;a.Fb()}function vt(a,b){a.top-=b;a.Fb()}function wt(a,b){a.left+=b;a.Fb()}function xt(a,b){a.top+=b;a.Fb()}e.W=function(){return this.left};function yt(a){return{Jb:a.Jb,rotation:a.Ma(),top:a.N(),left:a.W(),width:a.w(),height:a.D()}}
function zt(a){var b={left:0,top:0,right:0,bottom:0,width:0,height:0},c=N;if(a.mc){var d=a.F().get(0);a=a.mc.get(0);d.parentNode&&a.parentNode&&(d=d.getBoundingClientRect(),a=a.getBoundingClientRect(),b.left=(d.left-a.left)/c,b.right=(d.right-a.left)/c,b.top=(d.top-a.top)/c,b.bottom=(d.bottom-a.top)/c,b.width=b.right-b.left,b.height=b.bottom-b.top)}return b}e.Ya=function(){return zt(this).left};e.$b=function(){return zt(this).right};e.ab=function(){return zt(this).top};e.Qb=function(){return zt(this).bottom};
e.de=function(){return zt(this).width};e.ce=function(){return zt(this).height};e.uc=function(){var a=Math.round(this.left*N),b=0;this.page&&(b=this.page.uc()||0);return b+a};e.Wa=function(a){At(this,a);this.Fb()};function At(a,b){void 0!==b&&!isNaN(b)&&isFinite(b)&&(a.top=b)}e.N=function(){return this.top};e.vc=function(){var a=Math.round(this.top*N),b=0;this.page&&(b=this.page.vc()||0);return b+a};e.setPosition=function(a,b){tt(this,a);At(this,b);this.Fb()};
e.pa=function(a){void 0!==a&&!isNaN(a)&&isFinite(a)&&(this.width=a);a=Bt(this);this.F().css("width",a)};e.w=function(){return this.width};function Bt(a){return Math.round(a.w()*N)}e.oa=function(a){void 0!==a&&!isNaN(a)&&isFinite(a)&&(this.height=a);a=Wk(this);this.F().css("height",a)};e.D=function(){return this.height};function Wk(a){return Math.round(a.D()*N)}e.setSize=function(a,b){this.pa(a);this.oa(b)};
function Vk(a){a=a.F().get(0).getBoundingClientRect();return{x:a.left+a.width/2,y:a.top+a.height/2}}e.Xm=function(){return this.W()+this.w()/2};e.Zb=function(a){var b=a.W(),c=a.N();tt(this,b);At(this,c);this.setSize(a.w(),a.D())};e.ya=function(){return new M(this.W(),this.N(),this.w(),this.D())};e.pi=function(a){this.rotation=a;this.Fb()};e.Ma=function(){return this.rotation};e.mo=function(a){this.pb=a};e.El=function(a){var b=this.pb^a;this.mo(a);1!=b&&2!=b||this.Un();this.Fb()};e.mj=function(){return!1};
e.Un=function(){};e.Ua=function(){return this.left+this.width};e.Ga=function(){return this.top+this.height};e.lk=function(){};e.gk=function(){return!0};e.Us=function(){return!0};e.fp=function(){return!0};e.Vs=function(){return!1};e.Ef=function(){return!1};e.Ce=function(){return this.selected};e.mb=function(){return!1};e.nD=function(){return!1};e.Ff=function(){return!1};e.Oj=function(a){this.selected=a};function Ct(a){return 0<a.F().parents(".group").length}
e.Fb=function(a){var b=this.F(),c=Math.round(this.left*N),d=Math.round(this.top*N);if(0<this.F().parents("#overlays").length&&!Ct(this))var f=this.page||z.aa[0],c=c+Math.round(f.uc()),d=d+Math.round(f.vc());b.css("transform",Pk({Le:c,Me:d,co:this.rotation}));b.css("opacity",(100-this.Jb)/100);this.mj()&&this.cw();!a&&this.mc&&this.Ra()};e.cw=function(){};function Dt(a){var b=G.EC*a.w();a.F().css("perspective",b+"px")}e.clone=function(){return He(this.serialize())};
e.appendTo=function(a){-1==a.elements.indexOf(this)?a.addElement(this):Et(a,this,a.za().length)};e.un=function(a){return a?ef(this.ya(),a.ya()):!1};e.insertAfter=function(a){var b=a.ea();if(-1!=b){var c=a.page,d=c.elements.indexOf(this);-1==d?Et(c,this,b+1):d<b?Et(c,this,b):d>b&&Et(c,this,b+1);!this.mc&&a.mc&&(this.mc=a.mc);this.Ia()}};
e.insertBefore=function(a){var b=a.ea();if(-1!=b){var c=a.ha(),d=c.elements.indexOf(this);-1==d?Et(c,this,b):d<b-1?Et(c,this,b-1):d>b&&Et(c,this,b);!this.mc&&a.mc&&(this.mc=a.mc)}};e.Ia=function(){function a(){b.mc&&b.Ra()}var b=this;this.pr&&(tt(this),At(this),this.Fb(!0),this.pa(),this.oa(),this.Fb(),this.tc&&this.tc.Wk()?this.tc.update(!1,a):a())};e.Ra=function(){var a=this.F().data("toolbar");a&&(Ft(a),Gt(a,this));Ht(this)};
function Ht(a){ff(a).write(function(){var a=this.F(),c=a.data("selectionBox");if(c){var d=this.uc(),f=this.vc(),g=this.Ma(),h=Bt(this),a=Wk(this)||a.height(),k=0,l=0,m=80>h||80>a;this.ye&&this.ye()&&(k=this.F().css("font-size").replace("px",""),k=this.ye()/1E3*parseInt(k,10)*N);this.XE&&(l=(this.padding||0)*N);c.css("transform",Pk({Le:d,Me:f,co:g})).css("width",h+2*(k+l)).css("height",a+2*(k+l));c.toggleClass("tightTargets",m);It(c,g)}})}
e.ff=function(){var a=this.F(),b=a.data("toolbar"),c=a.data("selectionBox");b&&b.remove();c&&c.remove();a.removeData("selectionBox").removeData("toolbar");K.trigger("hideContextualControlsRequested")};
e.serialize=function(){var a={elementIndex:this.ea(),left:this.left,top:this.top,width:this.width,height:this.height,rotation:this.rotation,transparency:this.Jb,userEdited:this.gw};this.link&&(a.link=this.link);var b=this.origin&&this.origin.serialize();b&&(a.origin=b);0!=this.pb&&(a.flipOrientation=this.pb);return a};e.Ih=function(){return!1};e.zu=function(){return!1};function Jt(a){return a.Ih()?!!a.Vb():a.zu()?0<a.Vy().filter(function(a){return!!a.Vb()}).length:!1}
e.Bg=function(){return this.cd||(this.cd=new Ik)};e.mq=function(){return!1};e.bq=function(){return{}};e.KH=function(){};e.kp=function(){return!1};
function Kt(a){var b;b=L(z);var c=Fq(Cq()).na().Gk();b=(c=c?rf("#"+c):null)?{ql:c,Cl:Dj(c)<G.ww?sj(new nj,255,255,255):sj(new nj,0,0,0),Nl:Dj(c)<G.ww?Fj(c,sj(new nj,255,255,255),G.LC):Fj(c,sj(new nj,0,0,0),G.LC)}:!Lt(b)||b.xu()?{ql:sj(new nj,255,255,255),Cl:sj(new nj,0,0,0),Nl:sj(new nj,127,127,127)}:{ql:sj(new nj,0,0,0),Cl:sj(new nj,255,255,255),Nl:sj(new nj,127,127,127)};c=a.kh;c===b||c&&b&&c.ql.equals(b.ql)&&c.Cl.equals(b.Cl)&&c.Nl.equals(b.Nl)||(a.kh=b,a.Ps=!0)}
function Mt(a,b){b!=a.ep&&(a.ep=b,a.Ps=!0)}e.ur=function(){};function Nt(){return 0==this.xe().length}function Ot(){var a=this.be();if(!a)return null;var b=this.Ib(),c=this.Ka?this.Ka[this.Ab()].pb:this.pb;return Ri(a,b,c)}
function Pt(){var a=this.F(),b=this.xe(),c=this.Ib();c.scale(N).round();var d=a.data("cropControls");d||(d=$('\x3cdiv class\x3d"cropControls"\x3e\x3cdiv class\x3d"viewPort"\x3e\x3cdiv class\x3d"inner"\x3e\x3cimg class\x3d"masked" /\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"cropBox cornerHandles"\x3e\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e\x3ca class\x3d"handle tl" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"handle tr" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"handle br" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"handle bl" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"move" href\x3d"#"\x3e\x3c/a\x3e\x3cimg class\x3d"uncropped" /\x3e\x3c/div\x3e\x3c/div\x3e'),d.data("canvaElement",
this),a.data("cropControls",d),d.appendTo("#overlays"));var f=d.find(".viewPort");f.css(Qt(c,0));f.children(".inner").css("width",c.w()).css("height",c.D());var g=b.attr("src")||b.attr("xlink:href"),b=d.find("img.masked, img.uncropped");b.attr("src")!=g&&b.each(function(){Rt(St,$(this),g)});var b=a.data("selectionBox"),h=Tt(b);d.css(Qt(h,this.Ma()));h=this.be();h.scale(N).round();var k=this.Ka?this.Ka[this.Ab()].pb:this.pb;Ut(f.find("img.masked"),h,k);h.translate(c.W(),c.N());c=d.find(".cropBox");
c.css(Qt(h,0));Ut(c.find("img.uncropped"),null,k);b.addClass("cropping");Vt(a);a=a.data("confirmationToolbar");Ft(a)}function Wt(a,b){var c=this.be(),d=this.Ib();d.Va(0).Wa(0);a>d.W()?a=d.W():a+c.w()<d.Ua()&&(a=d.Ua()-c.w());b>d.N()?b=d.N():b+c.D()<d.Ga()&&(b=d.Ga()-c.D());c.Va(a).Wa(b);this.Tg(c)}function Xt(a){var b=this.Ab();-1<b&&Yt(this.Ka[b],a)}
function Zt(){var a=this.F();a.removeClass("cropping");var b=a.data("confirmationToolbar"),c=a.data("cropControls");a.removeData("confirmationToolbar").removeData("cropControls");b&&b.remove();c&&c.remove();(a=a.data("selectionBox"))&&a.removeClass("cropping")}function $t(){this.F().removeClass("cropping");var a=this.xe();if(a){var b=this.Zt().scale(N).round();a.css(Qt(b,0)).attr("data-image-rect",JSON.stringify(this.be().serialize()))}}function au(){var a=this.Ab();return this.fj(0<=a?a:0)}
function bu(){var a=this.Ab();if(-1===a)return!1;a=this.gj(a);return void 0!==a.mediaId&&void 0!==a.mediaVersion}function cu(a){function b(b){if(c.data("mediaId")===a.ra&&c.data("mediaVersion")===a.ua){var d=!!b;b=!!b&&b.src||"";d&&Rt(St,c,b);a.av&&a.av(d)}}var c=a.pq;c.data("mediaId",a.ra);c.data("mediaVersion",a.ua);var d=a.Mt["print"===it?du:Ue];Rt(St,c,a.Mt[eu].ma());fu(St,d.ma()).then(b).catch(b.bind(null,void 0))}
function ht(a){var b=this;Y.call(this,a);this.background=!!a.isBackground;this.KD=!!a.isDark;this.backgroundColor=a.backgroundColor||null;this.ra="string"===typeof a.mediaId?a.mediaId:null;this.ua="number"===typeof a.mediaVersion?a.mediaVersion:null;this.Sb=void 0===a.mediaApproved||!!a.mediaApproved;gu(this)?(this.pu=!0,this.sp=!1):(this.pu=void 0!==a.isCutout,this.sp=!this.pu||a.isCutout);this.zv=!!a.isRecolorable;this.oh=!gu(this);var c=null!==this.Vb(),d=this.F();d.addClass("image").toggleClass("hasMedia",
c);if(c){var f=$("\x3cdiv\x3e").addClass("imageWrapper");f.append("\x3cimg\x3e");f.appendTo(d);this.Cb=new gt({mediaId:this.ra,mediaVersion:this.ua,mediaApproved:this.Sb},f);this.tc=et(a.filter,this.Cb);this.WA()}else this.tc=this.Cb=null;this.zv&&this.backgroundColor&&d.css("background-color",this.backgroundColor);this.Ud=new M((this.width-this.width*G.As)/2,(this.height-this.height*G.As)/2,this.width*G.As,this.height*G.As);this.Da=new M(-this.Ud.W(),-this.Ud.N(),this.width,this.height);this.Lo=
this.ya();this.kg=!1;if(d=a.imageBox)ii(this,new M(-1*d.left,-1*d.top,this.width,this.height)),this.Tg(Ei(d)),this.Lo=this.be(),this.tk(),a=Ei({left:a.left,top:a.top,width:a.width,height:a.height}),this.Zb(a);this.background&&ul(this);c||window.requestAnimationFrame(function(){K.trigger("elementLoaded",b);K.trigger("elementLoaded:image",b)})}ht.prototype=Object.create(Y.prototype);e=ht.prototype;e.constructor=ht;e.lj=Nt;e.oB=Wt;e.Fj=Zt;e.Ib=au;e.Zt=Ot;e.jj=function(){return!!this.tc};e.iF=function(){return!0};
e.cc=function(){return this.tc};e.Qp=function(){return 0};e.$i=function(a){return 0===a?this.tc:null};e.oj=function(){return!(!this.tc||!this.tc.Wk())};e.LM=ht.prototype.oj;e.wv=function(a,b){hu(this.tc,b)};e.Zi=function(){this.tc.Zi()};e.Yi=function(){this.tc.Yi()};e.vu=function(a){function b(){c.Av();K.trigger("elementLoaded",c);K.trigger("elementLoaded:image",c);a&&a()}var c=this;this.tc&&this.tc.initialize(b)};e.Av=function(){var a;this.LM()&&(a=this.F().data("toolbar"))&&a.view.Vi("filter")};
e.Vs=function(){return!this.mb()&&!this.Ef()};function gu(a){return a.Sb&&null===a.Vb()}e.appendTo=function(a){this.mb()?(Et(a,this,0),iu(a)):Y.prototype.appendTo.call(this,a)};
e.serialize=function(){var a=Y.prototype.serialize.call(this),b;this.tc&&(b=ju(this.tc))&&(a.filter=b);a.type="image";a.mediaId=this.ra;a.mediaVersion=this.ua;a.isBackground=this.background;a.isRecolorable=this.zv;a.isCutout=this.sp;a.isDark=this.KD;this.backgroundColor&&(a.backgroundColor=this.backgroundColor);this.Sb||(a.mediaApproved=!1);this.kg&&(a.imageBox=this.Da.serialize());return a};
e.pa=function(a){void 0===a&&(a=this.width);var b=this.F(),c=a!=this.width;this.Da&&c&&!b.is(".cropping")&&(b=a/this.width,this.Da.scale(b,1),this.Ud.scale(b,1));this.Cb&&Yt(this.Cb,this.kg?this.Da:new M(0,0,a,this.height));Y.prototype.pa.call(this,a)};
e.oa=function(a){void 0===a&&(a=this.height);var b=this.F(),c=a!=this.height;this.Da&&c&&!b.is(".cropping")&&(b=a/this.height,this.Da.scale(1,b),this.Ud.scale(1,b));this.Cb&&Yt(this.Cb,this.kg?this.Da:new M(0,0,this.width,a));Y.prototype.oa.call(this,a)};e.mj=function(){return null!==this.Cb};e.mo=function(a){Ri(this.Da,this.Ud,this.pb^a);this.Ud.Va(-this.Da.W());this.Ud.Wa(-this.Da.N());this.pb=a};e.cw=function(){Ut(this.F().find(".imageWrapper"),null,this.pb)};
e.Un=function(){if(G.Fw){Dt(this);var a=this.F().find(".imageWrapper");a.addClass("flipping");a.one("transitionend",function(){a.removeClass("flipping")})}};e.Ia=function(){Y.prototype.Ia.call(this);var a=this.F();if(this.kg&&!a.is(".cropping")){var b=this.Zt().scale(N).round();$("img",a).css(Qt(b,0))}};e.Ra=function(){Y.prototype.Ra.call(this);this.F().is(".cropping")?this.yp():this.Fj()};e.us=function(a){gu(this)||Bl(a,this.Vb())||(this.Jr(!1),this.ua=this.ra=null)};e.Ih=function(){return!0};
e.Vb=function(){return null!=this.ra&&null!=this.ua?new ej({id:this.ra,version:this.ua}):null};e.WA=function(){var a=this.Vb();a&&this.Mj(a.id,a.version)};e.Mj=function(a,b){function c(a){a?d.vu():K.trigger("elementLoadingError",d)}this.ra=a;this.ua=b;var d=this,f=lb.Ub(a,b);f?cu({Mt:f,pq:d.F().find("img"),ra:a,ua:b,av:c}):c(!1)};e.yq=function(){return this.Sb};e.Jr=function(a){this.Sb=a;this.F().toggleClass("unapproved",!a);this.Ra()};e.Dl=function(){};e.xe=function(){return this.F().find("img")};
e.Ab=function(){return 0};e.Wp=function(a){return 0!=a?$():$("img",this.F()).eq(0)};e.Od=function(){return 1};e.fj=function(){return this.Ud.clone()};e.gj=function(){return null};e.ej=function(){return this.Cb};e.Nj=function(){};e.sr=function(){};function ii(a,b){var c=a.Ud.W(),d=a.Ud.N();a.Ud=b.clone();a.Da.translate(c-a.Ud.W(),d-a.Ud.N())}e.be=function(){return this.Da.clone()};e.mz=function(){return!0};
e.yp=function(){if(this.page){var a=this.F();this.aw||(this.aw=!0,this.Lo=new M(this.left+(this.kg?this.Da.W():0),this.top+(this.kg?this.Da.N():0),this.Da.w(),this.Da.D()));var b=this.page.uc()||0,c=this.page.vc()||0,d=this.Lo.clone();d.scale(N).translate(b,c).round();a.data("selectionBox").css(Qt(d,this.Ma()));Pt.call(this);0==$(".viewPort .frameHandle").length&&(b=$('\x3ca class\x3d"frameHandle tl" href\x3d"#"\x3e\x3cspan class\x3d"tl"\x3e\x3c/span\x3e\x3c/a\x3e\x3ca class\x3d"frameHandle tr" href\x3d"#"\x3e\x3cspan class\x3d"tr"\x3e\x3c/span\x3e\x3c/a\x3e\x3ca class\x3d"frameHandle br" href\x3d"#"\x3e\x3cspan class\x3d"br"\x3e\x3c/span\x3e\x3c/a\x3e\x3ca class\x3d"frameHandle bl" href\x3d"#"\x3e\x3cspan class\x3d"bl"\x3e\x3c/span\x3e\x3c/a\x3e'),
(a=a.data("cropControls"))&&a.find(".viewPort").append(b))}};e.ff=function(){Y.prototype.ff.call(this);this.Fj()};e.Tg=function(a){this.Da=a.clone()};e.tk=function(){$t.call(this);var a=this.F();this.xe().css("position","absolute");a.css("overflow","hidden");var b=this.Ud.clone();b.translate(this.Lo.W(),this.Lo.N());a.addClass("cropping");this.Zb(b);a.removeClass("cropping");this.Ud.Va(-this.Da.W()).Wa(-this.Da.N());this.kg=!0;this.aw=!1};
function ul(a){var b=a.yc();a.background=!0;a.oh=!1;a.F().addClass("background");a.page&&(Et(a.page,a,0),iu(a.page),a.page.trigger("change:background",a.page));a.yc()!==b&&a.Ra();a.md()}function ku(a){var b=a.yc();a.background=!1;a.oh=!gu(a);a.F().removeClass("background");a.Ef()&&null!==a.backgroundColor&&a.jo(null);a.yc()!==b&&a.Ra();a.page&&a.page.trigger("change:background",a.page);a.md()}e.mb=function(){return this.background};e.nD=function(){return!0};
e.yc=function(){return this.Ef()?this.mb():this.zv};e.Ef=function(){var a=this;this.pu||null===this.Vb()||(this.pu=!0,gb.rb(this.ra,(new lu).ag(this.ua),function(b,c){a.sp=c.Aa().Ef()}));return this.sp};e.Bb=function(){var a=[];if(this.yc()){var b=rf(this.backgroundColor||G.yw);b&&a.push(b)}return a};e.Wm=function(){return this.Bb().length};e.Af=function(){return null!==this.backgroundColor?rf(this.backgroundColor):null};
e.jo=function(a){var b=this.F();a?(this.backgroundColor=a.qa(),b.css("background-color",this.backgroundColor)):(this.backgroundColor=null,b.css("background-color",""));this.mb()&&this.page&&this.page.trigger("change:background",this.page);this.md()};e.He=function(a,b){if(0!==a)throw Error("ImageElement.setChangeableColorAtIndex - invalid index: "+a.toString());this.jo(b)};e.Bg=function(){if(this.cd)return this.cd;var a=new Ik;this.Bb().forEach(function(b){Lk(a,b)});return this.cd=a};
function Qk(a){this.Qn=[];this.Na=this.ub=this.Jw=null;this.nb=$();this.Co=[];this.JB=$();this.Ka=[];this.Ob=[];this.AF=this.loaded=!1;Y.call(this,a);if(void 0!==a&&void 0!==a.mediaId){this.ra=a.mediaId;this.ua=a.mediaVersion;this.Sb=void 0===a.mediaApproved?!0:a.mediaApproved;var b=this.F();b.addClass("svg");var c=$('\x3cimg class\x3d"placeholder" /\x3e');b.append(c);this.listenTo(this,"change:fontSize",this.qG);this.listenTo(this,"change:fontFamily",this.qG);this.contents=a.contents?a.contents.slice(0):
null;a.scale&&(this.scale=a.scale);this.Tj=null;a.svgMetadata&&(this.Tj=a.svgMetadata);a.fillColors&&(this.yf=a.fillColors.map(function(a){return{index:a.index,color:mu(a.color)}}),Object.freeze(this.yf));this.Mj(this.ra,this.ua)}}Qk.prototype=Object.create(Y.prototype);e=Qk.prototype;e.constructor=Qk;e.lj=Nt;e.Fj=Zt;e.Ib=au;e.mz=bu;e.Zt=Ot;e.Ji=Os;e.kt=Us;e.wc=ws;e.eu=Ms;e.Lk=Ls;e.Zm=Ks;e.Mk=Gs;e.du=Ds;e.ao=Js;e.ul=Ns;e.Kv=Ts;e.Fr=Vs;e.ni=zs;e.setColor=ys;e.Mv=Is;e.Lj=ns;e.Ir=os;e.Sf=rs;e.fd=us;
e.Hr=vs;e.oi=As;e.Vg=xs;e.no=Ps;e.Nv=Qs;e.oo=Hs;e.po=Fs;e.Fl=Bs;e.Hl=Es;e.Uv=Rs;e.mj=function(){return this.AF};e.xq=function(){return!0};e.jn=function(){return this.nb&&0<this.nb.length};e.jj=function(){return this.Ob&&0<this.Ob.length};e.cw=function(){Ut(this.F().children("svg"),null,this.pb)};e.Un=function(){Dt(this);var a=this.F().children("svg");a.get(0).classList.add("flipping");a.one("transitionend",function(){a.get(0).classList.remove("flipping")})};
e.us=function(a){Bl(a,this.Vb())||(this.Jr(!1),this.ua=this.ra=null)};e.Ih=function(){return!0};
e.Rs=function(a,b){function c(){h.nb.each(function(a,b){h.ri(a,h.Wb(a),x,!0);$(b).css("opacity","")});h.Ia();k.forEach(function(a){var b=a.index,c=h.Qa(b);h.ri(b,a,function(b){b&&void 0!==a.lineLengths&&hs(c,a.lineLengths);x()},!0)});h.Qn=nu(n,".photoPlaceholder");h.oh=0<h.Od();ou(n,h.Qn);pu(n,h.Qn);qu(n,h.Qn);l&&(h.Ka=ft(l,h.Od(),g),h.Ob=dt(l,h.Ka),Object.freeze(h.Ob),Object.freeze(h.Ka));h.Ka.forEach(function(a,b){Gi(a.Kk(),Fi)&&Yt(a,ru(h,b))});ct(h,function(){v=!0;f()})}function d(){q=!0;window.setTimeout(f,
0)}function f(){v&&q&&!h.loaded&&(h.Fb(),h.loaded=!0,n.css("position","absolute"),b&&b(!0))}var g=this.F(),h=this,k=this.contents?this.contents.filter(function(a){return"text"==a.type}):[],l=this.contents?this.contents.filter(function(a){return"image"==a.type}):[];if(su(a,!0)){var m=tu();a=uu(a,m);var n=$(a).filter("svg");vu(n);n=$(n.get(0).cloneNode(!0));n.appendTo(g);this.ub=wu(n);this.width&&this.height||(this.pa(this.ub.w()),this.oa(this.ub.D()));this.nb=xu(n,Sb(this.C));this.nb.css("opacity",
0).data("canvaElement",this).appendTo(g);yu(this);zu(this).each(function(){var a=$(this).data("designObject");h.listenTo(a,"change:width",h.pG);h.listenTo(a,"change:height",h.oG)});a=Au(n,this.nb);this.Co=a.Co;this.Co.forEach(function(a){h.listenTo(a,"change",h.uG)});this.JB=a.tL;this.JB.appendTo(g);this.yf&&this.yf.forEach(function(a){h.He(a.index,a.color)});var p=[],r=[];this.nb.each(function(){var a=$(this).data("fontFamily"),b=$r($(this)).bf;a&&p.push(a);p=p.concat(b)});k.forEach(function(a){var b=
ks('\x3cfont face\x3d"'+a.fontFamily+'"\x3e\x3c/font\x3e'+a.html);p=p.concat(b);a.lineLengths&&h.Qa(a.index).data("cachedLineLengths",a.lineLengths);a.fontMedia&&(r=r.concat(fj(a.fontMedia)));Array.isArray(a.htmlFontMedia)&&(r=r.concat(a.htmlFontMedia.map(fj)))});r=r.filter(Boolean);h.Na=Bu(n);h.Na&&(h.scale&&Cu(h),h.pa(h.w()),h.oa(h.D()));var q=!1,v=!1;a=this.nb.length+k.length;var x=_.after(a,d);0===a&&d();this.md();Du(ob,r,p,c)}else b(!1)};
e.Ia=function(){Y.prototype.Ia.call(this);Eu(this);Rk(this);Fu(this)};e.cc=function(){var a=this.Ab();return-1<a?this.Ob[a]:null};e.Qp=function(){return this.Ab()};e.$i=function(a){return this.Ob[a]||null};e.oj=function(){return!(!this.cc()||!this.cc().Wk())};e.Zi=function(){this.cc()&&this.cc().Zi()};e.Yi=function(){this.cc()&&this.cc().Yi()};e.Av=function(){if(this.cc()&&this.cc().Wk()){var a=this.F().data("toolbar");a&&a.view.Vi("filter")}};e.wv=function(a,b){hu(this.Ob[a],b)};
e.qG=function(a,b){(a=b.data("designObject"))&&this.loaded&&Gu(a)};var Hu=0;function tu(){Hu=Hu==Math.pow(2,53)?0:Hu+1;return"CANVA"+Hu+"_"}function Iu(a){return 0<$("g",a).filter(function(){return-1!="nw n ne w c e sw s se".split(" ").indexOf(this.id)}).length}
function Bu(a){function b(a,b){var c=b.firstElementChild;c?b.insertBefore(a,c):b.appendChild(a)}function c(a,c,d,f,g){if(0!=a.length){var h=a.get(0),k=document.createElementNS("http://www.w3.org/2000/svg","g"),l=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),m=tu(),n=tu(),r=document.createElementNS("http://www.w3.org/2000/svg","rect"),q=document.createElementNS("http://www.w3.org/2000/svg","rect"),W=a.get(0).cloneNode(!0),Q=document.createElementNS("http://www.w3.org/2000/svg",
"rect");l.id=m;r.setAttribute("width",f);r.setAttribute("height",g);r.setAttribute("x",c);r.setAttribute("y",d);l.appendChild(r);k.id=n;W.removeAttribute("id");$("g.canva, .textPlaceholder, .photoPlaceholder",W).remove();k.appendChild(W);p.appendChild(k);p.appendChild(l);a.children(":not(.canva)").remove();a.data("clipId",m);a.data("useId",n);h.setAttribute("clip-path","url(#"+m+")");Q.setAttribute("width",f);Q.setAttribute("height",g);Q.setAttribute("x",c);Q.setAttribute("y",d);Q.setAttribute("class",
"repeat");Q.setAttribute("visibility","hidden");Q.setAttribute("pointer-events","none");q.setAttribute("width",f);q.setAttribute("height",g);q.setAttribute("class","repeat");q.setAttribute("visibility","hidden");q.setAttribute("pointer-events","none");q.setAttribute("class","canva dimensions");b(Q,h);h.insertBefore(q,Q);h.setAttribute("class","canva tiled");Ju(a)}}if(!Iu(a))return null;var d=a.parent(),f=a.prev(),g=wu(a),h={left:0,right:0,top:0,bottom:0,repeat:!1,wl:!0,ei:!0},k=$("\x3cdiv\x3e\x3c/div\x3e");
k.appendTo($("#limbo"));k.css("opacity",0).css("width",g.w()*N).css("height",g.D()*N).append(a);var l=a.get(0),m=g.w(),n=g.D();$("g",a).each(function(a,b){-1!=["n","e","s","w"].indexOf(b.id)&&(h.repeat|=b.classList.contains("repeat"));-1!=["ne","e","se"].indexOf(b.id)?(h.right=Math.max(h.right,m-b.getBBox().x),h.right==m&&(h.right=0)):-1!=["n","c","s"].indexOf(b.id)&&(h.left=Math.max(h.left,b.getBBox().x));-1!=["sw","s","se"].indexOf(b.id)?(h.bottom=Math.max(h.bottom,n-b.getBBox().y),h.bottom==n&&
(h.bottom=0)):-1!=["w","c","e"].indexOf(b.id)&&(h.top=Math.max(h.top,b.getBBox().y))});h.wl=!l.classList.contains("verticalOnly");h.ei=!l.classList.contains("horizontalOnly");if(h.repeat){var p=document.createElementNS("http://www.w3.org/2000/svg","defs");b(p,l);var g=h.left+h.right,r=h.top+h.bottom,q=l.classList.contains("horizontalOnly"),l=l.classList.contains("verticalOnly");c($("g#n",a),h.left,0,m-g,q?n:h.top);c($("g#s",a),h.left,n-h.bottom,m-g,q?n:h.bottom);c($("g#c",a),h.left,h.top,m-g,n-r);
c($("g#w",a),0,h.top,l?m:h.left,n-r);c($("g#e",a),m-h.right,h.top,l?m:h.right,n-r)}0<d.length?0<f.length?a.insertAfter(f):a.prependTo(d):a.detach();k.remove();return h}
function Ju(a){var b=a.data("clipId"),c=a.data("useId"),d=a.get(0);if(b&&c){var b=d.querySelector(".repeat"),f=d.querySelector(".dimensions");if(b&&f){var g=Number(b.getAttribute("width")),h=Number(b.getAttribute("height")),b=Number(f.getAttribute("width")),f=Number(f.getAttribute("height")),g=Math.ceil(g/b),h=Math.ceil(h/f);if(!(isNaN(g*h)||!isFinite(g*h)||0>h||0>g||g===Number(a.data("columns"))&&h===Number(a.data("rows")))){a.find("use").remove();for(var k=0;k<g;k++)for(var l=0;l<h;l++){var m=document.createElementNS("http://www.w3.org/2000/svg",
"use"),n=k*b-.5*k,p=l*f-.5*l;m.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+c);m.setAttribute("transform","translate("+n+","+p+")");d.appendChild(m)}a.data("columns",g);a.data("rows",h)}}}}
function nu(a,b){var c=[];if(0===a.find(b).length)return c;var d=a.parent(),f=a.prev(),g=wu(a),h=$("\x3cdiv\x3e\x3c/div\x3e");h.appendTo($("#limbo"));h.css("width",g.w()).css("height",g.D());a.appendTo(h);a.attr("stroke","transparent").attr("stroke-width",0).forceLayout();var k=a.get(0).getBoundingClientRect();$(b,a).each(function(a,b){a=$(b).clone();a.attr("fill","transparent").appendTo($(b).parents("g, svg").first()).forceLayout();b=df(a.get(0).getBoundingClientRect());a.remove();b.translate(-k.left,
-k.top);c.push(b)});0<d.length?0<f.length?a.insertAfter(f):a.prependTo(d):a.detach();h.remove();return c}
function xu(a,b){var c=$(),d=nu(a,".textPlaceholder"),f=$(".canva .textPlaceholder",a);d.forEach(function(a,d){var k=f.eq(d),l=k.data()||{},m=$(['\x3cdiv class\x3d"text"\x3e\x3cdiv class\x3d"inner"\x3e',l.placeholderText||b.format("documentSvgPlaceholderText"),"\x3c/div\x3e\x3c/div\x3e"].join(""));m.data("textIndex",d).data("placeholderElement",k).data("placeholderText",l.placeholderText).data("rect",a).data("justification",l.justification||"center").css("text-align",l.justification||"center").data("fontSize",
l.fontSize||G.ys).css("font-size",(l.fontSize||G.ys)*G.Qe+"%").data("defaultFontSize",l.fontSize||G.ys).data("original-fill",l.fill).data("is-primary-color",l.fill&&Ku.equals(rf(l.fill))).data("is-secondary-color",l.fill&&Lu.equals(rf(l.fill))).data("is-tertiary-color",l.fill&&Mu.equals(rf(l.fill))).data("fill",l.fill).css("color",l.fill||"").data("fontName",l.fontName).data("fontFamily",l.fontFamily).css("font-family",l.fontFamily?l.fontFamily:"").data("bold",l.bold).data("italic",l.italic).data("lineSpacing",
l.lineSpacing||G.yC).css("line-height",l.lineSpacing||G.yC).data("dynamicFontSize",l.dynamicFontSize).data("dynamicHeight",l.dynamicHeight).data("dynamicWidth",l.dynamicWidth);0<k.parents().filter(function(){return this.classList.contains("stack")}).length||Nu(m);a=new Ou(m,0,0);m.data("designObject",a);c=c.add(m)});return c}
function Au(a,b){function c(a,b,c){var d=[];$(a).find(".textPlaceholder").each(function(f,g){f=c.filter(function(){return $(this).data("placeholderElement").get(0)==g});if(1===f.length){var r=new Ou(f.eq(0),b.W(),b.N());f.data("stackId",a.getAttribute("data-stack-id")).data("designObject",r);d.push(r)}});return d}var d=$(),f=[],g=nu(a,".canva.stack");a.find(".canva.stack").each(function(a,k){a=g[a];var l=0<$(k).parents("#n, #c, #s").length,m=0<$(k).parents("#w, #c, #e").length,n=c(k,a,b);a={valign:k.getAttribute("data-valign"),
box:a.serialize(),resizeHorizontal:l,resizeVertical:m,contents:n};a=new Pu(a);f.push(a);l=$('\x3cdiv class\x3d"stack"\x3e\x3c/div\x3e');m=b.filter(function(){return $(this).data("stackId")==k.getAttribute("data-stack-id")});l.data("sourceElement",k).data("stack",a).append(m);d=d.add(l)});return{Co:f,tL:d}}
function Nu(a){var b=a.data("placeholderElement"),c=0<b.parents("#n, #c, #s").length,b=0<b.parents("#w, #c, #e").length;c||b?b?a.data("dynamicHeight",!0):c&&a.data("dynamicWidth",!0):a.data("dynamicFontSize",!0)}function ou(a,b){b.forEach(function(b,d){var f=new M(0,0,G.GC,G.FC);Oi(f,b);a.find("image.placeholder").eq(d).attr("x",f.W()).attr("y",f.N()).attr("width",f.w()).attr("height",f.D())})}
function pu(a,b){b.forEach(function(b,d){var f=Math.max(b.w(),b.D()),f=new M(0,0,f,f);d=a.find("image.placeholder").eq(d);var g=document.createElementNS("http://www.w3.org/2000/svg","rect");Ni(Oi(f,b).scale(Math.max(1,G.Yo)),b);Hi(f)&&(g.classList.add("vignette"),$(g).appendTo(d.parent()).attr("fill","none").attr("clip-path",d.attr("clip-path")).attr("x",f.W()).attr("y",f.N()).attr("width",f.w()).attr("height",f.D()))})}
function qu(a,b){b.forEach(function(b,d){d=a.find("image.placeholder").get(d);var f=d.cloneNode(!0);f.classList.remove("placeholder");f.classList.add("broken");b=Ni(b.clone().scale(.33),b);$(f).appendTo(d.parentNode).attr("x",b.W()).attr("y",b.N()).attr("width",b.w()).attr("height",b.D());f.setAttributeNS("http://www.w3.org/1999/xlink","href","https://static.canva.com/static/images/broken_image_icon.svg")})}
function Qu(a,b,c,d){if(!c)return b.clone().scale(d.scale);b=b.clone();b.scale(d.scale);c=a.parents("g#ne, g#e, g#se");0<c.length&&(c=c.data("offsetX")||0,b.translate(d.scale*c,0));c=a.parents("g#n, g#c, g#s");0<c.length&&(c=c.data("deltaX")||0,Mi(b,c*d.scale,0));c=a.parents("g#sw, g#s, g#se");0<c.length&&(c=c.data("offsetY")||0,b.translate(0,d.scale*c));c=a.parents("g#w, g#c, g#e");0<c.length&&(a=c.data("deltaY")||0,Mi(b,0,a*d.scale));return b}e=Qk.prototype;
e.pG=function(a,b){if(this.Na&&this.Na.wl&&0!==b){var c=Mi(this.ya(),b,0);switch(a.bg.data("justification")){case Ru:c.translate(-b/2,0);break;case Su:c.translate(-b,0)}Tu(this,c);this.Fb()}};e.oG=function(a,b){this.Na&&this.Na.ei&&0!==b&&(a=Mi(this.ya(),0,b),a.translate(0,-b/2),Tu(this,a),this.Fb())};function Tu(a,b){var c=a.Ra,d=a.Fb;a.Ra=function(){};a.Fb=function(){};a.Zb(b);a.Fb=d;a.Ra=c}
e.uG=function(a){if(this.Na&&(this.Na.wl||this.Na.ei)){var b=!1,c=a.ya(),d=this.F().children(".stack").filter(function(){return $(this).data("stack")===a}),d=Qu($(d.data("sourceElement")),a.Vp(),!0,Uu(this));if(this.Na.ei){var f=c.Ga()-d.Ga(),b=b||0!==f;this.oa(this.D()+f)}this.Na.wl&&(c=c.Ua()-d.Ua(),b=b||0!==c,this.pa(this.w()+c));b&&this.Ia()}};
function Cu(a){var b,c=a.ub;b={scale:a.scale,deltaX:a.w()/a.scale-c.w(),deltaY:a.D()/a.scale-c.D()};var c=b.scale,d=b.deltaX;b=b.deltaY;a.setSize(a.ub.w()*c,a.ub.D()*c);d&&a.pa(c*d+a.w());b&&a.oa(c*b+a.D())}
e.setSize=function(a,b){var c=this.width;Vu(a,this.width)&&!Vu(b,this.height)?this.oa(b):Vu(b,this.height)&&!Vu(a,this.width)?this.pa(a):(Y.prototype.pa.call(this,a),Y.prototype.oa.call(this,b),Eu(this),Fu(this),yu(this),void 0!==a&&!isNaN(a)&&isFinite(a)&&this.Ka.forEach(function(b){var f=b.Kk();f.scale(a/c);Yt(b,f)}))};
e.pa=function(a){var b;Y.prototype.pa.call(this,a);if(this.Na&&void 0!==this.width&&void 0!==a&&0!=$("svg",this.F()).length){this.nb.each(function(){var a=$(this);a.data("dynamicWidth")&&is(a)});b=wu($("svg",this.F()));b.D()==this.ub.D()?(a=this.ub.D()*this.width/this.height,b=this.ub.clone()):(a=b.D()*this.width/this.height,b=b.clone());b.pa(a);b=[b.W(),b.N(),b.w(),b.D()].join(" ");$("svg",this.F()).get(0).setAttribute("viewBox",b);b=this.Na.left+this.Na.right;var c=this.ub.w()-b,d=a-b,f=d/c,g=-this.Na.left*
(f-1),h=this;$("g#n, g#c, g#s",this.F()).each(function(){var a=void 0===$(this).data("scaleY")?1:$(this).data("scaleY"),b=$(this).data("offsetY")||0;"c"==this.id&&(b=-h.Na.top*(a-1));h.Na.repeat?($(".repeat",this).attr("width",d),(a=$("#"+$(this).data("clipId")+" rect").get(0))&&a.setAttribute("width",d)):$(this).attr("transform","translate("+g.toString()+", "+b.toString()+") scale("+f.toString()+", "+a.toString()+")");$(this).data("deltaX",d-c).data("scaleX",f)});var k=d-c-1;$("g#ne, g#e, g#se",
this.F()).each(function(){var a=$(this).data("offsetY")||0,b=void 0===$(this).data("scaleY")?1:$(this).data("scaleY");"e"==this.id&&(a=-h.Na.top*(b-1));"e"==this.id&&h.Na.repeat?$(this).attr("transform","translate("+k.toString()+")").data("offsetX",k):$(this).attr("transform","translate("+k.toString()+", "+a.toString()+") scale(1, "+b.toString()+")").data("offsetX",k)});$("g#nw, g#w, g#sw",this.F()).each(function(){var a=$(this).data("offsetY")||0,b=void 0===$(this).data("scaleY")?1:$(this).data("scaleY");
"w"==this.id&&(a=-h.Na.top*(b-1));"w"==this.id&&h.Na.repeat?$(this).attr("transform","translate(1, 0)").data("offsetX",1):$(this).attr("transform","translate(1,"+a.toString()+") scale(1,"+b.toString()+")").data("offsetX",1)});Eu(this);Fu(this)}};
e.oa=function(a){Y.prototype.oa.call(this,a);if(this.Na&&void 0!==this.height&&void 0!==a&&0!=$("svg",this.F()).length){var b;b=wu($("svg",this.F()));b.w()==this.ub.w()?(a=this.ub.w()*this.height/this.width,b=this.ub.clone()):(a=b.w()*this.height/this.width,b=b.clone());b.oa(a);$("svg",this.F()).get(0).setAttribute("viewBox",b.W()+" "+b.N()+" "+b.w()+" "+b.D());b=this.Na.top+this.Na.bottom;var c=this.ub.D()-b,d=a-b,f=d/c,g=-this.Na.top*(f-1),h=this;$("g#w, g#c, g#e",this.F()).each(function(){var a=
void 0===$(this).data("scaleX")?1:$(this).data("scaleX"),b=$(this).data("offsetX")||0;"c"==this.id&&(b=-h.Na.left*(a-1));h.Na.repeat?($(".repeat",this).attr("height",d),(a=$("#"+$(this).data("clipId")+" rect").get(0))&&a.setAttribute("height",d)):$(this).attr("transform","translate("+b.toString()+", "+g.toString()+") scale("+a.toString()+", "+f.toString()+")");$(this).data("deltaY",d-c).data("scaleY",f)});var k=d-c-1;$("g#sw, g#s, g#se",this.F()).each(function(){var a=$(this).data("offsetX")||0,b=
void 0===$(this).data("scaleX")?1:$(this).data("scaleX");"s"==this.id&&(a=-h.Na.left*(b-1));"s"==this.id&&h.Na.repeat?$(this).attr("transform","translate(0, "+k.toString()+")").data("offsetY",k):$(this).attr("transform","translate("+a.toString()+", "+k.toString()+") scale("+b.toString()+", 1)").data("offsetY",k)});$("g#nw, g#n, g#ne",this.F()).each(function(){var a=$(this).data("offsetX")||0,b=void 0===$(this).data("scaleX")?1:$(this).data("scaleX");"n"==this.id&&(a=-h.Na.left*(b-1));"n"==this.id&&
h.Na.repeat?$(this).attr("transform","translate(0, 1)").data("offsetY",1):$(this).attr("transform","translate("+a.toString()+", 1) scale("+b.toString()+", 1)").data("offsetY",1)});Eu(this);Fu(this)}};function Wu(a){return a.ub?a.w()/a.ub.w():0}
function Uu(a){var b={scale:Wu(a),deltaX:0,deltaY:0};if(!a.Na)return b;var c,d=wu($("svg",a.F()));a.ub.w()!=d.w()&&a.ub.D()!=d.D()?c=a.width/d.w():a.ub.D()==d.D()?c=a.height/a.ub.D():(a.ub.w(),d.w(),c=a.width/a.ub.w());b.scale=c;b.deltaX=d.w()-a.ub.w();b.deltaY=d.D()-a.ub.D();return b}
function Rk(a){a.nb.each(function(){var b=$(this),c=b.data("fontSize"),d=void 0!==b.data("stackId"),f=Uu(a),c=c*f.scale;b.css("font-size",c*G.Qe+"%");!d&&b.data("placeholderElement")&&b.data("rect")&&b.data("designObject")&&(d=b.data("placeholderElement"),c=b.data("rect").clone(),c=Qu(d,c,!!a.Na,f),f=b.data("designObject"),a.stopListening(f,"change:width"),a.stopListening(f,"change:height"),f.Zb(c),a.listenTo(f,"change:width",a.pG),a.listenTo(f,"change:height",a.oG),c.scale(N).round(),b.css(c.serialize()))})}
function zu(a){return a.nb.filter(function(){return 0==$(this).data("placeholderElement").parents().filter(function(){return this.classList.contains("stack")}).length})}function yu(a){if(a.nb&&0!=a.nb.length){var b=zu(a),c=Uu(a);b.each(function(){$(this).data("designObject").scale(c.scale)})}}function Eu(a){a.F().find(".canva.tiled").each(function(){Ju($(this))})}
function Fu(a){a.Co.forEach(function(b,c){var d=Uu(a),f=a.F().find(".canva.stack").eq(c),f=Qu(f,b.Vp(),!!a.Na,d),g=f.clone().scale(N).round();a.JB.eq(c).css(g.serialize());a.stopListening(b,"change");b.Zb(f,d.scale);b.ja();a.listenTo(b,"change",a.uG)})}e.remove=function(){this.nb.each(function(){var a=$(this);a.hasClass("focused")&&0<a.parents("#overlays").length&&Ss(a)});Y.prototype.remove.call(this);this.stopListening();this.nb.remove();this.Co.forEach(function(a){a.remove()})};
e.ff=function(){Y.prototype.ff.call(this);this.Fj()};e.YA=function(){var a=$(this.F()).data("toolbar");a&&a.remove()};
e.Ra=function(){Y.prototype.Ra.call(this);Xu(this);var a=this.F(),b=a.data("selectionBox");b&&this.Na&&(this.Na.ei&&b.addClass("verticalScale"),this.Na.wl&&b.addClass("horizontalScale"));if(a.is(".cropping"))this.yp();else{this.Fj();var c=this,b=$("#overlays");0!==b.length&&(b=b.find(".svg.text.focused"),b=b.filter(function(){return c==$(this).data("canvaElement")}),a=a.data("toolbar"))&&(0<b.length&&a.view.$el.filter(".toolbar--font").length&&Yu(a),this.Ka.length&&(b=-1<this.Ab(),a.view.Qv("imageDelete",
"crop","filter"),a.view.Cd("imageDelete",b),a.view.Cd("crop",b),a.view.Cd("filter",b&&Zu(this.Ka[this.Ab()]))),Ft(a))}};e.Vb=function(){return null!==this.ra&&null!==this.ua?new ej({id:this.ra,version:this.ua}):null};e.Vy=function(){for(var a=[],b=0;b<this.Od();b++){var c=this.ej(b);c&&a.push(c)}return a};e.zu=function(){return!0};e.Gl=function(a){Rt(St,this.F().find("img.placeholder"),a)};e.Mj=function(a,b){this.ra=a;this.ua=b;(a=lb.Ub(a,b))?$u(this,a):K.trigger("elementLoadingError",this)};
function $u(a,b){function c(a){a=window.atob(a.substr(a.indexOf(",")+1));k.Rs(a,f)}function d(a,b){var c=0>a.indexOf("?")?"?":"\x26",g;g=$.ajax({dataType:"text",url:a});g.done(function(a){k.Rs(a,f)});g.fail(function(){b?K.trigger("elementLoadingError",k):d(a+c,!0)})}function f(a){if(a){var b=k;b.F().children("img.placeholder").remove();b.Ia()}h(a)}function g(a){function b(a){var c=!!a;k.Gl(c&&a.src||"");k.F().find("img.placeholder").removeClass("placeholder");k.F().addClass("raster");h(c)}fu(St,a).then(b).catch(b.bind(null,
void 0))}function h(a){a?window.requestAnimationFrame(function(){k.Ia();k.ur();K.trigger("elementLoaded",k);K.trigger("elementLoaded:svg",k)}):K.trigger("elementLoadingError",k)}var k=a;a=b["print"==it?du:Ue];b=b[eu];var l=a.ma();a.url.match(/^data:image\/svg\+xml;base64,/i)?c(l):a.url.match(/\.svg(\?|$)/)?(k.Gl("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"),d(a.ma())):(k.Gl(b.ma()),g(a.ma()))}e.yq=function(){return this.Sb};
e.Jr=function(a){this.Sb=a;this.F().toggleClass("unapproved",!a);this.Ra()};function av(a){a=1/Wu(a)/N;return"stroke-width: "+1*a+"px; "+("stroke-dasharray: "+3*a+" "+3*a+";")}function Xu(a){var b=a.xe();bv(a);0<b.length&&(b=b.get(0),b.getAttribute("xlink:href")!=G.Fi&&b.classList.add("active"),b.parentNode.querySelector(".outline").setAttribute("style",av(a)))}
function bv(a){cv(a).each(function(){this.classList.contains("active")&&(this.classList.remove("active"),this.parentNode.querySelector(".outline").removeAttribute("style"))})}e.lk=function(){bv(this)};e.Dl=function(a){this.lj()||(this.Jw=a,Xu(this),(a=this.F().data("toolbar"))&&Gt(a,this))};e.gj=function(a){return(a=this.Ka[a])?a.serialize():null};e.ej=function(a){return this.Ka[a]||null};
e.Nj=function(a,b){function c(){d.trigger("placeholderImage:loaded",a)}var d=this,f=this.Ka[a];b.mediaId?Yt(dv(ev(fv(f,b.mediaId,b.mediaVersion,c),b.origin?new cj(b.origin):null),b.mediaApproved),Ei(b.imageBox)).mo(b.flipOrientation):this.sr(a)};e.mH=function(){this.sr(this.Ab())};e.sr=function(a){a===this.Ab()&&(this.Jw=null,bv(this));var b=ru(this,a);Yt(gv(this.Ka[a]),b);this.Ob[a].remove()};function ru(a,b){a=a.fj(b);b=new M(0,0,G.GC,G.FC);a&&Oi(b,a).translate(-a.W(),-a.N());return b}
function cv(a){return a.F().find("svg image.placeholder")}function hv(a){return cv(a).filter(function(){return $(this).attr("xlink:href")!=G.Fi}).first()}e.xe=function(){return this.Jw||hv(this)};e.Ab=function(){return cv(this).index(this.xe())};e.Wp=function(a){return cv(this).eq(a)};e.Od=function(){return this.Qn.length};
e.yp=function(){Pt.call(this);var a=this.F().data("cropControls");$(".viewPort",a).css("display","none");if(0==$("svg",a).length){var b=this.xe().clone().get(0),c=this.Ib().scale(1/Wu(this)).round(),d=document.createElementNS("http://www.w3.org/2000/svg","svg"),f=document.createElementNS("http://www.w3.org/2000/svg","g"),c=[c.W(),c.N(),c.w(),c.D()].join(" ");d.appendChild(f);f.appendChild(b);d.setAttribute("viewBox",c);b=$(d).children("g").get(0);b.classList.add("cropLayer");b.classList.add("masked");
a.append(d)}d=this.Ib();d.scale(N).round();a.find("svg").css("transform",Pk({Le:d.W(),Me:d.N()})).css("width",d.w()).css("height",d.D())};e.oB=function(a,b){Wt.call(this,a,b);b=this.F().data("cropControls");a=this.xe();b=$("g.cropLayer image",b);var c=this.Ib(),d=this.be();d.translate(c.W(),c.N()).scale(1/Wu(this));a.attr("x",d.W()).attr("y",d.N());b.attr("x",d.W()).attr("y",d.N())};
e.Tg=function(a){Xt.call(this,a);var b=this.F().data("cropControls"),b=$("g.cropLayer image",b),c=this.Ib();a=a.clone();a.translate(c.W(),c.N()).scale(1/Wu(this));b.attr("x",a.W()).attr("y",a.N()).attr("width",a.w()).attr("height",a.D())};e.fj=function(a){var b=Wu(this);a=this.Qn[a].clone();a.scale(b);return a};
e.be=function(){var a=this.xe(),b=this.Ib(),a=new M(parseFloat(a.attr("x")),parseFloat(a.attr("y")),parseFloat(a.attr("width")),parseFloat(a.attr("height")));a.scale(Wu(this)).translate(-b.W(),-b.N());return a};e.tk=function(){var a=this.F();a.removeClass("cropping");var b=this.xe(),a=a.data("cropControls"),a=$("g.cropLayer image",a);b.attr("x",a.attr("x"));b.attr("y",a.attr("y"));b.attr("width",a.attr("width"));b.attr("height",a.attr("height"))};
e.serialize=function(){function a(a,b){a=a===iv?iv:a.qa();return{index:b,color:a}}var b=Y.prototype.serialize.call(this);b.type="svg";b.mediaId=this.ra;b.mediaVersion=this.ua;this.Sb||(b.mediaApproved=!1);0!==Wu(this)&&(b.scale=Uu(this).scale);var c=this,d=[],f;this.loaded?(this.Ka.forEach(function(a,b){if(Zu(a)||!a.Sb)a=a.serialize(),(b=ju(c.Ob[b]))&&(a.filter=b),d.push(a)}),this.nb&&this.nb.each(function(a){a=c.Wb(a);a.type="text";d.push(a)}),0<d.length&&(b.contents=d),f=this.Bb().map(a),0<f.length&&
(b.fillColors=f),(f=jv(this))?b.svgMetadata=f:this.Tj&&(b.svgMetadata=this.Tj)):(this.scale&&(b.scale=this.scale),this.contents&&(b.contents=this.contents.slice(0)),this.yf&&(b.fillColors=this.yf.map(function(b,c){return a(b.color,c)})),this.Tj&&(b.svgMetadata=this.Tj));return b};
function jv(a){function b(a){return{left:a.x,top:a.y,width:a.width,height:a.height}}try{var c=a.F().children("svg"),d={};d.viewBox={width:a.ub.w(),height:a.ub.D(),left:a.ub.W(),top:a.ub.N()};d.textHolderBoxes=c.find(".textPlaceholder").toArray().map(function(a){return b(a.getBBox())});d.photoHolderBoxes=cv(a).toArray().map(function(a){a=(a=a.getAttribute("clip-path"))&&a.match(/url\((.*)\)/);Ba(!!a,"SVG image placeholder's clip-path attribute is missing or invalid.");a=c.find(a[1]);Ba(1===a.length,
"SVG image placeholder's clipPath element is missing or ambiguous.");return b(a[0].getBBox())});d.fillColors=Object.keys(kv(a)).sort().map(function(a){return c.find("."+a).attr("data-color")});if(a.Na){var f=c.find("g[id\x3dc]")[0]||c.find("g[id\x3dn], g[id\x3dw]")[0];d.centerBox=b(f.getBBox());d.tile=!!a.Na.repeat}return d}catch(g){return lv().log("Failed to serialize SVG metadata.",g),null}}e.sd=function(){return this.nb?this.nb.filter(".focused"):$()};e.kq=function(){return 0<this.sd().length};
e.Bg=function(){function a(a,c){$r($(c)).zf.forEach(b)}function b(a){(a=rf(a))&&Lk(c,a)}if(this.cd)return this.cd;var c=new Ik;this.nb&&this.nb.each(a);this.Bb().forEach(function(a){a instanceof nj&&Lk(c,a)});return this.cd=c};e.Qa=function(a){return this.nb?this.nb.eq(a):$()};e.$a=function(){return this.nb.index(this.sd())};
e.Wb=function(a){if(0>a||a>=this.nb.length)throw Error("SvgElement.getTextAtIndex - invalid index: "+a.toString());var b=this.nb.eq(a);a=this.Fr(a);var c=b.data("designObject");c&&(a.preferredFontSize=c.sv);b=b.children(".inner");a.width=b.prop("clientWidth");a.height=b.prop("clientHeight");return a};
e.ri=function(a,b,c,d){if(0<=a&&this.nb&&a<this.nb.length){var f=this.nb.eq(a),g=f.children(".inner");g.html(b.html);var h=("true"==g.attr("contentEditable")).toString();g.attr("contentEditable","true");for(var k=window.getSelection(),l=[],m=0;m<k.rangeCount;m++)l.push(k.getRangeAt(m));m=g.get(0)||null;document.body.contains(m)&&k.selectAllChildren(m);this.Sf(a,b.fontFamily,c,d);this.Lj(a,b.fontMedia&&fj(b.fontMedia));this.setColor(a,rf(b.color));k.removeAllRanges();l.forEach(function(a){try{k.addRange(a)}catch(b){}});
this.fd(a,b.fontSize*Uu(this).scale);this.ni(a,b.bold);this.oi(a,b.italic);this.Vg(a,b.justification);this.Fl(a,b.list);this.Hl(a,b.textTransform);a=f.data("designObject");void 0!==b.preferredFontSize&&(a.sv=b.preferredFontSize);g.attr("contentEditable",h);m&&m.hasAttribute("_moz_abspos")&&m.setAttribute("_moz_abspos","transparent");is(f)}};
e.fd=function(a,b){var c=this.Qa(a);if(void 0===b)c.removeData("fontSize").css("font-size","");else{var d=Uu(this).scale,f=c.data("fontSize"),g=b/d;c.data("fontSize",b/d).css("font-size",b*G.Qe+"%");if(f!==g){d=g/f;if(.5>d||2<d)this.ul(a),this.ao(a),is(c);this.trigger("change:fontSize",this,c,b)}}};e.wc=function(a){a=ws.call(this,a);var b=Uu(this).scale;return a*b};e.Hr=function(a){var b=this.sd().data("designObject"),c=Uu(this).scale;b.sv=a/c;vs.apply(this,arguments)};
e.Bb=function(){var a=kv(this);return _.sortBy(a,function(a,c){return parseInt(c.match(/\d+/)[0],10)})};e.Wm=function(){return this.Bb().length};function kv(a){var b={};a.F().children("svg").find(".color").each(function(){for(var a,d=0;d<this.classList.length;d++){var f=this.classList.item(d);if(f.match(/^color-\d+$/)){a=f;break}}a&&(d=mu(this.getAttribute("fill")))&&(b[a]=d)});return b}e.kp=function(){var a=this.F().children("svg").get(0);return!!a&&a.classList.contains("baseColors")};
e.ur=function(){function a(a,b,c){return Fj(rf(a),b,c)}var b=this.kh,c=this.ep;null!==this.kh&&this.kp()&&(this.F().children("svg").find(".primaryColor").each(function(){this.setAttribute("fill",a(this.getAttribute("data-color"),b.ql,c).qa())}),this.F().children("svg").find(".secondaryColor").each(function(){this.setAttribute("fill",a(this.getAttribute("data-color"),b.Cl,c).qa())}),this.F().children("svg").find(".tertiaryColor").each(function(){this.setAttribute("fill",a(this.getAttribute("data-color"),
b.Nl,c).qa())}),this.nb.each(function(d,f){var g=!!jQuery.data(f,"is-primary-color"),h=!!jQuery.data(f,"is-secondary-color"),k=!!jQuery.data(f,"is-tertiary-color");f=jQuery.data(f,"original-fill");g?this.setColor(d,a(f,b.ql,c)):h?this.setColor(d,a(f,b.Cl,c)):k&&this.setColor(d,a(f,b.Nl,c))}.bind(this)))};
e.He=function(a,b){var c=kv(this);a=_.sortBy(_.keys(c),function(a){return parseInt(a.match(/\d+/)[0],10)})[a];this.F().children("svg").find("."+a).each(function(){var a=this.getAttribute("data-color");this.setAttribute("fill",mv(b)||a)});this.md()};
function Jr(a,b){function c(){g.ri(0,a,d,!0);g.zi=$.extend(!0,{},a.stylesOverriden);g.pr=!1}function d(a){n=!0;r=a;m&&f()}function f(){var c=p&&r;g.loaded=!0;h.removeClass("textElementLoading");if(c)g.pr=!0,g.Ia(),g.oa(),At(g),tt(g),g.Fb(),K.trigger("elementLoaded",g),K.trigger("elementLoaded:text",g);else{var d=g;Y.prototype.oa.call(d,a.height);Y.prototype.pa.call(d,a.width);hs(d.F(),a.lineLengths||[]);d.Hp=!0;d.F().toggleClass("failed",d.Hp);d.pr=!0;K.trigger("elementLoadingError",g)}b&&b(g,c)}
Y.call(this,a);var g=this,h=this.F(),k=Sb(this.C);h.addClass("text").addClass("textElementLoading").data("placeholderText",a.placeholderText||k.Rn()).append('\x3cdiv class\x3d"inner"\x3e'+k.Rn()+"\x3c/div\x3e");this.style=a.style;this.padding=a.padding;this.border=a.border;this.Iu=!0;!1===a.lockedWidth&&(this.Iu=!1);k=[];a.fontMedia&&k.push(fj(a.fontMedia));a.htmlFontMedia&&(k=k.concat(a.htmlFontMedia.map(fj)));a.verticalAlignment&&(this.Vc=a.verticalAlignment);var l=ks(a.html);a.fontFamily&&l.push(a.fontFamily);
var m=!1,n=!1,p=!1,r=!1;this.zi={};0<k.length?nv(ob,k,c):c();this.loaded=!1;this.PP=a;Du(ob,k,l,function(a){m=!0;p=a;n&&f()})}Jr.prototype=Object.create(Y.prototype);e=Jr.prototype;e.constructor=Jr;e.Ji=Os;e.kt=Us;e.wc=ws;e.eu=Ms;e.Lk=Ls;e.Zm=Ks;e.Mk=Gs;e.du=Ds;e.ao=Js;e.ul=Ns;e.Kv=Ts;e.Fr=Vs;e.ni=zs;e.setColor=ys;e.Mv=Is;e.Lj=ns;e.Ir=os;e.Sf=rs;e.fd=us;e.Hr=vs;e.oi=As;e.Vg=xs;e.no=Ps;e.Nv=Qs;e.oo=Hs;e.po=Fs;e.Fl=Bs;e.Hl=Es;e.Uv=Rs;e.gk=function(){return this.loaded&&!this.Hp};
e.Us=function(){return this.loaded&&!this.Hp};e.eI=function(){return!0};e.OB=function(){return!0};e.xq=function(){return this.Iu};e.Hg=function(){this.Iu=!0};e.$B=function(){this.Iu=!1};
function ov(a){if(!a.$j){var b=a.Qa(0),c=window.getSelection(),d=c.focusNode,c=c.toString();if(d&&d.parentNode&&d.parentNode.classList.contains("char"))(b=d&&d.parentNode&&d.parentNode.nextSibling)&&b.classList.contains("fauxCaret")&&(b=b.nextSibling),b&&b.classList.contains("char")&&(c=d.textContent+b.textContent);else if(1===c.length&&8203===c.charCodeAt(0)&&(c=""),0===c.length){d=Pr(b);a:{c=window.getSelection();if(0<c.rangeCount&&(c=c.getRangeAt(0).cloneRange(),c.collapse(!0),b=b.get(0))){c.setEnd(b,
1);b=c.toString().slice(0,1);8203===b.charCodeAt(0)&&(b=c.toString().slice(1,2));break a}b=""}c=d+b}else 1===c.length&&(c=Pr(b)+c);2===c.length&&(a.$j=c)}a.$j&&(a.$j=a.$j.replace(/\s/gi,""),2!==a.$j.length&&(a.$j=void 0));return a.$j}function pv(a){var b=ov(a);return b?a.eu(0,b):0}e.IH=function(a){var b=ov(this);b&&(this.no(0,a,b),this.Ji(0))};e.sF=function(){var a=ov(this);if(a){var b=pv(this);this.no(0,Math.min(b+10,200),a);this.Ji(0)}};
e.ND=function(){var a=ov(this);if(a){var b=pv(this);this.no(0,Math.max(b-10,-200),a);this.Ji(0)}};e.Sf=function(a,b,c,d){this.zi.fontFamily=!0;rs.call(this,a,b,c,d)};e.fd=function(a,b,c){this.zi.fontSize=!0;us.call(this,a,b,c)};e.ni=function(a,b){this.zi.bold=!0;zs.call(this,a,b)};e.oi=function(a,b){this.zi.italic=!0;As.call(this,a,b)};e.Vg=function(a,b){this.zi.justification=!0;xs.call(this,a,b)};e.setColor=function(a,b){this.zi.color=!0;ys.call(this,a,b);this.md()};
e.pa=function(a){var b=void 0!==a&&a!==this.width;Y.prototype.pa.call(this,a);a=this.w();at(this).css("width",Math.round(a));b&&is(this.F())};e.oa=function(){var a=at(this).prop("scrollHeight")||0;Y.prototype.oa.call(this,a)};e.Fb=function(){at(this).css("transform","translateY("+qv(this)+"em) scale("+N+")").css("transform-origin","top left").css("width",this.w());Y.prototype.Fb.apply(this,arguments)};e.sd=function(){return this.xa};e.kq=function(){return 0<this.xa.length};
e.Bg=function(){if(this.cd)return this.cd;var a=new Ik;$r(this.xa).zf.forEach(function(b){(b=rf(b))&&Lk(a,b)});return this.cd=a};e.Qa=function(a){return 0!==a?$():this.xa};e.$a=function(){return 0};e.Wb=function(a){a=this.Fr(a);a.height=this.D();return a};
e.ri=function(a,b,c,d){var f=this,g=this.F(),h=Array.isArray(b.htmlFontMedia)?b.htmlFontMedia.map(fj):[],k=this.kt(b.kerning),l=b.lineLengths;at(this).html(b.html);this.Ir(a,h);this.Lj(a,b.fontMedia&&fj(b.fontMedia));this.fd(a,b.fontSize);this.ni(a,b.bold);this.oi(a,b.italic);this.Vg(a,b.justification);this.oo(a,b.letterSpacing);this.po(a,b.lineHeight);this.Fl(a,b.list);this.Hl(a,b.textTransform);this.setColor(a,rf(b.color));l&&g.data("cachedLineLengths",l);this.zi=$.extend(!0,{},b.stylesOverriden);
this.md();this.Sf(a,b.fontFamily,function(b){b&&(k&&f.Ji(a),l&&hs(g,l));c&&c(b)},d);k&&this.Nv(a,k)};e.jn=function(){return!0};e.hz=function(){return!0};function rv(a,b){a.border=b?{width:b}:{width:0};a.Ia()}e.ye=function(){return this.border&&this.border.width||0};e.lz=function(){return!0};function sv(a,b){a.padding=b?b:0;a.Ia()}e.XE=function(){return this.padding};
e.Ia=function(){Y.prototype.Ia.call(this);var a=this.F(),b="#000000",c=$r(a).zf;0<c.length&&(b=c[c.length-1]);this.ye()?a.css("border",this.ye()/1E3*N+"em solid "+b):a.css("border","none");a.css("padding",this.padding*N+"px")};function qv(a){var b=0,c=0;a=a.Mk(0);a!==G.Aw&&(b=.2,c=(a-100)/200);return(b-c)*N}e.remove=function(){var a=this.F();0<a.parents("#overlays").length&&Ss(a);Y.prototype.remove.call(this)};
e.Ra=function(){Y.prototype.Ra.call(this);var a=this.F(),b=a.data("toolbar"),a=a.data("selectionBox");b&&(a&&!a.hasClass("horizontalScale")&&a.addClass("horizontalScale"),Yu(b),Ft(b))};e.ff=function(){Y.prototype.ff.call(this);var a=this.F(),b=a.data("toolbar");b&&b.remove();a.removeData("toolbar")};
e.serialize=function(){var a=Y.prototype.serialize.call(this);if(!this.loaded){var b=this.PP;Object.keys(a).forEach(function(c){b[c]=a[c]});return b}var c=this.Wb(0);a.type="text";a.style=this.style;a.border=this.border;a.padding=this.padding;a.stylesOverriden=$.extend(!0,{},this.zi);for(var d in c)a[d]=c[d];this.Vc&&(a.verticalAlignment=this.Vc);return a};
function kt(a){function b(){var a={type:"columns",children:[{type:"item"},{type:"item"}]};return[a,a]}var c=this;void 0===a&&(a={});a.width=a.width||G.xC;a.height=a.height||G.xC;Y.call(this,a);var d=parseInt(a.spacing,10);this.spacing=isNaN(d)||!isFinite(d)||0>d?G.zs:d;this.items=a.items||b();this.oh=!0;d=this.F();d.addClass("grid").css("width",this.width*N).css("height",this.height*N);tv(this,uv(this.items));a=a.contents||[];this.Ka=ft(a,this.Od(),d);Object.freeze(this.Ka);this.Ob=dt(a,this.Ka);
Object.freeze(this.Ob);ct(this,function(){window.requestAnimationFrame(function(){K.trigger("elementLoaded",c);K.trigger("elementLoaded:grid",c)})})}kt.prototype=Object.create(Y.prototype);e=kt.prototype;e.constructor=kt;e.lj=Nt;e.be=function(){return-1===this.Ab()?null:this.Ka[this.Ab()].Kk()};e.yp=Pt;e.oB=Wt;e.Tg=Xt;e.Fj=Zt;e.tk=$t;e.Ib=au;e.mz=bu;e.Zt=Ot;e.mj=function(){return!0};
e.Bg=function(){if(this.cd)return this.cd;var a=new Ik;this.Ka.forEach(function(b){(b=b.Af())&&Lk(a,b)});return this.cd=a};e.Bb=function(){return this.Ka.map(function(a){return a.Af()})};e.Wm=function(){return this.Bb().length};e.He=function(a,b){var c=this.Ka[a]||this.Ka[this.Ka.length-1];this.Nj(a,null);c.jo(b);this.mc&&this.Ra();this.md()};
function uv(a){function b(a){var d=a.type||"rows";a=a.children||a;for(var f=$(),g=0,h=0;h<a.length;h++){var k=a[h],l=$('\x3cdiv class\x3d"'+k.type+'"\x3e\x3c/div\x3e');"item"==k.type&&$('\x3cdiv class\x3d"content"\x3e\x3cdiv class\x3d"placeholder" /\x3e\x3c/div\x3e').appendTo(l);if("rows"==d){var m=1/(a.length-h)*(100-g),m=k.height||m,n=g,m=~~(10*m)/10;l.css("top",n+"%").css("height",m+"%").attr("data-top",n/100).attr("data-height",m/100)}else m=1/(a.length-h)*(100-g),m=k.width||m,n=g,m=~~(10*m)/
10,l.css("left",n+"%").css("width",m+"%").attr("data-left",n/100).attr("data-width",m/100);g+=m;void 0!==k.children&&l.append(b(k));f=f.add(l)}return f}return b([{type:"rows",children:a}])}e.jj=function(){return this.Ob&&0<this.Ob.length};e.cc=function(){var a=this.Ab();return-1!=a&&Zu(this.Ka[a])?-1<a?this.Ob[a]:null:null};e.Qp=function(){var a=this.Ab();return Zu(this.Ka[a])?a:-1};e.$i=function(a){return this.Ob[a]};e.oj=function(){return this.cc()&&this.cc().Wk()};e.Zi=function(){this.cc()&&this.cc().Zi()};
e.Yi=function(){this.cc()&&this.cc().Yi()};e.Av=function(){if(this.cc()&&this.cc().Wk()){var a=this.F().data("toolbar");a&&a.view.Vi("filter")}};e.wv=function(a,b){hu(this.Ob[a],b)};e.mH=function(){this.sr(this.Ab());this.F().find(".active").removeClass("active")};function bj(a,b,c,d){if(d)return new M(0,0,a,b);c*=G.DC;return new M(-c,-c,a+2*c,b+2*c)}function tv(a,b){var c=a.F();c.empty();$('\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e').append(b).appendTo(c);vv(a)}
e.Ia=function(){Y.prototype.Ia.call(this);vv(this);wv(this)};function vv(a){var b=Math.round(Math.round(a.spacing/2)*N);a=at(a);a.css("left",b).css("right",b).css("top",b).css("bottom",b);$(".item \x3e .content",a).css("left",b).css("right",b).css("top",b).css("bottom",b)}function wv(a){a.Ka.forEach(function(a){a.update()})}
e.Ra=function(){function a(){if(xv(c.ha())){var a=c.Ka[c.Ab()];if(a)if(Zu(a)){f.view.Vi("crop","filter","flip","imageDelete");f.view.Qv("crop","filter","flip");var d;d=a.xa.find("img.placeholder");a=a.xa.find("canvas");d=1==d.length&&d.attr("src")?""+d.attr("src"):1==a.length?a.get(0).toDataURL():G.Fi;b(d)}else f.view.Kx("crop","filter","flip","imageDelete"),f.view.oz("crop","filter","flip"),b(G.Fi),(d=c.Bb()[c.Ab()])&&f.view.setColor([d.qa()],g);else b(G.Fi),f.view.Kx("crop","filter","flip","imageDelete"),
f.view.oz("crop","filter","flip")}}function b(a){f.view.setColor(["url("+a+")"],g)}Y.prototype.Ra.call(this);var c=this,d=this.F(),f=d.data("toolbar"),g=od();d.is(".cropping")?this.yp():(this.Fj(),f&&a())};e.ff=function(){Y.prototype.ff.call(this);this.Fj()};e.Ov=function(a){this.spacing=a;this.Ia()};e.remove=function(){Y.prototype.remove.call(this);this.Ob.forEach(function(a){a.remove()})};e.az=function(){return this.spacing};e.lq=function(){return!0};
e.serialize=function(){var a=Y.prototype.serialize.call(this);a.type="grid";a.items=this.items;a.spacing=this.spacing;var b=this,c=[];this.Ka.forEach(function(a,f){a.isEmpty()||(a=a.serialize(),a.filter=ju(b.Ob[f]),c.push(a))});a.contents=c;return a};e.Dl=function(a){if(!this.lj()){K.trigger("hideContextualControlsRequested");var b=$(".item .placeholder.active, div.content.active",this.F());0<b.length&&b.removeClass("active");a.parent("div.content").andSelf().addClass("active");this.Ra()}};
e.xe=function(){var a=this.F().find(".item .placeholder"),b=a.filter(".active");if(0!==b.length)return b.first();b=a.filter("[src]");return 0!==b.length?b.first():a.first()};e.Ab=function(){var a=this.F().find(".item .content.active");0===a.length&&(a=this.F().find(".item.filled .content"));return this.F().find(".item .content").index(a)};e.Wp=function(a){return this.F().find(".item .placeholder").eq(a)};e.Od=function(){return this.F().find(".item .placeholder").length};
e.fj=function(a){a=this.Wp(a).parent("div.content");var b=new M(0,0,this.width,this.height);a=a.parentsUntil(".inner");b.translate(this.spacing,this.spacing);Mi(b,-this.spacing,-this.spacing);a.toArray().reverse().forEach(function(a){a=$(a);var d=parseFloat(a.data("left"))||0,f=parseFloat(a.data("top"))||0,g=parseFloat(a.data("width"))||1;a=parseFloat(a.data("height"))||1;b.translate(d*b.w(),f*b.D()).pa(b.w()*g).oa(b.D()*a)});b.pa(b.w()-this.spacing).oa(b.D()-this.spacing);return b};
e.gj=function(a){return(a=this.Ka[a])?a.serialize():null};e.ej=function(a){return this.Ka[a]||null};e.Nj=function(a,b){function c(){d.trigger("placeholderImage:loaded",a)}var d=this,f=this.Ka[a];f&&(b&&b.mediaId?Yt(dv(ev(fv(yv(f),b.mediaId,b.mediaVersion,c),b.origin?new cj(b.origin):null),b.mediaApproved),Ei(b.imageBox)).mo(b.flipOrientation):b&&b.backgroundColor?f.jo(rf(b.backgroundColor)):(f.clear(),this.Ob[a].remove(),zv(this.Ob[a],new Av)))};e.sr=function(a){this.Nj(a,null)};e.mq=function(){return!0};
e.bq=function(){return{imageBoxes:this.Ka.map(function(a){return a.isEmpty()?null:a.Kk().serialize()})}};e.KH=function(a){a=a.imageBoxes;for(var b=0;b<this.Ka.length;b++){var c=this.Ka[b],d=a[b];d&&!c.isEmpty()&&Yt(c,Ei(d))}};e.Vy=function(){for(var a=[],b=0;b<this.Od();b++){var c=this.ej(b);c&&a.push(c)}return a};e.zu=function(){return!0};function Bv(a){this.a=a}function Cv(){var a=document.createElement("a");return new Bv(a)}function Dv(a,b){a=a.a;a.href=b;return"data:"==a.protocol||"blob:"==a.protocol||":"==a.protocol||""==a.hostname?!1:a.protocol!=window.location.protocol||a.hostname!=window.location.hostname||a.port!=window.location.port}
function Rt(a,b,c){var d=b instanceof jQuery?b:$(b);return new P(function(f,g){function h(){d.attr(p)===c&&(d.one("error",k),d.attr(p,c+n))}function k(){m();g(Error("Could not load image from src: "+c))}function l(){m();f(b)}function m(){d.off("error",h);d.off("error",k);d.off("load",l)}var n=0>c.indexOf("?")?"?":"\x26",p=null;d&&d.length&&(p="image"===d.get(0).tagName?"xlink:href":"src",d.one("load",l),Dv(a,c)?(d.attr("crossorigin","anonymous"),d.one("error",h)):(d.removeAttr("crossorigin"),d.one("error",
k)),d.attr(p,c))})}function fu(a,b){return Rt(a,new Image,b)}var St=Cv();function ug(a,b){switch(b){case "ONE_USE":return"ONE_USE";case "ROYALTY_FREE":return"ROYALTY_FREE";case "EXTENDED":return"EXTENDED";default:throw new TypeError('expected LicenseType for property "'+a+'", found: '+JSON.stringify(b));}};function Ev(a){this.da=a}
function Fv(a,b,c){b="/media?"+("brand"in b?"\x26brand\x3d"+encodeURIComponent(b.brand):"")+("user"in b?"\x26user\x3d"+encodeURIComponent(b.user):"")+("filename"in b?"\x26filename\x3d"+encodeURIComponent(b.filename):"")+("ids"in b?"\x26ids\x3d"+encodeURIComponent(b.ids):"")+("restricted"in b?"\x26restricted\x3d"+encodeURIComponent(b.restricted):"")+("deactivated"in b?"\x26deactivated\x3d"+encodeURIComponent(b.deactivated):"")+("staging"in b?"\x26staging\x3d"+encodeURIComponent(b.staging):"")+"\x26projection\x3d"+
encodeURIComponent(b.projections.join(""))+("includeTotal"in b?"\x26includeTotal\x3d"+encodeURIComponent(b.includeTotal):"")+("types"in b?"\x26types\x3d"+encodeURIComponent(b.types):"")+("skip"in b?"\x26skip\x3d"+encodeURIComponent(b.skip):"")+("limit"in b?"\x26limit\x3d"+encodeURIComponent(b.limit):"");return a.da.get(b,function(a,b){var g=null;200==a&&(g={media:Gv(b.media),total:b.total});c&&c(a,g)})}function Hv(a,b){return new P(function(a,d){Fv(this,b,function(b,g){g?a(g):d(b)})}.bind(a))}
function Iv(a,b){return vf(a.da,"/media?"+("name"in b?"\x26file\x3d"+encodeURIComponent(b.name):"")+("restricted"in b?"\x26restricted\x3d"+encodeURIComponent(b.restricted):"")+("listed"in b?"\x26listed\x3d"+encodeURIComponent(b.listed):"")+("fileSize"in b?"\x26fileSize\x3d"+encodeURIComponent(b.fileSize):""),{}).spread(yg)}
Ev.prototype.rb=function(a,b,c){var d=Object.keys(b).filter(function(a){return"version"!=a}).map(function(a){if("object"!==typeof b[a])return a+"\x3d"+encodeURIComponent(b[a])});a="/media/"+encodeURIComponent(a)+("version"in b?"/"+encodeURIComponent(b.version):"")+(0<d.length?"?"+d.join("\x26"):"");return this.da.get(a,function(a,b){b=200==a?yg(b):null;c&&c(a,b)})};function Jv(a,b,c){return new P(function(a,f){this.rb(b,c,function(b,c){zf(b)?a(c):f(b)})}.bind(a))}
function Kv(a,b,c){function d(a){return a.id+":"+a.version}b="/media?batch"+("refs"in b?"\x26refs\x3d"+encodeURIComponent(b.refs.map(d).join(",")):"")+("ids"in b?"\x26ids\x3d"+encodeURIComponent(b.ids.join(",")):"")+("staging"in b?"\x26staging\x3d"+encodeURIComponent(b.staging):"")+"\x26projection\x3d"+encodeURIComponent(b.projections.join(""));a.da.get(b,function(a,b){var d=null;200==a&&(d={media:Gv(b.media)});c&&c(a,d)})}
function Lv(a,b){return new P(function(a,d){Kv(this,b,function(b,g){zf(b)?a(g):d(b)})}.bind(a))}function Mv(a,b,c){var d="/media/"+encodeURIComponent(b.G())+"/"+b.getVersion();a.da.post(d,b,null,function(a,b){b=200==a?yg(b):null;c&&c(a,b)})}function Nv(a,b,c,d){b=(new Ov).eh(b).ag(c).Yl(!0);Mv(a,b,d)}function Pv(a,b,c){return new P(function(a,f){Nv(this,b,c,function(b,c){zf(b)?a(c):f(b)})}.bind(a))}
Ev.prototype.DI=P.method(function(a,b){function c(a){return 404===a}function d(){return Jv(h,a,b).catch(c,function(){return null})}function f(){return d().then(function(a){g++;var b;if(b=a)b=a.Aa().Pk(),b="PENDING_SUBMISSION"!=b&&"PENDING_REVIEW"!=b;return b?a.Aa().Pk()===Qv?a:Promise.reject(a):P.delay(Math.round(3E3*Math.pow(1.6,g))).then(f).cancellable()})}var g=0,h=this;return f().timeout(36E5)});var eu="THUMBNAIL",Ue="SCREEN",du="PRINT",Oe="RASTER",Qe="VECTOR";function Rv(a,b){switch(b){case "RECOLORABLE":return"RECOLORABLE";case "BACKGROUND_R":return"BACKGROUND_R";case "BACKGROUND_G":return"BACKGROUND_G";case "BACKGROUND_B":return"BACKGROUND_B";case "BACKGROUND_A":return"BACKGROUND_A";default:throw new TypeError('expected SpritesheetLayerType for property "'+a+'", found: '+JSON.stringify(b));}}
function Sv(a,b){switch(b){case "RECOLORABLE":return"RECOLORABLE";case "BACKGROUND_R":return"BACKGROUND_R";case "BACKGROUND_G":return"BACKGROUND_G";case "BACKGROUND_B":return"BACKGROUND_B";case "BACKGROUND_A":return"BACKGROUND_A";default:throw new TypeError('expected SpritesheetLayerType for property "'+a+'", found: '+JSON.stringify(b));}}function ej(a){this.id=a.id;this.version=a.version}ej.prototype.G=function(){return this.id};ej.prototype.getVersion=function(){return this.version};
function To(a){return{id:Ta.required("id",a.id),version:Xa("version",a.version)}}function fj(a){return new ej({id:La("id",a),version:u("version",a)})}function Tv(a){this.$g=a.$g;this.Rj=a.Rj;this.Yt=a.Yt;this.Du=a.Du||[]}function Ve(a){var b=Xa("spritesWide",a.$g),c=Xa("spritesHigh",a.Rj),d;d=a.Yt;d=!1!==d?Ua.required("fullyRecolorable",d):void 0;return{spritesWide:b,spritesHigh:c,fullyRecolorable:d,layers:Wa.Rg("layers",a.Du.map(Uv))}}
function Vv(a){return new Tv({$g:u("spritesWide",a),Rj:u("spritesHigh",a),Yt:Fa.optional("fullyRecolorable",a)||!1,Du:Qa(Wv,"layers",a)})}function Xv(a){this.type=a.type;this.Cq=a.Cq;this.color=a.color}Xv.prototype.hb=function(){return this.type};Xv.prototype.Uy=function(){return this.Cq};Xv.prototype.rd=function(){return this.color};function Uv(a){return{type:Ya(Rv,"type",a.type),layerIndex:Va.optional("layerIndex",a.Cq),color:Ta.optional("color",a.color)}}
function Wv(a){return new Xv({type:Ra(Sv,"type",a),Cq:Ja("layerIndex",a),color:Ma("color",a)})};var Qv="APPROVED",Yv={SS:"F",XS:"K",aT:"G",cT:"P",dT:"R",fT:"S"},Xs="DOCUMENT",Te="FACEBOOK",Ws="LAYOUT";function Zv(a){a=void 0===a?{}:a;this.url=a.url||"";this.width=a.width||0;this.height=a.height||0;this.watermarked=a.SU||!1;this.page=a.page||0;this.quality=a.mr||null}e=Zv.prototype;e.ma=function(){return this.url};e.D=function(){return this.height};e.w=function(){return this.width};e.ha=function(){return this.page};e.YE=function(){return this.quality};
function um(a){return a?$.extend(new Zv,a):null}function $v(a,b){this.locale=a;this.text=b}$v.prototype.Ag=function(){return this.locale};$v.prototype.$p=function(){return this.text};function aw(a){return a?$.extend(new $v(a.locale,a.text),a):null}
function bw(a){a=void 0===a?{}:a;this.version=a.version||0;this.restrictedAccess=a.vU||!1;this.listed=a.iU||!1;this.status=a.status||"PENDING_SUBMISSION";this.rejectionReason=a.tU;this.importState=a.dU||"PENDING_IMPORT";this.importMessage=a.cU;this.designVersion=a.ET;this.designType=a.Ze;this.artist=a.qT||"";this.title=a.title||"";this.description=a.description||"";this.locale=a.locale||null;this.background=a.background||!1;this.cutout=a.sp||!1;this.isolated=a.eU||!1;this.photoholder=a.nU||!1;this.textholder=
a.LU||!1;this.repeating=a.uU||!1;this.recolorable=a.zv||!1;this.superKeywords=a.IU||[];this.keywords=a.If||[];this.files=a.files||{};this.quality=a.mr;this.ageRating=a.oT||null;this.priceModel=a.qU||{};this.spritesheetMetadata=a.IB;this.submittedBy=a.GU;this.submittedDate=a.HU;this.reviewedBy=a.wU;this.reviewedDate=a.xU}e=bw.prototype;e.getVersion=function(){return this.version};e.Pk=function(){return this.status};e.Za=function(){return this.title};e.Ag=function(){return this.locale};e.mb=function(){return this.background};
e.Ef=function(){return this.cutout};e.zq=function(){return this.repeating};e.yc=function(){return this.recolorable};e.bz=function(){return this.superKeywords};e.cj=function(){return this.keywords};e.ec=function(){return this.files};e.YE=function(){return this.quality};e.Zp=function(){return this.spritesheetMetadata};function cw(a){return a.priceModel}
function dw(a){a=void 0===a?{}:a;this.id=a.id||"";this.importKey=a.importKey||"";this.importBucket=a.aU||"";this.importFilename=a.bU||"";this.type=a.type||"PARENT";this.copyright=a.zT||"";this.bundle=a.tT||new bw;this.deactivated=a.iL||!1;this.brand=a.ca||"";this.user=a.Pa;this.design=a.Ye}e=dw.prototype;e.G=function(){return this.id};e.hb=function(){return this.type};e.Aa=function(){return this.bundle};e.na=function(){return this.brand};e.Ca=function(){return this.user};
function yg(a){if(!a)return null;a=$.extend(new dw,a);if(a.bundle){var b;var c=a.bundle;if(c){c=$.extend(new bw,c);c.superKeywords&&(c.superKeywords=c.superKeywords.map(aw));c.keywords&&(c.keywords=c.keywords.map(aw));if(c.files)for(b in c.files)c.files[b]=um(c.files[b]);c.spritesheetMetadata&&(c.spritesheetMetadata=Vv(Ia(c.spritesheetMetadata)));b=c}else b=null;a.bundle=b}return a}function Gv(a){if(!a)return null;for(var b=[],c=0;c<a.length;c++)b.push(yg(a[c]));return b}
function ew(){this.projections=[]}e=ew.prototype;e.me=function(a){this.brand=a;return this};e.am=function(a){this.user=a;return this};e.$l=function(a){this.restricted=a;return this};e.Ro=function(a){this.staging=a;return this};e.II=function(a){null!=a&&0<a.length&&(this.filename=a);return this};e.ws=function(a){null!=a&&0<a.length&&(this.ids=a);return this};e.nw=function(a,b){this.skip=a;this.limit=b;return this};e.Yl=function(a){this.deactivated=a;return this};e.mw=function(a){this.locale=a;return this};
e.Zl=function(){this.projections.push("F");return this};e.rC=function(){this.projections.push("P");return this};e.lw=function(){this.projections.push("K");return this};e.HI=function(){this.projections=Object.keys(Yv).map(function(a){return Yv[a]});return this};function fw(a){a.includeTotal=!1;return a}function gw(a,b){a.types=b;return a}function hw(){}hw.prototype.Zj=function(a){this.name=a;return this};hw.prototype.$l=function(a){this.restricted=a;return this};
hw.prototype.MI=function(a){this.listed=a;return this};function iw(a,b){a.fileSize=b;return a}hw.prototype.mw=function(a){this.locale=a;return this};function lu(){}lu.prototype.ag=function(a){this.version=a;return this};lu.prototype.Ro=function(a){this.staging=a;return this};function jw(a){a.projection="";return a}lu.prototype.Zl=function(){this.projection=(this.projection||"")+"F";return this};lu.prototype.lw=function(){this.projection=(this.projection||"")+"K";return this};
function kw(){this.projections=[]}function lw(a,b){a.refs=b;return a}e=kw.prototype;e.ws=function(a){this.ids=a;return this};e.Ro=function(a){this.staging=a;return this};e.HI=function(){this.projections=Object.keys(Yv).map(function(a){return Yv[a]});return this};e.rC=function(){this.projections.push("P");return this};e.Zl=function(){this.projections.push("F");return this};function Ov(){}e=Ov.prototype;e.eh=function(a){this.id=a;return this};e.G=function(){return this.id};
e.ag=function(a){this.version=a;return this};e.getVersion=function(){return this.version};e.Yl=function(a){this.deactivated=a;return this};e.MI=function(a){this.listed=a;return this};e.GI=function(a){this.designType=a;return this};e.JI=function(a){this.importVersion=a;return this};function mw(a,b){a.superKeywords=b;return a}e.lw=function(a){this.keywords=a;return this};e.mw=function(a){this.locale=a;return this};function nw(a,b,c){this.Ur=a;this.LR=b;this.MR=c;this.VH=null;this.Oz=this.Qz=0;this.UK=this.isAlpha()?"destination-in":"lighter";this.color=ow(this);this.Hc=null}e=nw.prototype;e.yc=function(){return"RECOLORABLE"===this.Ur.type};e.isAlpha=function(){return"BACKGROUND_A"===this.Ur.type};
function ow(a){switch(a.Ur.type){case "RECOLORABLE":return rf(a.Ur.color);case "BACKGROUND_R":return sj(new nj,255,0,0);case "BACKGROUND_G":return sj(new nj,0,255,0);case "BACKGROUND_B":return sj(new nj,0,0,255);case "BACKGROUND_A":return null;default:throw Error("Unknown SpritesheetLayerType");}}e.Uy=function(){return this.Ur.Cq};e.rd=function(){return this.color};e.setColor=function(a){this.yc()&&(this.color=a)};
e.multiply=function(a,b,c,d,f){this.Hc=a.getImageData(b,c,d,f);c=ia([b,c]);b=c.next().value;c=c.next().value;for(d=0;d<this.Hc.data.length;d+=4){var g=ia(this.color.La.slice());f=g.next().value;var h=g.next().value,g=g.next().value;this.Hc.data[d]=this.Hc.data[d]/255*f;this.Hc.data[d+1]=this.Hc.data[d+1]/255*h;this.Hc.data[d+2]=this.Hc.data[d+2]/255*g}a.putImageData(this.Hc,b,c)};e.compose=function(a,b,c,d,f,g,h,k,l,m){pw(b,this.UK);b.drawImage(a.canvas,c,d,f,g,h,k,l,m)};
function pw(a,b){a.globalCompositeOperation=b;return a.globalCompositeOperation==b}function qw(a){this.xi=a.xi;this.$g=a.$g;this.Rj=a.Rj;this.Cz=a.Cz;this.Qc=a.Qc;this.vn=a.vn;this.rz=a.rz;this.lv=[];this.Ts=null;this.Ss=!1}function rw(a){var b=document.createElement("canvas").getContext("2d"),c=document.createElement("canvas").getContext("2d"),d=sw(a),f=a.$g,g=a.Rj;a=a.Yt;var h=Cv();return(new qw({xi:d,$g:f,Rj:g,Qc:b,vn:c,Cz:a,rz:h})).init()}
function sw(a){return a.Du.map(function(b,c){return new nw(b,c%a.$g,Math.floor(c/a.$g))}).sort(function(a,c){return a.isAlpha()?1:c.isAlpha()?-1:a.Uy()-c.Uy()})}qw.prototype.init=function(){this.lv=tw(this);return this};function uw(a,b){a.Ts=null;a.Ss=!1;return fu(a.rz,b).then(function(b){return vw(a,b)}).then(function(){return ww(a)}).then(function(){return xw(a)}).then(function(){return a.Ss=!0}).catch(function(){throw Error("Could not build spritesheet");})}qw.prototype.yc=function(){return this.xi.some(function(a){return a.yc()})};
function yw(a){var b=[Ku,Lu,Mu];return a.Cz&&a.lv.every(function(a){return b.some(function(b){return b.equals(a)})})}function tw(a){return zw(a).map(function(a){return a.rd()})}function zw(a){return a.xi.filter(function(a){return a.yc()})}qw.prototype.toDataURL=function(){return this.Ss&&this.Ts||(this.Ts=this.Qc.canvas.toDataURL())};
function Aw(a,b){var c=a.xi.indexOf(b);if(!(0>c)){var d=a.vn,c=c*a.Qc.canvas.width,f=a.Qc.canvas.width,g=a.Qc.canvas.height;pw(d,"source-over");d.drawImage(b.VH,b.LR*b.Qz,b.MR*b.Oz,b.Qz,b.Oz,c,0,f,g);if(b.isAlpha()){var h=ia([c,0]);a=h.next().value;h=h.next().value;b.Hc=b.Hc||d.getImageData(c,0,f,g);for(c=0;c<b.Hc.data.length;c+=4)b.Hc.data[c+3]=b.Hc.data[c],b.Hc.data[c]=b.Hc.data[c+1]=b.Hc.data[c+2]=255;d.putImageData(b.Hc,a,h)}else b.color&&(pw(d,"multiply")?(d.fillStyle=b.color.toString(),d.fillRect(c,
0,f,g)):b.multiply(d,c,0,f,g))}}function vw(a,b){var c=b.width/a.$g,d=b.height/a.Rj;a.Qc.canvas.width=c;a.Qc.canvas.height=d;a.vn.canvas.width=a.xi.length*c;a.vn.canvas.height=d;a.xi.forEach(function(a){a.VH=b;a.Qz=c;a.Oz=d})}function ww(a){a.xi.forEach(function(b){Aw(a,b)})}
function xw(a){a.Qc.clearRect(0,0,a.Qc.canvas.width,a.Qc.canvas.height);a.xi.forEach(function(b,c){return b.compose(a.vn,a.Qc,c*a.Qc.canvas.width,0,a.Qc.canvas.width,a.Qc.canvas.height,0,0,a.Qc.canvas.width,a.Qc.canvas.height)})};function jt(a){if("print"==it)throw Error("Graphic should not be used in print as it uses screen media. It should be an SvgElement in print.");if(void 0!==a&&void 0!==a.mediaId&&void 0!==a.spritesheetMetadata){var b=this;this.loaded=!1;this.JF=null;this.IB=Vv(Ia(a.spritesheetMetadata));this.yi=rw(this.IB);Y.call(this,a);this.ra=a.mediaId;this.ua=a.mediaVersion;this.Sb=void 0===a.mediaApproved?!0:a.mediaApproved;var c=this.F();c.addClass("graphic");var d=$('\x3cdiv class\x3d"placeholder"\x3e\x3cimg class\x3d"imgPlaceholder" /\x3e\x3cdiv class\x3d"canvasPlaceholder" /\x3e\x3c/div\x3e');
c.append(d);c.find(".canvasPlaceholder").append(this.yi.Qc.canvas);this.tl();this.contents=a.contents?a.contents.slice(0):null;a.fillColors&&a.fillColors.forEach(function(a){var c=rf(a.color);c&&b.He(a.index,c)});this.Mj(this.ra,this.ua)}}jt.prototype=Object.create(Y.prototype);e=jt.prototype;e.constructor=jt;e.Mj=function(a,b){this.ra=a;this.ua=b;this.loaded=!1;(a=lb.Ub(a,b))?Bw(this,a):K.trigger("elementLoadingError",this)};
function Bw(a,b){var c=b[Ue];a.Gl(b[eu].ma());uw(a.yi,c.ma()).then(function(){this.loaded=!0;this.md();this.nr?this.Zn():this.tl();K.trigger("elementLoaded",this);K.trigger("elementLoaded:graphic",this)}.bind(a)).catch(function(){K.trigger("elementLoadingError",this)}.bind(a))}e.yI=function(){this.loaded&&this.Gl(this.yi.toDataURL())};e.jL=_.debounce(jt.prototype.yI,200);e.Gl=function(a){var b=this.F().find(".imgPlaceholder");Rt(St,b,a)};
function Cw(a){return a.loaded&&a.JF!==a.nr?(a.JF=a.nr,!0):!1}e.Zn=function(){Y.prototype.Zn.call(this);Cw(this)&&(this.F().find(".canvasPlaceholder").show(),this.F().find(".imgPlaceholder").hide())};e.tl=function(){Y.prototype.tl.call(this);Cw(this)&&(this.yI(),this.F().find(".imgPlaceholder").show(),this.F().find(".canvasPlaceholder").hide())};e.us=function(a){Bl(a,this.Vb())||(this.Jr(!1),this.ua=this.ra=null)};e.Ih=function(){return!0};
e.Vb=function(){return null!=this.ra&&null!=this.ua?new ej({id:this.ra,version:this.ua}):null};e.WA=function(){var a=this.Vb();a&&this.Mj(a.id,a.version)};e.yq=function(){return this.Sb};e.Jr=function(a){this.Sb=a;this.F().toggleClass("unapproved",!a);this.Ra()};e.yc=function(){return 0<this.Bb().length};e.Bb=function(){return 5<tw(this.yi).length?[]:tw(this.yi)};e.Wm=function(){return this.Bb().length};
e.He=function(a,b){var c=this.yi;if(a=zw(c)[a])c.Ts=null,a.setColor(b),c.Ss&&(Aw(c,a),xw(c));this.md();this.jL()};e.Bg=function(){if(this.cd)return this.cd;var a=new Ik;this.Bb().forEach(function(b){Lk(a,b)});return this.cd=a};e.mj=function(){return!0};e.cw=function(){Ut(this.F().find(".placeholder"),null,this.pb)};e.Un=function(){if(G.Fw){Dt(this);var a=this.F().find(".placeholder");a.addClass("flipping");a.one("transitionend",function(){a.removeClass("flipping")})}};
e.serialize=function(){var a=Y.prototype.serialize.call(this);a.type="graphic";a.mediaId=this.ra;a.mediaVersion=this.ua;this.Sb||(a.mediaApproved=!1);a.spritesheetMetadata=Ve(this.IB);var b=this.Bb().map(function(a,b){return{index:b,color:a.qa()}});0<b.length&&(a.fillColors=b);return a};e.kp=function(){return yw(this.yi)};function Dw(a){var b=a.ep;1<=b||0>=b?a.tl():a.Zn()}
e.ur=function(){if(this.yc()&&this.Ps&&null!==this.kh&&this.kp()){this.Ps=!1;Dw(this);var a;this.yi.lv.forEach(function(b,c){switch(b.qa()){case Ku.qa():a=this.kh.ql;break;case Lu.qa():a=this.kh.Cl;break;case Mu.qa():a=this.kh.Nl;break;default:a=null}a&&(b=Fj(b,a,this.ep),this.He(c,b))}.bind(this))}};jt.prototype.HH=jt.prototype.He;function Ew(){this.TA=0}var Fw=["tame","angry"];
Ew.prototype.He=function(a,b){this.HH(a,b);if(!(0>["MABsSJ6etSs"].indexOf(this.ra))&&Gw(this)){this.TA=this.TA||0;this.Zn();var c=Fw[this.TA++]||"flipOut",d=this.F().find(".placeholder");d.addClass(c);var f=this.Bb();a={overflow:"visible",zIndex:5};var g=$(".page .elements"),h={},k;for(k in a)h[k]=g.css(k);g.css(a);$({ratio:0}).animate({ratio:1},{duration:500,step:function(a){this.yi.lv.forEach(function(b,c){b=Jj(f[c],b,a);this.HH(c,b)}.bind(this))}.bind(this),always:function(){this.tl();this.Ra();
d.removeClass(c);g.css(h)}.bind(this)})}};function Gw(a){return a.Bb().every(function(a){return a.equals(rf("#cc0000"))})}_.extend(jt.prototype,Ew.prototype);function qt(a){this.elements=[];this.activeElement=null;this.VK={};this.pe(a);Y.call(this,a);ed($b(this.C));this.TJ=[{id:"HorizontalAlignLeft",name:fd($b(this.C)),enabled:!0},{id:"HorizontalAlignCenter",name:hd($b(this.C)),enabled:!0},{id:"HorizontalAlignRight",name:gd($b(this.C)),enabled:!0},{id:"VerticalAlignTop",name:id($b(this.C)),enabled:!0},{id:"VerticalAlignCenter",name:kd($b(this.C)),enabled:!0},{id:"VerticalAlignBottom",name:jd($b(this.C)),enabled:!0},{id:"HorizontalDistribute",name:ld($b(this.C)),
enabled:!0},{id:"VerticalDistribute",name:md($b(this.C)),enabled:!0}];this.Rs()}function Hw(a,b){var c=Math.min(100,b.Jb+a.Jb),d=jj(hj([b.left+b.width/2-a.width/2,b.top+b.height/2-a.height/2]),-a.rotation),f=ij(d);return{Jb:c||0,rotation:$s(b.rotation,-(180*Math.atan2(d.m[3],d.m[4])/Math.PI))||0,top:f[1]-b.height/2+a.top+a.height/2,left:f[0]-b.width/2+a.left+a.width/2,width:b.width,height:b.height}}qt.prototype=Object.create(Y.prototype);e=qt.prototype;e.constructor=qt;e.Ff=function(){return!0};
e.OB=function(){return!0};e.pe=function(a){function b(a,b){return a.elementIndex>b.elementIndex}var c=this;a&&0<=Object.keys(a).indexOf("elements")&&a.elements.sort(b).forEach(function(a){(a=He(a))&&c.addElement(a)})};function Iw(a,b){tt(a,Math.min.apply(null,b.map(function(a){return a.Ya()})));At(a,Math.min.apply(null,b.map(function(a){return a.ab()})));a.pa(Math.max.apply(null,b.map(function(a){return a.$b()}))-a.W());a.oa(Math.max.apply(null,b.map(function(a){return a.Qb()}))-a.N());return a}
e.BD=function(a){for(var b=Infinity,c=Infinity,d=-Infinity,f=-Infinity,g=0;g<this.elements.length;g++){var h=this.elements[g].W(),k=this.elements[g].N(),l=this.elements[g].w(),m=this.elements[g].D(),n=Vi(this.elements[g].Ma()),p=h+l/2,r=k+m/2,q=ij(jj(hj([h-p,k-r]),-n));q[0]+=p;q[1]+=r;var v=ij(jj(hj([h+l-p,k-r]),-n));v[0]+=p;v[1]+=r;var x=ij(jj(hj([h-p,k+m-r]),-n));x[0]+=p;x[1]+=r;h=ij(jj(hj([h+l-p,k+m-r]),-n));h[0]+=p;h[1]+=r;b=Math.min(b,q[0],v[0],x[0],h[0]);c=Math.min(c,q[1],v[1],x[1],h[1]);d=
Math.max(d,q[0],v[0],x[0],h[0]);f=Math.max(f,q[1],v[1],x[1],h[1])}g=d-b;h=f-c;k=ij(hj([this.W(),this.N()]).translate(-this.w()/2,-this.D()/2).rotate(Vi(-this.Ma())).translate(this.w()/2,this.D()/2));d=ij(hj([this.W(),this.N()]).translate(-g/2,-h/2).rotate(Vi(-this.Ma())).translate(g/2,h/2));f=d[0]-k[0];d=d[1]-k[1];this.pa(g);this.oa(h);g=yt(a);Ys(a)?g.top+=g.height/2:Zs(a)&&(g.top+=g.height);g=Hw(yt(this),g);p=g.top;r=g.left;for(g=0;g<this.elements.length;g++)h=this.elements[g].W(),k=this.elements[g].N(),
this.elements[g].setPosition(h-b,k-c);g=yt(a);Ys(a)?g.top+=g.height/2:Zs(a)&&(g.top+=g.height);a=Hw(yt(this),g);b=a.top-p;a=a.left-r;this.setPosition(this.W()-f-a,this.N()-d-b)};
function Jw(a,b,c){function d(a,b){g.elements.filter(f).forEach(function(d){var f=d.ya(),g=Si(c,f,a),l=Si(h,f,a);if(!(g<-1*f.D()/2)){var f=g-l,x=0,w=0;isFinite(g)&&!isFinite(l)&&k&&(f=g);isFinite(f)&&!isNaN(f)&&(0<=a&&45>a?x=f*Math.cos(a*Math.PI/180):45<=a&&90>a?w=f*Math.sin(a*Math.PI/180):90<=a&&135>a?w=f*Math.cos((a-90)*Math.PI/180):135<=a&&180>a?x=f*Math.sin((a-90)*Math.PI/180):180<=a&&225>a?x=f*Math.cos((a-180)*Math.PI/180):225<=a&&270>a?w=f*Math.sin((a-180)*Math.PI/180):270<=a&&315>a?w=f*Math.cos((a-
270)*Math.PI/180):315<a&&(b=!0,x=f*Math.sin((a-270)*Math.PI/180)),b&&(x*=-1),1<Math.abs(w)?d.Va(d.W()+w):1<Math.abs(x)&&d.Wa(d.N()+x))}})}function f(a){return a!==b}var g=a;if(-1!==a.elements.indexOf(b)){var h=b.ya();if(Hi(c)&&Hi(h)){var k=h.D()>c.D(),l=b.Ma();b.Vc&&"top"!==b.Vc?Zs(b)?d(Vi(l),!0):Ys(b)&&(d(Vi(180+l),!1),d(Vi(l),!0)):d(Vi(180+l),!1);a.BD(b)}}}e.Rs=function(){var a=$('\x3cdiv class\x3d"elements"\x3e\x3c/div\x3e');this.F().addClass("group").html(a);this.Fb()};
e.setSize=function(a,b){var c;a<G.Cs||b<G.Cs||(void 0!==a&&void 0!==b&&(c=(a-this.w())/this.w(),Y.prototype.setSize.call(this,a,b)),this.elements.forEach(function(a){if(c){var b=c,g=a.w()/a.D(),h,k,l;!isNaN(b)&&isFinite(b)&&(h=a.w()+a.w()*b,g=h/g,k=a.W()+a.W()*b,l=a.N()+a.N()*b,a.setSize(h,g),a.setPosition(k,l),a instanceof Jr&&a.wc&&a.wc(0)&&(b=a.wc(0)+a.wc(0)*b,a.fd(0,b,!0)))}a.pa();a.setPosition();a.Ia()}))};
e.Ia=function(){Y.prototype.Ia.call(this);this.elements.forEach(function(a){a.pa();a.setPosition();a.Ia()})};e.addElement=function(a){var b=this.elements.indexOf(a);-1===b?this.elements.push(a):this.elements.splice(b,1,a)};e.ci=function(a){a=this.elements.indexOf(a);-1!==a&&this.elements.splice(a,1)};e.remove=function(){this.elements.forEach(function(a){a.remove()});Y.prototype.remove.call(this)};e.za=function(){return this.elements};e.Ya=function(){return Math.min.apply(null,this.za().map(function(a){return a.Ya()}))};
e.$b=function(){return Math.max.apply(null,this.za().map(function(a){return a.$b()}))};e.ab=function(){return Math.min.apply(null,this.za().map(function(a){return a.ab()}))};e.Qb=function(){return Math.max.apply(null,this.za().map(function(a){return a.Qb()}))};e.de=function(){return this.$b()-this.Ya()};e.ce=function(){return this.Qb()-this.ab()};e.clone=function(){var a=this.serialize();return new qt(a)};e.SE=function(){return"ungroup copy arrange transparency link delete".split(" ")};e.LE=function(){return this.TJ};
e.getActiveElement=function(){return this.activeElement};e.kq=function(){return 1===this.sd().length};e.lk=function(){this.activeElement=null;this.elements.forEach(function(a){a.ff();a.F().removeClass("active")})};e.serialize=function(){var a=Y.prototype.serialize.call(this);a.type="group";a.constraints=this.VK;a.elements=this.za().map(function(a){return a.serialize()});return a};e.oj=function(){return!1};
e.jn=function(){for(var a=0;a!==this.elements.length;a++)if(this.elements[a]instanceof Jr)return!0;return!1};e.sd=function(){var a=this.elements.filter(function(a){var c=a.F().hasClass("focused");return a instanceof Jr&&c})[0];return a?a.F():$()};e.WB=function(){var a=this.$a();-1!==a&&this.elements[a].WB()};e.$z=function(){var a=this.$a();-1!==a&&this.elements[a].$z()};e.$w=function(){var a=this.$a();-1!==a&&this.elements[a].$w()};
e.$a=function(){for(var a=0;a!=this.elements.length;a++)if(this.elements[a].F().hasClass("focused"))return a;return-1};e.Qa=function(a){return this.elements[a].Qa(0)};e.Wb=function(a){return this.elements[a].Wb(0)};e.ri=function(a,b,c,d){return this.elements[a].ri(0,b,c,d)};e.Ji=function(a){return this.elements[a].Ji(0)};e.kt=function(a){return this.elements[a].kt(0)};e.wc=function(a){return this.elements[a].wc(0)};e.eu=function(a){return this.elements[a].eu(0)};e.Lk=function(a){return this.elements[a].Lk(0)};
e.Zm=function(a){return this.elements[a].Zm(a)};e.Mk=function(a){return this.elements[a].Mk(0)};e.du=function(a){return this.elements[a].du(0)};e.ao=function(a){return this.elements[a].ao(0)};e.ul=function(a){return this.elements[a].ul(0)};e.Kv=function(a){return this.elements[a].Kv(0)};e.Fr=function(a){return this.elements[a].Fr(0)};e.ni=function(a,b){return this.elements[a].ni(0,b)};e.setColor=function(a,b){return this.elements[a].setColor(0,b)};e.Mv=function(a,b){return this.elements[a].Mv(0,b)};
e.Lj=function(a,b){return this.elements[a].Lj(0,b)};e.Ir=function(a,b){return this.elements[a].Ir(0,b)};e.Sf=function(a,b){return this.elements[a].Sf(0,b)};e.fd=function(a,b){return this.elements[a].fd(0,b)};e.Hr=function(a){return this.elements[this.$a()].fd(0,a)};e.oi=function(a,b){return this.elements[a].oi(0,b)};e.Vg=function(a,b){return this.elements[a].Vg(0,b)};e.no=function(a,b,c){return this.elements[a].no(0,b,c)};e.Nv=function(a,b){return this.elements[a].Nv(0,b)};
e.oo=function(a,b){return this.elements[a].oo(0,b)};e.po=function(a,b){return this.elements[a].po(0,b)};e.Fl=function(a,b){return this.elements[a].Fl(0,b)};e.Hl=function(a,b){return this.elements[a].Hl(0,b)};e.Uv=function(){for(var a=0;a<this.elements.length;a++)this.elements[a]instanceof Jr&&this.elements[a].Uv()};e.YA=function(){var a=$(this.F()).data("toolbar");a&&a.remove()};function Kw(a){for(var b=a,c=0;c<a.elements.length;c++)a.elements[c].ea()>b.ea()&&(b=a.elements[c]);return b}
function Lw(a){a.elements.sort(function(a,c){return c.ea()-a.ea()}).forEach(function(b){b.insertAfter(a);b.F().appendTo(a.F().children(".elements"))})}e.insertBefore=function(a){-1!=a.ea()&&(Y.prototype.insertBefore.call(this,a),Lw(this))};e.insertAfter=function(a){-1!=a.ea()&&(Y.prototype.insertAfter.call(this,a),Lw(this))};function Mw(a,b,c,d,f,g){M.call(this,a,b,c,d);this.color=f;this.html=g||""}t(Mw,M);e=Mw.prototype;e.setColor=function(a){this.color=a;return this};e.rd=function(){return this.color};e.toString=function(){return this.html};e.setElement=function(a){this.element=a};e.getElement=function(){return this.element};e.clone=function(){var a=new Mw(this.W(),this.N(),this.w(),this.D(),this.rd(),this.toString());a.setElement(this.getElement());return a};
function Nw(a,b,c,d,f,g){Mw.call(this,b,c,d,f,"transparent",g);this.dg=a;this.rotation=0}t(Nw,Mw);e=Nw.prototype;e.scale=function(a,b){var c=this.w(),d=this.D();Mw.prototype.scale.call(this,a,b);this.pa(c);this.oa(d);return this};e.pi=function(a){this.rotation=a;this.dg=0!=this.rotation?"right":"center"};e.Ma=function(){return this.rotation};e.Up=function(){return this.dg};
e.clone=function(){var a=new Nw(this.Up(),this.W(),this.N(),this.w(),this.D(),this.toString());a.setElement(this.getElement());return a};function Ow(a){Mw.call(this,0,a.value,a.width,a.gs,a.color);this.gs=a.gs||1}t(Ow,Mw);Ow.prototype.scale=function(a,b){Mw.prototype.scale.call(this,a,b);this.oa(this.gs);return this};Ow.prototype.clone=function(){var a=new Ow({value:this.N(),width:this.w(),gs:this.D(),color:this.rd()});a.setElement(this.getElement());return a};
function Pw(a){Mw.call(this,a.index,a.top,1,Math.abs(a.value),a.color)}t(Pw,Mw);Pw.prototype.clone=function(){var a=new Pw({index:this.W(),top:this.N(),value:this.D(),color:this.rd()});a.setElement(this.getElement());return a};function mt(a){a=void 0===a?{}:a;this.Sw=void 0!==a.Sw?a.Sw:!0;this.Th=a.Th||5;this.jh=a.jh||.5;this.padding=void 0!==a.padding?a.padding:10;this.XC=!1;this.color=Gj(xj(a.color||"#00c4cc"),a.mu);this.data=[];this.it=new M(0,0,0,0);this.pj=0;this.Yj=1;this.Oq={labels:[],Ww:[],$r:[]};this.ge={labels:[],VF:[],$r:[]}}e=mt.prototype;
e.Cn=function(a,b,c){var d=this;this.pj=b||this.pj;this.Yj=c||this.Yj;this.pj===this.Yj&&this.Yj++;this.data=a.filter(function(a){return!isNaN(parseFloat(a[d.Yj]))});a=0;b=_.max(this.data.map(function(a){return parseFloat(a[d.Yj])}));this.XC&&(a=Math.min(0,_.min(this.data.map(function(a){return parseFloat(a[d.Yj])}))));this.Sw&&(this.Th=5,4<b&&(0===b%4?this.Th=5:0===b%3?this.Th=4:0===b%5?this.Th=6:0!==b%4&&(c=4-b%4,.2>c/b&&(b+=c),this.Th=5)));this.it=new M(0,a,this.data.length,b-a);this.ge=Qw(this,
a,b);this.Oq=Rw(this,this.data,a)};e.$y=function(){return this.ge.$r.slice()};e.bu=function(){return this.Oq.$r.slice()};e.getData=function(){return this.data};e.pB=function(a){this.jh=a};e.$t=function(){return this.jh};
function Qw(a,b,c){for(var d=[],f=[],g=[],h=[],k=0;k<a.Th;k++)h.push(lj(b,c,k/(a.Th-1)));var l=h.reduce(function(a,b){return Math.abs(a)<Math.abs(b)?a:b});h.forEach(function(c){var h=c-l,k=h+Math.abs(b);g.push(c.toString());c=new Ow({value:h+Math.abs(b),width:a.it.w(),gs:1,color:"#ccc"});d.push(new Nw("right",0,k,a.Th-1,1,h.toString()));f.push(c)});return{$r:g,labels:d,VF:f}}
function Rw(a,b,c){var d=[],f=[],g=[];b.forEach(function(b,k){var l=parseFloat(b[a.Yj]);!a.XC&&0>l&&(l=0);var m=new Nw("center",k,0,1,1,b[a.pj]);f.push(new Pw({index:k,top:0>=c&&0<l?Math.abs(c):Math.abs(c)-Math.abs(l),value:l,color:"#ccc"}));d.push(m);g.push(b[a.pj])});return{labels:d,Ww:f,$r:g}}function Sw(a,b,c,d){var f=c.w()/a.it.w(),g=c.D()/a.it.D();return b.map(function(a){a=a.clone();a.scale(f,g);a.translate(c.W(),c.N());a.Wa(d.D()-a.N()-a.D());return a})}
function Tw(a,b){if(0===a.data.length)throw Error("dataset must be modeled before it can be rendered");a.jh=void 0!==b.jh?b.jh:a.jh;a.color=b.color||a.color;var c=b.hE,d=c.w()-b.Xk-a.padding,f=d/a.Oq.Ww.length,g=f<b.Gg,h=g?.7071067811865475*b.Gg:b.Jh,k=b.Xk+a.padding,l=(1-a.jh)*f,m=c.D()-h-b.Jh-a.padding,n=new M(0,h+a.padding+b.Jh/2,b.Xk,m),p=new M(k,m+2*a.padding,d,h),h=new M(k,h+a.padding,d,m),d=Sw(a,a.ge.VF,h,c),n=Sw(a,a.ge.labels,n,c),k=Sw(a,a.Oq.labels,p,c),r=Sw(a,a.Oq.Ww,h,c);n.forEach(function(a){return a.pa(b.Xk)});
r.forEach(function(b,c){return b.setColor(a.color(c,r.length)).pa(l).translate((f-l)/2,0)});k.forEach(function(a){if(g){var c=a.W()+f/2;a.pa(b.Gg);a.Va(c-.7071067811865475*(b.Gg+b.Jh));a.pi(-45);a.Wa(p.N()+.35355339059327373*(b.Gg-b.Jh))}else a.pa(f),a.Wa(p.N()+a.D())});c={ge:[],data:[]};c.ge.push(d);c.ge.push(n);c.data.push(r);c.data.push(k);return c};var Uw={type:"text",transparency:0,fontFamily:"Open Sans",fontSize:9},Vw={type:"image",isBackground:!1,isRecolorable:!0};function ot(a){var b=a.serialize();b.backgroundColor=a.rd();return new ht(_.extend({},Vw,b))}function pt(a){var b=a.serialize();b.html=a.toString();b.lineLengths=[a.toString().length];b.justification=0!=a.Ma()?"right":"center";b.rotation=a.Ma();return new Jr(_.extend({},Uw,b))}
function nt(a,b,c,d){this.Gj=a;this.Xk=d.charts[0].largestValueWidth;this.Gg=d.charts[0].largestLabelWidth;this.Jh=d.charts[0].labelHeight;this.cL=b;this.gt=c;this.color=xj(d.charts[0].color||"#00c4cc");this.mu=void 0!==d.charts[0].gradientRange?d.charts[0].gradientRange:.5;this.jk={ge:[[],[]],data:[[],[]]};this.Td=!0;qt.call(this,d);this.F().addClass("chart")}nt.prototype=Object.create(qt.prototype);nt.prototype.constructor=qt;var Ww=new M(0,0,100,100);
function Xw(a,b){b=b||Ww;var c=new mt(a.charts[0]);c.Cn(a.charts[0].data);a=Tw(c,{hE:b,Xk:0,Gg:0,Jh:0});var d=document.createElementNS("http://www.w3.org/2000/svg","svg");d.setAttribute("width","100%");d.setAttribute("height","100%");d.setAttribute("preserveAspectRatio","xMaxYMax");d.setAttribute("viewBox",b.W()+" "+b.N()+" "+b.w()+" "+b.D());a.data[0].forEach(function(a){var b=document.createElementNS("http://www.w3.org/2000/svg","rect");b.setAttribute("x",a.W());b.setAttribute("y",a.N());b.setAttribute("width",
a.w());b.setAttribute("height",a.D());b.setAttribute("fill",a.rd());d.appendChild(b)});return d}e=nt.prototype;e.getData=function(){return this.Gj.getData()};e.$t=function(){return this.Gj.$t()};e.pB=function(a){this.Gj.pB(a);this.render()};e.TE=function(){return this.mu};e.mR=function(a){this.mu=a;this.render()};e.Cn=function(a){return this.Gj.Cn(a)};e.$y=function(){return this.Gj.$y()};e.bu=function(){return this.Gj.bu()};e.Bb=function(){return[this.color]};e.Wm=function(){return this.Bb().length};
e.He=function(a,b){this.color=b;this.render()};
function Yw(a,b,c){if(b!==c&&(b||c)){var d=c&&!b;if(!c&&b){var d=c=b instanceof Nw?a.gt(b):a.cL(b),f=b instanceof Ow?0:void 0,f=void 0!==f?f:a.elements.length-1;if(d.ha())a.addElement(d);else{var g=a.ha();g&&(d.page=g,d.mc=g.F(),Et(g,d,a.ea()+f+1));a.elements.splice(f,0,d);a=a.F().find(".elements");a.find(".element").length?a.find(".element").eq(f).after(d.F()):a.append(d.F())}b.setElement(c)}else d?(c=c.getElement(),a.ci(c),a.ha().ci(c,{FR:!0}),c.F().remove(),c.remove()):(c=c.getElement(),b instanceof
Nw?(c.setPosition(b.W(),b.N()),c.pa(b.w()),c.pi(b.Ma()),c.Vg(0,b.Up()),d=c,f=b.toString(),nb.ta.get(ye)&&at(d).html(f)):(c.Zb(b),c.jo(rf(b.rd()))),b.setElement(c),a.elements[a.elements.indexOf(c)]=c)}}
e.render=function(a){this.Gg=a||this.Gg;a=Tw(this.Gj,{hE:new M(this.W(),this.N(),this.w(),this.D()),Xk:this.Xk,Gg:this.Gg,Jh:this.Jh,color:Gj(this.color,this.mu)});var b;for(b=0;b<Math.max(this.jk.ge[0].length,a.ge[0].length);b++)Yw(this,a.ge[0][b],this.jk.ge[0][b]),Yw(this,a.ge[1][b],this.jk.ge[1][b]);for(b=0;b<Math.max(this.jk.data[0].length,a.data[1].length);b++)Yw(this,a.data[0][b],this.jk.data[0][b]),Yw(this,a.data[1][b],this.jk.data[1][b]);this.jk=a;this.Ia();return this};e.BD=function(){};
e.setSize=function(a,b){a<G.Cs||b<G.Cs||(void 0!==a&&void 0!==b&&Y.prototype.setSize.call(this,a,b),this.F().find(".elements").length&&this.render())};e.Ra=function(){qt.prototype.Ra.call(this);var a=this.F().data("selectionBox");a&&(a.addClass("verticalScale"),a.addClass("horizontalScale"))};
function Zw(){var a=[["Apples",10],["Oranges",22],["Banana",39],["Mango",13],["Kitten",15]],b={data:a,dK:new M(0,0,400,300),fontSize:16,fontFamily:"Open Sans",UU:40,TU:100,Jh:12,jh:.2},c=new mt(b);c.Cn(b.data);return P.all([Ir(c.$y(),b.fontSize,b.fontFamily),Ir(c.bu(),b.fontSize,b.fontFamily)]).then(function(d){var f=_.extend({},b.dK.serialize());f.charts=[{}];f.charts[0].data=a;f.charts[0].keyIndex=0;f.charts[0].valueIndex=1;f.charts[0].largestValueWidth=d[0].width;f.charts[0].largestLabelWidth=
d[1].width;f.charts[0].labelHeight=17;d=new nt(c,ot,pt,f);d.render();return d})};function $w(a){Y.call(this,a);this.Td=!0;this.Lz="vertical"===a.align;this.BF=!this.Lz;this.F().addClass("guide").addClass(a.align)}$w.prototype=Object.create(Y.prototype);e=$w.prototype;e.constructor=$w;e.gk=function(){return!1};e.fp=function(){return!1};e.Us=function(){return!0};e.activate=function(){this.F().removeClass("inactive")};e.jt=function(){this.F().addClass("inactive")};e.Wa=function(a){this.BF&&Y.prototype.Wa.call(this,a)};e.Va=function(a){this.Lz&&Y.prototype.Va.call(this,a)};
e.setPosition=function(a,b){this.Lz&&Y.prototype.Va.call(this,a);this.BF&&Y.prototype.Wa.call(this,b)};function lt(a){Y.call(this,a);this.Td=!0;this.placeholder=a.placeholder in ax?a.placeholder:"DEFAULT";this.F().addClass("fixed").css("backgroundImage","url("+ax[this.placeholder]+")")}lt.prototype=Object.create(Y.prototype);lt.prototype.constructor=lt;
var ax={DEFAULT:"https://static.canva.com/static/images/placeholder.jpg",FACEBOOK:"https://static.canva.com/static/images/furniture_facebook_avatar.svg",FUSION_SPINE_GUIDE:"https://static.canva.com/static/images/furniture_fusion_spine_guide.svg",FUSION_VERTICAL_DANGER_GUIDE:"https://static.canva.com/static/images/furniture_fusion_vertical_danger_guide.svg",FUSION_HORIZONTAL_DANGER_GUIDE:"https://static.canva.com/static/images/furniture_fusion_horizontal_danger_guide.svg",FUSION_HORIZONTAL_COVER_DANGER_GUIDE:"https://static.canva.com/static/images/furniture_fusion_horizontal_cover_danger_guide.svg",GPLUS_CARD:"https://static.canva.com/static/images/furniture_gplus_card.svg",
TWITTER_AVATAR:"https://static.canva.com/static/images/furniture_twitter_avatar.svg",TWITTER_MENU:"https://static.canva.com/static/images/furniture_twitter_menu.svg",TWITTER_STATS:"https://static.canva.com/static/images/furniture_twitter_stats.svg",BROCHURE_FOLD_LINE_LEFT:"https://static.canva.com/static/images/furniture_trifold_brochure_fold_line_left.svg",BROCHURE_FOLD_LINE_CENTER:"https://static.canva.com/static/images/furniture_trifold_brochure_fold_line_center.svg",BROCHURE_FOLD_LINE_RIGHT:"https://static.canva.com/static/images/furniture_trifold_brochure_fold_line_right.svg",BROCHURE_BLEED_AREA:"https://static.canva.com/static/images/furniture_trifold_brochure_bleed_area.svg",
PHONE:"https://static.canva.com/static/images/furniture_phone.svg",TABLET:"https://static.canva.com/static/images/furniture_tablet.svg",BROWSER:"https://static.canva.com/static/images/furniture_browser.svg"};e=lt.prototype;e.serialize=function(){return{type:"fixed"}};e.Ra=function(){};e.gk=function(){return!1};e.Us=function(){return!1};e.fp=function(){return!1};function gt(a,b){this.index=a.index;this.xa=b;this.ra=a.mediaId;this.ua=a.mediaVersion;this.origin=a.origin?new cj(a.origin):null;this.Da=Ei(a.imageBox);this.cH=this.fH=this.eH=this.dH=0;this.rr=!0;this.pb=a.flipOrientation|0;this.Au=0<this.xa.parents(".svg.element").length;this.jz=!1;this.backgroundColor=null;a.backgroundColor&&(this.backgroundColor=rf(a.backgroundColor));this.Sb=void 0===a.mediaApproved?!0:a.mediaApproved;dv(this,this.Sb)}e=gt.prototype;
e.serialize=function(){var a={type:"image",index:this.index,mediaId:this.ra,mediaVersion:this.ua,imageBox:this.Da.serialize(),flipOrientation:this.pb,mediaApproved:this.Sb};this.backgroundColor&&(a.backgroundColor=this.backgroundColor.serialize());var b=this.origin&&this.origin.serialize();b&&(a.origin=b);return a};e.F=function(){return this.xa};
function fv(a,b,c,d){var f=b!==a.ra||c!==a.ua;if(a.jz&&!f)return d&&d(!0),a;f&&(a.ra=b,a.ua=c,a.origin=null,dv(a,!0));a.jz=!0;a.rr=!0;a.Au?a.ra&&a.ua&&(b=a.xa.find("image.placeholder"),a.xa.get(0).classList.add("filled"),(c=lb.Ub(a.ra,a.ua))?cu({Mt:c,pq:b,ra:a.ra,ua:a.ua,av:d}):d&&(b.data("mediaId",a.ra),b.data("mediaVersion",a.ua),d(!1))):a.ra&&a.ua&&(b=$("\x3cimg\x3e"),b.addClass("placeholder"),a.xa.find(".placeholder").remove(),a.xa.append(b),a.xa.parent(".item").addClass("filled"),(c=lb.Ub(a.ra,
a.ua))?cu({Mt:c,pq:b,ra:a.ra,ua:a.ua,av:d}):d&&(b.data("mediaId",a.ra),b.data("mediaVersion",a.ua),d(!1)));return a}function ev(a,b){a.origin=b;return a}
function gv(a){a.jz=!1;dv(a,!0);a.ra=void 0;a.ua=void 0;a.origin=null;a.Au?(a.xa.get(0).classList.remove("filled"),a.xa.find("image.placeholder").removeAttr("crossorigin").removeData("mediaId").removeData("mediaVersion").attr("xlink:href",G.Fi)):(a.xa.parent(".item").removeClass("filled"),a.xa.find(".placeholder").remove(),a.xa.append('\x3cdiv class\x3d"placeholder"\x3e\x3c/div\x3e'));return a}e.Kk=function(){return this.Da.clone()};function Yt(a,b){a.Da=b.clone();a.rr=!0;bx(a);return a}
e.mo=function(a){var b=a^this.pb;Ri(this.Da,cx(this),b);this.rr=!0;this.pb=a;bx(this);return this};e.El=function(a){this.Un();this.mo(a);return this};e.Af=function(){return this.backgroundColor};e.jo=function(a){this.backgroundColor=a;dx(this);return this};function yv(a){a.backgroundColor=null;a.xa.find(".backgroundColor.placeholder").replaceWith('\x3cdiv class\x3d"placeholder"\x3e\x3c/div\x3e');return a}function Zu(a){return!(!a.ra||!_.isNumber(a.ua))}e.isEmpty=function(){return!(Zu(this)||this.Af())};
e.Ub=function(){return Zu(this)?lb.Ub(this.ra,this.ua):null};function dv(a,b){(a.Sb=b)?a.xa.get(0).classList.remove("unapproved"):a.xa.get(0).classList.add("unapproved");return a}e.us=function(a){var b=this.Vb();null!=this.backgroundColor||null==b||Bl(a,this.Vb())||(gv(this),dv(this,!1))};e.Vb=function(){return void 0!==this.ra&&void 0!==this.ua?new ej({id:this.ra,version:this.ua}):null};e.Mj=function(a,b){this.ra=a;this.ua=b;this.update()};
e.update=function(a){var b=this.Sb;void 0!==this.ra&&void 0!==this.ua?(fv(this,this.ra,this.ua,a),bx(this)):(gv(this),dx(this),a&&a(!0));dv(this,b)};e.clear=function(){gv(this);yv(this)};function dx(a){if(a.backgroundColor){gv(a);var b=$('\x3cdiv class\x3d"backgroundColor placeholder"\x3e\x3c/div\x3e');b.css("background-color",a.backgroundColor.qa());a.xa.find(".placeholder").replaceWith(b)}else a.clear()}
function bx(a){if(a.Au){var b=a.xa.closest(".element").data("canvaElement"),c=a.xa.find("image.placeholder"),d=cx(a);a=a.Da.clone();a.translate(d.W(),d.N()).scale(1/Wu(b));c.attr("width",a.w()).attr("height",a.D()).attr("x",a.W()).attr("y",a.N())}else{b=cx(a);c=b.w();d=b.D();if(a.rr)a.dH=a.Da.W()/c,a.eH=a.Da.N()/d,a.fH=a.Da.w()/c,a.cH=a.Da.D()/d,a.rr=!1;else{var f=Ji(a.Da);a.Da.Va(c*a.dH);a.Da.Wa(d*a.eH);a.Da.pa(c*a.fH);a.Da.oa(d*a.cH);var g=f/Ji(a.Da),f=c/2,h=d/2,k=1;1>g?(Ki(a.Da,f,h,g,1),g=Math.max(0,
a.Da.W(),c-a.Da.Ua()),k=c/(c-2*g)):1<g&&(Ki(a.Da,f,h,1,1/g),g=Math.max(0,a.Da.N(),d-a.Da.Ga()),k=d/(d-2*g));1<k&&Ki(a.Da,f,h,k)}Ut(a.xa,null,a.pb);c=a.Da.clone();Ri(c,b,a.pb);c.scale(N);c.round();a.xa.find("img.placeholder").css(Qt(c))}}function cx(a){var b=a.xa.closest(".element").data("canvaElement");return b?b.fj(a.index):Fi.clone()}e.Un=function(){var a=this.xa,b=G.EC*this.Da.w();a.parent().css("perspective",b+"px");a.addClass("flipping");a.one("transitionend",function(){a.removeClass("flipping")})};function Pu(a){this.iC=a.valign;this.nf=Ei(a.box);this.Pd=this.nf.clone();this.wl=a.resizeHorizontal;this.ei=a.resizeVertical;this.contents=a.contents;this.jC=[];this.CM=[];this.scale=1;this.ln=ex(this);this.wF=this.nf.D()-gx(this);hx(this);this.ja();var b=this;this.contents.forEach(function(a){b.listenTo(a,"change:width",b.ja);b.listenTo(a,"change:height",b.ja)})}Pu.prototype.trigger=Backbone.Events.trigger;Pu.prototype.listenTo=Backbone.Events.listenTo;Pu.prototype.stopListening=Backbone.Events.stopListening;
_.extend(Pu.prototype,Backbone.Events);e=Pu.prototype;e.remove=function(){var a=this;this.stopListening(this);this.contents.forEach(function(b){a.stopListening(b)})};e.pa=function(a){Vu(a,this.w())||(this.nf.pa(a),this.ja(),this.trigger("change:width",this),this.trigger("change",this))};e.w=function(){return this.nf.w()};e.oa=function(a){Vu(a,this.D())||(this.nf.oa(a),this.ja(),this.trigger("change:height",this),this.trigger("change",this))};e.D=function(){return this.nf.D()};
e.setSize=function(a,b,c){var d=this.w()!==a,f=this.D()!==b;if(d||f)this.nf.setSize(a,b),this.scale!==c&&(this.scale=c,ix(this)),this.ja(),d&&this.trigger("change:width",this),f&&this.trigger("change:height",this),this.trigger("change",this)};e.cn=function(){return this.nf.cn()};e.Zb=function(a,b){this.nf.Va(a.W()).Wa(a.N());this.setSize(a.w(),a.D(),b)};e.ya=function(){return this.nf.clone()};e.Vp=function(){return this.Pd.clone()};
function ex(a){a=a.contents.map(function(a){return a.ya()});return Array.min(a.map(function(a){return a.N()}))}function gx(a){a=a.contents.map(function(a){return a.ya()});return Array.max(a.map(function(a){return a.Ga()}))}function jx(a){var b=ex(a);return gx(a)-b}function kx(a){a=a.contents.slice(0);a.sort(function(a,c){a=a.Vp();c=c.Vp();return a.N()<c.N()?-1:a.N()>c.N()?1:0});return a}
function hx(a){a.jC=[];if(!(2>a.contents.length)){var b=kx(a);a.contents.forEach(function(c){var d=b.indexOf(c);d==a.contents.length-1?d=0:(c=c.ya(),d=b[d+1].ya().N()-c.Ga());a.jC.push(d)})}}function lx(a,b){a.contents.forEach(function(c){var d=c.ya();d.translate(0,b);a.stopListening(c);c.Zb(d,a.scale);a.listenTo(c,"change:width",a.ja);a.listenTo(c,"change:height",a.ja)})}
function ix(a){a.contents.forEach(function(b){a.stopListening(b);b.scale(a.scale);a.listenTo(b,"change:width",a.ja);a.listenTo(b,"change:height",a.ja)})}
e.ja=function(){var a=this;this.contents.forEach(function(b){a.stopListening(b);if(!b.bs)if(b.gy)mx(b);else{var c=b.ya(),d=nx(b);c.pa(d.width);c.oa(d.height);b.Zb(c)}});var b=0===this.CM.length;this.contents.forEach(function(c){if(a.wl&&b){var d=c.ya();d.w()!==a.w()&&(d.pa(a.w()),c.Zb(d,a.scale))}});var c=kx(this);c.forEach(function(b,d){if(0!==d){d=c[d-1];var f=a.contents.indexOf(d),g=a.jC[f],f=b.ya();d=d.ya().Ga()+g*a.scale;f.Wa(d);b.Zb(f,a.scale)}});var d=jx(this),f=this.nf.D(),g;"CENTER"==this.iC?
(g=this.ln+this.wF,g=this.ln+(f-d-g)/2,g-=ex(this),lx(this,g),d>f&&this.ei&&(g=-ex(this),lx(this,g),this.oa(d))):"TOP"==this.iC?this.ln+d>f&&this.ei&&this.oa(this.ln+d):"BOTTOM"==this.iC&&(g=this.ln+this.wF,g=this.ln+(f-d-g),g-=ex(this),lx(this,g),d>f&&this.ei&&(g=-ex(this),lx(this,g),this.oa(d)));this.contents.forEach(function(b){a.listenTo(b,"change:width",a.ja);a.listenTo(b,"change:height",a.ja)})};
function Ou(a,b,c){this.bg=a;this.Pd=a.data("rect").clone().translate(-b,-c);this.zp=!!a.data("dynamicWidth");this.wt=!!a.data("dynamicHeight");this.gy=!!a.data("dynamicFontSize");this.sv=a.data("defaultFontSize");this.gy&&(this.wt=this.zp=!1);this.zp&&this.wt&&(this.zp=!1);this.Ta={rw:0,Qo:0,$c:0,nc:1};this.bs=!1}Ou.prototype.trigger=Backbone.Events.trigger;Ou.prototype.listenTo=Backbone.Events.listenTo;Ou.prototype.stopListening=Backbone.Events.stopListening;_.extend(Ou.prototype,Backbone.Events);
var Ru="center",Su="right";e=Ou.prototype;e.F=function(){return this.bg};e.Vp=function(){return this.Pd.clone()};e.ya=function(){var a=this.Pd.clone();a.Wa(this.Ta.rw+this.Pd.N()*this.Ta.nc).Va(this.Pd.W()*this.Ta.nc).pa(this.Ta.Qo+a.w()*this.Ta.nc).oa(this.Ta.$c+a.D()*this.Ta.nc);return a};
e.Zb=function(a,b){void 0===b&&(b=this.Ta.nc);var c=this.ya(),d=a.clone().scale(N).round();this.bg.css(d.serialize());ox(this);this.Ta.nc=b;this.Ta.rw=a.N()-this.Pd.N()*this.Ta.nc;this.Ta.Qo=a.w()-this.Pd.w()*this.Ta.nc;this.Ta.$c=a.D()-this.Pd.D()*this.Ta.nc;b=!Vu(c.w(),a.w());d=!Vu(c.D(),a.D());b&&this.trigger("change:width",this,a.w()-c.w());d&&this.trigger("change:height",this,a.D()-c.D());(b||d)&&this.trigger("change",this)};
e.scale=function(a){this.Ta.rw*=a/this.Ta.nc;this.Ta.Qo*=a/this.Ta.nc;this.Ta.$c*=a/this.Ta.nc;this.Ta.nc=a};function ox(a){if(a.bg.hasClass("text")){var b=a.ya(),c=a.bg.children(".inner");c.css("width",b.w()).css("height","");var d=a.bg.height();a=c.height();b=Math.round(b.w()*(N-1)*.5);d=Math.ceil(d/2)-Math.floor(a/2);c.css("height",a).css("position","absolute").css("transform","translate("+b+"px, "+d+"px) scale("+N+")")}}
function mx(a){if(!a.bs){var b=px(a),c=a.bg.data("canvaElement"),d=a.bg.data("textIndex");a.bs=!0;c.fd(d,b);a.bs=!1;ox(a)}}function Gu(a){var b;if(!a.bs)if(a.gy)mx(a);else{var c=a.ya();b=nx(a);var d=b.width;b=b.height;a.zp&&(d=Math.max(d,a.Pd.w()*a.Ta.nc));a.wt&&(b=Math.max(b,a.Pd.D()*a.Ta.nc));c.pa(d);c.oa(b);a.Zb(c)}}
function px(a){function b(a,b,d){var m="width"==a?b.width:b.height;a="width"==a?f:g;var n=m.call(b);d/=n/a;b.css("font-size",d*G.Qe+"%");n=m.call(b);if(0==n)return c;if(n>a)for(;n>a&&!(d*=.95,b.css("font-size",d*G.Qe+"%"),n=m.call(b),n<a||8>d););else if(n<a)for(;n<a;)if(d/=.95,b.css("font-size",d*G.Qe+"%"),n=m.call(b),n>a||d>c){d*=.95;break}return d=Math.max(Math.min(c,d),G.qJ)}var c=a.sv*a.Ta.nc,d=parseFloat(a.bg.data("fontSize"))*a.Ta.nc,f=Math.floor(a.Ta.Qo+a.Pd.w()*a.Ta.nc),g=Math.floor(a.Ta.$c+
a.Pd.D()*a.Ta.nc);a=a.bg.clone();a.addClass("element").appendTo("#canvaDocument \x3e .inner").css("width","").css("height","");a.children(".inner").css("width","").css("height","").css("transform","").css("position","").css("top","");d=b("width",a,d);a.css("font-size",d*G.Qe+"%");a.height()>g&&(a.css("width",a.width()),d=b("height",a,d));a.remove();return d}
function nx(a){function b(a,b,c){var d="height"===b?c:"";c="width"===b?c:"";a=a.clone();"width"===b&&a.css("white-space","nowrap");a.addClass("element").appendTo("#limbo").css("width",d).css("height",c);a.children(".inner").css("width",d).css("height",c).css("transform","").css("position","").css("top","").forceLayout();b=a.get(0).getBoundingClientRect()[b];a.remove();return b}var c=a.Ta.Qo+a.Pd.w()*a.Ta.nc,d=a.Ta.$c+a.Pd.D()*a.Ta.nc,f=a.bg;a.zp&&(c=b(f,"width",d));a.wt&&(d=b(f,"height",c));return{width:c,
height:d}};function qx(a){for(var b,c=/(.*['"<])?([^'">]+)(['">].*)?/g;b=c.exec(a);)if(b=b[2].trim(),rx(b))return b}function rx(a){return/^[^@]+@[^@]+\.[^@]+$/.test(a)&&!/[ ,<>'"]/.test(a)};function sx(){this.da=mb;this.path="/login"};function tx(){}t(tx,Error);function ux(a,b,c){this.id=a;this.length=b;this.name=c}ux.prototype.G=function(){return this.id};ux.prototype.getLength=function(){return this.length};ux.prototype.getName=function(){return this.name};function vx(a,b,c,d){this.id=a;this.name=b;this.ah=d;this.OP=c}vx.prototype.G=function(){return this.id};vx.prototype.getName=function(){return this.name};vx.prototype.lc=function(){return this.ah};vx.prototype.dj=function(){return this.OP};function wx(a,b,c){this.height=a;this.url=b;this.width=c}wx.prototype.D=function(){return this.height};wx.prototype.ma=function(){return this.url};wx.prototype.w=function(){return this.width};function xx(a){this.da=a.da;this.ZF=a.ZF;this.Ow=a.Ha.Ow;this.Ek=null}var yx={aM:function(a,b){var c=[];b.permissions.data.forEach(function(a){"granted"==a.status&&c.push(a.permission)});this.permissions=c},param:"permissions"};
xx.prototype.init=function(){var a=this,b,c;b=this;return(c=window.facebookSdkPromise)?c:c=window.facebookSdkPromise=new P(function(c){window.fbAsyncInit=function(){FB.init({version:"v2.6",appId:b.Ow,channelUrl:"//"+window.location.hostname+"/static/channel.html",status:!0,xfbml:!1});c(a)};zx()})};
function zx(){var a,b=document.getElementsByTagName("script")[0];document.getElementById("facebook-jssdk")||(a=document.createElement("script"),a.id="facebook-jssdk",a.src="//connect.facebook.com/en_US/sdk.js",b.parentNode.insertBefore(a,b))}function Ax(){var a;a=window.facebookSdkPromise;return!!a&&a.isFulfilled()}function Bx(a,b){return new P(function(c,d){Cx(a).then(function(f){f=f.permissions;var g=_.difference(b,f);a.Ek&&a.Ek.zU(f);g.length?d():c()}).catch(d)})}
function Cx(a){var b=[yx];return new P(function(c,d){a.getAuthResponse().then(function(a){for(var g=[],h=0;h<b.length;h++){var k=b[h];k.param&&g.push(k.param)}g=g.join(",");FB.api("/me?return_ssl_resources\x3d1\x26fields\x3d"+encodeURIComponent(g),function(g){if("error"in g)d("FB_API_ERROR");else{for(var h={},k=0;k<b.length;k++)b[k].aM.call(h,a,g);c(h)}})}).catch(function(b){a.Ek=null;d(b)})})}
xx.prototype.getAuthResponse=function(){return new P(function(a,b){FB.getAuthResponse()?a(FB.getAuthResponse()):FB.getLoginStatus(function(c){"connected"==c.status?a(c.authResponse):b("UNAUTHORIZED")})})};xx.prototype.Ca=function(){return this.Ek};
function Dx(a){var b=["email","public_profile","user_photos"];return new P(function(c,d){function f(b){a.Ek=null;d(b)}function g(g){g.authResponse&&g.status?Bx(a,b).then(c).catch(f):d("FB_API_ERROR")}var h=_.difference(b,a.Ek?a.Ek.XT():[]);0<h.length?FB.login(g,{scope:h.join(",")}):Bx(a,b).then(c).catch(f)})}function Ex(a){return Bx(a,["email","public_profile","user_photos"])}
function Fx(a){if(!Ax())throw new tx;var b={fields:"id,name,count"};void 0!==a&&(b.offset=a);b.limit=10;return new P(function(a,d){FB.api("/me/albums?return_ssl_resources\x3d1",b,function(b){"error"in b?d("FB_API_ERROR"):(b=b.data.map(function(a){return new ux(a.id,a.count||0,a.name)}),a(b))})})}
function Gx(a,b,c){if(!Ax())throw new tx;var d={fields:"id,name,height,width,source,picture,images"};void 0!==b&&(d.offset=b);void 0!==c&&(d.limit=c);return new P(function(b,c){FB.api("/"+encodeURIComponent(a)+"/photos?return_ssl_resources\x3d1",d,function(a){"error"in a?c("FB_API_ERROR"):(a=a.data.map(function(a){var b=a.height,c=a.width,d=a.source,f=b/4.6,g=c/4.6,h=a.picture,v=a.images.filter(function(a){return a.source===h});0<v.length&&(f=v[0].height,g=v[0].width);v=a.images.sort(function(a,b){return b.height-
a.height})[0];if(v.width>c||v.height>b)b=v.height,c=v.width,d=v.source;return new vx(a.id,a.name,new wx(b,d,c),new wx(f,h,g))}),b(a))})})}
function Hx(a,b){return new P(function(c,d){function f(){return m.reduce(function(a,b){return a+b.getLength()},0)}function g(c){var k;m=m.concat(c);c=0<c.length&&10>=c.length;k=f()<a+b;c&&k?Fx(m.length).then(g).catch(d):h()}function h(){var c=0,f=m.filter(function(b){c+=b.getLength();return c>a}),g=m.filter(function(a){return-1===f.indexOf(a)}).reduce(function(a,b){return a+b.getLength()},0),h=[],n=0;f.forEach(function(c,d){var f=0===d?a-g:0;d=Math.min(b,c.getLength()-f);n<b&&(c=Gx(c.G(),f,d).tap(k),
h.push(c));n+=d});P.all(h).then(l).catch(d)}function k(a){n=n.concat(a)}function l(){c(n)}var m=[],n=[];if(!Ax())throw new tx;Fx(0).then(g).catch(d)})}function Ix(){this.Ow=La("appId",window.facebookConfig)};function Jx(){}t(Jx,Error);function Kx(){}t(Kx,Jx);function Lx(a){this.accessToken=a.accessToken||null;this.UA=a.UA||null;this.xD=a.xD;this.yH=a.yH;this.Tq=a.Tq;if(this.accessToken){var b=this;this.Uz().then(function(){gapi.auth.setToken({accessToken:b.accessToken})})}if(this.Tq&&!a.UA)throw Error("Client cannot be configured with offline and not have a redirectUri");this.Uz().then(this.WJ.bind(this,{KS:!1}))}Lx.prototype.load=function(){return this.Uz()};
(function(){function a(a){var c;try{c=JSON.parse(a.data)}catch(d){return}c.f&&null===document.getElementById(c.f)&&a.stopImmediatePropagation()}window.googleApiLoaderDeferred=window.googleApiLoaderDeferred||$.Deferred();window.googleApiLoaderScript=window.googleApiLoaderScript||null;Lx.prototype.$K=function(){var a,c=window.googleApiLoaderDeferred;a=$("\x3cscript\x3e");a[0].onerror=c.reject.bind(c);a.attr({src:"https://apis.google.com/js/client.js?onload\x3dGoogleApiOnGapiLoad",type:"text/javascript"});
a.appendTo("head");return a};Lx.prototype.Uz=function(){window.googleApiLoaderScript||(window.addEventListener("message",a),window.googleApiLoaderScript=this.$K());return window.googleApiLoaderDeferred.promise()};window.GoogleApiOnGapiLoad=function(){window.googleApiLoaderDeferred.resolve()}})();
Lx.prototype.WJ=function(a){function b(a){var b=a&&a.access_token;a=a&&a.code;b?(d.accessToken=b,c.resolve(d.accessToken)):a?c.resolve(a):c.reject(new Kx)}var c=jQuery.Deferred(),d=this;this.accessToken?c.resolve(this.accessToken):(a={client_id:this.xD,immediate:!a.KS,approval_prompt:a.WT?"force":"auto",access_type:this.Tq?"offline":"online",response_type:this.Tq?"code":"token",scope:this.yH},this.Tq&&(a=$.extend({redirect_uri:this.UA},a)),gapi.auth.authorize(a,b));return c.promise()};function Mx(a){this.da=a}Mx.prototype.Gq=function(a,b){var c=b.filter,d=b.Nd(),f=b.Rb(),g=b.PE();a="/vfolders/"+a+b.qb()+"?"+(c?"filter\x3d"+encodeURIComponent(c):"")+(d?"\x26limit\x3d"+encodeURIComponent(String(d)):"")+(f?"\x26continuation\x3d"+encodeURIComponent(f):"")+(g?"\x26decorations\x3d"+encodeURIComponent(g.join(",")):"");return Bf(this.da,a).get(0).then(Nx)};function Ox(a,b){var c=b.na();return a.Gq("brands/"+(c?encodeURIComponent(c):"~"),b)}
function Px(a,b){var c=b.na(),d=b.Ca();return a.Gq("brands/"+(c?encodeURIComponent(c):"~")+"/users/"+(d?encodeURIComponent(d):"~"),b)};function Qx(){this.content=null}Qx.prototype=new Ah;Qx.prototype.getContent=function(){return this.content};function Rx(a){a=a.content;var b=a.elements;return b&&1===b.length&&"grid"===b[0].type?0>=b[0].top&&0>=b[0].left&&b[0].width>=a.width&&b[0].height>=a.height&&(!b[0].contents||0===b[0].contents.length):!1}function Sx(){}e=Sx.prototype;e.me=function(a){this.brand=a;return this};e.na=function(){return this.brand||null};e.am=function(a){this.user=a;return this};
e.Ca=function(){return this.user||null};e.$f=function(a){this.folder=a;return this};e.qb=function(){return this.folder};function Tx(a,b){a.filter=b;return a}e.dh=function(a){this.continuation=a;return this};e.Rb=function(){return this.continuation||null};e.jf=function(a){this.limit=a;return this};e.Nd=function(){return this.limit};e.PE=function(){return this.decorations};function Ux(){this.items=[];this.folders=this.continuation=null}Ux.prototype.Md=function(){return this.items};Ux.prototype.Rb=function(){return this.continuation};
Ux.prototype.aj=function(){return this.folders};function Nx(a){if(!a)return null;a=$.extend(new Ux,a);a.items&&(a.items=a.items.map(ph));a.folders&&(a.folders=a.folders.map(Zg));return a};function Vx(a,b){this.Fa=a;this.Y=b}Vx.prototype.gb=function(){var a=this.Fa.getName(),b=this.Fa.xc();if(a)return a;if(b){if("LOGOS"===b)return this.Y.format("objectPanelUploadsPanelSystemFolderLogos");if("UNFOLDERED"===b)return this.Y.format("objectPanelUploadsPanelSystemFolderUnfoldered");throw Error("unrecognised system folder");}return this.Fa===fh?this.Y.format("objectPanelUploadsPanelUploadsFolder"):this.Fa===gh?Qc(this.Y):this.Y.format("objectPanelUploadsPanelUntitledFolder")};function Av(a){this.name=a||"Normal";this.ne=this.vignette=this.Rd=this.saturation=this.contrast=this.brightness=this.blur=0;this.Vf=50}var Wx=new Av,Xx=new Av("halftone");
function Yx(a){var b=a.match(/([a-z0-9]{2})/gi),c=new Av;if("halftone"===a)return Xx;c.brightness=parseInt(b[0],16)-100;c.contrast=parseInt(b[1],16)-100;c.saturation=parseInt(b[2],16)-100;c.Rd=parseInt(b[3],16)-100;c.blur=parseInt(b[4],16)-100;c.vignette=parseInt(b[5],16);c.ne=parseInt(b[6],16)-100;c.Vf=7<b.length?parseInt(b[7],16):Wx.Vf;return c}function Zx(a){a=a.toLowerCase();return"tint"!==a&&"name"!==a}
function $x(a,b,c){b=Math.round((b||0)*c);return"vignette"===a||"tintAmount"===a?Math.min(100,Math.max(0,b)):Math.min(100,Math.max(-100,b))}function ay(a,b){var c=_.findWhere(by,{name:a.name});_.chain(c).keys().filter(Zx).each(function(a){this.Lv(a,$x(a,c[a],b))}.bind(a))}function cy(a){var b=new Av;b.pe(a.serialize());b.blur&&(b.blur*=.5);b.brightness&&(b.brightness*=.5);b.contrast&&(b.contrast*=.6);b.saturation&&0<b.saturation&&(b.saturation*=.8);b.vignette&&(b.vignette*=.7);return b}e=Av.prototype;
e.pe=function(a){a&&(this.name=a.name||Wx.name,this.blur=a.blur||Wx.blur,this.brightness=a.brightness||Wx.brightness,this.contrast=a.contrast||Wx.contrast,this.saturation=a.saturation||Wx.saturation,this.Rd=a.tint||Wx.Rd,this.vignette=a.vignette||Wx.vignette,this.ne=a.xpro||Wx.ne,this.Vf=_.isNumber(a.tintAmount)?a.tintAmount:Wx.Vf)};
function dy(a,b){function c(c){return a[c]!==b[c]}a=void 0===a?Wx:a;b=void 0===b?Wx:b;return null===a&&null===b?!0:null===a||null===b?!1:0===Object.keys(a).filter(c).length&&0===Object.keys(b).filter(c).length}
e.Lv=function(a,b){switch(a){case "brightness":return this.brightness=b,!0;case "saturation":return this.saturation=b,!0;case "contrast":return this.contrast=b,!0;case "blur":return this.blur=b,!0;case "tint":return this.Rd=b,!0;case "xpro":case "xprocess":return this.ne=b,!0;case "vignette":return this.vignette=b,!0;case "tintAmount":return this.Vf=b,!0;default:return!1}};
e.getByName=function(a){switch(a){case "brightness":return this.brightness;case "saturation":return this.saturation;case "contrast":return this.contrast;case "blur":return this.blur;case "tint":return this.Rd;case "xpro":case "xprocess":return this.ne;case "vignette":return this.vignette;case "tintAmount":return this.Vf;default:throw Error("unknown filter property name: "+a);}};e.Fz=function(){return null!==ey(this)};
e.serialize=function(){if(dy(this,Wx))return null;var a={};this.name&&(a.name=this.name);this.blur&&(a.blur=this.blur);this.brightness&&(a.brightness=this.brightness);this.contrast&&(a.contrast=this.contrast);this.saturation&&(a.saturation=this.saturation);this.Rd&&(a.tint=this.Rd);this.vignette&&(a.vignette=this.vignette);this.ne&&(a.xpro=this.ne);_.isNumber(this.Vf)&&(a.tintAmount=this.Vf);return a};
function ey(a){var b=_.findWhere(by,{name:a.name});if(null===b)return null;var c=fy(a,b);return null===c?null:_.all(b,function(a,f){return Zx(f)?1>=Math.abs(this.getByName(f)-$x(f,b[f],c)):!0}.bind(a))?c:null}function fy(a,b){var c=0,d=null;_.each(b,function(a,b){Zx(b)&&Math.abs(a)>=Math.abs(c)&&100>Math.abs(this.getByName(b))&&(c=a,d=b)}.bind(a));return 0===c?null:a.getByName(d)/c}
e.qa=function(){return[this.brightness+100,this.contrast+100,this.saturation+100,this.Rd+100,this.blur+100,this.vignette,this.ne+100,this.Vf].map(function(a){a=Math.round(a).toString(16);1==a.length&&(a="0"+a);return a}).join("")};
function gy(a,b){a-=200/7;0>a&&(a=200+a);var c,d;a=360*a/200/360;c=1;d=.5;if(0==c)d=c=a=d;else{var f=.5>d?d*(1+c):d+c-d*c,g=2*d-f;d=Ij(g,f,a+1/3);c=Ij(g,f,a);a=Ij(g,f,a-1/3)}a=[Math.round(255*d),Math.round(255*c),Math.round(255*a)];return{color:{r:a[0],Oy:a[1],b:a[2]},Mw:7+.14*(b-50)}}
function hy(a){function b(b){return parseFloat((b*a/-100).toFixed(2))}if(0<a){var c=function(b){return parseFloat((b*a/100).toFixed(2))},d=[0,.2,0,-.1,0].map(c),f=[0,.1,0,-.1,0].map(c),c=[.2,0,.2].map(c);return{red:[[0,0],[.3,.3-d[1]],[.7,.7-d[3]],[1,1]],green:[[0,0],[.25,.25-f[1]],[.75,.75-f[3]],[1,1]],blue:[[0,c[0]],[0+2/3*.5,c[0]+2/3*(.5-c[0])],[1+2/3*-.5,1-c[2]+2/3*(.5-(1-c[2]))],[1,1-c[2]]]}}d=[0,.2,.5,-.05].map(b);f=[0,-.15,0,0].map(b);c=[0,-.01,0,.3].map(b);return{red:[[0,0],[.3,.3-d[1]],[.7,
.7-d[2]],[.95,.95-d[3]]],green:[[0,0],[.25,.25-f[1]],[.6,.6],[1,1]],blue:[[0,0],[.3,.3-c[1]],[.5,.5],[1,1-c[3]]]}};function iy(a){this.filter=new Av;this.rq=this.SA=this.sf=!1;this.ut={};this.FL="";this.Cb=a;this.Hx="print"==it?du:Ue;this.EB=null;this.tq=50}function et(a,b){var c=new Av;b=new iy(b);a&&c.pe(a);zv(b,c);return b}e=iy.prototype;e.Fz=function(){return this.filter.Fz()};e.Wk=function(){return this.rq};e.initialize=function(a){function b(){c.rq=!0;a&&a()}var c=this;!Zu(this.Cb)||this.rq||dy(this.filter,Wx)?b():hu(this,b)};function jy(a){a.we||(a.we=new ky(window,a.Cb,a.Hx),a.we.update(!0))}
e.update=function(a,b){var c=this;if(this.sf)if(this.EB=ju(this),this.trigger("change"),this.Cb.isEmpty())this.we&&(this.we.remove(),this.we=null),this.sf=!1,b&&b();else{this.we||(this.we=new ky(window,this.Cb,this.Hx));var d=!!this.SA;ly(this.we.apply(this.filter),d).update(!!a,function(){c.sf=!1;b&&b()})}else b&&b()};function hu(a,b){a.sf=!0;a.SA=!0;a.Zi();a.update(!0,function(){a.SA=!1;a.Yi();b&&b()})}
e.Lv=function(a,b,c){"intensity"===a?(this.tq=b,ay(this.filter,b/50),this.sf=!0):this.sf=this.filter.Lv(a,b);this.update(!1,c)};e.getByName=function(a){return"intensity"==a?this.tq:this.filter.getByName(a)};function zv(a,b){a.filter=b;a.tq=Math.round(50*ey(b))}function my(a,b){a.filter=new Av;a.tq=50;b&&a.filter.pe(b);hu(a,void 0)}function ny(a){a.filter=new Av;a.tq=50;a.sf=!0;hu(a,void 0)}function ju(a){return a.filter.serialize()}e.qa=function(){return this.filter.qa()};e.Zi=function(){};
e.Yi=function(){if(this.we){var a=ly(this.we,!0);if(!a.gC)if(a.rs)oy(a);else if(a.canvas){var b=a.ow.clone(!0).off().removeAttr("crossorigin"),c=py(a);c?(b.get(0).src=c,qy(a)):(c=a.canvas.toDataURL(),a.cache.add(ry(a),c),b.get(0).src=c);a.xa.find("img,canvas").remove();a.xa.append(b);a.ow=b;$("#limbo").append(a.canvas);a.No=!1}}};e.Ub=function(){return this.Cb.Ub()};
e.ey=function(a,b,c){var d=new Av;a&&d.pe(a);this.Cb.serialize().mediaId+this.Cb.serialize().mediaVersion!==this.FL&&(this.ut={});if(this.ut[d.name])c(this.ut[d.name]);else if(a=this.Ub()){var f=this,g=b?eu:this.Hx,h=a[g];b=h.ma();a=$("\x3cimg\x3e");var k=$("\x3cdiv\x3e");k.append(a);k.appendTo("#limbo");a.one("load",function(){var a=h.w(),b=h.D();k.css("width",a).css("height",b);var a=new gt(f.Cb.serialize(),k),n=new ky(window,a,g);n.apply(d).ey().update(!0,function(){var a={src:sy(n),FS:ty(n)};
f.ut[d.name]=a;c(a);n.remove();k&&k.remove()})});Rt(St,a,b)}};e.remove=function(){this.we&&this.we.remove();this.we=null};e.trigger=Backbone.Events.trigger;e.listenTo=Backbone.Events.listenTo;e.stopListening=Backbone.Events.stopListening;_.extend(iy.prototype,Backbone.Events);var by=[{name:"The Blues",blur:-14,brightness:63,contrast:-37,tint:0,saturation:-26,vignette:0,xpro:-23,tintAmount:50},{name:"Edge",blur:-53,brightness:10,contrast:-24,tint:49,saturation:26,vignette:0,xpro:29,tintAmount:50},{name:"Selfie",blur:void 0,brightness:10,contrast:-12,tint:-50,saturation:-12,vignette:56,xpro:50,tintAmount:50},{name:"Festive",blur:-7,brightness:10,contrast:21,tint:void 0,saturation:24,vignette:void 0,xpro:40,tintAmount:50},{name:"Rosie",blur:-14,brightness:0,contrast:55,tint:-73,
saturation:-28,vignette:0,xpro:27,tintAmount:50},{name:"Drama",blur:0,brightness:-10,contrast:21,tint:60,saturation:-34,vignette:50,xpro:80,tintAmount:50},{name:"Epic",blur:1,brightness:6,contrast:20,tint:void 0,saturation:-14,vignette:39,xpro:50,tintAmount:50},{name:"Grayscale",blur:void 0,brightness:15,contrast:-20,tint:void 0,saturation:-100,vignette:void 0,xpro:void 0,tintAmount:50},{name:"Nordic",blur:0,brightness:15,contrast:-16,tint:0,saturation:-50,vignette:0,xpro:0,tintAmount:50},{name:"Summer",
blur:0,brightness:10,contrast:14,tint:-46,saturation:18,vignette:25,xpro:30,tintAmount:50},{name:"Street",blur:-7,brightness:-7,contrast:21,tint:0,saturation:-95,vignette:50,xpro:0,tintAmount:50},{name:"Retro",blur:0,brightness:0,contrast:-14,tint:14,saturation:-18,vignette:40,xpro:69,tintAmount:50},{name:"Whimsical",blur:-19,brightness:43,contrast:-15,tint:-79,saturation:-53,vignette:21,xpro:60,tintAmount:50},{name:"Cali",blur:0,brightness:22,contrast:-46,tint:0,saturation:38,vignette:0,xpro:27,
tintAmount:50}];function ky(a,b,c){this.Cb=b;this.mr=c;this.xa=this.Cb.F();this.gC=this.Cb.Au;this.rs=uy;this.Hz=this.vt=this.sf=this.locked=this.No=!1;!this.rs&&"WebGLRenderingContext"in a&&(a=fx.canvas(),b=fx.canvas(),a&&b&&(vy=a,wy=b,this.rs=uy=!0))}var vy,wy;ky.prototype.mM=function(){var a=0;return function(){a+=1;return a.toString()}}();var uy=!1;ky.prototype.ey=function(){this.vt=!0;return this};ky.prototype.apply=function(a){this.values=new Av;this.values.pe(cy(a).serialize());return this};
function ly(a,b){a.No=b;return a}ky.prototype.update=function(a,b){this.Hz||!a&&this.locked||(this.gC?this.zS(b):this.rs?xy(this,b):yy(this,a,b))};function oy(a){function b(){this.No=!1;c.xa.find("img,canvas").remove();c.xa.append(d);c.ow=d;$("#limbo").append(c.canvas)}if(a.canvas){var c=a,d=a.ow.clone(!0).off().removeAttr("crossorigin"),f=py(a);f?(d.get(0).src=f,b(),qy(a)):xy(a,function(){c.canvas.update();c.canvas._.texture.toImage(d.get(0));var a=d.get(0).src;c.cache.add(ry(c),a);b()})}}
function zy(a,b){a=a.Cb.Kk().scale(N).round();$(b).css(Qt(a,0))}
(function(){function a(a,c,d,f){fu(St,a.Ub()[d].ma()).then(function(g){var h=$("\x3cdiv\x3e").append(g);g=new gt(a.serialize(),h);h.appendTo("#limbo");var k=new ky(window,g,d);k.values=b(c);k.update(!0,function(){var a=sy(k);h.remove();f(a)})})}function b(a){a=Yx(a.qa());a.saturation/=.8;0!==a.Rd&&(a.brightness=0<a.brightness?a.brightness/1.5:a.brightness-15);0<a.blur&&(a.blur/=2);return a}function c(a){var b=$(a).children("defs.canva.filter");0===b.length?(b=document.createElementNS("http://www.w3.org/2000/svg",
"defs"),b.classList.add("canva"),b.classList.add("filter"),a.appendChild(b)):b=b.get(0);return b}function d(a,b,c){var d={brightness:l,contrast:m,saturation:n,Rd:k,blur:p,vignette:h,ne:f},g=document.createElementNS("http://www.w3.org/2000/svg","filter");c=c.Kk().scale(2);g.setAttribute("id",b);"print"===it&&g.setAttribute("filterRes",c.w()+" "+c.D());b=document.createElementNS("http://www.w3.org/2000/svg","feComponentTransfer");g.appendChild(b);Object.keys(a).filter(function(b){return d.hasOwnProperty(b)&&
void 0!==a[b]}).forEach(function(b){0!==a[b]&&d[b].call(this,a[b],a).forEach(function(a){g.appendChild(a)})});return g}function f(a){if(0===a)return[];a=g(hy(a));a.forEach(function(a){a.classList.add("crossProcess")});return a}function g(a){var b=document.createElementNS("http://www.w3.org/2000/svg","feComponentTransfer");b.setAttribute("color-interpolation-filters","sRGB");var c={r:a.red,g:a.green,b:a.blue};["r","g","b"].forEach(function(a){var d=document.createElementNS("http://www.w3.org/2000/svg",
"feFunc"+a.toUpperCase());if(a=c[a])a=Ay({x:a[0][0],y:a[0][1]},{x:a[1][0],y:a[1][1]},{x:a[2][0],y:a[2][1]},{x:a[3][0],y:a[3][1]}).map(function(a){return a.y}),d.setAttribute("type","table"),d.setAttribute("tableValues",a.join(" ")),b.appendChild(d)});b.classList.add("curves");return[b]}function h(a){if(0===a)return[];var b=document.createElementNS("http://www.w3.org/2000/svg","radialGradient"),c=document.createElementNS("http://www.w3.org/2000/svg","stop"),d=document.createElementNS("http://www.w3.org/2000/svg",
"stop");b.classList.add("vignette");b.appendChild(c);b.appendChild(d);b.setAttribute("cx","50%");b.setAttribute("cy","50%");b.setAttribute("r","50%");b.setAttribute("fx","50%");b.setAttribute("fy","50%");var f=Math.min(1,G.Yo);c.setAttribute("offset",(1<G.Yo?G.Gw/G.Yo:G.Gw).toString());c.setAttribute("stop-color","#000000");c.setAttribute("stop-opacity","0");d.setAttribute("offset",f.toString());d.setAttribute("stop-color","#000000");d.setAttribute("stop-opacity",a/100);return[b]}function k(a,b){if(0===
a)return[];a=gy(a+100,b.getByName("tintAmount"));var c={r:a.color.r/255,g:a.color.Oy/255,b:a.color.b/255},d=a.Mw/100*2,f=document.createElementNS("http://www.w3.org/2000/svg","feComponentTransfer");f.setAttribute("color-interpolation-filters","sRGB");["r","g","b"].forEach(function(a){var b=document.createElementNS("http://www.w3.org/2000/svg","feFunc"+a.toUpperCase());a=c[a]*d;b.setAttribute("type","linear");b.setAttribute("slope",1-d);b.setAttribute("intercept",a);f.appendChild(b)});f.classList.add("tint");
return[f]}function l(a){if(0===a)return[];var b=a/100,c=document.createElementNS("http://www.w3.org/2000/svg","feComponentTransfer");c.setAttribute("color-interpolation-filters","sRGB");["r","g","b"].forEach(function(a){a=document.createElementNS("http://www.w3.org/2000/svg","feFunc"+a.toUpperCase());a.setAttribute("type","linear");a.setAttribute("slope",1);a.setAttribute("intercept",b);c.appendChild(a)});c.classList.add("brightness");return[c]}function m(a){if(0===a)return[];var b=(a*(1<a?1/.6:1)+
100)/100,c=document.createElementNS("http://www.w3.org/2000/svg","feComponentTransfer");c.setAttribute("color-interpolation-filters","sRGB");["r","g","b"].forEach(function(a){a=document.createElementNS("http://www.w3.org/2000/svg","feFunc"+a.toUpperCase());var d=-(.5*b)+.5;a.setAttribute("type","linear");a.setAttribute("slope",b);a.setAttribute("intercept",d);c.appendChild(a)});c.classList.add("contrast");return[c]}function n(a){if(0===a)return[];a=(a+100)/100;a*=1>=a?1:a;a=[.3086+.6914*a,.6094-.6094*
a,.082-.082*a,0,0,.3086-.3086*a,.6094+(1-.6094)*a,.082-.082*a,0,0,.3086-.3086*a,.6094-.6094*a,.082+.918*a,0,0,0,0,0,1,0];var b=document.createElementNS("http://www.w3.org/2000/svg","feColorMatrix");b.setAttribute("color-interpolation-filters","sRGB");b.setAttribute("type","matrix");b.setAttribute("values",a.join(" "));b.classList.add("saturation");return[b]}function p(a){if(0===a)return[];if(0>a){a*=-1;if(0===a)a=[];else{a=a/100*4;a=[0,-a,0,-a,4*a+1,-a,0,-a,0];var b=document.createElementNS("http://www.w3.org/2000/svg",
"feConvolveMatrix");b.setAttribute("order","3");b.setAttribute("kernelMatrix",a.join(" "));b.classList.add("sharpen");a=[b]}return a}b=document.createElementNS("http://www.w3.org/2000/svg","feGaussianBlur");b.setAttribute("stdDeviation",.125*a);b.classList.add("blur");return[b]}var r=0;ky.prototype.zS=function(b){var f="_CANVA_FILTER_"+r++;By(this);if(!this.values||dy(this.values,Wx))b&&b();else{this.Jp=c(this.xa.get(0));var g=d(this.values,f,this.Cb);this.Jp.appendChild(g);var g=this.Jp.querySelector(".vignette"),
h=this.xa.get(0).querySelector(".vignette"),k=f+"_VIGNETTE";g?(this.Jp.appendChild(g),g.setAttribute("id",k),h.setAttribute("fill","url(#"+k+")")):h.setAttribute("fill","none");var l=this.xa.find("image.placeholder").get(0);Ar?a(this.Cb,this.values,this.mr,function(a){a&&Rt(St,$(l),a);b&&b()}):(l.setAttribute("filter","url(#"+f+")"),b&&b())}}})();function ry(a){var b,c=a.Cb.serialize();a.ke&&a.values&&a.Cb&&(b=a.values.qa()+c.mediaId+c.mediaVersion+a.ke.width+a.ke.height);return b}
function Cy(a){var b=ry(a);return a.No&&!!b&&!!a.cache.fetch(b)}function py(a){return Cy(a)?a.cache.fetch(ry(a)):void 0}
function xy(a,b){function c(){d.ke.width=f;d.ke.height=g;d.canvas||(d.canvas=d.vt?wy:vy,d.xa.append(d.canvas),zy(d,d.canvas),d.mv=d.canvas.texture(d.ke),d.canvas.draw(d.mv,f,g),$("#limbo").append(d.ke));if(d.canvas.width!==f||d.canvas.height!==g)d.canvas.width=f,d.canvas.height=g;zy(d,d.canvas);d.canvas.draw(d.mv,f,g);if(d.values){d.canvas.brightnessContrast((d.values.brightness||0)/100,(d.values.contrast||0)/100).saturation(d.values.saturation||0);if(d.values.Rd){var a=gy(d.values.Rd+100,d.values.Vf);
d.canvas.colorize(a.color.r,a.color.Oy,a.color.b,a.Mw/100)}d.values.blur&&(0<d.values.blur?d.canvas.triangleBlur(d.values.blur):d.canvas.unsharpMask(3,-1*d.values.blur/20));d.values.ne&&(a=hy(d.values.ne),d.canvas.curves(a.red,a.green,a.blue));qy(d);d.values.name===Xx.name&&d.canvas.colorHalftone(f/2,g/2,.45,f/100)}d.canvas.update();b&&b();d.vt=!1;d.locked=!1;d.sf=!1}var d=a,f,g;if(Cy(a))b&&b();else if(a=a.Cb.Ub())a=a[d.mr],f=a.w(),g=a.D(),d.qF=a.ma(),d.No=!1,d.locked=!0,Dy(d,c)}
function yy(a,b,c){function d(){h.ke.width=k;h.ke.height=l;if(h.qe){if(h.canvas.width!==k||h.canvas.height!==l)h.canvas.width=k,h.canvas.height=l;f()}else h.canvas=document.createElement("canvas"),h.canvas.setAttribute("data-caman-hidpi-disabled",!0),h.oD="camanCanvas"+h.mM(),h.canvas.id=h.oD,h.canvas.width=k,h.canvas.height=l,zy(h,h.canvas),h.xa.append(h.canvas),h.gK=h.canvas.getContext("2d"),h.gK.drawImage(h.ke,0,0,k,l),h.qe=Caman("#"+h.oD,f),$("#limbo").append(h.ke)}function f(){zy(h,h.canvas);
h.qe.revert(!1);if(h.values){h.values.brightness&&0!=h.values.brightness&&h.qe.brightness(h.values.brightness);h.values.contrast&&0!=h.values.contrast&&h.qe.contrast(h.values.contrast);h.values.saturation&&0!=h.values.saturation&&(-100==h.values.saturation?h.qe.greyscale():h.qe.saturation(h.values.saturation));var a=gy(h.values.Rd+100,h.values.Vf);h.values.Rd&&h.qe.colorize(a.color.r,a.color.Oy,a.color.b,2.5*a.Mw);h.values.blur&&0!=h.values.blur&&(0<h.values.blur?h.qe.stackBlur(h.values.blur):h.qe.sharpen(-1*
h.values.blur||0));if(h.values.ne){var b=hy(h.values.ne),a=b.red.map(g),d=b.green.map(g),b=b.blue.map(g);h.qe.curves("r",a[0],a[1],a[2],a[3]);h.qe.curves("g",d[0],d[1],d[2],d[3]);h.qe.curves("b",b[0],b[1],b[2],b[3])}qy(h)}h.qe.render(function(){c&&c();h.vt=!1;window.setTimeout(function(){h.locked=!1},1E3);h.sf=!1})}function g(a){return[Math.min(255,Math.round(255*a[0])),Math.min(255,Math.round(255*a[1]))]}if(b){var h=a,k,l;if(Cy(a))c&&c();else if(a=a.Cb.Ub())a=a[h.mr],k=a.w(),l=a.D(),h.qF=a.ma(),
h.No=!1,h.locked=!0,Dy(h,d)}else c&&c()}function qy(a){var b=a.xa.find(".vignette");0===b.length&&(b=$('\x3cdiv class\x3d"vignette"\x3e\x3c/div\x3e'),a.xa.prepend(b));a.values.vignette?(a=ty(a),b.removeClass("off").addClass("on").css("background-image","radial-gradient("+a+")")):b.removeClass("on").addClass("off").css("background-image","none")}
function Dy(a,b){function c(a){if(d.ll&&0<d.ll.length&&d.ll.get(0).src){d.ke=new Image;var c=$(d.ke);c.css("visibility","hidden");Rt(St,c,a).then(function(){window.setTimeout(function(){d.Hz||(d.ll.appendTo("#limbo"),c.css("visibility","visible"),b())},300)});zy(d,d.ke);d.xa.append(c)}else window.setTimeout(function(){Dy(d,b)},500)}var d=a;d.canvas?(1==$(d.canvas).parents("#limbo").length&&($(d.canvas).appendTo(d.xa),d.xa.find("img").remove()),b()):(d.ll=d.xa.find("img"),d.ow=d.ll,c(d.qF))}
function ty(a){return"circle farthest-side at center center, rgba(0,0,0,0) "+100*G.Gw+"%, "+("rgba(0,0,0,"+a.values.vignette/100+")")+" "+100*G.Yo+"%"}function sy(a){var b=$("\x3cimg /\x3e");a.rs?(a.canvas.update(),a.canvas._.texture.toImage(b.get(0))):b.get(0).src=a.canvas.toDataURL();return b.get(0).src}
ky.prototype.remove=function(){this.Hz=!0;this.gC?By(this):($(this.ke).remove(),this.ll&&this.ll.remove(),this.xa.find(".vignette").remove(),this.mv&&this.mv.destroy(),this.canvas&&($(this.canvas).remove(),this.canvas.width=0,this.canvas=null))};function By(a){a.xa.find("image.placeholder").removeAttr("filter");a.xa.get(0).querySelector(".vignette").setAttribute("fill","none");$(a.Jp).remove();a.Jp=null}function Ey(){this.cache={}}
Ey.prototype.add=function(a,b){var c=this.cache[a];return c?c:this.cache[a]=b};Ey.prototype.fetch=function(a){return this.cache[a]};ky.prototype.cache=new Ey;var Fy=[{rm:"Sans-serif",wg:"sans-serif",fonts:[{family:"Aileron Thin",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Aileron-Thin.png",X:"https://static.canva.com/static/images/fonts/Aileron-Thin@2x.png",url:"https://static.canva.com/static/webfonts/Aileron-Thin.1.css",O:"Aileron-Thin",displayName:"Aileron Thin",H:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/Aileron-Thin.ttf",o:"https://static.canva.com/static/truetypefonts/Aileron-ThinItalic.ttf",bold:"https://static.canva.com/static/truetypefonts/Aileron-Light.ttf",
v:"https://static.canva.com/static/truetypefonts/Aileron-LightItalic.ttf"},J:{v:{i:"https://static.canva.com/static/truetypefonts/Aileron-LightItalic.ttf",l:"Aileron-LightItalic",Xb:"https://static.canva.com/static/webfonts/Aileron-LightItalic.otf"},bold:{i:"https://static.canva.com/static/truetypefonts/Aileron-Light.ttf",l:"Aileron-Light",Xb:"https://static.canva.com/static/webfonts/Aileron-Light.otf"},o:{i:"https://static.canva.com/static/truetypefonts/Aileron-ThinItalic.ttf",l:"Aileron-ThinItalic",Xb:"https://static.canva.com/static/webfonts/Aileron-ThinItalic.otf"},j:{i:"https://static.canva.com/static/truetypefonts/Aileron-Thin.ttf",l:"Aileron-Thin",Xb:"https://static.canva.com/static/webfonts/Aileron-Thin.otf"}}},
{family:"Aileron Regular",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Aileron.png",X:"https://static.canva.com/static/images/fonts/Aileron@2x.png",url:"https://static.canva.com/static/webfonts/Aileron-Regular.css",O:"Aileron Regular",displayName:"Aileron Regular",H:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/Aileron-Regular.ttf",o:"https://static.canva.com/static/truetypefonts/Aileron-Italic.ttf",bold:"https://static.canva.com/static/truetypefonts/Aileron-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/Aileron-BoldItalic.ttf"},
J:{v:{i:"https://static.canva.com/static/truetypefonts/Aileron-BoldItalic.ttf",l:"Aileron-BoldItalic",Xb:"https://static.canva.com/static/webfonts/Aileron-BoldItalic.otf"},bold:{i:"https://static.canva.com/static/truetypefonts/Aileron-Bold.ttf",l:"Aileron-Bold",Xb:"https://static.canva.com/static/webfonts/Aileron-Bold.otf"},o:{i:"https://static.canva.com/static/truetypefonts/Aileron-Italic.ttf",l:"Aileron-Italic",Xb:"https://static.canva.com/static/webfonts/Aileron-Italic.otf"},j:{i:"https://static.canva.com/static/truetypefonts/Aileron-Regular.ttf",l:"Aileron-Regular",Xb:"https://static.canva.com/static/webfonts/Aileron-Regular.otf"}}},{family:"Aileron Heavy",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR tr-TR".split(" "),
K:"https://static.canva.com/static/images/fonts/Aileron-Heavy.png",X:"https://static.canva.com/static/images/fonts/Aileron-Heavy@2x.png",url:"https://static.canva.com/static/webfonts/Aileron-Heavy.css",O:"Aileron-Heavy",displayName:"Aileron Heavy",H:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/Aileron-Heavy.ttf",o:"https://static.canva.com/static/truetypefonts/Aileron-HeavyItalic.ttf",bold:"https://static.canva.com/static/truetypefonts/Aileron-Black.ttf",v:"https://static.canva.com/static/truetypefonts/Aileron-BlackItalic.ttf"},J:{v:{i:"https://static.canva.com/static/truetypefonts/Aileron-BlackItalic.ttf",l:"Aileron-BlackItalic",Xb:"https://static.canva.com/static/webfonts/Aileron-BlackItalic.otf"},
bold:{i:"https://static.canva.com/static/truetypefonts/Aileron-Black.ttf",l:"Aileron-Black",Xb:"https://static.canva.com/static/webfonts/Aileron-Black.otf"},o:{i:"https://static.canva.com/static/truetypefonts/Aileron-HeavyItalic.ttf",l:"Aileron-HeavyItalic",Xb:"https://static.canva.com/static/webfonts/Aileron-HeavyItalic.otf"},j:{i:"https://static.canva.com/static/truetypefonts/Aileron-Heavy.ttf",l:"Aileron-Heavy",Xb:"https://static.canva.com/static/webfonts/Aileron-Heavy.otf"}}},{family:"Aleo Light",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Aleo-Light.png",
X:"https://static.canva.com/static/images/fonts/Aleo-Light@2x.png",url:"https://static.canva.com/static/webfonts/Aleo-Light.css",O:"Aleo Light",displayName:"Aleo Light",H:{o:!0,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Aleo-Light.ttf",o:"https://static.canva.com/static/truetypefonts/Aleo-LightItalic.ttf"},J:{o:{i:"https://static.canva.com/static/truetypefonts/Aleo-LightItalic.ttf",l:"Aleo-LightItalic",u:"https://static.canva.com/static/webfonts/Aleo-LightItalic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Aleo-Light.ttf",l:"Aleo-Light",u:"https://static.canva.com/static/webfonts/Aleo-Light.woff"}}},{family:"Aleo",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR".split(" "),
K:"https://static.canva.com/static/images/fonts/Aleo.png",X:"https://static.canva.com/static/images/fonts/Aleo@2x.png",url:"https://static.canva.com/static/webfonts/Aleo.css",O:"Aleo",displayName:"Aleo",H:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/Aleo-Regular.ttf",o:"https://static.canva.com/static/truetypefonts/Aleo-Italic.ttf",bold:"https://static.canva.com/static/truetypefonts/Aleo-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/Aleo-BoldItalic.ttf"},J:{v:{i:"https://static.canva.com/static/truetypefonts/Aleo-BoldItalic.ttf",l:"Aleo-BoldItalic",u:"https://static.canva.com/static/webfonts/Aleo-BoldItalic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Aleo-Bold.ttf",l:"Aleo-Bold",
u:"https://static.canva.com/static/webfonts/Aleo-Bold.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Aleo-Italic.ttf",l:"Aleo-Italic",u:"https://static.canva.com/static/webfonts/Aleo-Italic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Aleo-Regular.ttf",l:"Aleo-Regular",u:"https://static.canva.com/static/webfonts/Aleo-Regular.woff"}}},{family:"Allerta Stencil",R:"en ms-MY sv-SE da-DK en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Allerta-Stencil.png",X:"https://static.canva.com/static/images/fonts/Allerta-Stencil@2x.png",url:"https://static.canva.com/static/webfonts/Allerta%2BStencil.css",
O:"AllertaStencil-Regular",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/AllertaStencil-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/AllertaStencil-Regular.ttf",l:"AllertaStencil-Regular",u:"https://static.canva.com/static/webfonts/AllertaStencil-Regular.woff"}}},{family:"Antic",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Antic.png",X:"https://static.canva.com/static/images/fonts/Antic@2x.png",url:"https://static.canva.com/static/webfonts/Antic.css",O:"Antic-Regular",
H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Antic-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Antic-Regular.ttf",l:"Antic-Regular",u:"https://static.canva.com/static/webfonts/Antic-Regular.woff"}}},{family:"Aqua",R:["en","ms-MY","en-psaccent"],K:"https://static.canva.com/static/images/fonts/Aqua.png",X:"https://static.canva.com/static/images/fonts/Aqua@2x.png",url:"https://static.canva.com/static/webfonts/Aqua.css",O:"Aqua-Grotesque",disabled:!0,displayName:"Aqua",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/aqua.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/aqua.ttf",l:"AquaGrotesque",u:"https://static.canva.com/static/webfonts/aqua.woff"}}},
{family:"Arialle",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR ru-RU tr-TR uk-UA".split(" "),displayName:"Arialle",K:"https://static.canva.com/static/images/fonts/Arialle.png",X:"https://static.canva.com/static/images/fonts/Arialle@2x.png",O:"Arimo",url:"https://static.canva.com/static/webfonts/Arialle.css",H:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/Arimo-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/Arimo-BoldItalic.ttf",o:"https://static.canva.com/static/truetypefonts/Arimo-Italic.ttf",j:"https://static.canva.com/static/truetypefonts/Arimo-Regular.ttf"},
J:{v:{i:"https://static.canva.com/static/truetypefonts/Arimo-BoldItalic.ttf",l:"Arimo-BoldItalic",u:"https://static.canva.com/static/webfonts/Arimo-BoldItalic.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Arimo-Italic.ttf",l:"Arimo-Italic",u:"https://static.canva.com/static/webfonts/Arimo-Italic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Arimo-Regular.ttf",l:"Arimo",u:"https://static.canva.com/static/webfonts/Arimo.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Arimo-Bold.ttf",l:"Arimo-Bold",u:"https://static.canva.com/static/webfonts/Arimo-Bold.woff"}}},{family:"Archivo Narrow",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR".split(" "),
K:"https://static.canva.com/static/images/fonts/Archivo-Narrow.png",X:"https://static.canva.com/static/images/fonts/Archivo-Narrow@2x.png",url:"https://static.canva.com/static/webfonts/Archivo%2BNarrow.css",O:"ArchivoNarrow-Regular",H:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/ArchivoNarrow-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/ArchivoNarrow-BoldItalic.ttf",o:"https://static.canva.com/static/truetypefonts/ArchivoNarrow-Italic.ttf",j:"https://static.canva.com/static/truetypefonts/ArchivoNarrow-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/ArchivoNarrow-Regular.ttf",l:"ArchivoNarrow-Regular",u:"https://static.canva.com/static/webfonts/ArchivoNarrow-Regular.woff"},
o:{i:"https://static.canva.com/static/truetypefonts/ArchivoNarrow-Italic.ttf",l:"ArchivoNarrow-Italic",u:"https://static.canva.com/static/webfonts/ArchivoNarrow-Italic.woff"},v:{i:"https://static.canva.com/static/truetypefonts/ArchivoNarrow-BoldItalic.ttf",l:"ArchivoNarrow-BoldItalic",u:"https://static.canva.com/static/webfonts/ArchivoNarrow-BoldItalic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/ArchivoNarrow-Bold.ttf",l:"ArchivoNarrow-Bold",u:"https://static.canva.com/static/webfonts/ArchivoNarrow-Bold.woff"}}},{family:"Archivo Black",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR".split(" "),
K:"https://static.canva.com/static/images/fonts/Archivo-Black.png",X:"https://static.canva.com/static/images/fonts/Archivo-Black@2x.png",url:"https://static.canva.com/static/webfonts/ArchivoBlack.css",O:"Archivo Black",displayName:"Archivo Black",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/ArchivoBlack.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/ArchivoBlack.ttf",l:"ArchivoBlack-Regular",u:"https://static.canva.com/static/webfonts/ArchivoBlack.woff"}}},{family:"Code",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Code.png",
X:"https://static.canva.com/static/images/fonts/Code@2x.png",url:"https://static.canva.com/static/webfonts/Code.css",O:"Code",displayName:"Code",H:{o:!1,bold:!0,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/CodeLight.ttf",bold:"https://static.canva.com/static/truetypefonts/CodeBold.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/CodeLight.ttf",l:"Code-Light",u:"https://static.canva.com/static/webfonts/CodeLight.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/CodeBold.ttf",l:"Code-Bold",u:"https://static.canva.com/static/webfonts/CodeBold.woff"}}},{family:"Carter One",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR tr-TR".split(" "),
K:"https://static.canva.com/static/images/fonts/Carter-One.png",X:"https://static.canva.com/static/images/fonts/Carter-One@2x.png",url:"https://static.canva.com/static/webfonts/Carter%2BOne.css",O:"CarterOne",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/CarterOne.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/CarterOne.ttf",l:"CarterOne",u:"https://static.canva.com/static/webfonts/CarterOne.woff"}}},{family:"Cooper Hewitt",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Cooper-Hewitt.png",X:"https://static.canva.com/static/images/fonts/Cooper-Hewitt@2x.png",
url:"https://static.canva.com/static/webfonts/Cooper-Hewitt.css",O:"CooperHewitt",displayName:"Cooper Hewitt",H:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/CooperHewitt-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/CooperHewitt-BoldItalic.ttf",o:"https://static.canva.com/static/truetypefonts/CooperHewitt-BookItalic.ttf",j:"https://static.canva.com/static/truetypefonts/CooperHewitt-Book.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/CooperHewitt-Book.ttf",l:"CooperHewitt-Book",Xb:"https://static.canva.com/static/webfonts/CooperHewitt-Book.otf"},o:{i:"https://static.canva.com/static/truetypefonts/CooperHewitt-BookItalic.ttf",l:"CooperHewitt-BookItalic",
Xb:"https://static.canva.com/static/webfonts/CooperHewitt-BookItalic.otf"},v:{i:"https://static.canva.com/static/truetypefonts/CooperHewitt-BoldItalic.ttf",l:"CooperHewitt-BoldItalic",Xb:"https://static.canva.com/static/webfonts/CooperHewitt-BoldItalic.otf"},bold:{i:"https://static.canva.com/static/truetypefonts/CooperHewitt-Bold.ttf",l:"CooperHewitt-Bold",Xb:"https://static.canva.com/static/webfonts/CooperHewitt-Bold.otf"}}},{family:"Cooper Hewitt Thin",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Cooper-Hewitt-Thin.png",
X:"https://static.canva.com/static/images/fonts/Cooper-Hewitt-Thin@2x.png",url:"https://static.canva.com/static/webfonts/Cooper-Hewitt-Thin.css",O:"CooperHewitt-Thin",displayName:"Cooper Hewitt Thin",H:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/CooperHewitt-Light.ttf",v:"https://static.canva.com/static/truetypefonts/CooperHewitt-LightItalic.ttf",o:"https://static.canva.com/static/truetypefonts/CooperHewitt-ThinItalic.ttf",j:"https://static.canva.com/static/truetypefonts/CooperHewitt-Thin.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/CooperHewitt-Thin.ttf",l:"CooperHewitt-Thin"},o:{i:"https://static.canva.com/static/truetypefonts/CooperHewitt-ThinItalic.ttf",
l:"CooperHewitt-ThinItalic"},v:{i:"https://static.canva.com/static/truetypefonts/CooperHewitt-LightItalic.ttf",l:"CooperHewitt-LightItalic"},bold:{i:"https://static.canva.com/static/truetypefonts/CooperHewitt-Light.ttf",l:"CooperHewitt-Light"}}},{family:"Cooper Hewitt Heavy",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Cooper-Hewitt-Heavy.png",X:"https://static.canva.com/static/images/fonts/Cooper-Hewitt-Heavy@2x.png",url:"https://static.canva.com/static/webfonts/Cooper-Hewitt-Heavy.css",
O:"CooperHewitt-Heavy",displayName:"Cooper Hewitt Heavy",H:{o:!0,bold:!1,v:!1},i:{o:"https://static.canva.com/static/truetypefonts/CooperHewitt-HeavyItalic.ttf",j:"https://static.canva.com/static/truetypefonts/CooperHewitt-Heavy.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/CooperHewitt-Heavy.ttf",l:"CooperHewitt-Heavy"},o:{i:"https://static.canva.com/static/truetypefonts/CooperHewitt-HeavyItalic.ttf",l:"CooperHewitt-HeavyItalic"}}},{family:"Fredoka One",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Fredoka-One.png",
X:"https://static.canva.com/static/images/fonts/Fredoka-One@2x.png",url:"https://static.canva.com/static/webfonts/Fredoka%2BOne.css",O:"FredokaOne-Regular",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/FredokaOne-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/FredokaOne-Regular.ttf",l:"FredokaOne-Regular",u:"https://static.canva.com/static/webfonts/FredokaOne-Regular.woff"}}},{family:"Hammersmith One",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Hammersmith-One.png",
X:"https://static.canva.com/static/images/fonts/Hammersmith-One@2x.png",url:"https://static.canva.com/static/webfonts/Hammersmith%2BOne.css",O:"HammersmithOne",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/HammersmithOne-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/HammersmithOne-Regular.ttf",l:"HammersmithOne-Regular",u:"https://static.canva.com/static/webfonts/HammersmithOne.woff"}}},{family:"Helveticish",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR ru-RU tr-TR uk-UA".split(" "),displayName:"Helveticish",
K:"https://static.canva.com/static/images/fonts/Helveticish.png",X:"https://static.canva.com/static/images/fonts/Helveticish@2x.png",O:"Arimo",url:"https://static.canva.com/static/webfonts/Helveticish.css",H:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/Arimo-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/Arimo-BoldItalic.ttf",o:"https://static.canva.com/static/truetypefonts/Arimo-Italic.ttf",j:"https://static.canva.com/static/truetypefonts/Arimo-Regular.ttf"},J:{v:{i:"https://static.canva.com/static/truetypefonts/Arimo-BoldItalic.ttf",l:"Arimo-BoldItalic",u:"https://static.canva.com/static/webfonts/Arimo-BoldItalic.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Arimo-Italic.ttf",
l:"Arimo-Italic",u:"https://static.canva.com/static/webfonts/Arimo-Italic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Arimo-Regular.ttf",l:"Arimo",u:"https://static.canva.com/static/webfonts/Arimo.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Arimo-Bold.ttf",l:"Arimo-Bold",u:"https://static.canva.com/static/webfonts/Arimo-Bold.woff"}}},{family:"Helvetica",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Helvetica.png",X:"https://static.canva.com/static/images/fonts/Helvetica@2x.png",O:"Helvetica",disabled:!0,
H:{o:!0,bold:!0,v:!0}},{family:"Josefin Sans",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Josefin-Sans.png",X:"https://static.canva.com/static/images/fonts/Josefin-Sans@2x.png",url:"https://static.canva.com/static/webfonts/Josefin%2BSans.css",O:"JosefinSans",H:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/JosefinSans-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/JosefinSans-BoldItalic.ttf",o:"https://static.canva.com/static/truetypefonts/JosefinSans-Italic.ttf",j:"https://static.canva.com/static/truetypefonts/JosefinSans-Regular.ttf"},
J:{j:{i:"https://static.canva.com/static/truetypefonts/JosefinSans-Regular.ttf",l:"JosefinSans",u:"https://static.canva.com/static/webfonts/JosefinSans.woff"},v:{i:"https://static.canva.com/static/truetypefonts/JosefinSans-BoldItalic.ttf",l:"JosefinSans-BoldItalic",u:"https://static.canva.com/static/webfonts/JosefinSans-BoldItalic.woff"},o:{i:"https://static.canva.com/static/truetypefonts/JosefinSans-Italic.ttf",l:"JosefinSans-Italic",u:"https://static.canva.com/static/webfonts/JosefinSans-Italic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/JosefinSans-Bold.ttf",l:"JosefinSans-Bold",u:"https://static.canva.com/static/webfonts/JosefinSans-Bold.woff"}}},{family:"Josefin Slab",
R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Josefin-Slab.png",X:"https://static.canva.com/static/images/fonts/Josefin-Slab@2x.png",url:"https://static.canva.com/static/webfonts/Josefin%2BSlab.css",O:"JosefinSlab",displayName:"Josefin Slab",H:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/JosefinSlab-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/JosefinSlab-BoldItalic.ttf",o:"https://static.canva.com/static/truetypefonts/JosefinSlab-Italic.ttf",j:"https://static.canva.com/static/truetypefonts/JosefinSlab-Regular.ttf"},
J:{j:{i:"https://static.canva.com/static/truetypefonts/JosefinSlab-Regular.ttf",l:"JosefinSlab",u:"https://static.canva.com/static/webfonts/JosefinSlab.woff"},o:{i:"https://static.canva.com/static/truetypefonts/JosefinSlab-Italic.ttf",l:"JosefinSlab-Italic",u:"https://static.canva.com/static/webfonts/JosefinSlab-Italic.woff"},v:{i:"https://static.canva.com/static/truetypefonts/JosefinSlab-BoldItalic.ttf",l:"JosefinSlab-BoldItalic",u:"https://static.canva.com/static/webfonts/JosefinSlab-BoldItalic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/JosefinSlab-Bold.ttf",l:"JosefinSlab-Bold",u:"https://static.canva.com/static/webfonts/JosefinSlab-Bold.woff"}}},{family:"Lato",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR".split(" "),
K:"https://static.canva.com/static/images/fonts/Lato.png",X:"https://static.canva.com/static/images/fonts/Lato@2x.png",url:"https://static.canva.com/static/webfonts/Lato.css",O:"Lato",displayName:"Lato",H:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/Lato-Regular.ttf",o:"https://static.canva.com/static/truetypefonts/Lato-Italic.ttf",bold:"https://static.canva.com/static/truetypefonts/Lato-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/Lato-BoldItalic.ttf"},J:{v:{i:"https://static.canva.com/static/truetypefonts/Lato-BoldItalic.ttf",l:"Lato-BoldItalic",u:"https://static.canva.com/static/webfonts/Lato-BoldItalic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Lato-Bold.ttf",l:"Lato-Bold",
u:"https://static.canva.com/static/webfonts/Lato-Bold.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Lato-Italic.ttf",l:"Lato-Italic",u:"https://static.canva.com/static/webfonts/Lato-Italic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Lato-Regular.ttf",l:"Lato-Regular",u:"https://static.canva.com/static/webfonts/Lato-Regular.woff"}}},{family:"Lato Hairline",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Lato-Hairline.png",X:"https://static.canva.com/static/images/fonts/Lato-Hairline@2x.png",url:"https://static.canva.com/static/webfonts/Lato-Hairline.css",
O:"Lato Hairline",displayName:"Lato Hairline",H:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/Lato-Hairline.ttf",o:"https://static.canva.com/static/truetypefonts/Lato-HairlineItalic.ttf",bold:"https://static.canva.com/static/truetypefonts/Lato-Thin.ttf",v:"https://static.canva.com/static/truetypefonts/Lato-ThinItalic.ttf"},J:{v:{i:"https://static.canva.com/static/truetypefonts/Lato-ThinItalic.ttf",l:"Lato-ThinItalic",u:"https://static.canva.com/static/webfonts/Lato-ThinItalic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Lato-Thin.ttf",l:"Lato-Thin",u:"https://static.canva.com/static/webfonts/Lato-Thin.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Lato-HairlineItalic.ttf",
l:"Lato-HairlineItalic",u:"https://static.canva.com/static/webfonts/Lato-HairlineItalic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Lato-Hairline.ttf",l:"Lato-Hairline",u:"https://static.canva.com/static/webfonts/Lato-Hairline.woff"}}},{family:"Lato Heavy",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Lato-Heavy.png",X:"https://static.canva.com/static/images/fonts/Lato-Heavy@2x.png",url:"https://static.canva.com/static/webfonts/Lato-Heavy.css",O:"Lato Heavy",displayName:"Lato Heavy",H:{o:!0,bold:!0,
v:!0},i:{j:"https://static.canva.com/static/truetypefonts/Lato-Heavy.ttf",o:"https://static.canva.com/static/truetypefonts/Lato-HeavyItalic.ttf",bold:"https://static.canva.com/static/truetypefonts/Lato-Black.ttf",v:"https://static.canva.com/static/truetypefonts/Lato-BlackItalic.ttf"},J:{v:{i:"https://static.canva.com/static/truetypefonts/Lato-BlackItalic.ttf",l:"Lato-BlackItalic",u:"https://static.canva.com/static/webfonts/Lato-BlackItalic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Lato-Black.ttf",l:"Lato-Black",u:"https://static.canva.com/static/webfonts/Lato-Black.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Lato-HeavyItalic.ttf",l:"Lato-HeavyItalic",u:"https://static.canva.com/static/webfonts/Lato-HeavyItalic.woff"},
j:{i:"https://static.canva.com/static/truetypefonts/Lato-Heavy.ttf",l:"Lato-Heavy",u:"https://static.canva.com/static/webfonts/Lato-Heavy.woff"}}},{family:"League Gothic",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/League-Gothic.png",X:"https://static.canva.com/static/images/fonts/League-Gothic@2x.png",url:"https://static.canva.com/static/webfonts/LeagueGothic.css",O:"League-Gothic",displayName:"League Gothic",H:{o:!0,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/LeagueGothic-Regular.ttf",
o:"https://static.canva.com/static/truetypefonts/LeagueGothic-Italic.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/LeagueGothic-Regular.ttf",l:"LeagueGothic-Regular",Xb:"https://static.canva.com/static/webfonts/LeagueGothic-Regular.otf"},o:{i:"https://static.canva.com/static/truetypefonts/LeagueGothic-Italic.ttf",l:"LeagueGothic-Italic",Xb:"https://static.canva.com/static/webfonts/LeagueGothic-Italic.otf"}}},{family:"League Spartan",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/League-Spartan.png",
X:"https://static.canva.com/static/images/fonts/League-Spartan@2x.png",url:"https://static.canva.com/static/webfonts/LeagueSpartan-Bold.css",O:"League-Spartan",displayName:"League Spartan",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/LeagueSpartan-Bold.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/LeagueSpartan-Bold.ttf",l:"LeagueSpartan-Bold",u:"https://static.canva.com/static/webfonts/LeagueSpartan-Bold.woff"}}},{family:"Limelight",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Limelight.png",
X:"https://static.canva.com/static/images/fonts/Limelight@2x.png",url:"https://static.canva.com/static/webfonts/Limelight.css",O:"Limelight",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Limelight-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Limelight-Regular.ttf",l:"Limelight-Regular",u:"https://static.canva.com/static/webfonts/Limelight.woff"}}},{family:"Montserrat Hairline",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Montserrat-Hairline.png",X:"https://static.canva.com/static/images/fonts/Montserrat-Hairline@2x.png",
url:"https://static.canva.com/static/webfonts/Montserrat-Hairline.css",O:"Montserrat-Hairline",displayName:"Montserrat Hairline",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Montserrat-Hairline.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Montserrat-Hairline.ttf",l:"Montserrat-Hairline",u:"https://static.canva.com/static/webfonts/Montserrat-Hairline.woff"}}},{family:"Montserrat Light",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Montserrat-Light.png",
X:"https://static.canva.com/static/images/fonts/Montserrat-Light@2x.png",url:"https://static.canva.com/static/webfonts/Montserrat-Light.css",O:"Montserrat-Light",displayName:"Montserrat Light",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Montserrat-Light.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Montserrat-Light.ttf",l:"Montserrat-Light",u:"https://static.canva.com/static/webfonts/Montserrat-Light.woff"}}},{family:"Montserrat",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Montserrat.png",
X:"https://static.canva.com/static/images/fonts/Montserrat@2x.png",url:"https://static.canva.com/static/webfonts/Montserrat.css",O:"Montserrat-Regular",displayName:"Montserrat",H:{o:!1,bold:!0,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Montserrat-Regular.ttf",bold:"https://static.canva.com/static/truetypefonts/Montserrat-Bold.ttf"},J:{bold:{i:"https://static.canva.com/static/truetypefonts/Montserrat-Bold.ttf",l:"Montserrat-Bold",u:"https://static.canva.com/static/webfonts/Montserrat-Bold.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Montserrat-Regular.ttf",l:"Montserrat-Regular",u:"https://static.canva.com/static/webfonts/Montserrat-Regular.woff"}}},{family:"Oswald",
R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Oswald.png",X:"https://static.canva.com/static/images/fonts/Oswald@2x.png",url:"https://static.canva.com/static/webfonts/Oswald.css",O:"Oswald",displayName:"Oswald",H:{o:!1,bold:!0,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Oswald-Regular.ttf",bold:"https://static.canva.com/static/truetypefonts/Oswald-Bold.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Oswald-Regular.ttf",l:"Oswald-Regular",u:"https://static.canva.com/static/webfonts/Oswald-Regular.woff"},
bold:{i:"https://static.canva.com/static/truetypefonts/Oswald-Bold.ttf",l:"Oswald-Bold",u:"https://static.canva.com/static/webfonts/Oswald-Bold.woff"}}},{family:"Peace Sans",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID ru-RU tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Peace-Sans.png",X:"https://static.canva.com/static/images/fonts/Peace-Sans@2x.png",url:"https://static.canva.com/static/webfonts/Peace-Sans.css",O:"Peace-Sans",displayName:"Peace Sans",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Peace-Sans.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Peace-Sans.ttf",l:"PeaceSans",u:"https://static.canva.com/static/webfonts/Peace-Sans.woff"}}},
{family:"Pirou",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Pirou.png",X:"https://static.canva.com/static/images/fonts/Pirou@2x.png",url:"https://static.canva.com/static/webfonts/Pirou.css",O:"Pirou",displayName:"Pirou",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Pirou-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Pirou-Regular.ttf",l:"Pirou-Regular",u:"https://static.canva.com/static/webfonts/Pirou-Regular.woff"}}},{family:"PT Sans",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR ru-RU tr-TR".split(" "),
url:"https://static.canva.com/static/webfonts/PT%2BSans.css",K:"https://static.canva.com/static/images/fonts/PT-Sans.png",X:"https://static.canva.com/static/images/fonts/PT-Sans@2x.png",O:"PTSans-Regular",H:{o:!0,bold:!0,v:!0},i:{o:"https://static.canva.com/static/truetypefonts/PT_Sans-Web-Italic.ttf",bold:"https://static.canva.com/static/truetypefonts/PT_Sans-Web-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/PT_Sans-Web-BoldItalic.ttf",j:"https://static.canva.com/static/truetypefonts/PT_Sans-Web-Regular.ttf"},J:{bold:{i:"https://static.canva.com/static/truetypefonts/PT_Sans-Web-Bold.ttf",l:"PTSans-Bold",u:"https://static.canva.com/static/webfonts/PTSans-Bold.woff"},o:{i:"https://static.canva.com/static/truetypefonts/PT_Sans-Web-Italic.ttf",
l:"PTSans-Italic",u:"https://static.canva.com/static/webfonts/PTSans-Italic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/PT_Sans-Web-Regular.ttf",l:"PTSans-Regular",u:"https://static.canva.com/static/webfonts/PTSans-Regular.woff"},v:{i:"https://static.canva.com/static/truetypefonts/PT_Sans-Web-BoldItalic.ttf",l:"PTSans-BoldItalic",u:"https://static.canva.com/static/webfonts/PTSans-BoldItalic.woff"}}},{family:"Quicksand",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),url:"https://static.canva.com/static/webfonts/Quicksand.css",K:"https://static.canva.com/static/images/fonts/Quicksand.png",
X:"https://static.canva.com/static/images/fonts/Quicksand@2x.png",O:"Quicksand",displayName:"Quicksand",H:{o:!0,bold:!0,v:!0},i:{o:"https://static.canva.com/static/truetypefonts/Quicksand-Italic.ttf",bold:"https://static.canva.com/static/truetypefonts/Quicksand-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/Quicksand-BoldItalic.ttf",j:"https://static.canva.com/static/truetypefonts/Quicksand-Regular.ttf"},J:{bold:{i:"https://static.canva.com/static/truetypefonts/Quicksand-Bold.ttf",l:"Quicksand-Bold",Xb:"https://static.canva.com/static/webfonts/Quicksand-Bold.otf"},v:{i:"https://static.canva.com/static/truetypefonts/Quicksand-BoldItalic.ttf",l:"Quicksand-BoldItalic",Xb:"https://static.canva.com/static/webfonts/Quicksand-BoldItalic.otf"},
o:{i:"https://static.canva.com/static/truetypefonts/Quicksand-Italic.ttf",l:"Quicksand-Italic",Xb:"https://static.canva.com/static/webfonts/Quicksand-Italic.otf"},j:{i:"https://static.canva.com/static/truetypefonts/Quicksand-Regular.ttf",l:"Quicksand-Regular",Xb:"https://static.canva.com/static/webfonts/Quicksand-Regular.otf"}}},{family:"Noto Sans Devanagari",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Noto-Sans-Devanagari.png",X:"https://static.canva.com/static/images/fonts/Noto-Sans-Devanagari@2x.png",O:"NotoSansDevanagari",hK:!0,displayName:"Noto Sans Devanagari",url:"https://static.canva.com/static/webfonts/Noto-Sans-Devanagari.css",
jI:"देवनागरी",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/NotoSansDevanagari-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/NotoSansDevanagari-Regular.ttf",l:"NotoSansDevanagari",u:"https://static.canva.com/static/webfonts/NotoSansDevanagari-Regular.woff"}}},{family:"Nunito Light",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Nunito-Light.png",X:"https://static.canva.com/static/images/fonts/Nunito-Light@2x.png",url:"https://static.canva.com/static/webfonts/Nunito-Light.css",
O:"Nunito-Light",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Nunito-Light.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Nunito-Light.ttf",l:"Nunito-Light",u:"https://static.canva.com/static/webfonts/Nunito-Light.woff"}}},{family:"Nunito",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Nunito.png",X:"https://static.canva.com/static/images/fonts/Nunito@2x.png",url:"https://static.canva.com/static/webfonts/Nunito.2.css",O:"Nunito-Regular",H:{o:!1,bold:!0,v:!1},i:{bold:"https://static.canva.com/static/truetypefonts/Nunito-Bold.ttf",
j:"https://static.canva.com/static/truetypefonts/Nunito-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Nunito-Regular.ttf",l:"Nunito-Regular",u:"https://static.canva.com/static/webfonts/Nunito-Regular.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Nunito-Bold.ttf",l:"Nunito-Bold",u:"https://static.canva.com/static/webfonts/Nunito-Bold.woff"}}},{family:"Norwester",R:["en","ms-MY","en-psaccent"],K:"https://static.canva.com/static/images/fonts/Norwester.png",X:"https://static.canva.com/static/images/fonts/Norwester@2x.png",url:"https://static.canva.com/static/webfonts/Norwester.css",O:"Norwester",displayName:"Norwester",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Norwester.ttf"},
J:{j:{i:"https://static.canva.com/static/truetypefonts/Norwester.ttf",l:"Norwester-Regular",u:"https://static.canva.com/static/webfonts/Norwester.woff"}}},{family:"Raleway",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Raleway.png",X:"https://static.canva.com/static/images/fonts/Raleway@2x.png",url:"https://static.canva.com/static/webfonts/Raleway.2.css",O:"Raleway-Regular",H:{o:!1,bold:!0,v:!1},i:{bold:"https://static.canva.com/static/truetypefonts/Raleway-Bold.ttf",j:"https://static.canva.com/static/truetypefonts/Raleway-Regular.ttf"},
J:{j:{i:"https://static.canva.com/static/truetypefonts/Raleway-Regular.ttf",l:"Raleway",u:"https://static.canva.com/static/webfonts/Raleway.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Raleway-Bold.ttf",l:"Raleway-Bold",u:"https://static.canva.com/static/webfonts/Raleway-Bold.woff"}}},{family:"Raleway Thin",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Raleway-Thin.png",X:"https://static.canva.com/static/images/fonts/Raleway-Thin@2x.png",url:"https://static.canva.com/static/webfonts/RalewayThin.css",O:"Raleway-Thin",
H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Raleway-Thin.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Raleway-Thin.ttf",l:"Raleway-Thin",u:"https://static.canva.com/static/webfonts/Raleway-Thin.woff"}}},{family:"Raleway Heavy",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Raleway-Heavy.png",X:"https://static.canva.com/static/images/fonts/Raleway-Heavy@2x.png",url:"https://static.canva.com/static/webfonts/RalewayHeavy.css",O:"Raleway-Heavy",H:{o:!1,bold:!1,v:!1},
i:{j:"https://static.canva.com/static/truetypefonts/Raleway-Heavy.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Raleway-Heavy.ttf",l:"Raleway-Heavy",u:"https://static.canva.com/static/webfonts/Raleway-Heavy.woff"}}},{family:"Roboto Condensed",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR ru-RU tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Roboto-Condensed.png",X:"https://static.canva.com/static/images/fonts/Roboto-Condensed@2x.png",url:"https://static.canva.com/static/webfonts/Roboto%2BCondensed.css",O:"RobotoCondensed-Regular",H:{o:!0,bold:!0,
v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/RobotoCondensed-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/RobotoCondensed-BoldItalic.ttf",o:"https://static.canva.com/static/truetypefonts/RobotoCondensed-Italic.ttf",j:"https://static.canva.com/static/truetypefonts/RobotoCondensed-Regular.ttf"},J:{o:{i:"https://static.canva.com/static/truetypefonts/RobotoCondensed-Italic.ttf",l:"RobotoCondensed-Italic",u:"https://static.canva.com/static/webfonts/RobotoCondensed-Italic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/RobotoCondensed-Bold.ttf",l:"RobotoCondensed-Bold",u:"https://static.canva.com/static/webfonts/RobotoCondensed-Bold.woff"},v:{i:"https://static.canva.com/static/truetypefonts/RobotoCondensed-BoldItalic.ttf",
l:"RobotoCondensed-BoldItalic",u:"https://static.canva.com/static/webfonts/RobotoCondensed-BoldItalic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/RobotoCondensed-Regular.ttf",l:"RobotoCondensed-Regular",u:"https://static.canva.com/static/webfonts/RobotoCondensed-Regular.woff"}}},{family:"Rosario",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Rosario.png",X:"https://static.canva.com/static/images/fonts/Rosario@2x.png",url:"https://static.canva.com/static/webfonts/Rosario.css",O:"Rosario-Regular",H:{o:!0,
bold:!0,v:!0},i:{o:"https://static.canva.com/static/truetypefonts/Rosario-Italic.ttf",bold:"https://static.canva.com/static/truetypefonts/Rosario-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/Rosario-BoldItalic.ttf",j:"https://static.canva.com/static/truetypefonts/Rosario-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Rosario-Regular.ttf",l:"Rosario-Regular",u:"https://static.canva.com/static/webfonts/Rosario-Regular.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Rosario-Bold.ttf",l:"Rosario-Bold",u:"https://static.canva.com/static/webfonts/Rosario-Bold.woff"},v:{i:"https://static.canva.com/static/truetypefonts/Rosario-BoldItalic.ttf",l:"Rosario-BoldItalic",u:"https://static.canva.com/static/webfonts/Rosario-BoldItalic.woff"},
o:{i:"https://static.canva.com/static/truetypefonts/Rosario-Italic.ttf",l:"Rosario-Italic",u:"https://static.canva.com/static/webfonts/Rosario-Italic.woff"}}},{family:"Rubik One",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR ru-RU tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Rubik-One.png",X:"https://static.canva.com/static/images/fonts/Rubik-One@2x.png",url:"https://static.canva.com/static/webfonts/Rubik-One.css",O:"Rubik-One",displayName:"Rubik One",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/RubikOne-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/RubikOne-Regular.ttf",
l:"RubikOne-Regular",u:"https://static.canva.com/static/webfonts/Rubik-One.woff"}}},{family:"Rubik Mono",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR ru-RU".split(" "),K:"https://static.canva.com/static/images/fonts/Rubik-Mono-One.png",X:"https://static.canva.com/static/images/fonts/Rubik-Mono-One@2x.png",url:"https://static.canva.com/static/webfonts/Rubik-Mono-One.2.css",Pp:!0,O:"Rubik-Mono-One",displayName:"Rubik Mono",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/RubikMonoOne-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/RubikMonoOne-Regular.ttf",
l:"RubikMonoOne-Regular",u:"https://static.canva.com/static/webfonts/Rubik-Mono-One.woff"}}},{family:"Amaranth",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Amaranth.png",X:"https://static.canva.com/static/images/fonts/Amaranth@2x.png",url:"https://static.canva.com/static/webfonts/Amaranth.2.css",O:"Amaranth",H:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/Amaranth-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/Amaranth-BoldItalic.ttf",o:"https://static.canva.com/static/truetypefonts/Amaranth-Italic.ttf",
j:"https://static.canva.com/static/truetypefonts/Amaranth-Regular.ttf"},J:{v:{i:"https://static.canva.com/static/truetypefonts/Amaranth-BoldItalic.ttf",l:"Amaranth-BoldItalic",u:"https://static.canva.com/static/webfonts/Amaranth-BoldItalic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Amaranth-Regular.ttf",l:"Amaranth",u:"https://static.canva.com/static/webfonts/Amaranth.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Amaranth-Bold.ttf",l:"Amaranth-Bold",u:"https://static.canva.com/static/webfonts/Amaranth-Bold.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Amaranth-Italic.ttf",l:"Amaranth-Italic",u:"https://static.canva.com/static/webfonts/Amaranth-Italic.woff"}}},{family:"Anton",
R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Anton.png",X:"https://static.canva.com/static/images/fonts/Anton@2x.png",url:"https://static.canva.com/static/webfonts/Anton.css",O:"Anton",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Anton.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Anton.ttf",l:"Anton",u:"https://static.canva.com/static/webfonts/Anton.woff"}}},{family:"Arimo",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR ru-RU tr-TR uk-UA".split(" "),
K:"https://static.canva.com/static/images/fonts/Arimo.png",X:"https://static.canva.com/static/images/fonts/Arimo@2x.png",url:"https://static.canva.com/static/webfonts/Arimo.2.css",O:"Arimo",H:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/Arimo-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/Arimo-BoldItalic.ttf",o:"https://static.canva.com/static/truetypefonts/Arimo-Italic.ttf",j:"https://static.canva.com/static/truetypefonts/Arimo-Regular.ttf"},J:{v:{i:"https://static.canva.com/static/truetypefonts/Arimo-BoldItalic.ttf",l:"Arimo-BoldItalic",u:"https://static.canva.com/static/webfonts/Arimo-BoldItalic.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Arimo-Italic.ttf",l:"Arimo-Italic",
u:"https://static.canva.com/static/webfonts/Arimo-Italic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Arimo-Regular.ttf",l:"Arimo",u:"https://static.canva.com/static/webfonts/Arimo.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Arimo-Bold.ttf",l:"Arimo-Bold",u:"https://static.canva.com/static/webfonts/Arimo-Bold.woff"}}},{family:"Crushed",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Crushed.png",X:"https://static.canva.com/static/images/fonts/Crushed@2x.png",url:"https://static.canva.com/static/webfonts/Crushed.css",O:"Crushed-Regular",
H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Crushed.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Crushed.ttf",l:"Crushed-Regular",u:"https://static.canva.com/static/webfonts/Crushed-Regular.woff"}}},{family:"Economica",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Economica.png",X:"https://static.canva.com/static/images/fonts/Economica@2x.png",url:"https://static.canva.com/static/webfonts/Economica.2.css",O:"Economica-Regular",H:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/Economica-Bold.ttf",
v:"https://static.canva.com/static/truetypefonts/Economica-BoldItalic.ttf",o:"https://static.canva.com/static/truetypefonts/Economica-Italic.ttf",j:"https://static.canva.com/static/truetypefonts/Economica-Regular.ttf"},J:{o:{i:"https://static.canva.com/static/truetypefonts/Economica-Italic.ttf",l:"Economica-Italic",u:"https://static.canva.com/static/webfonts/Economica-Italic.woff"},v:{i:"https://static.canva.com/static/truetypefonts/Economica-BoldItalic.ttf",l:"Economica-BoldItalic",u:"https://static.canva.com/static/webfonts/Economica-BoldItalic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Economica-Regular.ttf",l:"Economica-Regular",u:"https://static.canva.com/static/webfonts/Economica-Regular.woff"},
bold:{i:"https://static.canva.com/static/truetypefonts/Economica-Bold.ttf",l:"Economica-Bold",u:"https://static.canva.com/static/webfonts/Economica-Bold.woff"}}},{family:"Exo",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Exo.png",X:"https://static.canva.com/static/images/fonts/Exo@2x.png",url:"https://static.canva.com/static/webfonts/Exo2.css",O:"Exo2",displayName:"Exo",H:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/Exo-2-700.ttf",v:"https://static.canva.com/static/truetypefonts/Exo-2-700-italic.ttf",o:"https://static.canva.com/static/truetypefonts/Exo-2-italic.ttf",
j:"https://static.canva.com/static/truetypefonts/Exo-2-regular.ttf"},J:{v:{i:"https://static.canva.com/static/truetypefonts/Exo-2-700-italic.ttf",l:"Exo2-BoldItalic",u:"https://static.canva.com/static/webfonts/Exo2-BoldItalic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Exo-2-regular.ttf",l:"Exo2-Regular",u:"https://static.canva.com/static/webfonts/Exo2-Regular.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Exo-2-italic.ttf",l:"Exo2-Italic",u:"https://static.canva.com/static/webfonts/Exo2-Italic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Exo-2-700.ttf",l:"Exo2-Bold",u:"https://static.canva.com/static/webfonts/Exo2-Bold.woff"}}},{family:"Exo Thin",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR".split(" "),
K:"https://static.canva.com/static/images/fonts/Exo-Thin.png",X:"https://static.canva.com/static/images/fonts/Exo-Thin@2x.png",url:"https://static.canva.com/static/webfonts/Exo2-Thin.css",O:"Exo2-Thin",displayName:"Exo Thin",H:{o:!0,bold:!1,v:!1},i:{o:"https://static.canva.com/static/truetypefonts/Exo-2-100-italic.ttf",j:"https://static.canva.com/static/truetypefonts/Exo-2-100.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Exo-2-100.ttf",l:"Exo2-Thin",u:"https://static.canva.com/static/webfonts/Exo2-Thin.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Exo-2-100-italic.ttf",l:"Exo2-ThinItalic",u:"https://static.canva.com/static/webfonts/Exo2-ThinItalic.woff"}}},{family:"Gruppo",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR".split(" "),
K:"https://static.canva.com/static/images/fonts/Gruppo.png",X:"https://static.canva.com/static/images/fonts/Gruppo@2x.png",url:"https://static.canva.com/static/webfonts/Gruppo.css",O:"Gruppo",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Gruppo-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Gruppo-Regular.ttf",l:"Gruppo",u:"https://static.canva.com/static/webfonts/Gruppo.woff"}}},{family:"Glacial Indifference",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Glacial-Indifference.png",X:"https://static.canva.com/static/images/fonts/Glacial-Indifference@2x.png",
url:"https://static.canva.com/static/webfonts/GlacialIndifference.css",O:"GlacialIndifference",displayName:"Glacial Indifference",H:{o:!0,bold:!0,v:!1},i:{bold:"https://static.canva.com/static/truetypefonts/GlacialIndifference-Bold.ttf",o:"https://static.canva.com/static/truetypefonts/GlacialIndifference-Italic.ttf",j:"https://static.canva.com/static/truetypefonts/GlacialIndifference-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/GlacialIndifference-Regular.ttf",l:"GlacialIndifference-Regular",u:"https://static.canva.com/static/webfonts/GlacialIndifference-Regular.woff"},o:{i:"https://static.canva.com/static/truetypefonts/GlacialIndifference-Italic.ttf",
l:"GlacialIndifference-Italic",u:"https://static.canva.com/static/webfonts/GlacialIndifference-Italic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/GlacialIndifference-Bold.ttf",l:"GlacialIndifference-Bold",u:"https://static.canva.com/static/webfonts/GlacialIndifference-Bold.woff"}}},{family:"Gidole",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Gidole.png",X:"https://static.canva.com/static/images/fonts/Gidole@2x.png",url:"https://static.canva.com/static/webfonts/Gidole-Regular.css",O:"Gidole",
displayName:"Gidole",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Gidole-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Gidole-Regular.ttf",l:"Gidole-Regular",u:"https://static.canva.com/static/webfonts/Gidole-Regular.woff"}}},{family:"Julius Sans One",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Julius-Sans-One.png",X:"https://static.canva.com/static/images/fonts/Julius-Sans-One@2x.png",url:"https://static.canva.com/static/webfonts/Julius%2BSans%2BOne.css",O:"JuliusSansOne-Regular",
H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/JuliusSansOne-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/JuliusSansOne-Regular.ttf",l:"JuliusSansOne-Regular",u:"https://static.canva.com/static/webfonts/JuliusSansOne-Regular.woff"}}},{family:"Kite One",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Kite-One.png",X:"https://static.canva.com/static/images/fonts/Kite-One@2x.png",url:"https://static.canva.com/static/webfonts/Kite%2BOne.css",O:"KiteOne-Regular",H:{o:!1,bold:!1,
v:!1},i:{j:"https://static.canva.com/static/truetypefonts/KiteOne-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/KiteOne-Regular.ttf",l:"KiteOne-Regular",u:"https://static.canva.com/static/webfonts/KiteOne-Regular.woff"}}},{family:"Kollektif",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Kollektif.png",X:"https://static.canva.com/static/images/fonts/Kollektif@2x.png",url:"https://static.canva.com/static/webfonts/Kollektif.css",O:"Kollektif",displayName:"Kollektif",H:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/Kollektif.ttf",
bold:"https://static.canva.com/static/truetypefonts/Kollektif-Bold.ttf",o:"https://static.canva.com/static/truetypefonts/Kollektif-Italic.ttf",v:"https://static.canva.com/static/truetypefonts/Kollektif-BoldItalic.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Kollektif.ttf",l:"Kollektif",u:"https://static.canva.com/static/webfonts/Kollektif.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Kollektif-Bold.ttf",l:"Kollektif-Bold",u:"https://static.canva.com/static/webfonts/Kollektif-Bold.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Kollektif-Italic.ttf",l:"Kollektif-Italic",u:"https://static.canva.com/static/webfonts/Kollektif-Italic.woff"},v:{i:"https://static.canva.com/static/truetypefonts/Kollektif-BoldItalic.ttf",
l:"Kollektif-BoldItalic",u:"https://static.canva.com/static/webfonts/Kollektif-BoldItalic.woff"}}},{family:"Lilita One",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Lilita-One.png",X:"https://static.canva.com/static/images/fonts/Lilita-One@2x.png",url:"https://static.canva.com/static/webfonts/Lilita%2BOne.css",O:"LilitaOne",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/LilitaOne-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/LilitaOne-Regular.ttf",l:"LilitaOne",u:"https://static.canva.com/static/webfonts/LilitaOne.woff"}}},
{family:"Open Sans Light",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR ru-RU tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Open-Sans-Light.png",X:"https://static.canva.com/static/images/fonts/Open-Sans-Light@2x.png",url:"https://static.canva.com/static/webfonts/OpenSans-Light.css",O:"OpenSansLight",displayName:"Open Sans Light",H:{o:!0,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/OpenSans-Light.ttf",o:"https://static.canva.com/static/truetypefonts/OpenSans-LightItalic.ttf"},J:{o:{i:"https://static.canva.com/static/truetypefonts/OpenSans-LightItalic.ttf",
l:"OpenSans-LightItalic",u:"https://static.canva.com/static/webfonts/OpenSans-LightItalic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/OpenSans-Light.ttf",l:"OpenSans-Light",u:"https://static.canva.com/static/webfonts/OpenSans-Light.woff"}}},{family:"Open Sans",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR ru-RU tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Open-Sans.png",X:"https://static.canva.com/static/images/fonts/Open-Sans@2x.png",url:"https://static.canva.com/static/webfonts/Open%2BSans.2.css",O:"OpenSans",H:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/OpenSans-Bold.ttf",
v:"https://static.canva.com/static/truetypefonts/OpenSans-BoldItalic.ttf",j:"https://static.canva.com/static/truetypefonts/OpenSans-Regular.ttf",o:"https://static.canva.com/static/truetypefonts/OpenSans-Italic.ttf"},J:{o:{i:"https://static.canva.com/static/truetypefonts/OpenSans-Italic.ttf",l:"OpenSans-Italic",u:"https://static.canva.com/static/webfonts/OpenSans-Italic.woff"},v:{i:"https://static.canva.com/static/truetypefonts/OpenSans-BoldItalic.ttf",l:"OpenSans-BoldItalic",u:"https://static.canva.com/static/webfonts/OpenSans-BoldItalic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/OpenSans-Bold.ttf",l:"OpenSans-Bold",u:"https://static.canva.com/static/webfonts/OpenSans-Bold.woff"},j:{i:"https://static.canva.com/static/truetypefonts/OpenSans-Regular.ttf",
l:"OpenSans",u:"https://static.canva.com/static/webfonts/OpenSans.woff"}}},{family:"Open Sans Extra Bold",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR ru-RU tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Open-Sans-Extra-Bold.png",X:"https://static.canva.com/static/images/fonts/Open-Sans-Extra-Bold@2x.png",url:"https://static.canva.com/static/webfonts/OpenSans-ExtraBold.css",O:"OpenSansExtraBold",displayName:"Open Sans Extra Bold",H:{o:!0,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/OpenSans-ExtraBold.ttf",
o:"https://static.canva.com/static/truetypefonts/OpenSans-ExtraBoldItalic.ttf"},J:{o:{i:"https://static.canva.com/static/truetypefonts/OpenSans-ExtraBoldItalic.ttf",l:"OpenSans-ExtraboldItalic",u:"https://static.canva.com/static/webfonts/OpenSans-ExtraBoldItalic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/OpenSans-ExtraBold.ttf",l:"OpenSans-Extrabold",u:"https://static.canva.com/static/webfonts/OpenSans-ExtraBold.woff"}}},{family:"Racing Sans One",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Racing-Sans-One.png",
X:"https://static.canva.com/static/images/fonts/Racing-Sans-One@2x.png",url:"https://static.canva.com/static/webfonts/Racing%2BSans%2BOne.css",O:"RacingSansOne-Regular",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/RacingSansOne-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/RacingSansOne-Regular.ttf",l:"RacingSansOne-Regular",u:"https://static.canva.com/static/webfonts/RacingSansOne-Regular.woff"}}},{family:"Roboto",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR ru-RU tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Roboto.png",
X:"https://static.canva.com/static/images/fonts/Roboto@2x.png",url:"https://static.canva.com/static/webfonts/Roboto.2.css",O:"Roboto-Regular",H:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/Roboto-Regular.ttf",bold:"https://static.canva.com/static/truetypefonts/Roboto-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/Roboto-BoldItalic.ttf",o:"https://static.canva.com/static/truetypefonts/Roboto-Italic.ttf"},J:{v:{i:"https://static.canva.com/static/truetypefonts/Roboto-BoldItalic.ttf",l:"Roboto-BoldItalic",u:"https://static.canva.com/static/webfonts/Roboto-BoldItalic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Roboto-Bold.ttf",l:"Roboto-Bold",u:"https://static.canva.com/static/webfonts/Roboto-Bold.woff"},
o:{i:"https://static.canva.com/static/truetypefonts/Roboto-Italic.ttf",l:"Roboto-Italic",u:"https://static.canva.com/static/webfonts/Roboto-Italic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Roboto-Regular.ttf",l:"Roboto-Regular",u:"https://static.canva.com/static/webfonts/Roboto-Regular.woff"}}},{family:"Ubuntu",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR ru-RU tr-TR uk-UA".split(" "),K:"https://static.canva.com/static/images/fonts/Ubuntu.png",X:"https://static.canva.com/static/images/fonts/Ubuntu@2x.png",url:"https://static.canva.com/static/webfonts/Ubuntu.2.css",O:"Ubuntu",
H:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/Ubuntu-Regular.ttf",bold:"https://static.canva.com/static/truetypefonts/Ubuntu-Bold.ttf",o:"https://static.canva.com/static/truetypefonts/Ubuntu-Italic.ttf",v:"https://static.canva.com/static/truetypefonts/Ubuntu-BoldItalic.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Ubuntu-Regular.ttf",l:"Ubuntu",u:"https://static.canva.com/static/webfonts/Ubuntu.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Ubuntu-Italic.ttf",l:"Ubuntu-Italic",u:"https://static.canva.com/static/webfonts/Ubuntu-Italic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Ubuntu-Bold.ttf",l:"Ubuntu-Bold",u:"https://static.canva.com/static/webfonts/Ubuntu-Bold.woff"},
v:{i:"https://static.canva.com/static/truetypefonts/Ubuntu-BoldItalic.ttf",l:"Ubuntu-BoldItalic",u:"https://static.canva.com/static/webfonts/Ubuntu-BoldItalic.woff"}}},{family:"Unity Display",K:"https://static.canva.com/static/images/fonts/Unity-Display.png",X:"https://static.canva.com/static/images/fonts/Unity-Display@2x.png",url:"https://static.canva.com/static/webfonts/Unity-Display.css",O:"Unity Display",displayName:"Unity Display",disabled:!0,H:{o:!1,bold:!0,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/UnityDisplay-Roman.ttf",bold:"https://static.canva.com/static/truetypefonts/UnityDisplay-Bold.ttf"},J:{bold:{i:"https://static.canva.com/static/truetypefonts/UnityDisplay-Bold.ttf",
l:"UnityDisplay-Bold"},j:{i:"https://static.canva.com/static/truetypefonts/UnityDisplay-Roman.ttf",l:"UnityDisplay-Roman"}}},{family:"Unity Text",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Unity-Text.png",X:"https://static.canva.com/static/images/fonts/Unity-Text@2x.png",url:"https://static.canva.com/static/webfonts/Unity-Text.css",O:"Unity Text",displayName:"Unity Text",disabled:!0,H:{o:!1,bold:!0,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/UnityText-Roman.ttf",bold:"https://static.canva.com/static/truetypefonts/UnityText-Bold.ttf"},
J:{bold:{i:"https://static.canva.com/static/truetypefonts/UnityText-Bold.ttf",l:"UnityText-Bold"},j:{i:"https://static.canva.com/static/truetypefonts/UnityText-Roman.ttf",l:"UnityText-Roman"}}},{family:"Six Caps",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Six-Caps.png",X:"https://static.canva.com/static/images/fonts/Six-Caps@2x.png",url:"https://static.canva.com/static/webfonts/Six%2BCaps.css",O:"SixCaps",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/SixCaps.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/SixCaps.ttf",
l:"SixCaps",u:"https://static.canva.com/static/webfonts/SixCaps.woff"}}},{family:"Sifonn",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Sifonn.png",X:"https://static.canva.com/static/images/fonts/Sifonn@2x.png",url:"https://static.canva.com/static/webfonts/Sifonn.css",O:"Sifonn",displayName:"Sifonn",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Sifonn-Basic.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Sifonn-Basic.ttf",l:"Sifonn-Basic",u:"https://static.canva.com/static/webfonts/Sifonn-Basic.woff"}}},
{family:"Sifonn Outline",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Sifonn-Outline.png",X:"https://static.canva.com/static/images/fonts/Sifonn-Outline@2x.png",url:"https://static.canva.com/static/webfonts/SifonnOutline.css",O:"Sifonn Outline",displayName:"Sifonn Outline",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Sifonn-Basic-Outline.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Sifonn-Basic-Outline.ttf",l:"Sifonn-Basic-Outline",u:"https://static.canva.com/static/webfonts/Sifonn-Basic-Outline.woff"}}},
{family:"Signika",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Signika.png",X:"https://static.canva.com/static/images/fonts/Signika@2x.png",url:"https://static.canva.com/static/webfonts/Signika.css",O:"Signika",displayName:"Signika",H:{o:!1,bold:!0,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Signika-Regular.ttf",bold:"https://static.canva.com/static/truetypefonts/Signika-Bold.ttf"},J:{bold:{i:"https://static.canva.com/static/truetypefonts/Signika-Bold.ttf",l:"Signika-Bold",u:"https://static.canva.com/static/webfonts/Signika-Bold.woff"},
j:{i:"https://static.canva.com/static/truetypefonts/Signika-Regular.ttf",l:"Signika-Regular",u:"https://static.canva.com/static/webfonts/Signika-Regular.woff"}}},{family:"Source Sans Pro",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Source-Sans-Pro.png",X:"https://static.canva.com/static/images/fonts/Source-Sans-Pro@2x.png",url:"https://static.canva.com/static/webfonts/SourceSansPro.css",O:"Source-Sans-Pro",displayName:"Source Sans Pro",H:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/SourceSansPro-Regular.ttf",
bold:"https://static.canva.com/static/truetypefonts/SourceSansPro-Bold.ttf",o:"https://static.canva.com/static/truetypefonts/SourceSansPro-It.ttf",v:"https://static.canva.com/static/truetypefonts/SourceSansPro-BoldIt.ttf"},J:{v:{i:"https://static.canva.com/static/truetypefonts/SourceSansPro-BoldIt.ttf",l:"SourceSansPro-BoldIt",u:"https://static.canva.com/static/webfonts/SourceSansPro-BoldIt.otf.woff"},o:{i:"https://static.canva.com/static/truetypefonts/SourceSansPro-It.ttf",l:"SourceSansPro-It",u:"https://static.canva.com/static/webfonts/SourceSansPro-It.otf.woff"},j:{i:"https://static.canva.com/static/truetypefonts/SourceSansPro-Regular.ttf",l:"SourceSansPro-Regular",u:"https://static.canva.com/static/webfonts/SourceSansPro-Regular.otf.woff"},
bold:{i:"https://static.canva.com/static/truetypefonts/SourceSansPro-Bold.ttf",l:"SourceSansPro-Bold",u:"https://static.canva.com/static/webfonts/SourceSansPro-Bold.otf.woff"}}},{family:"Text Me One",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Text-Me-One.png",X:"https://static.canva.com/static/images/fonts/Text-Me-One@2x.png",url:"https://static.canva.com/static/webfonts/Text%2BMe%2BOne.css",O:"TextMeOne-Regular",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/TextMeOne-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/TextMeOne-Regular.ttf",
l:"TextMeOne-Regular",u:"https://static.canva.com/static/webfonts/TextMeOne-Regular.woff"}}},{family:"Tenor Sans",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR ru-RU tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Tenor-Sans.png",X:"https://static.canva.com/static/images/fonts/Tenor-Sans@2x.png",url:"https://static.canva.com/static/webfonts/TenorSans.css",displayName:"Tenor Sans",O:"TenorSans",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/TenorSans.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/TenorSans.ttf",l:"TenorSans",
u:"https://static.canva.com/static/webfonts/TenorSans.woff"}}}]},{rm:"Serif",wg:"serif",fonts:[{family:"Abril Fatface",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Abril-Fatface.png",X:"https://static.canva.com/static/images/fonts/Abril-Fatface@2x.png",url:"https://static.canva.com/static/webfonts/Abril%2BFatface.css",O:"AbrilFatface-Regular",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/AbrilFatface-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/AbrilFatface-Regular.ttf",
l:"AbrilFatface-Regular",u:"https://static.canva.com/static/webfonts/AbrilFatface-Regular.woff"}}},{name:"Alegreya Small Caps",family:"Alegreya SC",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Alegreya-Small-Caps.png",X:"https://static.canva.com/static/images/fonts/Alegreya-Small-Caps@2x.png",url:"https://static.canva.com/static/webfonts/Alegreya%2BSC.css",O:"AlegreyaSC-Regular",H:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/AlegreyaSC-Regular.ttf",bold:"https://static.canva.com/static/truetypefonts/AlegreyaSC-Bold.ttf",
v:"https://static.canva.com/static/truetypefonts/AlegreyaSC-BoldItalic.ttf",o:"https://static.canva.com/static/truetypefonts/AlegreyaSC-Italic.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/AlegreyaSC-Regular.ttf",l:"AlegreyaSC-Regular",u:"https://static.canva.com/static/webfonts/AlegreyaSC-Regular.woff"},v:{i:"https://static.canva.com/static/truetypefonts/AlegreyaSC-BoldItalic.ttf",l:"AlegreyaSC-BoldItalic",u:"https://static.canva.com/static/webfonts/AlegreyaSC-BoldItalic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/AlegreyaSC-Bold.ttf",l:"AlegreyaSC-Bold",u:"https://static.canva.com/static/webfonts/AlegreyaSC-Bold.woff"},o:{i:"https://static.canva.com/static/truetypefonts/AlegreyaSC-Italic.ttf",
l:"AlegreyaSC-Italic",u:"https://static.canva.com/static/webfonts/AlegreyaSC-Italic.woff"}}},{family:"Alfa Slab One",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Alfa-Slab-One.png",X:"https://static.canva.com/static/images/fonts/Alfa-Slab-One@2x.png",url:"https://static.canva.com/static/webfonts/Alfa%2BSlab%2BOne.css",O:"AlfaSlabOne-Regular",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/AlfaSlabOne-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/AlfaSlabOne-Regular.ttf",l:"AlfaSlabOne-Regular",
u:"https://static.canva.com/static/webfonts/AlfaSlabOne-Regular.woff"}}},{family:"Alike",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Alike.png",X:"https://static.canva.com/static/images/fonts/Alike@2x.png",url:"https://static.canva.com/static/webfonts/Alike.css",O:"Alike-Regular",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Alike-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Alike-Regular.ttf",l:"Alike-Regular",u:"https://static.canva.com/static/webfonts/Alike-Regular.woff"}}},{family:"Anonymous Pro",
R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR ru-RU tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Anonymous-Pro.png",X:"https://static.canva.com/static/images/fonts/Anonymous-Pro@2x.png",url:"https://static.canva.com/static/webfonts/Anonymous%2BPro.css",O:"AnonymousPro",H:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/AnonymousPro-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/AnonymousPro-BoldItalic.ttf",o:"https://static.canva.com/static/truetypefonts/AnonymousPro-Italic.ttf",j:"https://static.canva.com/static/truetypefonts/AnonymousPro-Regular.ttf"},
J:{bold:{i:"https://static.canva.com/static/truetypefonts/AnonymousPro-Bold.ttf",l:"AnonymousPro-Bold",u:"https://static.canva.com/static/webfonts/AnonymousPro-Bold.woff"},j:{i:"https://static.canva.com/static/truetypefonts/AnonymousPro-Regular.ttf",l:"AnonymousPro",u:"https://static.canva.com/static/webfonts/AnonymousPro.woff"},o:{i:"https://static.canva.com/static/truetypefonts/AnonymousPro-Italic.ttf",l:"AnonymousPro-Italic",u:"https://static.canva.com/static/webfonts/AnonymousPro-Italic.woff"},v:{i:"https://static.canva.com/static/truetypefonts/AnonymousPro-BoldItalic.ttf",l:"AnonymousPro-BoldItalic",u:"https://static.canva.com/static/webfonts/AnonymousPro-BoldItalic.woff"}}},{family:"Arvo",
R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Arvo.png",X:"https://static.canva.com/static/images/fonts/Arvo@2x.png",url:"https://static.canva.com/static/webfonts/Arvo.css",O:"Arvo",H:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/Arvo-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/Arvo-BoldItalic.ttf",o:"https://static.canva.com/static/truetypefonts/Arvo-Italic.ttf",j:"https://static.canva.com/static/truetypefonts/Arvo-Regular.ttf"},J:{bold:{i:"https://static.canva.com/static/truetypefonts/Arvo-Bold.ttf",l:"Arvo-Bold",u:"https://static.canva.com/static/webfonts/Arvo-Bold.woff"},
j:{i:"https://static.canva.com/static/truetypefonts/Arvo-Regular.ttf",l:"Arvo",u:"https://static.canva.com/static/webfonts/Arvo.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Arvo-Italic.ttf",l:"Arvo-Italic",u:"https://static.canva.com/static/webfonts/Arvo-Italic.woff"},v:{i:"https://static.canva.com/static/truetypefonts/Arvo-BoldItalic.ttf",l:"Arvo-BoldItalic",u:"https://static.canva.com/static/webfonts/Arvo-BoldItalic.woff"}}},{family:"Bebas Neue",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Bebas-Neue.png",X:"https://static.canva.com/static/images/fonts/Bebas-Neue@2x.png",
url:"https://static.canva.com/static/webfonts/Bebas-Neue.css",O:"BebasNeue",displayName:"Bebas Neue",H:{o:!1,bold:!0,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/BebasNeueRegular.ttf",bold:"https://static.canva.com/static/truetypefonts/BebasNeueBold.ttf"},J:{bold:{i:"https://static.canva.com/static/truetypefonts/BebasNeueBold.ttf",l:"BebasNeueBold",u:"https://static.canva.com/static/webfonts/BebasNeueBold.woff"},j:{i:"https://static.canva.com/static/truetypefonts/BebasNeueRegular.ttf",l:"BebasNeueRegular",u:"https://static.canva.com/static/webfonts/BebasNeueRegular.woff"}}},{family:"Bodoni FLF",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),
K:"https://static.canva.com/static/images/fonts/Bodoni-FLF.png",X:"https://static.canva.com/static/images/fonts/Bodoni-FLF@2x.png",url:"https://static.canva.com/static/webfonts/Bodoni-FLF.css",O:"Bodoni-FLF",displayName:"Bodoni FLF",H:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/BodoniFLF-Roman.ttf",bold:"https://static.canva.com/static/truetypefonts/BodoniFLF-Bold.ttf",o:"https://static.canva.com/static/truetypefonts/BodoniFLF-Italic.ttf",v:"https://static.canva.com/static/truetypefonts/BodoniFLF-BoldItalic.ttf"},J:{v:{i:"https://static.canva.com/static/truetypefonts/BodoniFLF-BoldItalic.ttf",l:"BodoniFLF-BoldItalic",u:"https://static.canva.com/static/webfonts/BodoniFLF-BoldItalic.woff"},
o:{i:"https://static.canva.com/static/truetypefonts/BodoniFLF-Italic.ttf",l:"BodoniFLF-Italic",u:"https://static.canva.com/static/webfonts/BodoniFLF-Italic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/BodoniFLF-Bold.ttf",l:"BodoniFLF-Bold",u:"https://static.canva.com/static/webfonts/BodoniFLF-Bold.woff"},j:{i:"https://static.canva.com/static/truetypefonts/BodoniFLF-Roman.ttf",l:"BodoniFLF-Roman",u:"https://static.canva.com/static/webfonts/BodoniFLF-Roman.woff"}}},{family:"Cinzel",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Cinzel.png",
X:"https://static.canva.com/static/images/fonts/Cinzel@2x.png",url:"https://static.canva.com/static/webfonts/Cinzel.css",O:"Cinzel-Regular",H:{o:!1,bold:!0,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Cinzel-Regular.ttf",bold:"https://static.canva.com/static/truetypefonts/Cinzel-Bold.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Cinzel-Regular.ttf",l:"Cinzel-Regular",u:"https://static.canva.com/static/webfonts/Cinzel-Regular.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Cinzel-Bold.ttf",l:"Cinzel-Bold",u:"https://static.canva.com/static/webfonts/Cinzel-Bold.woff"}}},{family:"Droid Serif",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX it-IT pt-BR".split(" "),
K:"https://static.canva.com/static/images/fonts/Droid-Serif.png",X:"https://static.canva.com/static/images/fonts/Droid-Serif@2x.png",url:"https://static.canva.com/static/webfonts/Droid%2BSerif.css",O:"DroidSerif",H:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/DroidSerif-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/DroidSerif-BoldItalic.ttf",o:"https://static.canva.com/static/truetypefonts/DroidSerif-Italic.ttf",j:"https://static.canva.com/static/truetypefonts/DroidSerif.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/DroidSerif.ttf",l:"DroidSerif",u:"https://static.canva.com/static/webfonts/DroidSerif.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/DroidSerif-Bold.ttf",
l:"DroidSerif-Bold",u:"https://static.canva.com/static/webfonts/DroidSerif-Bold.woff"},v:{i:"https://static.canva.com/static/truetypefonts/DroidSerif-BoldItalic.ttf",l:"DroidSerif-BoldItalic",u:"https://static.canva.com/static/webfonts/DroidSerif-BoldItalic.woff"},o:{i:"https://static.canva.com/static/truetypefonts/DroidSerif-Italic.ttf",l:"DroidSerif-Italic",u:"https://static.canva.com/static/webfonts/DroidSerif-Italic.woff"}}},{family:"Forum",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR ru-RU tr-TR uk-UA".split(" "),K:"https://static.canva.com/static/images/fonts/Forum.png",
X:"https://static.canva.com/static/images/fonts/Forum@2x.png",url:"https://static.canva.com/static/webfonts/Forum.css",O:"Forum",displayName:"Forum",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Forum-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Forum-Regular.ttf",l:"Forum",u:"https://static.canva.com/static/webfonts/Forum-Regular.woff"}}},{family:"Granaina",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Granaina.png",X:"https://static.canva.com/static/images/fonts/Granaina@2x.png",url:"https://static.canva.com/static/webfonts/Granaina.css",
O:"Granaina",displayName:"Granaina",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Granaina-Limpia.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Granaina-Limpia.ttf",l:"Granaina-limpia",u:"https://static.canva.com/static/webfonts/Granaina-Limpia.woff"}}},{family:"Glegoo",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Glegoo.png",X:"https://static.canva.com/static/images/fonts/Glegoo@2x.png",url:"https://static.canva.com/static/webfonts/Glegoo.css",O:"Glegoo-Regular",H:{o:!1,
bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Glegoo-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Glegoo-Regular.ttf",l:"Glegoo-Regular",u:"https://static.canva.com/static/webfonts/Glegoo-Regular.woff"}}},{name:"IM Fell English Small Caps",family:"IM Fell English SC",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/IM-Fell-English-Small-Caps.png",X:"https://static.canva.com/static/images/fonts/IM-Fell-English-Small-Caps@2x.png",url:"https://static.canva.com/static/webfonts/IM%2BFell%2BEnglish%2BSC.css",
O:"IM_FELL_English_SC",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/IMFeENsc28P.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/IMFeENsc28P.ttf",l:"IM_FELL_English_SC",u:"https://static.canva.com/static/webfonts/IM_FELL_English_SC.woff"}}},{name:"IM Fell",family:"IM Fell Double Pica",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/IM-Fell.png",X:"https://static.canva.com/static/images/fonts/IM-Fell@2x.png",url:"https://static.canva.com/static/webfonts/IM-Fell-Double-Pica.css",
O:"IM-Fell-Double-Pica",displayName:"IM Fell",H:{o:!0,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/IMFeDPrm28P.ttf",o:"https://static.canva.com/static/truetypefonts/IMFeDPit28P.ttf"},J:{o:{i:"https://static.canva.com/static/truetypefonts/IMFeDPit28P.ttf",l:"IM_FELL_Double_Pica_Italic",u:"https://static.canva.com/static/webfonts/IM-Fell-Double-Pica-Italic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/IMFeDPrm28P.ttf",l:"IM_FELL_Double_Pica_Roman",u:"https://static.canva.com/static/webfonts/IM-Fell-Double-Pica-Roman.woff"}}},{family:"Libre Baskerville",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR tr-TR".split(" "),
K:"https://static.canva.com/static/images/fonts/Libre-Baskerville.png",X:"https://static.canva.com/static/images/fonts/Libre-Baskerville@2x.png",url:"https://static.canva.com/static/webfonts/Libre%2BBaskerville.css",O:"LibreBaskerville-Regular",H:{o:!0,bold:!0,v:!1},i:{bold:"https://static.canva.com/static/truetypefonts/LibreBaskerville-Bold.ttf",o:"https://static.canva.com/static/truetypefonts/LibreBaskerville-Italic.ttf",j:"https://static.canva.com/static/truetypefonts/LibreBaskerville-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/LibreBaskerville-Regular.ttf",l:"LibreBaskerville-Regular",u:"https://static.canva.com/static/webfonts/LibreBaskerville-Regular.woff"},
o:{i:"https://static.canva.com/static/truetypefonts/LibreBaskerville-Italic.ttf",l:"LibreBaskerville-Italic",u:"https://static.canva.com/static/webfonts/LibreBaskerville-Italic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/LibreBaskerville-Bold.ttf",l:"LibreBaskerville-Bold",u:"https://static.canva.com/static/webfonts/LibreBaskerville-Bold.woff"}}},{family:"Lora",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR ru-RU tr-TR uk-UA".split(" "),K:"https://static.canva.com/static/images/fonts/Lora.png",X:"https://static.canva.com/static/images/fonts/Lora@2x.png",
url:"https://static.canva.com/static/webfonts/Lora.css",O:"Lora",H:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/Lora-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/Lora-BoldItalic.ttf",o:"https://static.canva.com/static/truetypefonts/Lora-Italic.ttf",j:"https://static.canva.com/static/truetypefonts/Lora-Regular.ttf"},J:{o:{i:"https://static.canva.com/static/truetypefonts/Lora-Italic.ttf",l:"Lora-Italic",u:"https://static.canva.com/static/webfonts/Lora-Italic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Lora-Bold.ttf",l:"Lora-Bold",u:"https://static.canva.com/static/webfonts/Lora-Bold.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Lora-Regular.ttf",l:"Lora-Regular",
u:"https://static.canva.com/static/webfonts/Lora.woff"},v:{i:"https://static.canva.com/static/truetypefonts/Lora-BoldItalic.ttf",l:"Lora-BoldItalic",u:"https://static.canva.com/static/webfonts/Lora-BoldItalic.woff"}}},{family:"Lustria",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Lustria.png",X:"https://static.canva.com/static/images/fonts/Lustria@2x.png",url:"https://static.canva.com/static/webfonts/Lustria.css",O:"Lustria-Regular",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Lustria-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Lustria-Regular.ttf",
l:"Lustria-Regular",u:"https://static.canva.com/static/webfonts/Lustria-Regular.woff"}}},{family:"Luthier",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Luthier.png",X:"https://static.canva.com/static/images/fonts/Luthier@2x.png",url:"https://static.canva.com/static/webfonts/Luthier.css",O:"Luthier",displayName:"Luthier",H:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/Luthier-Regular.ttf",bold:"https://static.canva.com/static/truetypefonts/Luthier-Bold.ttf",o:"https://static.canva.com/static/truetypefonts/Luthier-Italic.ttf",
v:"https://static.canva.com/static/truetypefonts/Luthier-BoldItalic.ttf"},J:{v:{i:"https://static.canva.com/static/truetypefonts/Luthier-BoldItalic.ttf",l:"Luthier-BoldItalic",u:"https://static.canva.com/static/webfonts/Luthier-BoldItalic.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Luthier-Italic.ttf",l:"Luthier-Italic",u:"https://static.canva.com/static/webfonts/Luthier-Italic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Luthier-Bold.ttf",l:"Luthier-Bold",u:"https://static.canva.com/static/webfonts/Luthier-Bold.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Luthier-Regular.ttf",l:"Luthier-Regular",u:"https://static.canva.com/static/webfonts/Luthier-Regular.woff"}}},
{family:"Nixie One",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Nixie-One.png",X:"https://static.canva.com/static/images/fonts/Nixie-One@2x.png",url:"https://static.canva.com/static/webfonts/Nixie%2BOne.css",O:"NixieOne-Regular",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/NixieOne-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/NixieOne-Regular.ttf",l:"NixieOne-Regular",u:"https://static.canva.com/static/webfonts/NixieOne-Regular.woff"}}},{name:"Playfair Display",family:"Playfair Display",
R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Playfair-Display.png",X:"https://static.canva.com/static/images/fonts/Playfair-Display@2x.png",url:"https://static.canva.com/static/webfonts/Playfair-Display.css",O:"PlayfairDisplay",displayName:"Playfair Display",H:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-Regular.ttf",bold:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-BoldItalic.ttf",
o:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-Italic.ttf"},J:{v:{i:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-BoldItalic.ttf",l:"PlayfairDisplay-BoldItalic",u:"https://static.canva.com/static/webfonts/PlayfairDisplay-BoldItalic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-Bold.ttf",l:"PlayfairDisplay-Bold",u:"https://static.canva.com/static/webfonts/PlayfairDisplay-Bold.woff"},j:{i:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-Regular.ttf",l:"PlayfairDisplay-Regular",u:"https://static.canva.com/static/webfonts/PlayfairDisplay-Regular.woff"},o:{i:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-Italic.ttf",
l:"PlayfairDisplay-Italic",u:"https://static.canva.com/static/webfonts/PlayfairDisplay-Italic.woff"}}},{name:"Playfair Display Black",family:"Playfair Display Black",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Playfair-Display-Black.png",X:"https://static.canva.com/static/images/fonts/Playfair-Display-Black@2x.png",url:"https://static.canva.com/static/webfonts/Playfair-Display-Black.css",O:"PlayfairDisplayBlack",displayName:"Playfair Display Black",H:{o:!0,
bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-Black.ttf",o:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-BlackItalic.ttf"},J:{o:{i:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-BlackItalic.ttf",l:"PlayfairDisplay-BlackItalic",u:"https://static.canva.com/static/webfonts/PlayfairDisplay-BlackItalic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-Black.ttf",l:"PlayfairDisplay-Black",u:"https://static.canva.com/static/webfonts/PlayfairDisplay-Black.woff"}}},{name:"Playfair Small Caps",family:"Playfair Display SC",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR tr-TR".split(" "),
K:"https://static.canva.com/static/images/fonts/Playfair-Small-Caps.png",X:"https://static.canva.com/static/images/fonts/Playfair-Small-Caps@2x.png",url:"https://static.canva.com/static/webfonts/Playfair%2BDisplay%2BSC.css",O:"PlayfairDisplaySC-Regular",H:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-Regular.ttf",bold:"https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-BoldItalic.ttf",o:"https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-Italic.ttf"},J:{o:{i:"https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-Italic.ttf",l:"PlayfairDisplaySC-Italic",
u:"https://static.canva.com/static/webfonts/PlayfairDisplaySC-Italic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-Regular.ttf",l:"PlayfairDisplaySC-Regular",u:"https://static.canva.com/static/webfonts/PlayfairDisplaySC-Regular.woff"},v:{i:"https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-BoldItalic.ttf",l:"PlayfairDisplaySC-BoldItalic",u:"https://static.canva.com/static/webfonts/PlayfairDisplaySC-BoldItalic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-Bold.ttf",l:"PlayfairDisplaySC-Bold",u:"https://static.canva.com/static/webfonts/PlayfairDisplaySC-Bold.woff"}}},{family:"Prata",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),
K:"https://static.canva.com/static/images/fonts/Prata.png",X:"https://static.canva.com/static/images/fonts/Prata@2x.png",url:"https://static.canva.com/static/webfonts/Prata.css",O:"Prata-Regular",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Prata-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Prata-Regular.ttf",l:"Prata-Regular",u:"https://static.canva.com/static/webfonts/Prata-Regular.woff"}}},{family:"PT Serif",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR ru-RU tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/PT-Serif.png",
X:"https://static.canva.com/static/images/fonts/PT-Serif@2x.png",url:"https://static.canva.com/static/webfonts/PT%2BSerif.css",O:"PTSerif-Regular",H:{o:!0,bold:!0,v:!0},i:{o:"https://static.canva.com/static/truetypefonts/PT_Serif-Web-Italic.ttf",bold:"https://static.canva.com/static/truetypefonts/PT_Serif-Web-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/PT_Serif-Web-BoldItalic.ttf",j:"https://static.canva.com/static/truetypefonts/PT_Serif-Web-Regular.ttf"},J:{v:{i:"https://static.canva.com/static/truetypefonts/PT_Serif-Web-BoldItalic.ttf",l:"PTSerif-BoldItalic",u:"https://static.canva.com/static/webfonts/PTSerif-BoldItalic.woff"},o:{i:"https://static.canva.com/static/truetypefonts/PT_Serif-Web-Italic.ttf",
l:"PTSerif-Italic",u:"https://static.canva.com/static/webfonts/PTSerif-Italic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/PT_Serif-Web-Bold.ttf",l:"PTSerif-Bold",u:"https://static.canva.com/static/webfonts/PTSerif-Bold.woff"},j:{i:"https://static.canva.com/static/truetypefonts/PT_Serif-Web-Regular.ttf",l:"PTSerif-Regular",u:"https://static.canva.com/static/webfonts/PTSerif-Regular.woff"}}},{family:"Quando",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Quando.png",X:"https://static.canva.com/static/images/fonts/Quando@2x.png",
url:"https://static.canva.com/static/webfonts/Quando.css",O:"Quando-Regular",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Quando-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Quando-Regular.ttf",l:"Quando-Regular",u:"https://static.canva.com/static/webfonts/Quando-Regular.woff"}}},{family:"Quattrocento",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Quattrocento.png",X:"https://static.canva.com/static/images/fonts/Quattrocento@2x.png",url:"https://static.canva.com/static/webfonts/Quattrocento.css",
O:"Quattrocento",H:{o:!1,bold:!0,v:!1},i:{bold:"https://static.canva.com/static/truetypefonts/Quattrocento-Bold.ttf",j:"https://static.canva.com/static/truetypefonts/Quattrocento-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Quattrocento-Regular.ttf",l:"Quattrocento",u:"https://static.canva.com/static/webfonts/Quattrocento.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Quattrocento-Bold.ttf",l:"Quattrocento-Bold",u:"https://static.canva.com/static/webfonts/Quattrocento-Bold.woff"}}},{family:"Sanchez",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR tr-TR".split(" "),
K:"https://static.canva.com/static/images/fonts/Sanchez.png",X:"https://static.canva.com/static/images/fonts/Sanchez@2x.png",url:"https://static.canva.com/static/webfonts/Sanchez.css",O:"Sanchez-Regular",H:{o:!0,bold:!1,v:!1},i:{o:"https://static.canva.com/static/truetypefonts/Sanchez-Italic.ttf",j:"https://static.canva.com/static/truetypefonts/Sanchez-Regular.ttf"},J:{o:{i:"https://static.canva.com/static/truetypefonts/Sanchez-Italic.ttf",l:"Sanchez-Italic",u:"https://static.canva.com/static/webfonts/Sanchez-Italic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Sanchez-Regular.ttf",l:"Sanchez-Regular",u:"https://static.canva.com/static/webfonts/Sanchez-Regular.woff"}}},{family:"Source Serif Pro",
R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Source-Serif-Pro.png",X:"https://static.canva.com/static/images/fonts/Source-Serif-Pro@2x.png",url:"https://static.canva.com/static/webfonts/SourceSerifPro.css",O:"Source-Serif-Pro",displayName:"Source Serif Pro",H:{o:!1,bold:!0,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/SourceSerifPro-Regular.ttf",bold:"https://static.canva.com/static/truetypefonts/SourceSerifPro-Bold.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/SourceSerifPro-Regular.ttf",
l:"SourceSerifPro-Regular",u:"https://static.canva.com/static/webfonts/SourceSerifPro-Regular.otf.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/SourceSerifPro-Bold.ttf",l:"SourceSerifPro-Bold",u:"https://static.canva.com/static/webfonts/SourceSerifPro-Bold.otf.woff"}}},{family:"Old Standard",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Old-Standard.png",X:"https://static.canva.com/static/images/fonts/Old-Standard@2x.png",url:"https://static.canva.com/static/webfonts/Old%2BStandard%2BTT.css",O:"OldStandard-TT",
displayName:"Old Standard",H:{o:!0,bold:!0,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/OldStandard-Regular.ttf",bold:"https://static.canva.com/static/truetypefonts/OldStandard-Bold.ttf",o:"https://static.canva.com/static/truetypefonts/OldStandard-Italic.ttf"},J:{o:{i:"https://static.canva.com/static/truetypefonts/OldStandard-Italic.ttf",l:"OldStandardTT-Italic",u:"https://static.canva.com/static/webfonts/OldStandardTT-Italic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/OldStandard-Regular.ttf",l:"OldStandardTT-Regular",u:"https://static.canva.com/static/webfonts/OldStandardTT-Regular.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/OldStandard-Bold.ttf",
l:"OldStandardTT-Bold",u:"https://static.canva.com/static/webfonts/OldStandardTT-Bold.woff"}}},{family:"Times New Roman",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Times-New-Roman.png",X:"https://static.canva.com/static/images/fonts/Times-New-Roman@2x.png",O:"TimesNewRomanPSMT",disabled:!0,H:{o:!0,bold:!0,v:!0}},{family:"Times Neue Roman",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR ru-RU tr-TR".split(" "),
displayName:"Times Neue Roman",K:"https://static.canva.com/static/images/fonts/Times-Neue-Roman.png",X:"https://static.canva.com/static/images/fonts/Times-Neue-Roman@2x.png",O:"TeXGyreTermes-Regular",url:"https://static.canva.com/static/webfonts/Times-Neue-Roman.css",H:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/texgyretermes-bold.ttf",v:"https://static.canva.com/static/truetypefonts/texgyretermes-bolditalic.ttf",o:"https://static.canva.com/static/truetypefonts/texgyretermes-italic.ttf",j:"https://static.canva.com/static/truetypefonts/texgyretermes-regular.ttf"},J:{v:{i:"https://static.canva.com/static/truetypefonts/texgyretermes-bolditalic.ttf",l:"TeXGyreTermes-BoldItalic",
u:"https://static.canva.com/static/webfonts/texgyretermes-bolditalic.woff"},o:{i:"https://static.canva.com/static/truetypefonts/texgyretermes-italic.ttf",l:"TeXGyreTermes-Italic",u:"https://static.canva.com/static/webfonts/texgyretermes-italic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/texgyretermes-regular.ttf",l:"TeXGyreTermes-Regular",u:"https://static.canva.com/static/webfonts/texgyretermes-regular.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/texgyretermes-bold.ttf",l:"TeXGyreTermes-Bold",u:"https://static.canva.com/static/webfonts/texgyretermes-bold.woff"}}},{family:"Trocchi",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR tr-TR".split(" "),
K:"https://static.canva.com/static/images/fonts/Trocchi.png",X:"https://static.canva.com/static/images/fonts/Trocchi@2x.png",url:"https://static.canva.com/static/webfonts/Trocchi.css",O:"Trocchi",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Trocchi-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Trocchi-Regular.ttf",l:"Trocchi",u:"https://static.canva.com/static/webfonts/Trocchi.woff"}}},{family:"Ultra",R:"en ms-MY sv-SE nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Ultra.png",X:"https://static.canva.com/static/images/fonts/Ultra@2x.png",
url:"https://static.canva.com/static/webfonts/Ultra.css",O:"Ultra",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Ultra.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Ultra.ttf",l:"Ultra",u:"https://static.canva.com/static/webfonts/Ultra.woff"}}},{family:"Vidaloka",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Vidaloka.png",X:"https://static.canva.com/static/images/fonts/Vidaloka@2x.png",url:"https://static.canva.com/static/webfonts/Vidaloka.css",O:"Vidaloka-Regular",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Vidaloka-Regular.ttf"},
J:{j:{i:"https://static.canva.com/static/truetypefonts/Vidaloka-Regular.ttf",l:"Vidaloka-Regular",u:"https://static.canva.com/static/webfonts/Vidaloka-Regular.woff"}}},{family:"Voga",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Voga.png",X:"https://static.canva.com/static/images/fonts/Voga@2x.png",url:"https://static.canva.com/static/webfonts/Voga.css",displayName:"Voga",O:"Voga-Medium",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Voga-Medium.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Voga-Medium.ttf",
l:"Voga-Medium",u:"https://static.canva.com/static/webfonts/Voga-Medium.woff"}}},{family:"Vollkorn",R:"en ms-MY sv-SE nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Vollkorn.png",X:"https://static.canva.com/static/images/fonts/Vollkorn@2x.png",url:"https://static.canva.com/static/webfonts/Vollkorn.css",O:"Vollkorn",displayName:"Vollkorn",H:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/Vollkorn-Regular.ttf",bold:"https://static.canva.com/static/truetypefonts/Vollkorn-Bold.ttf",o:"https://static.canva.com/static/truetypefonts/Vollkorn-Italic.ttf",
v:"https://static.canva.com/static/truetypefonts/Vollkorn-BoldItalic.ttf"},J:{v:{i:"https://static.canva.com/static/truetypefonts/Vollkorn-BoldItalic.ttf",l:"Vollkorn-BoldItalic",u:"https://static.canva.com/static/webfonts/Vollkorn-BoldItalic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Vollkorn-Bold.ttf",l:"Vollkorn-Bold",u:"https://static.canva.com/static/webfonts/Vollkorn-Bold.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Vollkorn-Regular.ttf",l:"Vollkorn-Regular",u:"https://static.canva.com/static/webfonts/Vollkorn-Regular.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Vollkorn-Italic.ttf",l:"Vollkorn-Italic",u:"https://static.canva.com/static/webfonts/Vollkorn-Italic.woff"}}},
{family:"Cantora One",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Cantora-One.png",X:"https://static.canva.com/static/images/fonts/Cantora-One@2x.png",url:"https://static.canva.com/static/webfonts/Cantora%2BOne.css",O:"CantoraOne-Regular",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/CantoraOne-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/CantoraOne-Regular.ttf",l:"CantoraOne-Regular",u:"https://static.canva.com/static/webfonts/CantoraOne-Regular.woff"}}},
{family:"Coustard",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Coustard.png",X:"https://static.canva.com/static/images/fonts/Coustard@2x.png",url:"https://static.canva.com/static/webfonts/Coustard.css",O:"Coustard",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Coustard-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Coustard-Regular.ttf",l:"Coustard",u:"https://static.canva.com/static/webfonts/Coustard.woff"}}},{family:"Emilys Candy",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),
K:"https://static.canva.com/static/images/fonts/Emilys-Candy.png",X:"https://static.canva.com/static/images/fonts/Emilys-Candy@2x.png",url:"https://static.canva.com/static/webfonts/Emilys%2BCandy.css",O:"EmilysCandy-Regular",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/EmilysCandy-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/EmilysCandy-Regular.ttf",l:"EmilysCandy-Regular",u:"https://static.canva.com/static/webfonts/EmilysCandy-Regular.woff"}}},{family:"Glass Antiqua",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR tr-TR".split(" "),
K:"https://static.canva.com/static/images/fonts/Glass-Antiqua.png",X:"https://static.canva.com/static/images/fonts/Glass-Antiqua@2x.png",url:"https://static.canva.com/static/webfonts/Glass%2BAntiqua.css",O:"GlassAntiqua-Regular",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/GlassAntiqua-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/GlassAntiqua-Regular.ttf",l:"GlassAntiqua-Regular",u:"https://static.canva.com/static/webfonts/GlassAntiqua-Regular.woff"}}},{family:"Graduate",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),
K:"https://static.canva.com/static/images/fonts/Graduate.png",X:"https://static.canva.com/static/images/fonts/Graduate@2x.png",url:"https://static.canva.com/static/webfonts/Graduate.css",O:"Graduate-Regular",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Graduate-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Graduate-Regular.ttf",l:"Graduate-Regular",u:"https://static.canva.com/static/webfonts/Graduate-Regular.woff"}}},{family:"Ribeye",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Ribeye.png",
X:"https://static.canva.com/static/images/fonts/Ribeye@2x.png",url:"https://static.canva.com/static/webfonts/Ribeye.css",O:"Ribeye-Regular",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Ribeye-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Ribeye-Regular.ttf",l:"Ribeye-Regular",u:"https://static.canva.com/static/webfonts/Ribeye-Regular.woff"}}},{family:"Vast Shadow",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Vast-Shadow.png",X:"https://static.canva.com/static/images/fonts/Vast-Shadow@2x.png",
url:"https://static.canva.com/static/webfonts/Vast%2BShadow.css",O:"VastShadow-Regular",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/VastShadow-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/VastShadow-Regular.ttf",l:"VastShadow-Regular",u:"https://static.canva.com/static/webfonts/VastShadow-Regular.woff"}}}]},{rm:"Handwritten",wg:"cursive",fonts:[{family:"Gochi Hand",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Gochi-Hand.png",X:"https://static.canva.com/static/images/fonts/Gochi-Hand@2x.png",
url:"https://static.canva.com/static/webfonts/Gochi%2BHand.css",O:"GochiHand-Regular",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/GochiHand-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/GochiHand-Regular.ttf",l:"GochiHand-Regular",u:"https://static.canva.com/static/webfonts/GochiHand-Regular.woff"}}},{family:"Over The Rainbow",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Over-The-Rainbow.png",X:"https://static.canva.com/static/images/fonts/Over-The-Rainbow@2x.png",
url:"https://static.canva.com/static/webfonts/Over%2Bthe%2BRainbow.css",O:"OvertheRainbow",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/OvertheRainbow.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/OvertheRainbow.ttf",l:"OvertheRainbow",u:"https://static.canva.com/static/webfonts/OvertheRainbow.woff"}}},{family:"Permanent Marker",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Permanent-Marker.png",X:"https://static.canva.com/static/images/fonts/Permanent-Marker@2x.png",url:"https://static.canva.com/static/webfonts/Permanent%2BMarker.css",
O:"PermanentMarker",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/PermanentMarker.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/PermanentMarker.ttf",l:"PermanentMarker",u:"https://static.canva.com/static/webfonts/PermanentMarker.woff"}}},{family:"Sacramento",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Sacramento.png",X:"https://static.canva.com/static/images/fonts/Sacramento@2x.png",url:"https://static.canva.com/static/webfonts/Sacramento.css",O:"Sacramento-Regular",
H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Sacramento-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Sacramento-Regular.ttf",l:"Sacramento-Regular",u:"https://static.canva.com/static/webfonts/Sacramento-Regular.woff"}}},{family:"Schoolbell",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Schoolbell.png",X:"https://static.canva.com/static/images/fonts/Schoolbell@2x.png",url:"https://static.canva.com/static/webfonts/Schoolbell.css",O:"Schoolbell",H:{o:!1,bold:!1,v:!1},
i:{j:"https://static.canva.com/static/truetypefonts/Schoolbell.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Schoolbell.ttf",l:"Schoolbell",u:"https://static.canva.com/static/webfonts/Schoolbell.woff"}}},{name:"Shadows Into Light",family:"Shadows Into Light Two",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Shadows-Into-Light-Two.png",X:"https://static.canva.com/static/images/fonts/Shadows-Into-Light-Two@2x.png",url:"https://static.canva.com/static/webfonts/Shadows%2BInto%2BLight%2BTwo.css",O:"ShadowsIntoLight",
H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/ShadowsIntoLight.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/ShadowsIntoLight.ttf",l:"ShadowsIntoLight",u:"https://static.canva.com/static/webfonts/ShadowsIntoLightTwo-Regular.woff"}}},{name:"Amatic Small Caps",family:"Amatic SC",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Amatic-Small-Caps.png",X:"https://static.canva.com/static/images/fonts/Amatic-Small-Caps@2x.png",url:"https://static.canva.com/static/webfonts/Amatic%2BSC.2.css",
O:"AmaticSC-Regular",H:{o:!1,bold:!0,v:!1},i:{bold:"https://static.canva.com/static/truetypefonts/AmaticSC-Bold.ttf",j:"https://static.canva.com/static/truetypefonts/AmaticSC-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/AmaticSC-Regular.ttf",l:"AmaticSC-Regular",u:"https://static.canva.com/static/webfonts/AmaticSC-Regular.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/AmaticSC-Bold.ttf",l:"AmaticSC-Bold",u:"https://static.canva.com/static/webfonts/AmaticSC-Bold.woff"}}},{family:"Architects Daughter",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR tr-TR".split(" "),
K:"https://static.canva.com/static/images/fonts/Architects-Daughter.png",X:"https://static.canva.com/static/images/fonts/Architects-Daughter@2x.png",url:"https://static.canva.com/static/webfonts/Architects%2BDaughter.css",O:"ArchitectsDaughter",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/ArchitectsDaughter.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/ArchitectsDaughter.ttf",l:"ArchitectsDaughter",u:"https://static.canva.com/static/webfonts/ArchitectsDaughter.woff"}}},{family:"Cabin Sketch",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),
K:"https://static.canva.com/static/images/fonts/Cabin-Sketch.png",X:"https://static.canva.com/static/images/fonts/Cabin-Sketch@2x.png",url:"https://static.canva.com/static/webfonts/Cabin%2BSketch.2.css",O:"CabinSketch-Regular",H:{o:!1,bold:!0,v:!1},i:{bold:"https://static.canva.com/static/truetypefonts/CabinSketch-Bold.ttf",j:"https://static.canva.com/static/truetypefonts/CabinSketch-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/CabinSketch-Regular.ttf",l:"CabinSketch-Regular",u:"https://static.canva.com/static/webfonts/CabinSketch-Regular.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/CabinSketch-Bold.ttf",l:"CabinSketch-Bold",u:"https://static.canva.com/static/webfonts/CabinSketch-Bold.woff"}}},
{family:"Coming Soon",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Coming-Soon.png",X:"https://static.canva.com/static/images/fonts/Coming-Soon@2x.png",url:"https://static.canva.com/static/webfonts/Coming%2BSoon.css",O:"ComingSoon",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/ComingSoon.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/ComingSoon.ttf",l:"ComingSoon",u:"https://static.canva.com/static/webfonts/ComingSoon.woff"}}}]},{rm:"Script",wg:"cursive",fonts:[{family:"Allura",
R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Allura.png",X:"https://static.canva.com/static/images/fonts/Allura@2x.png",url:"https://static.canva.com/static/webfonts/Allura.css",O:"Allura-Regular",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Allura-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Allura-Regular.ttf",l:"Allura-Regular",u:"https://static.canva.com/static/webfonts/Allura-Regular.woff"}}},{family:"Clicker Script",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR".split(" "),
K:"https://static.canva.com/static/images/fonts/Clicker-Script.png",X:"https://static.canva.com/static/images/fonts/Clicker-Script@2x.png",url:"https://static.canva.com/static/webfonts/Clicker%2BScript.css",O:"ClickerScript-Regular",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/ClickerScript-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/ClickerScript-Regular.ttf",l:"ClickerScript-Regular",u:"https://static.canva.com/static/webfonts/ClickerScript-Regular.woff"}}},{family:"Courgette",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR tr-TR".split(" "),
K:"https://static.canva.com/static/images/fonts/Courgette.png",X:"https://static.canva.com/static/images/fonts/Courgette@2x.png",url:"https://static.canva.com/static/webfonts/Courgette.css",O:"Courgette-Regular",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Courgette-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Courgette-Regular.ttf",l:"Courgette-Regular",u:"https://static.canva.com/static/webfonts/Courgette-Regular.woff"}}},{family:"Dear Joe",R:"en ms-MY en-psaccent de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Dear-Joe.png",X:"https://static.canva.com/static/images/fonts/Dear-Joe@2x.png",
url:"https://static.canva.com/static/webfonts/Dear-Joe.css",O:"Dear Joe",displayName:"Dear Joe",disabled:!0,H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/DearJoe5.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/DearJoe5.ttf",l:"dearJoe5CASUAL-P",u:"https://static.canva.com/static/webfonts/DearJoe5.woff"}}},{family:"Engagement",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Engagement.png",X:"https://static.canva.com/static/images/fonts/Engagement@2x.png",url:"https://static.canva.com/static/webfonts/Engagement.css",
O:"Engagement-Regular",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Engagement-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Engagement-Regular.ttf",l:"Engagement-Regular",u:"https://static.canva.com/static/webfonts/Engagement-Regular.woff"}}},{family:"Euphoria Script",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Euphoria-Script.png",X:"https://static.canva.com/static/images/fonts/Euphoria-Script@2x.png",url:"https://static.canva.com/static/webfonts/Euphoria%2BScript.css",
O:"EuphoriaScript-Regular",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/EuphoriaScript-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/EuphoriaScript-Regular.ttf",l:"EuphoriaScript-Regular",u:"https://static.canva.com/static/webfonts/EuphoriaScript-Regular.woff"}}},{family:"Great Vibes",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Great-Vibes.png",X:"https://static.canva.com/static/images/fonts/Great-Vibes@2x.png",url:"https://static.canva.com/static/webfonts/Great%2BVibes.css",
O:"GreatVibes-Regular",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/GreatVibes-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/GreatVibes-Regular.ttf",l:"GreatVibes-Regular",u:"https://static.canva.com/static/webfonts/GreatVibes-Regular.woff"}}},{family:"Kaushan Script",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Kaushan-Script.png",X:"https://static.canva.com/static/images/fonts/Kaushan-Script@2x.png",url:"https://static.canva.com/static/webfonts/Kaushan-Script.css",
O:"Kaushan Script",displayName:"Kaushan Script",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/KaushanScript-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/KaushanScript-Regular.ttf",l:"KaushanScript-Regular",u:"https://static.canva.com/static/webfonts/KaushanScript-Regular.woff"}}},{family:"Marta",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID ru-RU tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Marta.png",X:"https://static.canva.com/static/images/fonts/Marta@2x.png",url:"https://static.canva.com/static/webfonts/Marta.css",O:"Marta",displayName:"Marta",H:{o:!0,bold:!0,
v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Marta-Regular.ttf",o:"https://static.canva.com/static/truetypefonts/Marta-Italic.ttf",bold:"https://static.canva.com/static/truetypefonts/Marta-Bold.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Marta-Regular.ttf",l:"Marta",u:"https://static.canva.com/static/webfonts/Marta-Regular.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Marta-Bold.ttf",l:"Marta-Bold",u:"https://static.canva.com/static/webfonts/Marta-Bold.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Marta-Italic.ttf",l:"Marta-Italic",u:"https://static.canva.com/static/webfonts/Marta-Italic.woff"}}},{family:"Merriweather",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR ru-RU tr-TR uk-UA".split(" "),
K:"https://static.canva.com/static/images/fonts/Merriweather.png",X:"https://static.canva.com/static/images/fonts/Merriweather@2x.png",url:"https://static.canva.com/static/webfonts/Merriweather.css",O:"Merriweather",displayName:"Merriweather",H:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/Merriweather-Regular.ttf",o:"https://static.canva.com/static/truetypefonts/Merriweather-Italic.ttf",bold:"https://static.canva.com/static/truetypefonts/Merriweather-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/Merriweather-BoldItalic.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Merriweather-Regular.ttf",l:"Merriweather",u:"https://static.canva.com/static/webfonts/Merriweather.woff"},
bold:{i:"https://static.canva.com/static/truetypefonts/Merriweather-Bold.ttf",l:"Merriweather-Bold",u:"https://static.canva.com/static/webfonts/Merriweather-Bold.woff"},v:{i:"https://static.canva.com/static/truetypefonts/Merriweather-BoldItalic.ttf",l:"Merriweather-BoldItalic",u:"https://static.canva.com/static/webfonts/Merriweather-BoldItalic.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Merriweather-Italic.ttf",l:"Merriweather-Italic",u:"https://static.canva.com/static/webfonts/Merriweather-Italic.woff"}}},{family:"Mr Dafoe",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR tr-TR".split(" "),
K:"https://static.canva.com/static/images/fonts/Mr-Dafoe.png",X:"https://static.canva.com/static/images/fonts/Mr-Dafoe@2x.png",url:"https://static.canva.com/static/webfonts/Mr%2BDafoe.css",O:"MrDafoe-Regular",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/MrDafoe-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/MrDafoe-Regular.ttf",l:"MrDafoe-Regular",u:"https://static.canva.com/static/webfonts/MrDafoe-Regular.woff"}}},{family:"Niconne",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Niconne.png",X:"https://static.canva.com/static/images/fonts/Niconne@2x.png",
url:"https://static.canva.com/static/webfonts/Niconne.css",O:"Niconne-Regular",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Niconne-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Niconne-Regular.ttf",l:"Niconne-Regular",u:"https://static.canva.com/static/webfonts/Niconne-Regular.woff"}}},{family:"Parisienne",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Parisienne.png",X:"https://static.canva.com/static/images/fonts/Parisienne@2x.png",url:"https://static.canva.com/static/webfonts/Parisienne.css",
O:"Parisienne-Regular",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Parisienne-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Parisienne-Regular.ttf",l:"Parisienne-Regular",u:"https://static.canva.com/static/webfonts/Parisienne-Regular.woff"}}},{family:"Pinyon Script",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Pinyon-Script.png",X:"https://static.canva.com/static/images/fonts/Pinyon-Script@2x.png",url:"https://static.canva.com/static/webfonts/Pinyon%2BScript.css",O:"PinyonScript",
H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/PinyonScript-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/PinyonScript-Regular.ttf",l:"PinyonScript",u:"https://static.canva.com/static/webfonts/PinyonScript.woff"}}},{family:"Dr Sugiyama",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Dr-Sugiyama.png",X:"https://static.canva.com/static/images/fonts/Dr-Sugiyama@2x.png",url:"https://static.canva.com/static/webfonts/Dr%2BSugiyama.css",O:"DrSugiyama-Regular",H:{o:!1,bold:!1,v:!1},
i:{j:"https://static.canva.com/static/truetypefonts/DrSugiyama-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/DrSugiyama-Regular.ttf",l:"DrSugiyama-Regular",u:"https://static.canva.com/static/webfonts/DrSugiyama-Regular.woff"}}},{family:"Grand Hotel",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Grand-Hotel.png",X:"https://static.canva.com/static/images/fonts/Grand-Hotel@2x.png",url:"https://static.canva.com/static/webfonts/Grand%2BHotel.css",O:"GrandHotel-Regular",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/GrandHotel-Regular.ttf"},
J:{j:{i:"https://static.canva.com/static/truetypefonts/GrandHotel-Regular.ttf",l:"GrandHotel-Regular",u:"https://static.canva.com/static/webfonts/GrandHotel-Regular.woff"}}},{family:"Knewave",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Knewave.png",X:"https://static.canva.com/static/images/fonts/Knewave@2x.png",url:"https://static.canva.com/static/webfonts/Knewave.css",O:"Knewave-Regular",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Knewave-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Knewave-Regular.ttf",
l:"Knewave-Regular",u:"https://static.canva.com/static/webfonts/Knewave-Regular.woff"}}},{family:"Pacifico",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Pacifico.png",X:"https://static.canva.com/static/images/fonts/Pacifico@2x.png",url:"https://static.canva.com/static/webfonts/Pacifico.css",O:"Pacifico-Regular",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Pacifico.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Pacifico.ttf",l:"Pacifico-Regular",u:"https://static.canva.com/static/webfonts/Pacifico-Regular.woff"}}},
{family:"Princess Sofia",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Princess-Sofia.png",X:"https://static.canva.com/static/images/fonts/Princess-Sofia@2x.png",url:"https://static.canva.com/static/webfonts/Princess%2BSofia.css",O:"PrincessSofia",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/PrincessSofia-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/PrincessSofia-Regular.ttf",l:"PrincessSofia",u:"https://static.canva.com/static/webfonts/PrincessSofia.woff"}}},{family:"Satisfy",
R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Satisfy.png",X:"https://static.canva.com/static/images/fonts/Satisfy@2x.png",url:"https://static.canva.com/static/webfonts/Satisfy.css",O:"Satisfy",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Satisfy-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Satisfy-Regular.ttf",l:"Satisfy",u:"https://static.canva.com/static/webfonts/Satisfy.woff"}}},{family:"Streamster",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),
disabled:!0,K:"https://static.canva.com/static/images/fonts/Streamster.png",X:"https://static.canva.com/static/images/fonts/Streamster@2x.png",url:"https://static.canva.com/static/webfonts/Streamster.css",O:"Streamster",displayName:"Streamster",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Streamster.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Streamster.ttf",l:"Streamster",u:"https://static.canva.com/static/webfonts/Streamster.woff"}}},{family:"Yellowtail",R:"en ms-MY sv-SE nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Yellowtail.png",
X:"https://static.canva.com/static/images/fonts/Yellowtail@2x.png",url:"https://static.canva.com/static/webfonts/Yellowtail.css",O:"Yellowtail",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Yellowtail-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Yellowtail-Regular.ttf",l:"Yellowtail",u:"https://static.canva.com/static/webfonts/Yellowtail.woff"}}}]},{rm:"Fun \x26 Fancy",wg:"fantasy",fonts:[{family:"Berkshire Swash",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Berkshire-Swash.png",
X:"https://static.canva.com/static/images/fonts/Berkshire-Swash@2x.png",url:"https://static.canva.com/static/webfonts/Berkshire%2BSwash.css",O:"BerkshireSwash-Regular",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/BerkshireSwash-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/BerkshireSwash-Regular.ttf",l:"BerkshireSwash-Regular",u:"https://static.canva.com/static/webfonts/BerkshireSwash-Regular.woff"}}},{family:"Black Ops One",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Black-Ops-One.png",
X:"https://static.canva.com/static/images/fonts/Black-Ops-One@2x.png",url:"https://static.canva.com/static/webfonts/Black%2BOps%2BOne.css",O:"BlackOpsOne-Regular",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/BlackOpsOne-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/BlackOpsOne-Regular.ttf",l:"BlackOpsOne-Regular",u:"https://static.canva.com/static/webfonts/BlackOpsOne-Regular.woff"}}},{family:"Chewy",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Chewy.png",X:"https://static.canva.com/static/images/fonts/Chewy@2x.png",
url:"https://static.canva.com/static/webfonts/Chewy.css",O:"Chewy",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Chewy.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Chewy.ttf",l:"Chewy",u:"https://static.canva.com/static/webfonts/Chewy.woff"}}},{family:"Creepster",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Creepster.png",X:"https://static.canva.com/static/images/fonts/Creepster@2x.png",url:"https://static.canva.com/static/webfonts/Creepster.css",O:"Creepster-Regular",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Creepster-Regular.ttf"},
J:{j:{i:"https://static.canva.com/static/truetypefonts/Creepster-Regular.ttf",l:"Creepster-Regular",u:"https://static.canva.com/static/webfonts/Creepster-Regular.woff"}}},{name:"Diplomata Small Caps",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),family:"Diplomata SC",K:"https://static.canva.com/static/images/fonts/Diplomata-Small-Caps.png",X:"https://static.canva.com/static/images/fonts/Diplomata-Small-Caps@2x.png",url:"https://static.canva.com/static/webfonts/Diplomata%2BSC.css",O:"DiplomataSC-Regular",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/DiplomataSC-Regular.ttf"},
J:{j:{i:"https://static.canva.com/static/truetypefonts/DiplomataSC-Regular.ttf",l:"DiplomataSC-Regular",u:"https://static.canva.com/static/webfonts/DiplomataSC-Regular.woff"}}},{family:"Germania One",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Germania-One.png",X:"https://static.canva.com/static/images/fonts/Germania-One@2x.png",url:"https://static.canva.com/static/webfonts/Germania%2BOne.css",O:"GermaniaOne-Regular",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/GermaniaOne-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/GermaniaOne-Regular.ttf",
l:"GermaniaOne-Regular",u:"https://static.canva.com/static/webfonts/GermaniaOne-Regular.woff"}}},{family:"Megrim",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Megrim.png",X:"https://static.canva.com/static/images/fonts/Megrim@2x.png",url:"https://static.canva.com/static/webfonts/Megrim.css",O:"Megrim",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Megrim.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Megrim.ttf",l:"Megrim",u:"https://static.canva.com/static/webfonts/Megrim.woff"}}},{family:"Rye",
R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Rye.png",X:"https://static.canva.com/static/images/fonts/Rye@2x.png",url:"https://static.canva.com/static/webfonts/Rye.css",O:"Rye-Regular",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Rye-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Rye-Regular.ttf",l:"Rye-Regular",u:"https://static.canva.com/static/webfonts/Rye-Regular.woff"}}},{family:"UnifrakturMaguntia",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),
K:"https://static.canva.com/static/images/fonts/UnifrakturMaguntia.png",X:"https://static.canva.com/static/images/fonts/UnifrakturMaguntia@2x.png",url:"https://static.canva.com/static/webfonts/UnifrakturMaguntia.css",O:"UnifrakturMaguntia",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/UnifrakturMaguntia-Book.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/UnifrakturMaguntia-Book.ttf",l:"UnifrakturMaguntia",u:"https://static.canva.com/static/webfonts/UnifrakturMaguntia.woff"}}},{family:"Codystar",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),
K:"https://static.canva.com/static/images/fonts/Codystar.png",X:"https://static.canva.com/static/images/fonts/Codystar@2x.png",url:"https://static.canva.com/static/webfonts/Codystar.css",O:"Codystar",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Codystar-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Codystar-Regular.ttf",l:"Codystar",u:"https://static.canva.com/static/webfonts/Codystar.woff"}}},{family:"Crafty Girls",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Crafty-Girls.png",X:"https://static.canva.com/static/images/fonts/Crafty-Girls@2x.png",
url:"https://static.canva.com/static/webfonts/Crafty%2BGirls.css",O:"CraftyGirls",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/CraftyGirls.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/CraftyGirls.ttf",l:"CraftyGirls",u:"https://static.canva.com/static/webfonts/CraftyGirls.woff"}}},{family:"Hitchcut",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),displayName:"Hitchcut",K:"https://static.canva.com/static/images/fonts/Hitchcut.png",X:"https://static.canva.com/static/images/fonts/Hitchcut@2x.png",url:"https://static.canva.com/static/webfonts/Hitchcut.css",
O:"Hitchcut",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Hitchcut.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Hitchcut.ttf",l:"Hitchcut-Regular",u:"https://static.canva.com/static/webfonts/Hitchcut.woff"}}},{family:"Lobster",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR ru-RU tr-TR uk-UA".split(" "),disabled:!0,K:"https://static.canva.com/static/images/fonts/Lobster.png",X:"https://static.canva.com/static/images/fonts/Lobster@2x.png",url:"https://static.canva.com/static/webfonts/Lobster.css",O:"Lobster",H:{o:!1,bold:!1,v:!1},
i:{j:"https://static.canva.com/static/truetypefonts/Lobster.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Lobster.ttf",l:"Lobster",u:"https://static.canva.com/static/webfonts/Lobster.woff"}}},{family:"Lobster Two",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Lobster-Two.png",X:"https://static.canva.com/static/images/fonts/Lobster-Two@2x.png",url:"https://static.canva.com/static/webfonts/Lobster%2BTwo.css",O:"Lobster Two",displayName:"Lobster Two",H:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/LobsterTwo-Regular.ttf",
bold:"https://static.canva.com/static/truetypefonts/LobsterTwo-Bold.ttf",o:"https://static.canva.com/static/truetypefonts/LobsterTwo-Italic.ttf",v:"https://static.canva.com/static/truetypefonts/LobsterTwo-BoldItalic.ttf"},J:{v:{i:"https://static.canva.com/static/truetypefonts/LobsterTwo-BoldItalic.ttf",l:"LobsterTwo-BoldItalic",u:"https://static.canva.com/static/webfonts/LobsterTwo-BoldItalic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/LobsterTwo-Regular.ttf",l:"LobsterTwo",u:"https://static.canva.com/static/webfonts/LobsterTwo-Regular.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/LobsterTwo-Bold.ttf",l:"LobsterTwo-Bold",u:"https://static.canva.com/static/webfonts/LobsterTwo-Bold.woff"},
o:{i:"https://static.canva.com/static/truetypefonts/LobsterTwo-Italic.ttf",l:"LobsterTwo-Italic",u:"https://static.canva.com/static/webfonts/LobsterTwo-Italic.woff"}}},{family:"Oleo Script",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Oleo-Script.png",X:"https://static.canva.com/static/images/fonts/Oleo-Script@2x.png",url:"https://static.canva.com/static/webfonts/Oleo-Script.css",O:"Oleo Script",displayName:"Oleo Script",H:{o:!1,bold:!0,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/OleoScript-Regular.ttf",
bold:"https://static.canva.com/static/truetypefonts/OleoScript-Bold.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/OleoScript-Regular.ttf",l:"OleoScript-Regular",u:"https://static.canva.com/static/webfonts/OleoScript-Regular.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/OleoScript-Bold.ttf",l:"OleoScript-Bold",u:"https://static.canva.com/static/webfonts/OleoScript-Bold.woff"}}},{family:"Londrina Shadow",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Londrina-Shadow.png",X:"https://static.canva.com/static/images/fonts/Londrina-Shadow@2x.png",
url:"https://static.canva.com/static/webfonts/Londrina%2BShadow.css",O:"LondrinaShadow-Regular",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/LondrinaShadow-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/LondrinaShadow-Regular.ttf",l:"LondrinaShadow-Regular",u:"https://static.canva.com/static/webfonts/LondrinaShadow-Regular.woff"}}},{family:"Londrina Sketch",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Londrina-Sketch.png",X:"https://static.canva.com/static/images/fonts/Londrina-Sketch@2x.png",
url:"https://static.canva.com/static/webfonts/Londrina%2BSketch.css",O:"LondrinaSketch-Regular",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/LondrinaSketch-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/LondrinaSketch-Regular.ttf",l:"LondrinaSketch-Regular",u:"https://static.canva.com/static/webfonts/LondrinaSketch-Regular.woff"}}},{family:"Oregano",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Oregano.png",X:"https://static.canva.com/static/images/fonts/Oregano@2x.png",
url:"https://static.canva.com/static/webfonts/Oregano.2.css",O:"Oregano-Regular",H:{o:!0,bold:!1,v:!1},i:{o:"https://static.canva.com/static/truetypefonts/Oregano-Italic.ttf",j:"https://static.canva.com/static/truetypefonts/Oregano-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Oregano-Regular.ttf",l:"Oregano-Regular",u:"https://static.canva.com/static/webfonts/Oregano-Regular.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Oregano-Italic.ttf",l:"Oregano-Italic",u:"https://static.canva.com/static/webfonts/Oregano-Italic.woff"}}},{family:"Sniglet",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),
K:"https://static.canva.com/static/images/fonts/Sniglet.png",X:"https://static.canva.com/static/images/fonts/Sniglet@2x.png",url:"https://static.canva.com/static/webfonts/Sniglet.css",O:"Sniglet",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Sniglet-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Sniglet-Regular.ttf",l:"Sniglet-Regular",u:"https://static.canva.com/static/webfonts/Sniglet.woff"}}},{family:"Special Elite",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pl-PL pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Special-Elite.png",X:"https://static.canva.com/static/images/fonts/Special-Elite@2x.png",
url:"https://static.canva.com/static/webfonts/Special%2BElite.css",O:"SpecialElite-Regular",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/SpecialElite.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/SpecialElite.ttf",l:"SpecialElite-Regular",u:"https://static.canva.com/static/webfonts/SpecialElite-Regular.woff"}}},{family:"Sunday",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID ru-RU tr-TR".split(" "),K:"https://static.canva.com/static/images/fonts/Sunday.png",X:"https://static.canva.com/static/images/fonts/Sunday@2x.png",url:"https://static.canva.com/static/webfonts/Sunday.css",O:"Sunday",displayName:"Sunday",H:{o:!1,bold:!1,
v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Sunday.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Sunday.ttf",l:"Sunday",u:"https://static.canva.com/static/webfonts/Sunday.woff"}}},{family:"Vampiro One",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX fr-FR it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Vampiro-One.png",X:"https://static.canva.com/static/images/fonts/Vampiro-One@2x.png",url:"https://static.canva.com/static/webfonts/Vampiro%2BOne.css",O:"VampiroOne-Regular",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/VampiroOne-Regular.ttf"},
J:{j:{i:"https://static.canva.com/static/truetypefonts/VampiroOne-Regular.ttf",l:"VampiroOne-Regular",u:"https://static.canva.com/static/webfonts/VampiroOne-Regular.woff"}}},{family:"VT323",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE es-ES es-419 es-AR es-CO es-US es-MX it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/VT323.png",X:"https://static.canva.com/static/images/fonts/VT323@2x.png",url:"https://static.canva.com/static/webfonts/VT323.css",O:"VT323",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/VT323-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/VT323-Regular.ttf",l:"VT323-Regular",
u:"https://static.canva.com/static/webfonts/VT323-Regular.woff"}}},{family:"Waterlily",R:["en","ms-MY","en-psaccent","id-ID"],K:"https://static.canva.com/static/images/fonts/Waterlily.png",X:"https://static.canva.com/static/images/fonts/Waterlily@2x.png",url:"https://static.canva.com/static/webfonts/Waterlily.css",O:"Waterlily",displayName:"Waterlily",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Waterlily.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Waterlily.ttf",l:"Waterlily-Regular",u:"https://static.canva.com/static/webfonts/Waterlily.woff"}}},{family:"Brusher",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID".split(" "),
K:"https://static.canva.com/static/images/fonts/Brusher.png",X:"https://static.canva.com/static/images/fonts/Brusher@2x.png",url:"https://static.canva.com/static/webfonts/Brusher-Regular.css",O:"Brusher",displayName:"Brusher",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Brusher-Regular.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Brusher-Regular.ttf",l:"Brusher-Regular",u:"https://static.canva.com/static/webfonts/Brusher-Regular.woff"}}},{family:"Playlist Script",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Playlist-Script.png",X:"https://static.canva.com/static/images/fonts/Playlist-Script@2x.png",
url:"https://static.canva.com/static/webfonts/Playlist-Script.css",O:"Playlist-Script",displayName:"Playlist Script",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Playlist-Script.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Playlist-Script.ttf",l:"Playlist-Script",u:"https://static.canva.com/static/webfonts/Playlist-Script.woff"}}},{family:"Selima",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE fr-FR it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Selima.png",X:"https://static.canva.com/static/images/fonts/Selima@2x.png",url:"https://static.canva.com/static/webfonts/Selima.css",O:"Selima",
displayName:"Selima",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Selima.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Selima.ttf",l:"Selima",u:"https://static.canva.com/static/webfonts/Selima.woff"}}},{family:"Sensei",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID ru-RU".split(" "),K:"https://static.canva.com/static/images/fonts/Sensei.png",X:"https://static.canva.com/static/images/fonts/Sensei@2x.png",url:"https://static.canva.com/static/webfonts/Sensei.css",O:"Sensei",displayName:"Sensei",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Sensei-Medium.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Sensei-Medium.ttf",
l:"Sensei-Medium",u:"https://static.canva.com/static/webfonts/Sensei-Medium.woff"}}},{family:"Edo",R:"en ms-MY sv-SE da-DK nb-NO en-psaccent id-ID de-DE fr-FR it-IT pt-BR".split(" "),K:"https://static.canva.com/static/images/fonts/Edo.png",X:"https://static.canva.com/static/images/fonts/Edo@2x.png",url:"https://static.canva.com/static/webfonts/Edo.css",O:"Edo",displayName:"Edo",H:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Edo.ttf"},J:{j:{i:"https://static.canva.com/static/truetypefonts/Edo.ttf",l:"EdoSZ",u:"https://static.canva.com/static/webfonts/Edo.woff"}}}]}];if("undefined"!=typeof $a)var Gy=Fy;(function(){function a(a){a.K=a.X}G.BC&&Fy.forEach(function(b){b.fonts.forEach(a)})})();function Hy(a,b){this.fonts=a;this.tb=b.tb;this.kw=b.kw;this.Iy=b.Iy;this.Jy={};this.Mp=[];this.My=[];this.Sm=[];this.Ly=[];this.Vt=[];this.Vv=Date.now();this.LA=[];this.hw=[];this.locale=b.locale;this.UG=null;this.DE=!!b.DE}e=Hy.prototype;e.off=Backbone.Events.off;e.on=Backbone.Events.on;e.once=Backbone.Events.once;e.trigger=Backbone.Events.trigger;function Iy(a){return a.hw.filter(function(a){return 0>this.LA.indexOf(a)},a)}
function Jy(){var a=ob;a.UG||(a.UG=new P(function(a,c){var d=gw(fw((new ew).$l(!0).Yl(!1).am("*").Zl()),["FONT"]);Fv(this.tb,d,function(d,g){200===d&&g?(d=g.media,d=Ky(this,d),d.forEach(function(a){0<=Ly(this).indexOf(a)&&(this.hw.unshift(a),this.hw=this.hw.slice(0,10))},this),My(this,d.map(function(a){return a.O})),a()):c()}.bind(this))}.bind(a)))}
function ms(a,b){if(b=b&&b.replace?b.replace(/#/gi,"_"):null)for(var c=0;c<a.fonts.length;c++)for(var d=a.fonts[c],f=0;f<d.fonts.length;f++){var g=d.fonts[f];if(g.name==b||g.family==b)return g.wg=d.wg,g}return null}function es(a){a=ms(ob,a);return!(!a||!0!==a.hK)}function Ny(a,b){if(b)for(var c=0;c<a.fonts.length;c++)for(var d=a.fonts[c],f=0;f<d.fonts.length;f++){var g=d.fonts[f];if(g.media&&g.media.id===b.id&&g.media.version===b.version)return g.wg=d.wg,g}return null}
function ss(a){if((a=ms(ob,a))&&a.media)return new ej({id:a.media.id,version:a.media.version})}function ts(a,b,c){var d=ob,f=[],g=[];a&&f.push(a);b&&g.push(b);Du(d,f,g,c)}function Oy(a,b){My(ob,[a],b)}function Py(a,b,c){a.My=a.My.concat(b);a.Vt.push({bf:b,jc:c||$.noop})}
function Qy(a){function b(a){var b=!0;0!==a.bf.filter(function(a){var d;d=c;var k=ms(d,a);d=k?void 0===k.url||0<=d.Sm.indexOf(a):!1;a=0<=c.Ly.indexOf(a);if(!d&&!a)return!0;a&&(b=!1);return!1}).length||a.SD||(a.SD=!0,a.jc(b),c.trigger("update"))}var c=a;setTimeout(function(){c.Vt.forEach(b);c.Vt=c.Vt.filter(function(a){return!a.SD})},0)}function Ry(a,b){a.Sm=a.Sm.filter(function(a){return 0>b.indexOf(a)});b.forEach(function(b){-1==a.Ly.indexOf(b)&&a.Ly.push(b)});Qy(a)}
function Sy(a,b){b.forEach(function(b){-1==a.Sm.indexOf(b)&&a.Sm.push(b)});Qy(a)}
e.Pp=function(a){function b(a,b,c,k){k=k.u?"src: url('"+k.u+"') format('woff'); ":k.i?"src: url('"+k.i+"') format('truetype'); ":k.Xb?"src: url('"+k.Xb+"') format('opentype'); ":void 0;k&&d.insertRule("@font-face {"+("font-family: '"+a+"'; ")+("font-style: "+b+"; ")+("font-weight: "+c+"; ")+k+"}",0)}var c=this,d=function(){var a=$("#fontStylesheet"+c.Vv);0===a.length&&(a=$('\x3cstyle id\x3d"fontStylesheet'+c.Vv+'"\x3e\x3c/style\x3e'),$("head").append(a));return a.get(0).sheet}();a.Pp&&(b(a.family,
"normal","400",a.J.j),a.H.bold?b(a.family,"normal","700",a.J.bold):b(a.family,"normal","700",a.J.j),a.H.o?b(a.family,"italic","400",a.J.o):b(a.family,"italic","400",a.J.j),a.H.v?b(a.family,"italic","700",a.J.v):a.H.bold?b(a.family,"italic","700",a.J.bold):a.H.o?b(a.family,"italic","700",a.J.o):b(a.family,"italic","700",a.J.j))};
function Du(a,b,c,d){b&&0<b.length?c&&0<c.length?Ty(a,b,function(b){b?My(a,c,d):window.setTimeout(function(){d&&d(!1)},0)}):Ty(a,b,d):c&&0<c.length?My(a,c,d):window.setTimeout(function(){d&&d(!0)},0)}function Uy(a,b,c){var d=[],f=[];b.forEach(function(a){var b=Op(a);a=b.family;(b=b.rb())?d.push(fj(b)):a&&f.push(a)});Du(a,d,f,c)}
function nv(a,b,c){function d(a){if(a){var b=m.Iy.Ub(a.id,a.version);if(b)l.push(h(Vy(m,a,b)));else throw Error("Media "+a.id+","+a.version+" missing from media map.");}}function f(a){var b=[],d=new Set;a.forEach(function(a){a.media.forEach(function(a){var c=a.G()+","+a.Aa().getVersion();n.has(c)&&!d.has(c)&&(b.push(a),d.add(c))})});a=Ky(m,b).map(h);l=l.concat(a);c(!0,l)}function g(){c(!1,l)}function h(a){return a.family||a.name}function k(a){return null==m.Jy[a.G()+","+a.getVersion()]}var l=[],m=
a,n=new Set,p=b.filter(function(a){return!Ny(m,a)}).filter(function(a){return!!a});p.forEach(function(a){n.add(a.id+","+a.version)});if(a.tb){var r=p.filter(k);if(0!==r.length){b=lw(new kw,r).Zl();var q=Lv(a.tb,b);r.forEach(function(a){m.Jy[a.G()+","+a.getVersion()]=q})}a=p.map(function(a){return m.Jy[a.G()+","+a.getVersion()]});P.all(a).then(f).catch(g)}else a.Iy&&b.forEach(d),window.setTimeout(function(){c(!0,l)},0)}
function Ty(a,b,c){nv(a,b,function(b,f){b?My(a,f,c):c&&setTimeout(function(){c(!1)},0)})}
function My(a,b,c){function d(a,b,c){h.kw.load({custom:{families:a,urls:b},active:function(){Sy(h,c)},inactive:function(){Ry(h,c)},timeout:n})}function f(a,b){var c=/^([^:]+)(:.+)?/,d=[];a.forEach(function(a,f){if(void 0!==a&&null!==a){var g=["n4"],h=a.match(c),k=h[1].replace(/[^a-z0-9]/gi,"").toLowerCase();-1<a.indexOf(":")&&(g=h[2].substring(1).split(","));var l=document.querySelector("html"),m=!1;g.forEach(function(a){a="wf-"+k+"-"+a+"-inactive";m=m||l.classList.contains(a)});m&&d.push({family:a,
url:b[f]})}});return d}function g(a){return ms(h,a)}var h=a,k=[],l=[],m={},n=a.DE?15E3:6E4,p=_.uniq(b).filter(function(a){return null!==g(a)}),r=p.filter(function(a){var b=0<=h.Sm.indexOf(a);a=void 0===ms(h,a).url;return!(b||a)}),q=r.filter(function(a){return 0>h.My.indexOf(a)}),q=_.uniq(q.map(g));0===_.uniq(r.map(function(a){return ms(h,a).url.replace(/^.+\=/,"")})).length&&c?window.setTimeout(function(){c(!0)},0):(Py(h,p,c),Qy(h),q.forEach(function(a){var b;b=["n4"];a.H&&(a.H.o&&b.push("i4"),a.H.bold&&
b.push("n7"),a.H.v&&b.push("i7"));b.sort();if(b=(b=a.H&&(a.H.o||a.H.bold||a.H.v)?a.family+":"+b.join(","):a.family)&&b.replace?b.replace(/#/gi,"_"):null){k.push(b);a.jI&&(m[b]=a.jI);!0===a.Pp?h.Pp(a):l.push(a.url);b=h;var c=$("#fontOverrideStylesheet"+b.Vv);0===c.length&&(c=$('\x3cstyle id\x3d"fontOverrideStylesheet'+b.Vv+'"\x3e\x3c/style\x3e'),$("head").append(c));b=c.get(0).sheet;a.H&&(!1===a.H.o&&b.insertRule('font[face\x3d"'+a.family+'"] * {font-style: normal !important; }',0),!1===a.H.bold&&
b.insertRule('font[face\x3d"'+a.family+'"] * {font-weight: normal !important; }',0),!1===a.H.v&&(b.insertRule('font[face\x3d"'+a.family+'"] b i {font-weight: normal !important; font-style: normal !important; }',0),b.insertRule('font[face\x3d"'+a.family+'"] i b {font-weight: normal !important; font-style: normal !important; }',0)))}}),0<q.length&&a.kw.load({custom:{families:k,urls:l,testStrings:m},active:function(){var a=f(k,l),c;0<a.length?(c=_.pluck(a,"family"),a=_.pluck(a,"url"),d(c,a,b)):Sy(h,
b)},inactive:function(){d(k,l,b)},timeout:n}))}function Ly(a){return Wy(a).filter(function(a){return!a.disabled}).sort(a.AD)}e.wM=function(a){return!this.locale||!a.R||-1!==a.R.indexOf(this.locale)};
e.AD=function(a,b){a=a.displayName||a.name||a.family;b=b.displayName||b.name||b.family;var c=a.split(/\s/gi),d=b.split(/\s/gi);if(c[0]===d[0]){if(/hairline/gi.test(c[1]))return-1;if(/hairline/gi.test(d[1]))return 1;if(/light/gi.test(c[1])||/thin/gi.test(c[1])||/heavy/gi.test(d[1])||/light/gi.test(c[2])||/thin/gi.test(c[2])||/bold/gi.test(d[3]))return-1;if(/light/gi.test(d[1])||/thin/gi.test(d[1])||/heavy/gi.test(c[1])||/light/gi.test(d[2])||/thin/gi.test(d[2]))return 1}return a.localeCompare(b)};
function Wy(a){var b=[];a.fonts.forEach(function(a){a.fonts.forEach(function(a){b.push(a)})});return b.filter(a.wM,a).sort(a.AD)}function Zr(a){var b=Wy(ob).filter(function(b){return(b.name||b.family).toLowerCase()==a.toLowerCase()});return 0<b.length?b[0].name||b[0].family:null}
function Ky(a,b){return b.map(function(a){var b,f=new ej({id:a.G(),version:a.Aa().getVersion()});if(Xy(this,f))return Ny(this,f);b=a.Aa();var g=a.G();a=b.Za()||a.importFilename.replace(/\..*$/,"")||g;var h=b.ec()[Ue].ma(),k,l,m;/\.ttf/gi.test(h)?k=h:/\.otf/gi.test(h)?l=h:/\.woff/gi.test(h)&&(m=h);b=Yy({displayName:a,fontFamily:g+"_"+b.getVersion(),K:b.ec()[eu].ma(),ra:g,ua:b.getVersion(),tI:k,AG:l,NI:m});this.Mp.push(f);Zy(this,b);return b},a)}
function Vy(a,b,c){if(Xy(a,b)&&Ny(a,b))b=Ny(a,b),Zy(a,b);else{a.Mp.push(b);var d=c[Ue].ma(),f,g,h;/\.ttf/gi.test(d)?f=d:/\.otf/gi.test(d)?g=d:/\.woff/gi.test(d)&&(h=d);b=Yy({displayName:b.id,fontFamily:b.id+"_"+b.version,K:c[eu].ma(),ra:b.id,ua:b.version,tI:f,AG:g,NI:h})}Zy(a,b);return b}function Zy(a,b){var c;(function(){c=a.fonts.filter(function(a){return"Media"===a.rm})[0];return!!c})()?c.fonts.push(b):a.fonts.push({rm:"Media",wg:"sans-serif",fonts:[b]})}
function Xy(a,b){for(var c=0;c!==a.Mp.length;c++)if(a.Mp[c].id===b.id&&a.Mp[c].version===b.version)return!0;return!1}function Yy(a){return{family:a.fontFamily,O:a.fontFamily,displayName:a.displayName,disabled:!1,Pp:!0,K:a.K,$T:a.K,media:{id:a.ra,version:a.ua},J:{j:{Xb:a.AG,i:a.tI,u:a.NI,l:a.fontFamily}},url:"#",H:{o:!1,bold:!1,v:!1}}};function $y(){this.da=mb}function az(a,b,c,d,f,g){a.da.post("/import/layout/"+encodeURIComponent(b)+"/"+encodeURIComponent(c.toString())+(g?"?designType\x3d"+encodeURIComponent(g):""),d,null,function(a){f&&f(a)})}function bz(a,b,c,d){return vf(a.da,"/media/"+encodeURIComponent(b)+"/"+encodeURIComponent(c.toString())+"?upload",{url:d})}function cz(a,b,c,d){return Bf(a.da,"/media/"+encodeURIComponent(b)+"/"+encodeURIComponent(c.toString())+"?form\x26mimeType\x3d"+encodeURIComponent(d)).spread(dz)}
function ez(a,b,c,d){return vf(a.da,"/media/"+encodeURIComponent(b)+"/"+encodeURIComponent(c.toString())+"?import",d).spread(function(a){return yg(a.media)})}function fz(){this.prices={}}function gz(a,b,c){a.prices[b]=c;return a}var hz=gz(new fz,"ONE_USE",0),iz=gz(gz(gz(new fz,"ONE_USE",1),"ROYALTY_FREE",10),"EXTENDED",100);function jz(){this.licenseModel=null;this.autoPublicify=!1;this.publicifyMediaRequests=[]}jz.prototype.qC=function(a){this.licenseModel=a;return this};
function kz(){var a=(new jz).qC(hz);a.autoPublicify=!0;return a}jz.prototype.mw=function(a){this.locale=a;return this};function lz(){this.licenseModel=this.keywords=this.description=this.title=this.version=this.media=void 0}lz.prototype.ag=function(a){this.version=a;return this};lz.prototype.FI=function(a){this.description=a;return this};lz.prototype.lw=function(a){this.keywords=a;return this};lz.prototype.qC=function(a){this.licenseModel=a;return this};function mz(){}
mz.prototype.JI=function(a){this.importVersion=a;return this};function nz(a){this.reset();this.C=a}nz.prototype.reset=function(){this.previous=null;this.ak=[];this.mg={top:0,left:0}};nz.prototype.qr=function(){var a=this;oz();a.ak.forEach(function(b){b={elementIndex:b.ea(),pageIndex:T(z,b.ha()),"new":{left:b.W(),top:b.N()},old:{left:b.W()-a.mg.left,top:b.N()-a.mg.top}};C.register(new U(Sk,b))});pz()};
nz.prototype.Hu=function(){var a=this;return function(b){a.ak=z.Ja();var c=$(b.target);if("true"==c.attr("contenteditable")||c.is("input:focus")||c.is("textarea:focus"))return a.reset(),!0;if(0<$(".toolbar__item--submenuExpanded .menuList").length||"block"===$("#overlays #marquee").css("display")||b.metaKey||b.ctrlKey)return!0;if(0<a.ak.length){var d=1;b.shiftKey&&(d=10);switch(b.which){case 37:return a.previous=37,a.mg.left-=1/N*1*d,a.ak.forEach(function(a){ut(a,1/N*1*d)}),qz($b(a.C),bc(a.C)),!1;
case 38:return a.previous=38,a.mg.top-=1/N*1*d,a.ak.forEach(function(a){vt(a,1/N*1*d)}),qz($b(a.C),bc(a.C)),!1;case 39:return a.previous=39,a.mg.left+=1/N*1*d,a.ak.forEach(function(a){wt(a,1/N*1*d)}),qz($b(a.C),bc(a.C)),!1;case 40:return a.previous=40,a.mg.top+=1/N*1*d,a.ak.forEach(function(a){xt(a,1/N*1*d)}),qz($b(a.C),bc(a.C)),!1}}null!==a.previous&&a.qr();a.reset();return!0}};nz.prototype.save=function(){var a=this;return function(b){a.previous===b.which&&(a.qr(),a.reset())}};function ur(a){$(document).keydown(rz);a=new nz(a);$(document).keydown(a.Hu());$(document).keyup(a.save())}
function rz(a){var b;if($("body").hasClass("fullscreenMode"))return!1;if(27===a.which){a=$("#canvaDocument .element.selected,#canvaDocument .element.multiSelected").length;if(0<$("*:focus").length)$("*:focus").blur();else if(0<$(".modalContentMask").length){a=$(".modalContentMask:last");var c=a.next().children(".dialog").data("Canva_Views_Dialog");c?c.cancel():a.trigger("click")}else $(".toolbar__item--submenuExpanded").length?K.trigger("hideContextualControlsRequested"):0<a?S():$(".infoPanel .close").click();
return!1}if(document.querySelector(".modalContentMask, .mask.editingDefaults, .mask.on, body.blockDocument"))return!0;if(16===a.which){var d=function(a){window.clearTimeout(b);16===a.which&&($(".selectionBox").removeClass("freeResize"),$(document).off("keyup",d))};(c=z.Ja()[0])&&0===Qr(c.F())?b=window.setTimeout(function(){$(".selectionBox").addClass("freeResize")},500):$(".selectionBox").addClass("freeResize");$(document).on("keyup",d)}var c=document.querySelector(".element.text.selected"),f=document.querySelector(".element.text.focused"),
g=f,h=document.activeElement,k=h?h.nodeName.toLowerCase():"";if("input"===k||"textarea"===k)g=!0;k=z.Ja()[0];if(g&&9===a.which&&0===$(h).parents(".tableView").length)return sz(),!1;if(z.za().some(function(a){return a.Dd}))return!0;if(k&&a.altKey&&(a.ctrlKey||a.metaKey)){if(67===a.which)return mk(Fb,k.clone()),!1;if(86===a.which)return tz(k),!1}if(k&&k.ye&&g&&a.shiftKey&&a.altKey){if(66===a.which)return uz(k),!1;if(187===a.which||171===a.which)return vz(k,1),!1;if(189===a.which||173===a.which)return vz(k,
-1),!1}if(k&&k.lq()&&a.shiftKey&&a.altKey){if(187===a.which||171===a.which)return wz(k,1),!1;if(189===a.which||173===a.which)return wz(k,-1),!1}if(c&&13===a.which&&(a.ctrlKey||a.metaKey))return f?Ss($(c)):xz($(c)),!1;if(g&&k&&k.eI()&&a.altKey){switch(a.which){case 37:return yz(k,-1),!1;case 39:return yz(k,1),!1;default:k.$j=void 0}if(a.shiftKey&&81===a.which)return yz(k,0),!1}if(g&&k&&k.OB()&&(a.shiftKey||a.altKey)&&(a.metaKey||a.ctrlKey)){switch(a.which){case 75:$(".textToolbarUppercase a").trigger("click");
$(".toolbar__button--uppercase").trigger("click");break;case 76:$(".textToolbarLeft a").trigger("click");$(".toolbar__button--left").trigger("mouseup");break;case 82:$(".textToolbarRight a").trigger("click");$(".toolbar__button--right").trigger("mouseup");break;case 67:$(".textToolbarCenter a").trigger("click");$(".toolbar__button--center").trigger("mouseup");break;case 84:zz(k);break;case 77:Az(k);break;case 66:Bz(k)}return!1}if(a.metaKey||a.ctrlKey){if(90===a.which)return a.shiftKey?Cz():Dz(),!1;
if(89===a.which){if(a.shiftKey)return!0;Cz();return!1}}if(!g){if(a.metaKey||a.ctrlKey)switch(a.which){case 67:if(a.shiftKey)return!0;Ez();return!1;case 86:if(a.shiftKey)return!0;Fz();return!1;case 71:return a.shiftKey?Gz():Hz(),!1;case 65:return S(),a.shiftKey||Iz(L(z).za()),!1}if(!a.metaKey&&!a.ctrlKey&&!a.altKey)switch(a.which){case 84:return $("#objectPanel .textControls a[data-style\x3dbody]").trigger("click"),!1}switch(a.which){case 8:case 46:return $(".elementToolbarDelete a").trigger("click"),
$(".enabled \x3e .toolbar__button--imageDelete").length?$(".toolbar__button--imageDelete").trigger("click"):$(".toolbar__button--delete").trigger("click"),!1;case 191:return $("#search").focus().get(0).select(),!1}}if(a.ctrlKey&&a.altKey&&70===a.which)return Jz(),!1;if(a.metaKey||a.ctrlKey){if(a.altKey){if(221===a.which)return Kz(1),!1;if(219===a.which)return Kz(-1),!1}switch(a.which){case 221:case 38:if(yl())return $(".elementToolbarForward a").click(),$(".toolbar__button--forward").trigger("mouseup"),
!1;break;case 219:case 40:if(yl())return $(".elementToolbarBackward a").click(),$(".toolbar__button--back").trigger("mouseup"),!1;break;case 187:case 61:return $(".zoomer__in").click(),!1;case 189:case 173:return $(".zoomer__out").click(),!1;case 83:return K.trigger("documentSaveRequested"),!1}if(59===a.which||186===a.which)return vb().toggle(),!1}if(nb.ta.get(ye)&&a.altKey)switch(a.which){case 112:return Zw().then(function(a){L(z).addElement(a)}),!1}return!0};function Lz(){}
Lz.prototype.search=function(a,b,c){return new P(function(d,f){function g(){d(Mz({results:[]}))}function h(){Hx(b,c).then(k).catch(g)}function k(a){var b=[];a.forEach(function(a){var c=a.lc(),d=a.dj(),c={page:0,quality:"THUMBNAIL",height:c.D(),width:c.w(),url:c.ma()},d={page:0,quality:"SCREEN",height:d.D(),width:d.w(),url:d.ma()};b.push({id:a.G(),title:a.getName(),origin:Te,files_:[c,d]})});d(Mz({results:b}))}"facebook"==a.toLowerCase()?Ee&&Ex(Ee).then(h).catch(function(){Dx(Ee).then(h).catch(g)}):f(Error("Not handled"))})};function Nz(a,b){this.da=a;this.gR=b||[];this.url="/search"}var Oz=["DESIGN"],Pz=[Oe,Qe];
Nz.prototype.Bl=function(a,b,c,d,f,g,h,k,l,m,n,p,r,q,v){function x(a){var b="";0<a.length&&(b="\x26sort\x3d"+encodeURIComponent(a.map(function(a){return a.hM+":"+a.getDirection()}).join()));return b}p||(q=null);a="/search?q\x3d"+encodeURIComponent(b)+(a?"\x26docId\x3d"+encodeURIComponent(a):"")+function(a,b,c){var d="",f=[],g=[],h=[];if(a){var k=[];a.forEach(function(a){a=a.toString().charAt(0);d+=a;k.push(a)});h.push("+type:("+k.join(" ")+")")}b&&Object.keys(b).forEach(function(a){f.push(""+a+":"+
b[a]);h.push("+"+a+":"+b[a])});c&&Object.keys(c).forEach(function(a){g.push(""+a+":"+c[a]);h.push("-"+a+":"+c[a])});a="";d&&(a+="\x26types\x3d"+d);0<f.length&&(a+="\x26includes\x3d"+encodeURIComponent(f.join(",")));0<g.length&&(a+="\x26excludes\x3d"+encodeURIComponent(g.join(",")));0<h.length&&(a+="\x26fq\x3d"+encodeURIComponent(h.join(" ")));return a}(c,d,f)+(g?"\x26suggest\x3d"+encodeURIComponent(g.toString()):"")+(h?x(h):"")+(k?"\x26elevation\x3d"+encodeURIComponent(k):"")+(l?"\x26elevateIds\x3d"+
l.map(function(a){return encodeURIComponent(a)}).join(","):"")+(m?"\x26elevatedOnly\x3dtrue":"")+(void 0!==r?"\x26limit\x3d"+encodeURIComponent(""+r):"")+(void 0!==p?"\x26from\x3d"+encodeURIComponent(""+p):"")+(v?"\x26translatable\x3dtrue":"")+(null!=q?"\x26rootSearchId\x3d"+encodeURIComponent(q):"")+"\x26organic\x3d"+encodeURIComponent(n.toString());return Bf(this.da,a).get(0).then(Mz)};
function Qz(a,b,c,d,f,g,h,k,l,m,n,p){return P.any(a.gR.map(function(a){return a.search(c,m,n)})).catch(function(){return this.Bl(b,c,d,f,g,h,k,null,null,!1,l,m,n,p)}.bind(a)).cancellable()}function Rz(a){var b=xb;vf(b.da,b.url+"/click",{events:Wa.Rg("events",a.events.map(Sz))}).return()};function Tz(){this.searchId="";this.rank=0;this.id="";this.version=0;this.origin="CANVA";this.description=this.title=this.artist=this.group=this.brand=null;this.recolorable=this.repeating=this.cutout=this.background=!1;this.spritesheetMetadata=this.componentMedia=this.extendedPriceCents=this.royaltyFreePriceCents=this.oneTimeUseAggregatePriceCents=this.oneTimeUsePriceCents=this.keywords=this.superKeywords=null;this.files_=[];this.designType=void 0;this.type=null;this.status=Qv;this.user=null;this.Ki=
void 0}e=Tz.prototype;e.$E=function(){return this.searchId};e.ZE=function(){return this.rank};e.G=function(){return this.id};e.getVersion=function(){return this.version};e.Mc=function(){return this.origin};e.na=function(){return this.brand};e.Ca=function(){return this.user};e.Za=function(){return this.title};e.mb=function(){return this.background};e.Ef=function(){return this.cutout};e.zq=function(){return this.repeating};e.yc=function(){return this.recolorable};
function Uz(a){return a.oneTimeUsePriceCents}e.Ry=function(){return this.componentMedia};e.bz=function(){return this.superKeywords};e.cj=function(){return this.keywords};e.ec=function(){return this.files_};e.Zp=function(){return this.spritesheetMetadata};e.Ub=function(a){return this.ec().filter(function(b){return b.ha()===(a||0)}).reduce(function(a,c){a[c.YE()]=c;return a},{})};e.Ae=function(){return Vz(this).length};
function Vz(a){var b=[];a.ec().forEach(function(a){a=a.ha();-1===b.indexOf(a)&&b.push(a)});return b}function Wz(a){return"DESIGN"==a.type&&1<a.Ae()}e.getFile=function(a,b){return(b=this.Ub(b))?b[a]:void 0};e.dj=function(a){var b=this,c=this.getFile("ORIGINAL");c?b.Ki?a&&a(b.Ki):$.getJSON(c.ma(),function(c){b.Ki=c;a&&a(b.Ki)}):a&&a(b.Ki)};e.dn=function(){var a=this.getFile("THUMBNAIL_LARGE")||this.getFile(eu);return a?a.ma():null};
function Se(a){if(!a)return null;a=$.extend(new Tz,a);if(a.files_){var b;b=(b=a.files_)?b.map(um):null;a.files_=b}Array.isArray(a.componentMedia)&&(a.componentMedia=a.componentMedia.map(Ia).map(fj));a.spritesheetMetadata&&(a.spritesheetMetadata=Vv(Ia(a.spritesheetMetadata)));return a}function Xz(a,b){a.id=b.G();a.version=b.Aa().getVersion();a.origin="CANVA"}function Yz(){this.end=this.start=0;this.replacement=this.original=""}Yz.prototype.dj=function(){return this.original};
function Zz(a){return a?$.extend(new Yz,a):null}function $z(){this.overridden=!1;this.replacementQuery=this.originalQuery="";this.replacementHits=this.originalHits=0;this.tokenReplacements=null}function aA(a){return a.replacementQuery}function bA(){this.id="";this.totalHits=0;this.results=[];this.suggestion=null}bA.prototype.G=function(){return this.id};bA.prototype.Xp=function(){return this.results};
function Mz(a){if(!a)return null;a=$.extend(new bA,a);a.results&&(a.results=a.results.map(Se));if(a.suggestion){var b;(b=a.suggestion)?(b=$.extend(new $z,b),b.tokenReplacements&&(b.tokenReplacements=b.tokenReplacements.map(Zz))):b=null;a.suggestion=b}return a}function cA(a){this.events=a}function dA(a,b){return new cA([new eA({Al:a.$E(),ra:a.G(),sl:a.ZE(),bc:0===Uz(a),kl:!!b})])}function eA(a){this.Al=a.Al;this.ra=a.ra;this.sl=a.sl;this.bc=a.bc;this.kl=a.kl}
function Sz(a){return{searchId:Ta.required("searchId",a.Al),mediaId:Ta.required("mediaId",a.ra),rank:Xa("rank",a.sl),free:Ua.optional("free",a.bc),organic:Ua.optional("organic",a.kl)}}function fA(a,b){this.hM=a;this.direction=b}fA.prototype.getDirection=function(){return this.direction};function gA(a,b){this.cache=$.extend({},a,!0);this.tb=b;var c=this;Object.keys(this.cache).forEach(function(a){Object.keys(c.cache[a]).forEach(function(b){var g=+b;Object.keys(c.cache[a][+b]).forEach(function(b){c.cache[a][g][b]=um(c.cache[a][g][b])})})})}function Ze(a,b,c,d){a.cache[b]=a.cache[b]||{};a.cache[b][c]=a.cache[b][c]||{};for(var f in d)a.cache[b][c][f]=um(d[f])}gA.prototype.Ub=function(a,b){return hA(this,a,b)?this.cache[a][b]:null};
function hA(a,b,c){return!!a.cache[b]&&!!a.cache[b][c]}function Bl(a,b){return!!b&&hA(a,b.id,b.version)}function iA(a,b){var c=bb;function d(a){a&&a.media&&a.media.forEach(function(a){Ze(f,a.G(),a.Aa().getVersion(),a.Aa().ec())})}var f=c;0===a.length?b():(a=lw((new kw).Zl(),a),Lv(c.tb,a).then(d).catch($.noop).finally(b))};var jA={1:"TOP-LEFT",2:"TOP-RIGHT",3:"BOTTOM-RIGHT",4:"BOTTOM-LEFT",5:"LEFT-TOP",6:"RIGHT-TOP",7:"RIGHT-BOTTOM",8:"LEFT-BOTTOM"};function kA(){}kA.prototype.getKey=function(){return this.key};function dz(a){return J(kA,a)};function lA(a,b,c){this.fileName=a;this.lE=b;this.TL=c}lA.prototype.getFileName=function(){return this.fileName};function mA(){}mA=Sq.extend();mA.prototype.initialize=function(a){this.Wj=a.Wj;this.Uc=a.Uc;Sq.prototype.initialize.call(this,{title:"Upload error",content:$(nA(this))})};
function nA(a){var b=a.Wj.lE,c=a.Wj.getFileName()||"";switch(b){case 0:return a.Uc.format("uploadErrorUnsupportedBrowserHtml");case 3:return a.Uc.format("uploadErrorWorkerHtml");case 1:return a.Uc.format("uploadErrorUnsupportedFileTypeHtml",c);case 2:return a.Uc.format("uploadErrorFileTooLargeHtml",c);case 4:return a.Uc.format("uploadErrorFileProcessingHtml",c);case 5:return a.Uc.format("uploadErrorUnsupportedSvgContentHtml",c);case 6:return b=a.Wj.TL,b=b instanceof dw?b.Aa().rejectionReason:void 0,
b?a.Uc.format("uploadErrorMediaImportWithReasonHtml",c,b):a.Uc.format("uploadErrorMediaImportHtml",c)}throw new TypeError("Unhandled UploadErrorDetails.ErrorType: "+b);}mA.Dn=null;mA.show=function(a,b){if(!mA.IS(a))return null;var c=new mA({Wj:a,Uc:b});c.on("hide",function(){mA.Dn===c&&(mA.Dn=null)});if(mA.Dn)mA.Dn.on("hide",function(){c.show()});else c.show();return mA.Dn=c};mA.IS=function(a){if(mA.Dn)switch(a.lE){case 1:case 2:case 4:case 5:case 6:return!1}return!0};function oA(a,b,c){this.nd=!1;this.oL=b;this.media=null;this.Xh=0;this.Fo=Date.now();this.WR=!!c;this.RB=a;this.Wj=null}e=oA.prototype;e.off=Backbone.Events.off;e.on=Backbone.Events.on;e.trigger=Backbone.Events.trigger;e.dc=function(){return this.oL};e.rb=function(){return this.media};e.dn=function(){return this.RB};e.start=function(a){this.nd||this.media||(this.media=a,this.trigger("start",this))};e.update=function(a){this.nd||(this.Xh=100*Math.max(0,Math.min(a,1)),this.trigger("update",this))};
e.complete=function(){this.nd||(this.nd=!0,this.Xh=100,this.trigger("complete",this))};e.fail=function(a){this.nd||(this.nd=!0,this.media=null,this.Wj=a,this.trigger("fail",this))};function pA(){this.Uw=!1;this.Dy=this.nd=0;this.id=void 0;this.JG=[];this.DB=0}e=pA.prototype;e.off=Backbone.Events.off;e.on=Backbone.Events.on;e.trigger=Backbone.Events.trigger;e.eh=function(a){this.id=a;return this};e.G=function(){return this.id};e.iu=function(){return this.JG};
e.create=function(a,b,c,d){function f(){k.trigger("start",l)}function g(){l.off("start",f);l.off("complete",g);l.off("fail",h);k.nd++;k.Uw&&k.nd+k.DB===k.Dy&&k.complete()}function h(){k.fail(l.Wj);g()}var k=this,l=new oA(a,c,d);l.on("start",f);l.on("complete",g);l.on("fail",h);this.JG.push(l);this.trigger("create");return l};e.init=function(a){a()};e.sync=function(){this.trigger("sync")};function qA(a){a.Uw=!0;a.Dy++}e.Xg=function(){this.DB++};
e.complete=function(){this.nd=this.DB=this.Dy=0;this.Uw=!1;this.trigger("complete")};e.fail=function(a){this.trigger("fail",a)};function rA(){this.Fn={}}_.extend(rA.prototype,Backbone.Events);rA.prototype.off=Backbone.Events.on;rA.prototype.on=Backbone.Events.on;rA.prototype.trigger=Backbone.Events.trigger;rA.prototype.iu=function(a){return 0<=Object.keys(this.Fn).indexOf(a)?this.Fn[a].iu():[]};
function sA(a,b){a=Object.keys(a.Fn).map(a.iu,a).reduce(function(a,b){return a.concat(b)},[]).filter(function(a){return a.Fo>=b});if(a.every(function(a){return a.nd}))return 100;var c=a.reduce(function(a,b){return a+(b.nd&&!b.media?100:b.Xh)},0);return Math.min(100*c/(100*a.length),99)};function tA(a){this.source=a.source;this.gv=a.gv||null;this.listener=a.progress}function uA(a,b,c,d,f,g,h,k){var l=!1,m=a.listener.create(d,f,g,h);vA(b,c,d,g,function(a,b){l||(l=!0,m.start(a));m.update(b)},k).then(function(){m.complete();a.gv&&a.gv(m.rb())},function(a){m.fail(new lA(b.name||"Unnamed File",6,a))})}
function wA(a){var b=a.naturalWidth,c=a.naturalHeight,d=b,f=c,g=200/Math.max(b,c);1>g&&(d=Math.round(g*b),f=Math.round(g*c));g=document.createElement("canvas");g.width=d;g.height=f;var h=g.getContext("2d");h.drawImage(a,0,0,b,c,0,0,d,f);a=g.toDataURL();for(var d=h.getImageData(0,0,d,f),f=d.data,b=f.length,c=new nj,k=0;k<b;k+=4)sj(c,f[k],f[k+1],f[k+2]),f[k]=f[k+1]=f[k+2]=Dj(c);h.putImageData(d,0,0);g=g.toDataURL();return{color:a,bF:g}}
function xA(a,b){yA(b).then(function(c){var d=wA(c);c={width:c.naturalWidth,height:c.naturalHeight};for(var f=window.atob(b.substr(22)),g=f.length,h=Math.ceil(g/1024),k=Array(h),l=0;l<h;++l){for(var m=1024*l,n=Math.min(m+1024,g),p=Array(n-m),r=0;m<n;++r,++m)p[r]=f[m].charCodeAt(0);k[l]=new Uint8Array(p)}f=new Blob(k,{type:"image/png"});f.name="generated_file_"+Date.now()+".png";f.type="image/png";f.constructor=File;uA(a,f,b,d.color,d.bF,c,!1)}).catch($.noop)}
tA.prototype.upload=function(a,b){var c=this;this.listener.init(function(){function d(a,b,c){var d=$("\x3cimg\x3e");d.one("load",function(){var b;b=d.get(0);var g=document.createElement("canvas"),h=b.naturalWidth,k=b.naturalHeight;-1<[jA[5],jA[6],jA[7],jA[8]].indexOf(c)?(g.width=k,g.height=h):(g.width=h,g.height=k);var l=g.getContext("2d");switch(c){case jA[2]:l.translate(h,0);l.scale(-1,1);break;case jA[3]:l.translate(h,k);l.rotate(Math.PI);break;case jA[4]:l.translate(0,k);l.scale(1,-1);break;case jA[5]:l.rotate(.5*
Math.PI);l.scale(1,-1);break;case jA[6]:l.rotate(.5*Math.PI);l.translate(0,-k);break;case jA[7]:l.rotate(.5*Math.PI);l.translate(h,-k);l.scale(-1,1);break;case jA[8]:l.rotate(-.5*Math.PI),l.translate(-h,0)}l.drawImage(b,0,0,h,k);b=g.toDataURL("image/jpeg",.92);f(a,b)});d.attr("src",b)}function f(a,b){var c=b.slice(b.indexOf(",")+1),d=g(c);d.name=a;d.type="image/jpeg";var f=$("\x3cimg\x3e");f.attr("src",b);f.one("load",function(){k(d,f.get(0),b)})}function g(a){a=window.atob(a);for(var b=a.length,
c=Math.ceil(b/1024),d=Array(c),f=0;f<c;++f){for(var g=1024*f,h=Math.min(g+1024,b),k=Array(h-g),l=0;g<h;++l,++g)k[l]=a[g].charCodeAt(0);d[f]=new Uint8Array(k)}return new Blob(d,{type:"image/jpeg"})}function h(a,b){var d=m[a];zA(d).then(function(a){k(d,a,b)}).catch(function(){c.listener.fail(new lA(a,4));c.listener.Xg();l()})}function k(a,d,f){var g=wA(d);uA(c,a,f,g.color,g.bF,{width:d.naturalWidth,height:d.naturalHeight},!1,b);window.setTimeout(l,600)}function l(){q++;q<r?p.postMessage({next:!0}):
c.listener.sync()}if(window.URL){for(var m={},n=[],p=new Worker(G.EJ.upload),r=0,q=0,v=0;v<a.length;v++){var x=a[v],w=x.name,y=x.type,B=x.size;qA(c.listener);var F;a:{switch(y){case "image/jpeg":case "image/png":case "image/raw":case "image/svg+xml":case "image/x-fuji-raf":F=!0;break a}F=!1}if(F)if(26214400<B)c.listener.fail(new lA(w,2)),c.listener.Xg();else{if("image/jpeg"===y||"image/png"===y)m[w]=x;n.push(x);r++}else c.listener.fail(new lA(w,1)),c.listener.Xg()}c.listener.sync();if(0===r)c.listener.complete();
else{p.onmessage=function(a){var g=JSON.parse(a.data);if("error"===g.status)c.listener.fail(new lA(g.fileName,4)),c.listener.Xg(),l();else if("exifRotated"===g.specialFile)d(g.fileName,g.imageData,g.orientation);else if("raw"===g.specialFile)f(g.fileName,g.imageData);else if(g.svgText)if(a=g.fileName,g=g.svgText,su(g)){a=(new AA(g)).II(a);a.source=BA(a.source);a.source=CA(a.source);a.source=DA(a.source);a.viewBox=EA(a.source);a.source=a.source.replace(/xmlns:xml=['"]http:\/\/www.w3.org\/XML\/1998\/namespace["']/g,
"");g=new Blob([a.source],{type:"image/svg+xml"});g.name=a.filename;g.type="image/svg+xml";g.constructor=File;var k="data:image/svg+xml;base64,"+window.btoa(a.source);uA(c,g,k,k,k,{width:a.viewBox[2],height:a.viewBox[3]},!0,b);window.setTimeout(l,600)}else c.listener.fail(new lA(a,5)),c.listener.Xg(),l();else h(g.fileName,g.imageData)};try{p.postMessage(n)}catch(D){c.listener.fail(new lA(null,3));c.listener.complete();return}De&&De.track("image_upload",{source:c.source,quantity:r})}}else c.listener.fail(new lA(null,
0)),c.listener.complete()})};function zA(a){return new P(function(b,c){if(FA){var d=window.URL.createObjectURL(a);yA(d).then(b,c).finally(function(){window.URL.revokeObjectURL(d)})}else{var f=new FileReader;f.onload=function(){yA(f.result).then(b,c)};f.onerror=c;f.readAsDataURL(a)}})}function yA(a){return new P(function(b,c){var d=new Image;d.onload=function(){b(d)};d.onerror=c;d.src=a})}var FA="IE"!==(new UAParser).getResult().browser.name;function GA(a){za(0<a);this.$M=a;this.queue=[];this.xz=0}GA.prototype.gB=function(a){var b=this;return(new P(function(a){b.queue.push(a);HA(b)})).cancellable().then(a).finally(function(){b.xz--;HA(b)})};function HA(a){if(!(a.xz>=a.$M)){var b=a.queue.shift();b&&(a.xz++,b())}};function IA(a,b,c,d,f,g,h,k){this.da=a;this.media=b;this.Oc=c;this.Lf=d;this.AI=f;this.XL=g;this.Go={};this.Jo=[];this.cl=h;this.se=k}IA.prototype.Ub=function(a,b){return this.Lf.Ub(a,b)||this.Go[a]||null};function JA(a,b){var c={};return b.filter(function(a){if(!a)return!1;var b=a.G();a=a.getVersion();if(this.Ub(b,a))return!1;b=b+":"+a;return c[b]?!1:c[b]=!0},a)}function Xe(a,b){var c=b.G();a.Go[c]||(b=b.Ub(),a.Go[c]={SCREEN:um(b[Ue]),THUMBNAIL:um(b[eu])})}
function Me(a,b,c){var d=b.Mc();if(d!==Te&&"GOOGLE"!==d)throw Error('Cannot upload media with origin "'+d+'"');var f,g=b.G(),h=KA(b),d=(new hw).Zj(h.filename).$l(!0);a.Jo.push(g);Iv(a.media,d).then(function(b){var c=b.Aa();a.Go[b.G()]=c&&c.ec();f=b;a:switch(h.origin){case Te:case "GOOGLE":b=new LA(h.id,wb,b,h.ZQ);break a;default:throw Error(h.origin+" is unsupported");}return a.AI.upload(b)}).then(function(){var b=(new lu).ag(f.Aa().getVersion()).Ro(!0);return a.media.DI(f.G(),b)}).then(function(c){var d=
b.getVersion();Xz(b,c);Ze(a.Lf,c.G(),c.Aa().getVersion(),c.Aa().ec());var d={mediaId:g,mediaVersion:d},f={mediaId:c.G(),mediaVersion:c.Aa().getVersion()};MA(d,f);zl(z).forEach(function(a){var b=a.Vb();b&&b.id===g&&a.Mj(c.G(),c.Aa().getVersion())});NA();return c}).catch(function(b){c.us(a.Lf);NA();return Promise.reject(b)}).finally(a.$H.bind(a,g))}
function vA(a,b,c,d,f,g){var h=lb;function k(a){var f={};f[eu]=new Zv({url:c,width:d.width,height:d.height});f[Ue]=new Zv({url:b,width:d.width,height:d.height});r.Go[a.G()]=f;return a}function l(a){var b=(new lu).ag(a.Aa().getVersion()).Ro(!0);return r.media.DI(a.G(),b)}function m(a){Ze(r.Lf,a.G(),a.Aa().getVersion(),a.Aa().ec());NA();return P.resolve(a)}function n(a){return Promise.reject(a)}function p(b){b=new OA({file:a,Tt:g,id:_.uniqueId("file_"),media:b,Oc:r.Oc,cl:r.cl,se:r.se});b.MA.push(f);
return r.AI.upload(b)}var r=h,q=a.name.replace(/\$/g,"_"),v=_.uniqueId("file_"),x=iw((new hw).Zj(q).$l(!0).MI(!1),a.size);h.Jo.push(v);return h.XL.gB(function(){return Iv(r.media,x).then(k).then(p).then(l).then(m).catch(n).finally(r.$H.bind(r,v))})}IA.prototype.$H=function(a){a=this.Jo.indexOf(a);-1!=a&&this.Jo.splice(a,1)};function NA(){z.trigger("change")}
function PA(a){function b(a){var g=a.mediaId,h=a.mediaVersion;void 0!==g&&void 0!==h&&null!==g&&null!==h&&(hA(d.Lf,g,h)?0:g in d.Go)&&(delete a.mediaId,delete a.mediaVersion);Object.keys(a).forEach(function(d){d=a[d];d instanceof Array?d.filter(c).forEach(function(a){b(a)}):c(d)&&b(d)})}function c(a){return a instanceof Object}var d=lb;b(a)};function QA(a,b,c,d,f){this.id=a;this.origin=b;this.ZQ=c;this.bS=d;this.filename=f}function KA(a){var b=a.Mc();switch(b){case Te:var b=a.getFile(Ue).ma(),c=a.getFile(eu).ma(),d=b.match(/.*(\.\w+)/)[1],d=a.G()+d;return new QA(a.G(),a.Mc(),b,c,d);case "GOOGLE":return b=a.getFile(Ue).ma(),c=a.getFile(eu).ma(),d=a.Za(),new QA(a.G(),a.Mc(),b,c,d);default:throw Error('Cannot create temporary media for origin "'+b+'"');}};function RA(){this.queue=[];this.wr={};this.fC={};this.Fx=null}RA.prototype.upload=function(a){function b(){var b=new P(function(b,d){b={request:a,resolve:b,reject:d};c.queue.push(b);d=a.G();var f=c.wr[d];f||(f=[]);f.push(b);c.wr[d]=f});SA(c);return b}var c=this,d=this.fC[a.G()];return d?P.resolve(d):P.resolve().then(b)};function SA(a){if(!a.Fx&&0<a.queue.length){var b=a.queue.shift();a.Fx=b;TA(a,b)}}
function TA(a,b){var c=b.request.G();UA(b.request).then(function(b){a.fC[c]=b}).then(function(){var b=a.wr[c],f=a.fC[c];if(!f)throw Error("Could not find media reference for uploaded item");b&&b.forEach(function(a){a.resolve(f)})}).catch(function(){var b=a.wr[c];b&&b.forEach(function(a){a.reject()})}).finally(function(){delete a.wr[c]}).finally(a.pN.bind(a))}
function UA(a){return new P(function(b,c){function d(h){7>f&&h===VA?(f++,g*=1.6,Promise.delay(g).then(a.send.bind(a)).then(b).catch(d)):c(h)}var f=0,g=500;a.send().then(b).catch(d)})}RA.prototype.pN=function(){this.Fx=null;SA(this)};function WA(a,b){this.id=a;this.media=b;this.MA=[]}var VA=Error("Canva is too busy to process your upload at this time. Please try again later.");WA.prototype.G=function(){return this.id};WA.prototype.send=function(){return P.reject("Not implemented")};WA.prototype.LP=function(a){if(a.lengthComputable){a=a.loaded/a.total;for(var b=0;b<this.MA.length;b++)this.MA[b](this.media,a)}};function XA(a){a=function(a){var c=/^([^?]+)\?/.exec(a);return c?c[1]:a}(a);return _.find(YA,function(b,c){return a.slice(-c.length)===c})}var YA={".gif":"image/gif",".jpg":"image/jpeg",".jpeg":"image/jpeg",".png":"image/png",".ttf":"application/x-font-truetype",".otf":"application/x-font-otf",".woff":"application/font-woff"};function OA(a){WA.call(this,a.id,a.media);this.file=a.file;this.Tt=a.Tt;this.Oc=a.Oc;this.XP=void 0;this.se=a.se;this.pz=a.cl.pz("canva.editor.uploadrate")}OA.prototype=Object.create(WA.prototype);OA.prototype.constructor=OA;
OA.prototype.send=P.method(function(){var a=this,b=a.file.type||XA(a.file.name),c=this.se.now();return cz(this.Oc,this.media.G(),this.media.Aa().getVersion(),b).then(function(c){c={JJ:c.awsAccessKeyId,file:a.file,aN:b,key:c.getKey(),lQ:c.policy,progress:a.LP.bind(a),ER:c.signature,url:c.postUrl};return ZA({file:c.file,url:c.url,GE:{key:c.key,AWSAccessKeyId:c.JJ,policy:c.lQ,signature:c.ER,"Content-Type":c.aN||c.file.type},progress:c.progress,nF:c.nF})}).tap(function(){a.pz.update(a.file.size/(a.se.now()-
c))}).then(function(c){c=(new mz).JI(c);c.mimeType=b;c.isPaid=!0===a.XP;a.Tt&&(c.folderKey=a.Tt);return ez(a.Oc,a.media.G(),a.media.Aa().getVersion(),c)}).catch(this.MQ.bind(this))});
OA.prototype.MQ=function(){throw Error("Unfortunately your upload failed :(\n\nPlease ensure that:\n   - the size of the image is under 25MB;\n   - the image is a .png, .jpg or .svg file;\n   - the image uses an RGB color model (i.e. not CMYK); and,\n   - you have a stable internet connection.\n\nIf you feel that you have met the above criteria and the image is still failing to upload, please let the team know by emailing support@canva.com");};function LA(a,b,c,d){WA.call(this,a,c);this.Oc=b;this.url=d}LA.prototype=Object.create(WA.prototype);LA.prototype.constructor=LA;LA.prototype.send=P.method(function(){var a=this;return bz(this.Oc,this.media.G(),this.media.Aa().getVersion(),this.url).then(function(){return a.media}).catch(function(a){throw 429===a[1]?VA:Error();})});function tr(a){function b(a,b,c){c||b.forEach(function(a){a.G&&a.getVersion&&a.ec&&("CANVA"==a.Mc()?Ze(bb,a.G(),a.getVersion(),a.Ub()):Xe(lb,a))})}var c=$("#objectPanel"),d=new pf(window.viewConfig),f=Cq(),g=Gq(f),h=Fq(f).na(),k=a.C,l=zi(),m=a.lb,n=new Lg(mb);Uy(ob,function(){var a=Ip(Fq(f).Hk()||Ep({}));return a&&a[0]?Lp(a[0])||[]:[]}(),function(){var a=new $A({model:z,pf:Fq(f).Hk(),C:k});$("#resultsText \x3e .layer \x3e .inner").prepend(a.el)});new aB({bb:h.Gk(),Ex:g.G(),yx:function(b){return new bB({Y:Qb(k),
Bm:b,Mb:a.Mb,wo:!nb.up()})},et:function(a,b){var c,d;-1<g.bn().indexOf("FUSION")?(c=$k(window.cdocType).G(),d=!1):(c=void 0,d=!0);return new cB({el:a,mL:new dB({eb:db,fb:n,jb:g.G(),Fd:h.G(),Rm:b,Ay:d,nt:c}),wq:!!b,C:k})},xx:function(a){return new eB({el:a,C:k,ft:function(){return new fB(new gB({AH:new Nz(mb),Kc:z.Sa(),query:d.Zf.get("layoutQuery",null)}))}})},tx:function(a){return new hB({el:a,C:k})},eb:db,fb:n,el:"#resultsLayout",YM:d.Zf.get("magicTemplates",[]).map(iB),model:z,CU:!!nb.ta.get(Td),
DU:nb.up(),C:k,xB:!!Fq(f).getSubscription(),zB:-1===["DESIGN_TUTORIAL","FREE_NEW_USER","OTHER_ONBOARDING"].indexOf(d.Fe())});(new jB({el:"#resultsSearch",C:k})).on("results:didFetch",b);(new kB({el:"#resultsElements",C:k})).on("results:didFetch",b);var p=new Mx(mb),r=new rA,q=new Fe({yb:z,Lf:bb,tb:gb,fb:n,Zv:lb,pp:function(a,b){var c=Qb(k);a=a.G();var d;0<=Object.keys(r.Fn).indexOf(a)?a=r.Fn[a]:(d=(new pA).eh(a),d.on("create",r.trigger.bind(r,"create")),d.on("fail",r.trigger.bind(r,"fail")),a=r.Fn[a]=
d);return new tA({source:b,Y:c,progress:a})}}),v;a:{try{v=Yj(Fq(f).Hk().Gk());break a}catch(x){}v=void 0}p=new lB({bb:v,Ba:q,Bp:!!nb.ta.get(be),tg:!!nb.ta.get(Vd),BL:new mB($(window)),ug:Ee,fa:nb,fb:n,Ne:p,tb:gb,C:k,ia:ib,ld:r,jb:g.G(),ba:Zh,Mb:a.Mb});p.render().getElement().replaceAll("#normalUploads");p.show();(new nB({root:$("#objectPanel menu .uploads"),ld:r,Uc:Cc(k)})).start();oB(Fq(f).Hk(),Wb(k),l);pB(k);Dr();c.children("menu").find("a").on("click",function(){qB.call(this,k)});(new Uk("#objectPanel")).on("mousedown",
".templateGallery a",rB).on("touchstart",".templateGallery a",rB);c.on("click",".backgroundGallery a",sB);(new Uk("#objectPanel")).on("mousedown",".backgroundGallery *:not(.static) a",tB).on("touchstart",".backgroundGallery *:not(.static) a",tB);c.on("click",".backgroundGallery a",!1);c.on("click",".infoPanelGallery .info .moreInfo",function(){uB.call(this,k)});c.on("click",".infoPanelGallery .info .superKeyword",vB);if(nb.ta.get(Rd))c.on("click",".searchSuggestion a",function(){var a=$(this).data("query");
$("#search").val(a);wB=null;xB(k,!1)});(new Uk("#objectPanel")).on("mousedown",".photoGallery:not(.gridGallery):not(.albumGallery) a",yB).on("touchstart",".photoGallery:not(.gridGallery):not(.albumGallery) a",yB);c.on("click",".photoGallery:not(.gridGallery):not(.albumGallery) a",!1);(new Uk("#objectPanel")).on("mousedown",".gridGallery a",zB).on("touchstart",".gridGallery a",zB);(new Uk("#objectPanel")).on("mousedown",".chartGallery .chart a",AB).on("touchstart",".chartGallery .chart a",AB).on("mousedown",
".chartGallery :not(.chart) a",yB).on("touchstart",".chartGallery :not(.chart) a",yB);Ee&&Ee.init().then(function(a){Ex(a).catch(function(){})});$(".results.infinite:not(#resultsSearch):not(#resultsUpload):not(#resultsLayout):not(#resultsElements) \x3e .layer").on("scroll",BB);$("#search").on("focus",CB);$("#someoneElseEditing").find("a").on("click",DB);$("#inReview").find("a").on("click",EB);$("#touchDevice").find("a").on("click",GB);c.find(".scrollPane").each(function(){(new ak($(this))).render()});
HB(c,a.Ui,k);IB(m,JB,function(){var a=Qc(Qb(k)),a=c.find('[title\x3d"'+a+'"]'),b=c.find(".uploads");return b.is(".on")&&1===a.length?(a=a.get(0).getBoundingClientRect(),{x:Number(a.right)+20,y:Number(a.top)+15}):1===b.length?(a=b.get(0).getBoundingClientRect(),{x:Number(a.right)+20,y:Number(a.top)+Number(a.height)/2}):null})}
function HB(a,b,c){function d(b){var d=b.param;"folder"===b.action?f(d):"search"===b.action?g(d):"tab"===b.action&&((b=a.find("menu ."+d+" a").get(0))?qB.call(b,c):h())}function f(b){var d=$("#resultsElements").find('a[data-query\x3d"'+b+'"]');b=a.find("menu .elements a").get(0);0<d.length?(qB.call(b,c),window.setTimeout(function(){d.trigger("mousedown")},G.sa.Of)):h()}function g(b){window.setTimeout(function(){a.find("#search").val(b);xB(c)},G.sa.Of)}function h(){var a=$("#objectPanel").find("menu .on a").get(0);
qB.call(a,c)}b?d(b):h()}
function oB(a,b,c){function d(){var a=f();a&&!a.equals(r.Ok())&&(r.off("preview",m.Vn),r.off("confirm",m.confirm),r.Lr(a),r.confirm(),r.on("preview",m.Vn),r.on("confirm",m.confirm),m.reset())}function f(){if(Lt(n)){var a=tl(n);if(0<a.length)return a[a.length-1].Af()}return null}function g(){ck(r);r.confirm()}function h(a){0===$(a.target).closest(".colorPicker, .colorPalette").length&&g()}var k=$("#resultsBackground"),l=k.find(".colorControls"),m=KB(),n=L(z),p=new Rq({$o:function(a){a.appendTo("#objectPanel")},fq:function(){return $(document.body)},
margin:G.wC,Zr:Qq});a=a&&Fp(a)||null;var r=new Tj({jp:p,Rh:b,hg:Ub(pb),Ng:z,Ue:a,Dr:!1,ib:f(),analytics:c,fa:nb,window:window});r.on("preview",m.Vn);r.on("confirm",m.confirm);r.on("showColorPicker",function(){document.addEventListener("mousedown",h,!0);k.find(".layer").on("scroll",g)});r.on("hideColorPicker",function(){document.removeEventListener("mousedown",h,!0);k.find(".layer").off("scroll",g)});r.listenTo(z,"page:change:selected",function(){g();r.stopListening(n);n=L(z);d();r.listenTo(n,"change:background",
d)});r.listenTo(n,"change:background",d);r.listenTo(C,"beforeOperationStackPop",g);r.appendTo(l)}function CB(){var a=this;"resultsSearch"!==LB().attr("id")&&$("#objectPanel").find("menu .search a").trigger("click");window.setTimeout(function(){a.select()},G.wb)}
function qB(a){function b(a,b,c){a=$(a);var d=a.find("\x3e .layer \x3e .inner \x3e .searchGroup").first();d.parent(".layer").find(".searchError").remove();MB(d);d.height(a.height());wB=new NB(b,Pz,null,null,!1,null,OB(a,a.height()),null,!1,function(){PB(c)});d.data("search",wB);PB(c)}var c=$(this).parents("menu"),d=$("li",c),f=$(this).parents("li"),g=d.index(c.find("li.on"))+1,h=f.index()+1,k=$("#objectPanel"),c="#"+k.find(".content \x3e .results").get(h-1).id,l=k.get(0).className,l=l.replace(/(^| )stage[^ ]+/g,
"");k.get(0).className=l;k.addClass("stage"+h);d.removeClass("on");f.addClass("on");d=LB();f.hasClass("search")&&$("#search").focus();g==h&&d.children(".layer").first().animate({scrollTop:0},G.sa.yl);f=$("#results"+g+" \x3e .layer");QB(f);YB&&YB.cancel();YB=null;g=$(c);f=0===g.find(".gallery li:not(.static)").length;g=0<g.find(".searchLoader").length;f&&!g&&("#resultsLayout"==c?(c=$("#resultsLayout"),a=c.data("view"),c=OB(c,c.height()),a.ue(c)):"#resultsText"==c?b(c,"text",a):"#resultsBackground"==
c&&b(c,"backgrounds",a));(a=d.children(".layer").last().find(".searchGroup").last().data("search"))&&wB&&"facebook"!=wB.query.toLowerCase().trim()&&(wB=a);return!1}
function rB(a){function b(a){var b=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;var c=Math.abs(a-m)>G.xb,c=Math.abs(b-l)>G.xb||c;null==k&&c&&(k=g.np(),$("#content").append(k),f.css("opacity",0),$("#search").blur(),ZB(k,$B(n)));null!=k&&(a=h.top+a-m,k.css("left",h.left+b-l).css("top",a));return!1}function c(){function a(){$(this).remove();f.css("opacity","")}$("#hotspots").remove();n.off("mousemove|touchmove",b).off("mouseup|touchend",
c);f.removeClass("pickedUp");null==k||k.hasClass("disappeared")||k.hasClass("placing")?(k&&k.remove(),f.animate({opacity:1},G.sa.ny),d()):(h=f.offset(),k.addClass("returning"),k.one("transitionend",a).css("left",h.left).css("top",h.top))}function d(){var b=null!=k;if(!$(a.currentTarget).find(".multiPageDesignItem").length||b){var c;switch($(".layoutsControls .tabDropdown").attr("data-selected")){case aC:c=g.model instanceof Qx?"canva_layout_grid":"canva_layout";break;case bC:c="brand_template";break;
case cC:c="your_designs";break;default:c="design_folder"}var d=$(a.target).is(".componentItemLink");De.track("layout_use",{media_id:g.model.G(),layout_source:c,component_page:d,interaction:b?"drag":"click"})}}if($(a.target).hasClass("moreInfo")||$(a.target).hasClass("superKeyword")||a.which==G.oe||a.ctrlKey)return!0;var f=$(this);f.addClass("pickedUp");var g=f.parents("li").data("view"),h=f.offset(),k=null,l=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,m=void 0!==a.clientY?a.clientY:
a.originalEvent.touches[0].clientY,n=new Uk($(document));n.on("mousemove|touchmove",b).on("mouseup|touchend",c);return!1}
function KB(){function a(){b&&(pz(),b=!1);d=c=null}var b=!1,c,d,f;return{Vn:function(a){S();var h=L(z),k=tl(h);c=k.pop();f={index:0,color:a.qa()};b||(oz(),b=!0);for(;c&&!gu(c);)dC(c),c.remove(),c=k.pop();c?(d||(h=c.Bb()[0],d={index:0,color:h?h.qa():G.yw}),c.He(0,a)):(a={type:"image",isBackground:!0,isRecolorable:!0,backgroundColor:f.color},_.extend(a,h.ya().serialize()),c=He(a),c.appendTo(h),d=f,Je(c))},confirm:function(){if(c&&c.ha()){var b={elementIndex:c.ea(),pageIndex:c.ha().ea(),"new":f,old:d};
C.register(new U(eC,b));d=f}a()},reset:a}}function sB(a){if($(a.target).is(".moreInfo")||$(a.target).is(".superKeyword"))return!1;S();a=$(a.currentTarget).parents("li")[0];a=$(a);fC(a);a=a.data("result");Rz(dA(a));return!1}
function tB(a){function b(a){var b=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;if(null==m&&(Math.abs(b-n)>=G.xb||Math.abs(a-p)>G.xb)){m=$('\x3cdiv class\x3d"clone bg"\x3e\x3c/div\x3e');g.zq()&&m.addClass("patterned");var c=$("img",d).clone(!0).off(""),w=parseInt(c.attr("width"),10),y=parseInt(c.attr("height"),10);w<y?c.css("width",k).css("height",c.height()):c.css("width",c.width()).css("height",k);m.data("li",f).append(c).css("left",
h.left).css("top",h.top).css("width",k).css("height",l).css("background-color",f.data("color"));$("#content").append(m);d.css("opacity",0);$("#search").blur();ZB(m,$B(r))}null!=m&&(a=h.top+a-p,m.css("left",h.left+b-n).css("top",a));return!1}function c(){function a(){$(this).remove();d.css("opacity",1)}$("#hotspots").remove();r.off("mousemove|touchmove",b).off("mouseup|touchend",c);d.removeClass("pickedUp");null==m||m.hasClass("disappeared")||m.hasClass("placing")?(m&&m.remove(),d.animate({opacity:1},
G.sa.ny)):(h=d.offset(),m.addClass("returning"),m.one("transitionend",a).css("left",h.left).css("top",h.top))}if(a.which==G.oe||a.ctrlKey)return!0;if($(a.target).is(".moreInfo")||$(a.target).is(".superKeyword"))return!1;var d=$(this);d.addClass("pickedUp");var f=d.parents("li"),g=f.data("result"),h=d.offset(),k=d.width(),l=d.height(),m=null,n=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,p=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,r=new Uk($(document));r.on("mousemove|touchmove",
b).on("mouseup|touchend",c);return!1}
function fC(a){var b=L(z),c=tl(b);0<c.length&&c[c.length-1].F().clone().removeClass("appearing").appendTo(b.F().children(".elements")).delay(G.sa.HL*G.To,function(){$(this).remove()});oz();c.forEach(function(a){var c=a.ea(),c={backgroundColor:a.Af(),elementIndex:c,oldElementIndex:c,pageIndex:T(z,b)};ku(a);C.register(new U(gC,c));dC(a);a.remove()});a=$("img",a);a=He(hC(a));var c=b.ya(),d=a.ya();Oi(d,c);a.Zb(d);b.addElement(a,!1,!0);Je(a);c=a.ea();ul(a);a={backgroundColor:a.Af(),elementIndex:a.ea(),
oldElementIndex:c,pageIndex:T(z,b)};C.register(new U(iC,a));pz()}
function Dr(a,b){function c(a){var b,c,d=a.width(),l=parseFloat(a.find("a").css("margin-right"));b=a.data("layoutItem");c=a.data("designItem");var m=a.data("searchResult");if(b)c=b.getContent(),b=c.width,c=c.height;else{if(c)c=pm(c.draft.imageSets.thumbnail);else if(c=m.getFile("ORIGINAL"),!c)return d;b=c.w();c=c.D()}return 80>(d-l)*c/b?Number(a.parent().width()):d}void 0===b&&(b=!0);void 0===a&&(a=$("#objectPanel .photoGallery, #objectPanel .infoPanelGallery"));var d=a.filter(".gridGallery");a=a.not(d);
jC(d);a.each(function(){var a=$(this),d=a.children("li"),h=a.hasClass("backgroundGallery");if(!(0>=d.length||(a.removeClass("laidOut"),0>=a.width()))){b||d.filter(":not(.newSearch)").addClass("doNotTransition");$("img",a).css("height","");d.css("width","").css("left","").css("top","");var k;k=a.hasClass("templateGallery")?c(d.first()):d.first().width();for(var l=parseInt($("a",this).css("margin-right"),10),m=parseInt($("a",this).css("margin-bottom"),10),n=Math.round(a.width()/k),p=a.data("columnData"),
r={TK:k,marginRight:l,marginBottom:m,la:[]},q=p&&p.la.length==n&&p.TK==k,v=0;v<n;v++)r.la[v]={height:0,items:[],$c:0},q&&(r.la[v].$c=p.la[v].$c);var x=null;a.children("li").find("a.infoOpen").parents("li").first().each(function(){var a=$("img",this),b=a.attr("width")||a.get(0).naturalWidth,a=a.attr("height")||a.get(0).naturalHeight;x=$(this).data("originalTop")+(k-l)/b*a+m});null!=x&&q||d.removeData("modifiedTop");d.each(function(){for(var b=$(this),c=b.data("result"),d=0,g=r.la[d].height,n=0;n<r.la.length;n++)if(0==
r.la[n].height){d=n;g=0;break}else r.la[n].height<g&&(d=n,g=r.la[n].height);var n=b.find("a"),p=b.find("img"),v,w;0<p.length?(v=parseInt(p.attr("width"),10)||p.get(0).naturalWidth,w=parseInt(p.attr("height"),10)||p.get(0).naturalHeight):w=v=k;var y=v>w,B=k-l,oa=B/v*w;p.css("height",oa);b.hasClass("grid")&&(oa=b.data("layoutItem").getContent(),oa=(k-l)*oa.height/oa.width,b.find("a").css("height",oa));b.data("originalTop",g).css("width",k).css("left",d*k);h&&(y&&(B=v/w*(k-m),p.css("width",B).css("height",
"")),"backgroundColorAlbum"===b.attr("id")?b.add(n).add(p).css("width","").css("height",""):(b.height(k),n.height(k-m),c&&!c.zq()&&(oa=y?0:(k-m-oa)/2,p.css("margin-left",(k-l-B)/2).css("margin-top",oa))),c&&(c.yc()&&(oa="#"+(G.vJ[c.G()]||"888888"),b.data("color",oa),n.css("background-color",oa)),c.zq()&&b.addClass("patterned")),oa=k-m);c=d;b.hasClass("newSearch")?(d=0,null!=x&&g+oa+m>x&&(d=r.la[c].$c,0==d&&(d=kC(a.parents(".searchGroup")),d+=x-r.la[c].height,r.la[c].$c=d),b.data("modifiedTop",g+d)),
b.css("top",g+d)):b.data("modifiedTop")?(c=b.data("columnIndex"),g=b.data("modifiedTop"),b.css("left",c*k).css("top",g).data("originalTop",g-r.la[c].$c)):q?(c=b.data("columnIndex"),b.css("left",c*k).css("top",r.la[c].height).data("originalTop",r.la[c].height)):b.css("top",g);r.la[c].height+=oa+m;r.la[c].items.push(b);b.data("columnIndex",c)});a.data("columnData",r);a.parents(".searchGroup").height();a.addClass("laidOut");b||window.setTimeout(function(){d.filter(":not(.newSearch)").removeClass("doNotTransition")},
G.sa.Uq);var w=a.parent(".searchGroup"),n=a.parents(".layer").find("\x3e .inner \x3e .searchGroup").last().get(0)==w.get(0);Er(w,!n);var y=w.height(),B=a.hasClass("templateGallery")?4:1;setTimeout(function(){var b=lC(a.parents(".results")),c=0<a.parents("#resultsSearch").length,d=c?mC(w):0,g=-1;a.children("li.newSearch").each(function(){var a=$(this),f=!1;(f=c?d+a.data("originalTop")<b:parseInt(a.css("top"),10)<y)?window.setTimeout(function(){a.removeClass("newSearch")},++g*G.sa.Hn*B):a.addClass("doNotTransition").removeClass("newSearch").removeClass("doNotTransition")})},
G.wb)}})}
function jC(a){void 0===a&&(a=$("#objectPanel").find(".gridGallery"));var b=$("a",a).width();$("li, a",a).css("height",b);a.addClass("laidOut");a.each(function(){var a=$(this),b=a.children("li"),a=a.parents(".searchGroup"),f=a.parents(".layer"),g=f.offset(),h=f.height();b.each(function(){var a=$(this),b=a.position().top+(a.hasClass("newSearch")?50:0);a.data("originalTop",b)});Er(a,!1);setTimeout(function(){b.each(function(a){var b=$(this);b.offset().top<g.top+h?setTimeout(function(){b.removeClass("newSearch")},a*
G.sa.Hn):b.removeClass("newSearch")})},G.wb)})}
function hC(a){var b=a.parents("li"),c=b.data("result");c||(b=a.parent().data("li"),c=b.data("result"));var d=0<b.parents("#resultsBackground").length,f=parseInt(a.data("screen-width")||a.attr("width"),10),g=parseInt(a.data("screen-height")||a.attr("height"),10),h="image";a.hasClass("svg")?(h="svg",f*=ab.Ti,g*=ab.Ti):a.hasClass("graphic")&&(h="graphic");var k=c.Zp();return{type:h,origin:c.Mc(),mediaId:c.G(),mediaVersion:c.getVersion(),mediaApproved:void 0!==a.data("mediaApproved")?a.data("mediaApproved"):
!0,width:f,height:g,isDark:!!a.hasClass("dark"),isBackground:c.mb()&&d,isCutout:c.Ef(),isRepeating:c.zq(),isRecolorable:c.yc(),backgroundColor:c.yc()?b.data("color"):void 0,spritesheetMetadata:k&&Ve(k)}}function nC(a){var b=$e(z.Sa().dc()),c=$("img",a);a=c.parents("li").data("result");var c=He(hC(c)),d=c.w(),f=c.D(),g=Math.min(d,b.w()*G.fh),h=g/d*f;h>b.D()*G.fh&&(h=b.D()*G.fh,g=h/f*d);c.pa(g);c.oa(h);Kt(c);c.ur();L(z).addElement(c,!0);c.Ih()&&oC(a,c);Je(c)}
function oC(a,b){"CANVA"!==a.Mc()&&Me(lb,a,b)}function pC(a){var b=a.parents(".photoGallery").first();a.find(".info").remove();a.find("a").addClass("removed");a.find("img").addClass("removed");a.addClass("removed");window.setTimeout(function(){a.remove();Dr(b)},500)}function Cr(){$(".infoPanel .close").click()}
function uB(a){function b(a){a=a.G();var b=c();return b.hasOwnProperty(a)?b[a]:null}function c(){return(new pf(window.viewConfig)).Zf.get("magicTemplates",[]).map(iB).reduce(function(a,b){a[b.template]=qC(b);return a},{})}function d(){m.removeClass("transitioning")}var f=$(this).parents("a"),g=$("img",f),h=f.parents("li"),k=f.parents(".gallery"),l=f.parents(".layer"),m=f.parents(".searchGroup"),n=$(this).parents(".results"),p=rC(m),r=parseInt(m.css("margin-top"),10),q=1===$(this).parents("#resultsUpload").length,
v=1===$(this).parents("#resultsLayout").length,x=sC(m),w=0,y=m.prevAll(".searchGroup");y.each(function(){w=Math.max(w,sC($(this)));x+=w});v&&x>l.height()&&(l.find(".infoPanel").css("height","0"),y.find(".infoPanel").css("height","0"),l.scrollTop(l.scrollTop()-x));l.find(".infoPanel .close").click();f.addClass("infoOpen");var y=h.data("result"),B=h.data("designItem"),F=h.data("originalTop"),D=h.height(),E=F+D,p=p+E+mC(m),r=p-w+r;if(null!=y||null!=B){a=(new tC({bb:Fq(Cq()).na().Gk(),eb:db,Az:!!B,Iz:!!y,
Gf:!(!y||!Wz(y)),Jz:!1===g.data("mediaApproved"),Kz:q,al:B&&b(B),model:y||B,pA:pC.bind(null,h),C:a,fa:nb})).render().$el;a.data("item",f);a.css("top",r).appendTo(m);f.data("infoPanel",a);var H=$('\x3cdiv class\x3d"infoPanelPointer"\x3e\x3c/div\x3e');H.css("left",parseInt(h.css("left"),10)+parseInt(a.css("left"),10)+h.width()/2).css("top",r).appendTo(m);a.data("infoPanelPointer",H);var V=a.height(),R=a.outerHeight(!0);a.one("transitionend",d).css("height",0).delay(G.wb,function(){$(this).addClass("on").css("height",
V);H.addClass("on")});var O=uC(k,E),O=O.filter(function(a){return a!=h.get(0)}),W=k.data("columnData");W.la.forEach(function(a){var b=null;a.items.filter(function(a){return-1<O.indexOf(a.get(0))}).forEach(function(c){var d=c.data("originalTop");null===b&&(b=E+R-d,a.$c=b);c.css("top",d+b).data("modifiedTop",d+b).data("columnIndex",W.la.indexOf(a))})});f=l.find("\x3e .inner \x3e .searchGroup").last().get(0)==m.get(0);m.addClass("transitioning");Er(m,!f);v?setTimeout(function(){var a=h.parents(".scrollPane").get(0).getBoundingClientRect(),
b=h.get(0).getBoundingClientRect(),c=a.top>b.top,d=a.height>R+b.height,f=0;a.height-b.bottom>R?c&&(f=b.top-a.top-15):f=d?R-(a.bottom-b.bottom):b.top-a.top-15;30>=f&&-30<=f&&(f=0);l.animate({scrollTop:l.scrollTop()+f},G.sa.yl)},300):(v=p+R,n=lC(n),f=v-r<l.height(),v>n&&f?l.animate({scrollTop:l.scrollTop()+(v-n)},G.sa.yl):r<l.scrollTop()&&l.animate({scrollTop:l.scrollTop()-(l.scrollTop()-r)},G.sa.yl),m.hasClass("inlineFolderGroup")&&K.trigger("infoPanelToggle",m,sC(m)))}}
function vB(){var a=$(this),b=a.parents("a").parents("li"),c=!0===b.data("superKeywordAdd"),d=b.data("query"),f=b.data("result");if(d&&f){var g=(f.bz()||[]).slice();c?g.push(d):g=g.filter(function(a){return a!==d});g=g.map(function(a){return new $v("en_US",a.trim())});f=mw((new Ov).eh(f.G()).ag(f.getVersion()),g);Mv(gb,f,function(f){200==f&&(c?(a.removeClass("superMiss"),a.addClass("superHit"),a.attr("title","Remove superKeyword '"+d+"'"),b.data("superKeywordAdd",!1)):(a.removeClass("superHit"),a.addClass("superMiss"),
a.attr("title","Add superKeyword '"+d+"'"),b.data("superKeywordAdd",!0)))})}}
function vC(){var a=$(this).parents(".infoPanel"),b=a.data("xhr"),c=a.data("item");c.removeClass("infoOpen");c.parents("li").siblings().each(function(){var a=$(this).data("originalTop");$(this).css("top",a).removeData("modifiedTop")});var d=a.parents(".searchGroup").first();d.addClass("transitioning").height(d.data("contentHeight"));$(".gallery",d).data("columnData").la.forEach(function(a){a.$c=0});a.one("transitionend",function(){f&&(f.remove(),a.remove(),d.removeClass("transitioning"))}).removeClass("on").css("height",
0);var f=a.data("infoPanelPointer");f.removeClass("on");b&&b.cancel();b=null;a.removeData("xhr");d.hasClass("inlineFolderGroup")&&K.trigger("infoPanelToggle",d,0);return!1}
function yB(a){function b(a){function b(){w=$('\x3cdiv class\x3d"clone"\x3e\x3c/div\x3e');var a=hC(m);y=He(a);y.pa(r);y.oa(q);var c=$('\x3cdiv class\x3d"cloneInner"\x3e').append(y.F()),f;m.is(".svg")?f="svg":m.is(".graphic")&&(f="graphic");f&&(w.addClass(f),c.addClass(f),a=lb.Ub(a.mediaId,a.mediaVersion),y.Gl(a[eu].ma()));w.append(c).css("left",h.left).css("top",h.top).css("transform-origin","top left").css("transform","scale("+k/v+", "+l/x+")").toggleClass("cutout",y.Ef()).data("li",g.parents("li")).data("canvaElement",
y).data("isOrganicSearchResult",d);$("#content").append(w);g.css("visibility","hidden");(y.Vs()||y.Ef())&&of(w,null,$B(Q));$("#search").blur()}var c=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;if(null==w)if($B(Q)){var f=Qj(H,V,c,a);if(300<f||60>f)b();else return!0}else(Math.abs(c-H)>G.xb||Math.abs(a-V)>G.xb)&&b();if(null!=w){var n=Math.min(1,Math.sqrt(Math.pow(c-H,2)+Math.pow(a-V,2))/W),f=Math.min(1,k/(v*(1-n))),
p=Math.min(1,l/(x*(1-n)));c>H?(w.css("transform","scale("+f+", "+p+")"),y.kp()&&(null===y.kh&&Kt(y),Mt(y,n),y.ur()),n=Math.round(h.top+a-V-(p*x-l)*O),w.css("left",Math.round(h.left+c-H-(f*v-k)*R)).css("top",n)):w.css("transform-origin","top left").css("transform","scale("+k/v+", "+l/x+")").css("left",h.left+c-H).css("top",h.top+a-V);(c<F.left||c>F.left+B.outerWidth()||a<F.top||a>F.top+B.outerHeight())&&w&&!w.hasClass("disappeared")&&!w.hasClass("placing")&&hf(D,w)?(null==pa&&(pa=new jf(w,E)),lf(pa,
ja,oa)):$("#overlays .align").removeClass("on")}return!1}function c(a){function f(){$(this).remove();g.css("visibility","visible")}function m(){g.css("opacity",0);window.setTimeout(function(){g.one("transitionend",function(){$(this).removeClass("reappearing")}).css("visibility","").addClass("reappearing").css("opacity","")},G.wb)}Q.off("mousemove|touchmove",b).off("mouseup|touchend",c);if(!0!==wC){$("#overlays .align").removeClass("on");$("#content").trigger("mousedown");S();var n=void 0!==a.clientX?
a.clientX:a.changedTouches[0].clientX;a=void 0!==a.clientY?a.clientY:a.changedTouches[0].clientY;var p=Math.abs(a-V)>G.xb,r=Math.abs(n-H)>G.xb||p;$("#hotspots").remove();g.delay(G.sa.gQ,function(){$(this).removeClass("pickedUp")});var q=g.parents("li");if(q.data("result")){p=q.data("result");if(null==w&&!r)return $("#search").blur(),nC(q),n=dA(p,d),Rz(n),!1;null!=w&&null!=y&&((n<F.left||n>F.left+B.outerWidth()||a<F.top||a>F.top+B.outerHeight())&&w&&!w.hasClass("disappeared")&&hf(D,w)?(y.setPosition(pa.W(),
pa.N()),y.pa(pa.w()),y.oa(pa.D()),(n=L(z))&&y.appendTo(n),y.Ih()&&oC(p,y),Je(y),Ke(y),m(),n=dA(p,d),Rz(n),w.remove()):null==w||w.hasClass("disappeared")?null!=w&&w.hasClass("disappeared")&&(m(),xC(w.data("placedInElement"))):(h=g.offset(),w.addClass("returning"),w.one("transitionend",f).css("left",h.left).css("top",h.top).css("transform","scale("+k/v+", "+l/x+")")))}}}if(a.which==G.oe||a.ctrlKey)return!0;if($(a.target).is(".removed")||$(a.target).is(".moreInfo")||$(a.target).is(".superKeyword"))return!1;
var d=1===$(this).parents("#resultsSearch").length,f=$e(z.Sa().dc()),g=$(this);g.addClass("pickedUp");var h=g.offset(),k=g.width(),l=g.height(),m=$("img",g).first(),n=hC(m),p=n.width,n=n.height,r=Math.min(p,f.w()*G.fh),q=r/p*n;q>f.D()*G.fh&&(q=f.D()*G.fh,r=q/n*p);var v=r*N,x=q*N,w=null,y=null,B=$("#objectPanel"),F=B.offset(),D=yC(),E=D.offset(),H=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,V=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,R=(H-h.left)/k,O=(V-h.top)/
l,W=Math.abs(H-(F.left+B.outerWidth())),Q=new Uk($(document));Q.on("mousemove|touchmove",b).on("mouseup|touchend",c);var pa=null,oa=kf(),ja={};return zC}
function AB(a){function b(a){function b(a){var c=$('\x3cdiv class\x3d"clone"\x3e\x3c/div\x3e'),d=a.offset(),f=a.width(),g=a.height();c.append(Xw(m,new M(0,0,f,g))).css("left",d.left).css("top",d.top).css("width",f).css("height",g).css("transform-origin","top left");$("#content").append(c);a.css("visibility","hidden");$("#search").blur();return c}var c=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;var d=c-v.x,g=a-v.y,
p=Math.abs(d)>G.xb||Math.abs(g)>G.xb;if(!n)if(p)n=b(f);else if($B(B))if(g=180*Math.atan2(g,d)/Math.PI,300<g||60>g)n=b(f);else return!0;if(n){var d=kj(kj(d,0,d)/y),g=m.width*N,p=m.height*N,pa=lj(1,g/k,d),oa=lj(1,p/l,d);n.css("transform-origin","top left").css("transform","scale("+pa+", "+oa+")").css("left",h.left+c-v.x-lj(0,(g-k)*x.x,d)).css("top",h.top+a-v.y-lj(0,(p-l)*x.y,d));c>w&&hf(r,n)?(F=F||new jf(n,q),lf(F,E,D)):AC()}return!1}function c(a){function g(){$(this).remove();f.css("visibility","visible")}
function k(){f.css("opacity",0);P.delay(G.wb).then(function(){f.one("transitionend",function(){$(this).removeClass("reappearing")}).css("visibility","").addClass("reappearing").css("opacity","")})}B.off("mousemove|touchmove",b).off("mouseup|touchend",c);if(!0!==wC){AC();S();a=d(a);var l=Math.abs(a.x-v.x)>G.xb||Math.abs(a.y-v.y)>G.xb,q=He(m);q.render();if(!l&&!n)return $("#search").blur(),p.addElement(q,!0),Je(q),!1;n&&(a.x>w&&hf(r,n)&&q?(q.setPosition(F.W(),F.N()),q.appendTo(p),Je(q),Ke(q),k(),n.remove()):
(n.addClass("returning"),n.one("transitionend",g).css("left",h.left).css("top",h.top).css("transform","scale(1, 1)")))}}function d(a){return{x:void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,y:void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY}}if(a.which==G.oe||a.ctrlKey)return!0;var f=$(this),g=f.parents("li").data("chart-name"),h=f.offset(),k=f.width(),l=f.height(),m=$.extend(!0,[],Xi[g]),n=null,p=L(z),r=p.F(),q=r.offset(),v=d(a),x={x:(v.x-h.left)/k,y:(v.y-h.top)/l},
w=document.getElementById("objectPanel").getBoundingClientRect().right,y=Math.abs(v.x-w),B=new Uk($(document));B.on("mousemove|touchmove",b).on("mouseup|touchend",c);var F=null,D=kf(),E={};return zC}
function zB(a){function b(a){function b(){h=f.clone(!1);h.appendTo("#content").css("top",q).css("left",r).addClass("clone draggableGridItem dragging");f.css("visibility","hidden")}var c=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;if(null==h)if($B(O)){var d=Qj(E,H,c,a);if(300<d||60>d)V=!0,b();else return!0}else c-E>G.xb&&(V=!0,b());null!=h&&(a=Math.min(1,Math.sqrt(Math.pow(c-E,2)+Math.pow(a-H,2))/R),a=c<=E?0:a,c=
2+(m-2)*a,d=x+(D-x)*a,h.css("width",v+(F-v)*a).css("height",d),d=q+(B-q)*a,h.css("left",r+(y-r)*a).css("top",d),h.find("\x3e .rows, \x3e .columns, .item \x3e .content").css("left",c/2).css("right",c/2).css("top",c/2).css("bottom",c/2));return!1}function c(){p.za().forEach(function(a){if(a instanceof kt){for(var b=a.Od(),c,d=!0,f=0>=a.N()&&0>=a.W()&&0===a.Ma()&&a.w()>=p.w()&&a.D()>=p.D(),g=0;g!==b;g++)if(c=a.gj(g).mediaId){d=!1;break}d&&f&&a.remove()}})}function d(a){function g(a){function b(a){this==
a.target&&$(this).off("animationend",b).remove()}this==a.target&&($(this).off("transitionend",g).on("animationend",b).addClass("disappearing"),f.css("visibility",""))}function k(){f.css("opacity",0);setTimeout(function(){f.one("transitionend",function(){$(this).removeClass("reappearing")}).css("visibility","").addClass("reappearing").css("opacity","")},G.wb)}a=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;V?a>=y?(n.Zb(w),c(),n.appendTo(p),Ke(n),Je(n),k(),h.remove()):(h.addClass("returning").on("transitionend",
g),parseInt(h.css("left"),10)==Math.floor(r)&&parseInt(h.css("top"),10)==Math.floor(q)?h.trigger("transitionend"):h.css("left",r).css("top",q).css("width",v).css("height",x)):(n.Zb(w),c(),p.addElement(n,!0),Je(n));O.off("mousemove|touchmove",b).off("mouseup|touchend",d)}if(a.which==G.oe||a.ctrlKey)return!0;$("#search").blur();S();var f=$(a.currentTarget),g=f.offset(),h=null,k=f.parents("li").data("grid-name"),l=$.extend(!0,[],Wi[k].items),m=(Wi[k].spacing||G.zs)*N,n=new kt({items:l}),p=L(z),k=$(p.F()).offset(),
r=g.left,q=g.top,v=f.width(),x=f.height(),w=bj(p.w(),p.D(),n.spacing,0<tl(p).length),g=w.clone().scale(N).translate(k.left,k.top).round(),y=g.W(),B=g.N(),F=g.w(),D=g.D(),E=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,H=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,V=!1,R=y-E,O=new Uk($(document));O.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}
function sC(a){var b=0,c=$(".gallery",a).data("columnData");if(c)b=Array.max(c.la.map(function(a){return a.$c}));else return b;b=Array.max(c.la.map(function(a){return a.height}));c=Array.max(c.la.map(function(a){return 0==a.height?0:a.height+a.$c}));return b=b!=c?c-b:kC(a)}function kC(a){var b=0,c=$(".infoPanel",a).clone();0<c.length&&(c.appendTo(a).addClass("doNotTransition").css("height","").css("display","none"),b=c.outerHeight(!0),c.remove());return b}
function Er(a,b){if(0!=a.parents(".results.infinite").length){var c=a.parents(".results").first(),d=a.is(".inlineFolderGroup")||c.is("#resultsLayout"),f=d?a.find("p button")?a.find("p").height():0:rC(a),g=0;$(".gallery li",a).each(function(a,b){a=$(b);g=Math.max(g,a.data("originalTop")+a.height())});g+=f;a.data("contentHeight",g);f=sC(a);b||d?a.height(g+f):a.height(Math.max(g+f,c.height()))}}
function BB(){var a=$(this).parent(".results");clearTimeout(a.data("scrollTimer"));var b=setTimeout(function(){BC(a)},100);a.data("scrollTimer",b)}
function uC(a,b){var c=[];a=a.data("columnData");if(void 0===a)return c;a=a.la;for(var d=0;d<a.length;d++){for(var f=a[d].items,g=0,h=!1,k=0;k<f.length;k++){var l=f[k],m=l.data("originalTop")||0,m=(l.data("modifiedTop")||m)-m;0==m||h||(g+=m,h=!0);g+=l.height();if(g>b)break}c=c.concat(f.slice(k))}return c.map(function(a){return a.get(0)}).filter(function(a){return null!=a.parentNode})}
function OB(a,b){var c;c=a.find("\x3e .layer \x3e .inner \x3e .searchGroup").find(".gallery li").first();var d=a.hasClass("twoCol")?120:70;c=c.width()||d;a=Math.floor(Math.abs(a.children(".layer").width())/c)||1;return Math.max(18,a*Math.max(Math.ceil(b/c),3))}
function BC(a){if(null!=wB&&!a.is(".modifying")){var b=a.children(".layer").last(),c=b.find("\x3e .inner \x3e .searchGroup").last();0<$(".searchLoaderHolder \x3e .searchLoader",a).length||0<$(".searchLoader",c).length||ff().read(function(d){var f=c.outerHeight()+c.offset().top-(a.offset().top+a.outerHeight());CC()&&f<=a.outerHeight()*G.CC&&d.write(function(){var c=b.find("\x3e .inner \x3e .searchGroup .gallery li").length;c>G.Bs&&DC(b,c-G.Bs);c=a.find(".searchLoaderHolder");MB(c);c.addClass("on");
wB.from+=wB.limit;wB.zH()})})}}
function DC(a,b){for(var c=a.parents(".results"),d=$(),f=$(),g=a.find("\x3e .inner \x3e .searchGroup").toArray(),h=0;h<g.length&&!(0>=b);h++){var k=$(g[h]),l=$(".gallery li",k);if(l.length<b)d=d.add(k),b-=l.length;else for(var k=b,m=0;m<k;m++)f=f.add(l[m]),b--}b=f.parents(".searchGroup").add(d);g=$(".infoPanel",b);0<g.length&&(b.addClass("doNotTransition"),g.addClass("doNotTransition"),$(".close",g).click(),g.data("infoPanelPointer").remove(),g.remove(),b.removeClass("doNotTransition"));c.addClass("modifying");
a.find("\x3e .inner \x3e .searchGroup").addClass("doNotTransition");b=a.scrollTop();var g=f.parents(".searchGroup"),n=0;0<g.length&&(h=g.outerHeight(!0),l=$(".gallery",g),l.removeData("columnData"),f.remove(),Dr(l),n+=h-g.outerHeight(!0));d.each(function(){n+=$(this).outerHeight(!0)});d.remove();g=a.find("\x3e .inner \x3e .searchGroup .infoPanel");0<g.length&&g.addClass("doNotTransition").css("top",parseInt(g.css("top"),10)-n).removeClass("doNotTransition");a.scrollTop(Math.max(0,b-n));a.find("\x3e .inner \x3e .searchGroup").removeClass("doNotTransition");
c.removeClass("modifying")}function rC(a){return 0==a.length?0:$(".gallery, .noResults",a).offset().top-a.offset().top}function EC(a){a=a.find("\x3e .inner \x3e .searchGroup").last();return mC(a)+a.outerHeight(!0)}function mC(a){return 0==a.length?0:a.parents(".layer").scrollTop()+a.position().top}
function FC(a,b){if(null!=a&&0!=b.length){var c=b.toArray();a.la.forEach(function(a){c.forEach(function(b){var c=a.items.map(function(a){return a.get(0)}).indexOf(b);-1>=c||(a.items.splice(c,1),a.height-=$(b).height(),void 0!==$(b).data("modifiedTop")&&1<=c&&void 0===a.items[c-1].data("modifiedTop")&&(a.$c=0))})})}}function lC(a){var b=a.children(".layer").last().scrollTop();a=a.height();return b+a}
function LB(){var a=$("#objectPanel \x3e menu \x3e li.on").index();return $("#objectPanel \x3e .content \x3e .results").eq(a)}function GC(a,b){$(".warningPanel"+b).one("animationend",function(){$(this).removeClass("on off")}).addClass("off");$("body").removeClass("blockDocument");return!1}function DB(){return GC.call(this,0,"#someoneElseEditing")}function EB(){return GC.call(this,0,"#inReview")}function GB(){return GC.call(this,0,"#touchDevice")}function HC(){$("#inReview").addClass("on");IC()}
function JC(){$("#outOfSync").addClass("on");$("#outOfSync button").on("click",function(){window.location.reload();return!1})}function KC(){$("#savingError").addClass("on");$("#savingError button").on("click",function(){window.location.reload();return!1})}function LC(){$("#savingError").hasClass("on")&&$("#savingError").one("animationend",function(){$(this).removeClass("on off")}).addClass("off")};function MC(){this.zc=[];this.$n=[];this.ij=[];this.VA=this.ZB=!1}e=MC.prototype;e.trigger=Backbone.Events.trigger;e.listenTo=Backbone.Events.listenTo;e.stopListening=Backbone.Events.stopListening;e.on=Backbone.Events.on;e.once=Backbone.Events.once;e.off=Backbone.Events.off;_.extend(MC.prototype,Backbone.Events);
MC.prototype.register=function(a){if(a.data["new"]&&a.data.old&&JSON.stringify(a.data["new"])==JSON.stringify(a.data.old)||this.ZB||this.VA)return!1;var b=a instanceof NC;0<this.ij.length?this.ij[this.ij.length-1].push(a):(this.zc.push(a),this.$n=[],!b&&z.trigger("change"));return!0};function OC(){var a=C;return a.zc.length?a.zc[a.zc.length-1]:null}function oz(){var a=C,b=new NC;a.register(b);a.ij.push(b)}
function pz(){var a=C;if(0==a.ij.length)throw Error("mismatched number of .endGrouping calls");var b=a.ij.pop();0==b.getLength()&&a.zc.splice(a.zc.indexOf(b),1);0==a.ij.length&&z.trigger("change")}
function MA(a,b){var c=C;function d(a){var b=[];a instanceof U?b.push(a):a instanceof NC&&a.zc.forEach(function(a){b=b.concat(d(a))});return b}function f(a,b,c){a.mediaId===b.mediaId&&a.mediaVersion===b.mediaVersion&&(a.mediaId=c.mediaId,a.mediaVersion=c.mediaVersion)}c=c.zc.map(d).concat(c.$n.map(d));[].concat.apply([],c).forEach(function(c){switch(c.Xa){case PC:f(c.data["new"],a,b);f(c.data.old,a,b);break;case QC:case RC:f(c.data,a,b)}})}
function SC(a){var b=[];if(a instanceof NC)a=a.zc,a.forEach(function(a){a=SC(a);b=b.concat(a)}),2===b.length&&2==a.length&&a[0]instanceof U&&a[1]instanceof U&&a[0].Xa==QC&&a[1].Xa==PC&&(b=SC(a[0]));else if(a.Xa!=RC&&(a instanceof U||a instanceof TC)){var c=a.data.elementIndex;z.aa[a.data.pageIndex].za().forEach(function(a){a.ea()==c&&b.push(a)})}return b}function UC(){this.Xa=null;this.data={}}UC.prototype.Yh=function(){throw Error("classes that inherit from Operation must implement .perform");};
UC.prototype.invert=function(){throw Error("classes that inherit from Operation must implement .invert");};function VC(a){return $.extend(!0,{},a)}function NC(){this.zc=[]}NC.prototype=new UC;NC.prototype.Yh=function(){this.zc.forEach(function(a){a.Yh()})};NC.prototype.invert=function(){var a=new NC;this.zc.reverse();this.zc.forEach(function(b){a.push(b.invert())});this.zc.reverse();return a};NC.prototype.push=function(a){this.zc.push(a)};NC.prototype.getLength=function(){return this.zc.length};
var Sk=1,RC=2,QC=3,PC=5,iC=7,gC=8,eC=9;function U(a,b){this.Xa=a;this.data=b}U.prototype=new UC;
U.prototype.Yh=function(){Tk();var a=z.aa[this.data.pageIndex],b=a.za().length,c;switch(this.Xa){case QC:c=He($.extend(!0,{},this.data));break;case 4:case iC:case gC:c=a.elements[this.data.oldElementIndex]||null;break;default:c=a.elements[this.data.elementIndex]||null}if(!c)throw Error("error performing operation on non-existent element");var d,f;switch(this.Xa){case Sk:a=this.data["new"];null!=a.left&&c.Va(a.left);null!=a.top&&c.Wa(a.top);null!=a.rotation&&c.pi(a.rotation);null!=a.flipOrientation&&
c.El(a.flipOrientation);null!=a.transparency&&c.qo(a.transparency);null!=a.borderWidth&&rv(c,a.borderWidth);null!=a.spacing&&c.Ov(a.spacing);null!=a.padding&&sv(c,a.padding);null!=a.verticalAlignment&&(c.Vc=a.verticalAligment);c.setSize(null==a.width?c.w():a.width,null==a.height?c.D():a.height);null!=a.transformDependentData&&c.KH(a.transformDependentData);break;case 11:a=this.data["new"];c=c.$i(this.data.placeholderIndex);a.filter?dy(ju(c),a.filter)||my(c,a.filter):ny(c);break;case 10:a=this.data["new"];
null!=a.link&&(a=a.link,rt(a)?c.link=a||"":c.link="");break;case RC:c.remove();break;case 4:d=this.data.elementIndex;this.data.oldElementIndex<d&&d++;b=a.za().length;d=Math.max(Math.min(b,d),0);f=a.elements[d]||null;d==b?c.appendTo(a):f&&c.insertBefore(f);break;case QC:d=this.data.elementIndex;c=$.extend(!0,{},this.data);c=He(c);d=Math.max(Math.min(b,d),0);f=a.elements[d]||null;d==b?c.appendTo(a):f&&c.insertBefore(f);break;case PC:c.Nj(this.data.placeholderIndex,this.data["new"]);break;case 6:a=c.Wp(this.data.placeholderIndex);
c.Dl(a);a=this.data["new"];d=Ei(a.imageBox);b=Ei(a.placeholderBox);c instanceof ht?a.cropped?(ii(c,b),c.Tg(d),c.tk(),c.Va(a.left),c.Wa(a.top)):(c.Va(a.left),c.Wa(a.top),c.pa(d.w()),c.oa(d.D()),ii(c,b),c.Tg(d),c.aw=!1,c.kg=!1,c.F().find("img").css("transform","").css("width","").css("height","")):(c.Tg(d),c.tk());break;case iC:ul(c);Et(a,c,this.data.elementIndex);this.data.backgroundColor&&c.He(0,this.data.backgroundColor);break;case gC:ku(c);Et(a,c,this.data.elementIndex);break;case eC:d=this.data["new"];
a=d.index;d.placementData?c.Nj(a,d.placementData):(d=rf(d.color),c.He(a,d));break;case 12:c.Ka[this.data.placeholderIndex].El(this.data["new"].flipOrientation);break;case 13:b=this.data.childRange;f=this.data.elements;c=$.extend(!0,{},this.data);c.elements=[];d=this.data.elementIndex;c=new qt(c);Et(a,c,d);if(2===b.length){d=b[0];for(var g=0;d<=b[1];d++,g++){var h=a.elements[d]||null;h&&(h.setPosition(f[g].left,f[g].top),h.setSize(f[g].width,f[g].height),h.qo(f[g].transparency),h.pi(f[g].rotation),
c.addElement(h),c.F().find(".elements").append(h.F()))}}break;case 14:WC(c);break;default:throw Error("cannot perform unknown operation type "+this.Xa.toString());}};
U.prototype.invert=function(){function a(a){var b=a.elementIndex;a.elementIndex=a.oldElementIndex;a.oldElementIndex=b}var b=VC(this.data);switch(this.Xa){case Sk:case 11:case 6:case PC:case eC:case 10:case 12:return b["new"]=this.data.old,b.old=this.data["new"],new U(this.Xa,b);case QC:case RC:return new U(this.Xa==QC?RC:QC,b);case 4:return a(b),new U(this.Xa,b);case iC:return a(b),new U(gC,b);case gC:return a(b),new U(iC,b);case 13:return new U(14,b);case 14:return new U(13,b);default:throw Error("cannot invert unknown operation type "+
this.Xa.toString());}};function XC(a,b){this.Xa=a;this.data=b}XC.prototype=new UC;XC.prototype.Yh=function(){Tk();var a=null;1==this.Xa?(a=$.extend(!0,{},this.data),a=new ml(z,a)):a=z.aa[this.data.pageIndex];switch(this.Xa){case 5:a=z.aa[this.data.oldPageIndex];case 1:vl(z,a,this.data.pageIndex);break;case 2:a.za().forEach(function(a){YC(a)});xl(z,a);break;case 4:ZC(a,this.data["new"]);break;default:throw Error("cannot perform unknown operation type "+this.Xa.toString());}};
XC.prototype.invert=function(){var a=VC(this.data);switch(this.Xa){case 1:case 2:return new XC(1==this.Xa?2:1,a);case 4:return a["new"]=this.data.old,a.old=this.data["new"],new XC(this.Xa,a);case 5:var b=a.pageIndex;a.pageIndex=a.oldPageIndex;a.oldPageIndex=b;return new XC(this.Xa,a);default:throw Error("cannot invert unknown operation type "+this.Xa.toString());}};function $C(a,b){return 4===a.Xa&&a.data.pageIndex===b}function TC(a,b){this.Xa=a;this.data=b}TC.prototype=new UC;
TC.prototype.Yh=function(){var a=z.aa[this.data.pageIndex].elements[this.data.elementIndex]||null;if(!a)throw Error("operation element index out of bounds "+this.data.elementIndex);switch(this.Xa){case 1:var b=this.data["new"];a.ri(this.data.textIndex,b);void 0!==b.height&&a instanceof Jr&&a.oa(b.height);break;default:throw Error("cannot perform unknown operation type "+this.Xa.toString());}};
TC.prototype.invert=function(){var a=VC(this.data);switch(this.Xa){case 1:return a["new"]=this.data.old,a.old=this.data["new"],new TC(this.Xa,a);default:throw Error("cannot invert unknown operation type "+this.Xa.toString());}};function aD(a,b){this.Xa=a;this.data=b}aD.prototype=new UC;
aD.prototype.Yh=function(){var a=this.data["new"];switch(this.Xa){case 1:z.resize($k(a.docType));break;case 2:z.YB(a.model,$k(a.docType));break;default:throw Error("cannot perform unknown document operation type "+this.Xa.toString());}};aD.prototype.invert=function(){var a=VC(this.data);a["new"]=this.data.old;a.old=this.data["new"];switch(this.Xa){case 1:return new aD(2,a);case 2:return new aD(1,a);default:throw Error("cannot invert unknown operation type "+this.Xa.toString());}};(function(a){a.path={};var b={rotate:function(a,b){var f=b*Math.PI/180;b=Math.cos(f);f=Math.sin(f);return[b*a[0]-f*a[1],f*a[0]+b*a[1]]},scale:function(a,b){return[b*a[0],b*a[1]]},add:function(a,b){return[a[0]+b[0],a[1]+b[1]]},bN:function(a,b){return[a[0]-b[0],a[1]-b[1]]}};a.path.$J=function(c){c.start=a.extend({angle:0,length:.3333},c.start);c.end=a.extend({angle:0,length:.3333},c.end);this.nv=[c.start.x,c.start.y];this.ov=[c.end.x,c.end.y];var d=b.bN(this.ov,this.nv),f=b.scale(d,c.start.length),
d=b.scale(d,-1),d=b.scale(d,c.end.length),f=b.rotate(f,c.start.angle);this.DG=b.add(this.nv,f);d=b.rotate(d,c.end.angle);this.EG=b.add(this.ov,d);this.bM=function(a){return a*a*a};this.cM=function(a){return 3*a*a*(1-a)};this.dM=function(a){return 3*a*(1-a)*(1-a)};this.eM=function(a){return(1-a)*(1-a)*(1-a)};this.css=function(a){var b=this.bM(a),c=this.cM(a),d=this.dM(a);a=this.eM(a);var f={};f.x=this.x=this.nv[0]*b+this.DG[0]*c+this.EG[0]*d+this.ov[0]*a+.5|0;f.y=this.y=this.nv[1]*b+this.DG[1]*c+this.EG[1]*
d+this.ov[1]*a+.5|0;f.left=f.x+"px";f.top=f.y+"px";return f}};a.fx.step.path=function(b){var d=b.end.css(1-b.pos);null!=d.sQ&&a.cssHooks.transform.set(b.elem,"rotate("+Math.atan2(d.pU-d.y,d.sQ-d.x)+")");b.elem.style.top=d.top;b.elem.style.left=d.left}})(jQuery);function cl(a,b,c,d){this.ia=a;this.EA=0;this.QB=23;this.ax="";a=this.C=c;a.ac||(a.ac=new yd(a.Ha));this.ac=a.ac;this.Si=b;this.fa=d}function bD(a){a.preventDefault();a.stopPropagation();return!1}var cD=[];
[[642,800,"https://static.canva.com/static/images/onboarding/lion-0.png"],[200,106,"https://static.canva.com/static/images/onboarding/lion-1.png"],[192,200,"https://static.canva.com/static/images/onboarding/lion-2.png"],[200,77,"https://static.canva.com/static/images/onboarding/lion-3.png"],[165,200,"https://static.canva.com/static/images/onboarding/lion-4.png"],[141,200,"https://static.canva.com/static/images/onboarding/lion-5.png"],[200,124,"https://static.canva.com/static/images/onboarding/lion-6.png"],[149,200,"https://static.canva.com/static/images/onboarding/lion-7.png"],[191,200,"https://static.canva.com/static/images/onboarding/lion-8.png"],[150,200,"https://static.canva.com/static/images/onboarding/lion-9.png"],[200,129,"https://static.canva.com/static/images/onboarding/lion-10.png"],
[129,200,"https://static.canva.com/static/images/onboarding/lion-11.png"],[200,154,"https://static.canva.com/static/images/onboarding/lion-12.png"],[200,174,"https://static.canva.com/static/images/onboarding/lion-13.png"],[200,70,"https://static.canva.com/static/images/onboarding/lion-14.png"],[124,200,"https://static.canva.com/static/images/onboarding/lion-15.png"],[200,176,"https://static.canva.com/static/images/onboarding/lion-16.png"],[200,132,"https://static.canva.com/static/images/onboarding/lion-17.png"],[200,149,"https://static.canva.com/static/images/onboarding/lion-18.png"]].forEach(function(a,b){var c="Monboarding"+b;0===b&&(c="M-YUM-LION");a=_.extend({},new Tz,{Za:function(){return""},
id:c,G:function(){return c},files:{Cw:{width:a[0],height:a[1],url:a[2]},Dw:{width:a[0],height:a[1],url:a[2]}}});cD.push(a)});function dD(){return{SCREEN:{ma:function(){return"https://static.canva.com/static/images/onboarding/lion-0.png"}},THUMBNAIL:{ma:function(){return"https://static.canva.com/static/images/onboarding/lion-0.png"}}}}function eD(a,b,c){c(200,{Aa:function(){return{getVersion:function(){return 0},ec:function(){return dD()}}}});return new Gh}e=cl.prototype;e.go=function(){fD(this)};
function gD(a,b,c,d){function f(){var c=g.shift();c===a.ax&&(c="\x3cbr\x3e");h+=c;b(h);0<g.length?window.setTimeout(f,250+Math.floor(100*Math.random())):window.setTimeout(d,250);return!1}var g=c.split(""),h="";b("");f()}
function hD(){for(var a=[],b=0;5!==b;b++)a[b]=new Image,a[b].crossOrigin="anonymous";a[0].src="https://static.canva.com/static/images/onboarding/lion-0.png";a[1].src="https://static.canva.com/static/images/onboarding/lion-1.png";a[2].src="https://static.canva.com/static/images/onboarding/lion-2.png";a[3].src="https://static.canva.com/static/images/onboarding/lion-3.png";a[4].src="https://static.canva.com/static/images/onboarding/lion-4.png"}e.XF=function(){var a=this;hD();WebFont.load({google:{families:["Abril+Fatface","Carter+One"]},active:function(){a.next()},inactive:function(){a.next()}})};
function iD(a){a.CD=!1;$("body").addClass("modalContentVisible modalContentBlurAndDarkenVisible");$("body \x3e .mask").addClass("on fullscreenMessageMask");$("body \x3e .mask").on("click",function(){jD(a).then(function(){a.CD||(kD(a),lD())}.bind(a))})}
function jD(a){$("body").removeClass("modalContentVisible modalContentBlurAndDarkenVisible");$("body \x3e .mask").addClass("off").delay(500,function(){$(this).removeClass("fullscreenMessageMask off on white")});$("video.for-onboarding").remove();a.Tb.addClass("disappearing").delay(500,function(){$(this).remove()});return P.delay(500)}
e.MH=function(){iD(this);var a=zd(this.ac);gl()&&!this.NM&&mD()&&(a=this.ac.format("twentyThreeSecondOnboardingChooseText"));this.Tb=$('\x3cdiv id\x3d"onboarding-23second-dialog" class\x3d"for-onboarding onboarding-dialog"\x3e\x3cdiv class\x3d"onboarding-dialog-text"\x3e\x3cspan class\x3d"onboarding-time"\x3e'+this.QB+'\x3c/span\x3e\x3cspan class\x3d"onboarding-description"\x3e'+this.ac.format("twentyThreeSecondOnboardingDescription")+'\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"onboarding-dialog-icons"\x3e\x3cspan class\x3d"onboarding-search"\x3e\x3cspan class\x3d"icon"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding_search.png"/\x3e\x3c/span\x3e'+
a+'\x3c/span\x3e\x3cspan class\x3d"onboarding-drag"\x3e\x3cspan class\x3d"icon"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding_hand.png"/\x3e\x3c/span\x3e'+Ad(this.ac)+'\x3c/span\x3e\x3cspan class\x3d"onboarding-publish"\x3e\x3cspan class\x3d"icon"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding_publish.png" /\x3e\x3c/span\x3e'+Bd(this.ac)+'\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"onboarding-dialog-actions"\x3e\x3cspan class\x3d"onboarding-show-me-how"\x3e\x3cbutton class\x3d"button onboarding-show-me-how-button"\x3e'+
this.ac.format("twentyThreeSecondOnboardingShowMeHowButtonText")+'\x3c/button\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding_hand_clicking.png" width\x3d"0" height\x3d"0" style\x3d"display:none"/\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding_hand_grabbing.png" width\x3d"0" height\x3d"0" style\x3d"display:none"/\x3e');this.Tb.appendTo("body");this.next()};
e.EI=function(){var a=this,b=$(".onboarding-dialog");$(".onboarding-show-me-how-button").click(function(){De&&De.track("onboarding",{status:"viewed",variant:gl()?"layouts":"regular",experiment:"none",experimentVariant:"none"});a.CD=!0;var c=$(".onboarding-drag .icon"),d=c.clone(),f=$(".onboarding-show-me-how-button"),g=f.clone(),h=f.clone(),f=f.offset(),c=c.find("img").offset();d.attr("id","onboarding-active-hand").addClass("for-onboarding").appendTo("body").offset(c);g.attr("id","onboarding-active-button").addClass("for-onboarding").appendTo("body").offset(f);
h.attr("id","onboarding-active-button-width").addClass("for-onboarding").appendTo("body");d=a.QB-1;$("#onboarding-23second-dialog .onboarding-time").text(d.toString());b.fadeOut(2E3);a.next()})};e.lH=function(){$("body").append(this.Zw);this.Zw.on("click",bD);var a=this.QB-2;window.setTimeout(function(){$("#onboarding-23second-dialog .onboarding-time").text(a.toString())},1E3);this.next(1500)};
e.kE=function(){var a=z.aa.length;S();1===a&&z.aa[0].isEmpty()?(this.LH=!1,this.page=z.aa[0]):(this.LH=!0,a=new ml(z,z.Ig()),vl(z,a,0),this.page=a);this.next()};
e.fG=function(){function a(){c++;2===c&&b.next(300)}var b=this,c=0,d=$("#onboarding-active-hand"),f=$("#onboarding-active-button");$(".onboarding-drag .icon").remove();$("body \x3e .mask").click();f.css({width:f.width(),height:"46px"});f.text("");f.delay(G.sa.PD).animate({width:nD(zd(b.ac)),"border-radius":"25px",padding:"0 15px 0 35px"},{duration:600,queue:!1,complete:a});d.delay(G.sa.PD).animate({left:1*f.offset().left-15,top:1*f.offset().top-4},{duration:600,queue:!1,complete:a})};
e.DF=function(){var a=$("#onboarding-active-hand"),b=$("#onboarding-active-button"),c=$('\x3cdiv class\x3d"for-onboarding" id\x3d"onboarding-active-hand-morphed"\x3e\x3c/div\x3e'),d=a.offset();c.offset(d);c.appendTo(a.parent());a.appendTo(c);a.css({top:0,left:0});b.appendTo(c);b.css({top:"4px",left:"15px"});this.next()};e.qR=function(){$("#onboarding-active-button").text(zd(this.ac));this.next()};e.nR=function(){oD(Ad(this.ac));this.next()};
e.oR=function(){this.Qr||oD(this.ac.format("twentyThreeSecondOnboardingEditText"));this.next()};e.pR=function(){$("#onboarding-active-button").text("Choose");this.next()};function pD(){$("#onboarding-active-hand img").attr("src","https://static.canva.com/static/images/onboarding_hand_grabbing.png")}function qD(){$("#onboarding-active-hand img").attr("src","https://static.canva.com/static/images/onboarding_hand.png")}
function rD(){var a=$("#onboarding-active-hand img");a.attr("src","https://static.canva.com/static/images/onboarding_hand_clicking.png");window.setTimeout(function(){a.attr("src","https://static.canva.com/static/images/onboarding_hand.png")},300)}e.NEXT="next";function sD(a,b){return 500+Math.floor(.8*Math.sqrt(Math.pow(a.left-b.left,2)+Math.pow(a.top-b.top,2)))}function oD(a,b){var c=$("#onboarding-active-button");b=_.extend({width:nD(a)},b);c.text(a);c.animate(b,{duration:500,queue:!1})}
function nD(a){return $("#onboarding-active-button-width").text(a).width()}
function tD(a,b,c){var d=2/3,f=c.km||{x:0,y:0},g=c.jc||function(){},h=$("#onboarding-active-hand-morphed"),k=h.offset(),l={top:1*$(b).offset().top+1*$(b).height()/3+f.y,left:1*$(b).offset().left+1*$(b).width()/3+f.x};c&&c.gE&&"BR"===c.gE&&(l={top:1*$(b).offset().top+1*$(b).height()+f.y,left:1*$(b).offset().left+1*$(b).width()+f.x});b=sD(k,l);l=new $.path.$J({start:{x:1*h.offset().left,y:1*h.offset().top,angle:10,length:.1},end:{x:l.left,y:l.top,angle:-30,length:.1}});c.jc===a.NEXT&&(g=function(){a.next(300)});
c.qz&&window.setTimeout(function(){c.qz()},d*b);h.animate({path:l},b,g)}e.jN=function(){tD(this,"#search",{jc:this.NEXT})};e.HK=function(){rD();$("#search").focus();this.next(700)};
e.eR=function(){function a(){var a=$("#resultsSearch"),a=$("\x3e .layer \x3e .inner \x3e .searchGroup",a).last(),c=$(".photoGallery",a),g=0,h=!1;QB(a);cD.forEach(function(a){var d=$('\x3cli class\x3d"newSearch loading"\x3e\x3ca href\x3d"#"\x3e\x3cimg data-screen-url\x3d"'+a.files.Cw.url+'"data-screen-width\x3d"'+a.files.Cw.width+'"data-screen-height\x3d"'+a.files.Cw.height+'"src\x3d"'+a.files.Dw.url+'"width\x3d"'+a.files.Dw.width+'"height\x3d"'+a.files.Dw.height+'"/\x3e\x3c/a\x3e\x3c/li\x3e');d.appendTo(c);
$("img",d).on("load",function(){g++;!h&&5<=g&&(b.next(),h=!0);d.removeClass("loading")});d.data("result",a)});c.addClass("photoGallery");Dr(c);xb.Bl=b.Bl}var b=this,c=$("#search");this.Bl=xb.Bl;xb.Bl=function(){return new P(function(){})};gD(this,function(a){c.val(a)},this.ac.format("twentyThreeSecondOnboardingSearchTerm"),function(){QB($("#resultsSearch \x3e .layer \x3e .inner \x3e .searchGroup"));xB(b.C,!0,a)})};
e.iN=function(){oD(Ad(this.ac));tD(this,"#resultsSearch .searchGroup .photoGallery li:first-child",{jc:this.NEXT})};e.Cc=function(){this.next(700)};
e.AL=function(){var a=this,b=$("#onboarding-active-hand-morphed"),c=$("section .page.selected"),c={top:c.offset().top-40,left:c.offset().left-42},d=sD(b.offset(),c),f=Math.floor(.8*L(z).D())*N,g=Math.floor(.8025*f);pD();a.Dk=$("#resultsSearch .searchGroup .photoGallery li:first-child img").clone();a.Dk.removeAttr("width");a.Dk.removeAttr("height");a.Dk.css({position:"absolute",top:"-34px",left:"-27px","z-index":"9000",height:"95px"});b.append(a.Dk);a.Dk.animate({height:f+"px",width:g+"px",left:(-180*
N-42)/2+"px",top:(-180*N-40)/2+"px"},{duration:d,queue:!1});b.animate(c,{duration:d,queue:!1,complete:function(){a.next(300)}})};e.EL=function(){var a=this,b=$("#resultsSearch .photoGallery li:first-child img"),b=He(hC(b)),c=Math.floor(.8*L(z).D());b.setSize(Math.floor(.8025*c),c);b.setPosition(-180,-180);b.appendTo(L(z));Je(b);qD();a.Dk.fadeOut(200,function(){a.Dk.remove()});a.next(300)};e.iR=function(){var a;a=L(z).za().filter(function(a){return a instanceof ht})[0];Ke(a);this.next(200)};
e.NQ=function(){function a(){qD();g.removeClass("on");b.next(300)}var b=this,c=$("#onboarding-active-hand-morphed"),d=L(z),f=800/642,g=$(".handle.br"),h=d.Ja()[0],k=d.F().offset(),d=.78*d.w(),l={left:Math.floor(k.left+d*N*.78),top:Math.floor(k.top+d*f*N*.78)},m=h.w();h.D();tD(this,".selectionBox .handle.br",{km:{x:-20,y:-12},jc:function(){var b=c.offset();pD();g.addClass("on");c.delay(300).animate(l,{duration:1E3,queue:!1,complete:a,progress:function(){var a=(c.offset().left-b.left)/N+m,d=a*f;$(".selectionBox").css({height:d*
N+"px",width:a*N+"px"});h.setSize(a,d)}})}})};e.lN=function(){var a=this;oD(this.ac.format("twentyThreeSecondOnboardingAddText"));tD(this,"#objectPanel \x3e menu li.text a",{jc:function(){$("#objectPanel \x3e menu li.text a").css("color","#00f7ff");a.next(300)}})};e.LK=function(){rD();$("#objectPanel \x3e menu li.text a").click().css("color","");this.next(200)};e.gN=function(){var a=this;tD(this,"#objectPanel .textControls [data-style\x3dtitle]",{km:{x:0,y:16},jc:function(){a.next(300)}})};
e.qK=function(){function a(){var a=h.$a();h.Sf(a,"Carter One")}function b(){K.off("elementLoaded:text",b);c()}function c(){S();rD();a();h.appendTo(f);Je(h);Ke(h);window.setTimeout(function(){a()},100);window.setTimeout(function(){},200);d.next(200)}var d=this,f=L(z),g={width:f.w()/2,html:"\x26nbsp;",fontFamily:"Carter One",fontSize:function(a,b,c,d){var f=document.createElement("canvas").getContext("2d");if(null==f)return c;f.font=c*G.Qe*14/100+"px "+d;a=f.measureText(a).width;isFinite(b)&&0<b&&(10<
b-a||a>b)&&(c*=b/a);return Math.floor(c)}(Cd(this.ac),380,120,"Carter One"),color:"#222",left:f.w()-400,top:Math.floor(.5*f.D()-112.5)};K.on("elementLoaded:text",b);var h=new Jr(g)};e.pS=function(){var a=this,b=L(z).Ja()[0];b.F().trigger("click");gD(this,function(a){at(b).html(a+'\x3cspan class\x3d"onboarding-fake-caret"\x3e\x3c/span\x3e')},Cd(this.ac),function(){at(b).css({border:"none"});$(".onboarding-fake-caret").remove();a.next()})};
e.jG=function(){var a=Bd(this.ac),b={left:-nD(a)-25,padding:"0 39px 0 17px"};$("#designToolsText a").css({color:"#fff"});oD(a,b);tD(this,".editorActionExport",{jc:this.NEXT,qz:function(){$(".editorActionExport").addClass("fakeHoverState")}})};e.wD=function(){rD();$(".editorActionExport").trigger("click");this.next(700)};
e.iG=function(){var a=this;oD(Bd(this.ac),{left:"22px",padding:"0 20px 0 31px"});tD(this,".exportPopOver__downloadButton",{jc:function(){a.next(600)},qz:function(){$(".editorActionExport").removeClass("fakeHoverState");$(".exportPopOver__downloadButton").addClass("fakeHoverState")}})};e.uD=function(){rD();var a=this;$(".exportPopOver__downloadButton").addClass("fakeActiveState");window.setTimeout(function(){$(".modalContentMask").click();a.next(200)},300);$(document.body).addClass("modalContentVisible modalContentBlurAndDarkenVisible")};
e.Or=function(){var a=yC().clone();a.find(".fixed").remove();a.css({top:0,left:0});a.removeClass("selected");$("body \x3e .mask").addClass("on fullscreenMessageMask");this.Tb=$('\x3cdiv id\x3d"onboarding-outro-dialog" class\x3d"for-onboarding onboarding-dialog"\x3e\x3c/div\x3e');this.Tb.css({width:a.width()-4+"px",height:a.height()-4+"px"});this.Tb.append(a);this.Tb.appendTo("body");this.next()};e.tE=function(){var a=this;$("#onboarding-active-hand-morphed").fadeOut(1600,function(){a.next()})};
e.RH=function(){var a=this,b=$(window).height()-a.Tb.offset().top,c=!1;$('\x3cdiv id\x3d"onboarding-go-dialog" class\x3d"for-onboarding onboarding-dialog"\x3e\x3cdiv class\x3d"onboarding-dialog-text"\x3e\x3cspan class\x3d"onboarding-go"\x3e'+this.ac.format("twentyThreeSecondOnboardingNowText")+'\x3c/span\x3e\x3cspan class\x3d"onboarding-go-description"\x3e'+this.ac.format("twentyThreeSecondOnboardingYourTurnText")+"\x3c/span\x3e\x3c/div\x3e").appendTo("body");var d=$('\x3cdiv id\x3d"onboarding-exit-hand" class\x3d"for-onboarding"\x3e\x3cdiv class\x3d"exit-hand open"\x3e\x3cdiv class\x3d"exit-hand-fingers"\x3e\x3c/div\x3e\x3cdiv class\x3d"exit-hand-thumb"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
d.css({bottom:"-280px"});d.appendTo("body");d.animate({bottom:"0"},900,function(){var f=1*a.Tb.css("margin-top").replace(/px/,"")-b;d.animate({bottom:f+"px"},{duration:1800,sg:"easeOutQuint",queue:!1});a.Tb.animate({"margin-top":b+"px"},{duration:1800,sg:"easeOutQuint",queue:!1,complete:function(){c||(a.next(1E3),c=!0)}})})};
function uD(){wB=null;$("#search").val("");$("#resultsSearch .searchGroup").removeData("search").css("height","").find("ul").empty();$("#resultsSearch .searchGroup").find("h2").remove();$("#objectPanel .results").addClass("doNotTransition");window.setTimeout(function(){$("#search").blur();$("#objectPanel .results").removeClass("doNotTransition")},G.wb)}e.kH=function(){function a(){b.next()}var b=this;S();!0===this.LH?(xl(z,this.page),a()):vD(this.page,a)};e.bB=function(){uD();this.next()};
e.tD=function(){this.Zw.remove();$("body \x3e .mask").removeClass("on white fullscreenMessageMask").addClass("off");$(".for-onboarding").remove();$("body").removeClass("onboarding-in-progress").removeClass("modalContentVisible modalContentBlurAndDarkenVisible");S();this.next()};
e.XG=function(){this.ZJ=yb;this.$L=fb.tm;this.Zw=$("\x3cdiv id\x3d'block-everything'\x3e\x3c/div\x3e");this.An=A.An;fb.tm=function(){return P.resolve(new $o({id:1,er:null,status:"COMPLETE"}))};yb=function(){};A.close();A.An=function(){};z.off("change");this.next()};e.BM=function(){this.VI=gb.rb;gb.rb=eD;Ze(bb,"M-YUM-LION",0,dD());this.next()};e.RQ=function(){gb.rb=this.VI;this.next()};function kD(a){yb=a.ZJ;fb.tm=a.$L;A.An=a.An;wD(window.csession,window.cdoc);z.on("change",xD)}
e.rH=function(){kD(this);this.next()};e.RG=function(){lD();this.next()};function lD(){$("#resultsLayout").data("view").qH()}e.nG=function(){K.trigger("onboarding:complete")};function yD(a){a.order=[a.jH,a.XF,a.XG,a.MH,a.EI,a.bB,a.kE,a.lH,a.fG,a.DF,a.qR,a.Cc,a.jN,a.BM,a.HK,a.eR,a.Cc,a.iN,a.AL,a.EL,a.iR,a.NQ,a.Cc,a.lN,a.LK,a.Cc,a.gN,a.qK,a.Cc,a.pS,a.Cc,a.jG,a.wD,a.Cc,a.iG,a.uD,a.Cc,a.Or,a.tE,a.Cc,a.RH,a.Cc,a.kH,a.tD,a.RQ,a.bB,a.rH,a.uR,a.RG,a.nG]}
e.lK=function(){var a=$(".templateGallery li:not(.grid)").has(".price.free"),a=a.get(Math.floor(Math.random()*Math.min(10,a.length))),b="canva-onboarding-layout-item-"+Math.floor(1E5*Math.random());$(a).addClass(b);this.Dq="."+b;this.next()};e.VJ=function(){var a=new jl({},vo(0,0),this.C),a=new ml(a,{}),b=$(this.Dq).data("layoutItem");b&&ZC(a,Zi(b.content));this.next()};e.hN=function(){this.sA=$(this.Dq);this.tA=$(this.Dq+" img");this.Lt=$(this.Dq+" img").clone();tD(this,this.Dq,{jc:this.NEXT})};
e.zL=function(){var a=this,b=$("#onboarding-active-hand-morphed"),c=$("section .page.selected"),d=c.height()/2-Math.floor(Math.random()*c.height()/6),f=c.height()/2+Math.floor(Math.random()*c.height()/6),c={top:c.offset().top+d,left:c.offset().left+f},d=sD(b.offset(),c),f=d/4;pD();window.setTimeout(function(){a.Lt.css("opacity","0.5");$(".page.selected").addClass("hotspotHover")},f);a.tA.parent().addClass("pickedUp");a.Lt.css({position:"absolute",top:"-34px",left:"-27px","z-index":"9000",width:$(".templateGallery li img").width()+
"px",height:$(".templateGallery li img").height()+"px"});b.append(a.Lt);b.animate(c,{duration:d,queue:!1,complete:function(){$(".page.selected").removeClass("hotspotHover");a.tA.parent().removeClass("pickedUp");a.next(300)}})};
e.CL=function(){function a(){K.off("pageLayoutLoaded",a);b.next()}var b=this;qD();this.Lt.remove();K.on("pageLayoutLoaded",a);$(".page.selected").addClass("invisible-text");if(this.sA.find(".multiPageLayoutItem").length){var c=this.sA.data("searchResult"),d=this.sA.parents(".results").data("view");c&&zD(d,c,!0)}else this.tA.click()};function AD(){return"substantial-text-element"}
e.IK=function(){if(!this.Qr){var a=$("."+AD()),b=$("."+AD());a.hasClass("element")||(b=a.parents(".element"));b=b.data("canvaElement");rD();Ke(b);a.hasClass("element")||(xz(a,!0),BD(a,$b(this.C)),b.Ra())}this.next()};
e.GR=function(){var a,b;if(!this.Qr){var c=$("."+AD());b=c.clone();b.find("br").replaceWith(this.ax);a=b.text().trim();var d;d=/\S\S/.test(a)?a.split(/\s+/g):a.split(/\s{2,}/g);2>d.length?(a="",b=d[0]||""):(b=d[d.length-1],3>b.length&&(b=a.slice(a.lastIndexOf(d[d.length-2]))),3>b.length&&(b="!",a+=b),a=a.slice(0,a.lastIndexOf(b)),a=a.replace(new RegExp(this.ax,"g"),"\x3cbr\x3e"));this.NF=b;this.CE=a;c.children(".inner").html(this.CE);$(".page.selected").removeClass("invisible-text")}this.next()};
e.oS=function(){function a(a){gD(b,function(a){$(".onboarding-fake-caret").remove();c.children(".inner").html(b.CE+a+'\x3cspan class\x3d"onboarding-fake-caret"\x3e\x3c/span\x3e')},b.NF,function(){$("#overlays .element.text.selected").css({border:"none"});$(".onboarding-fake-caret").remove();a()})}if(this.Qr)this.next();else{var b=this,c=$("."+AD());c.trigger("click");a(function(){S();b.next()})}};
e.hQ=function(){if(1>$(".page.selected .element.text,.page.selected .element.svg .text").length)this.Qr=!0;else{var a=$(".page.selected .element.text,.page.selected .element.svg .text").first(),b=0;$(".page.selected .element.text,.page.selected .element.svg .text").each(function(){var c=$(this).data("canvaElement");c.wc()>b&&0<c.F().text().split("").length&&(b=c.wc(),a=$(this))});a.addClass(AD())}this.next()};
e.kN=function(){if(this.Qr)this.next();else{var a=parseFloat($("."+AD()).css("font-size").replace("px",""))*N,b=Math.floor(a/2),a=Math.floor(a*this.NF.split("").length/2);tD(this,"."+AD(),{gE:"BR",km:{x:-a,y:-b},jc:this.NEXT})}};e.xR=function(){$("#objectPanel li.layout a").click();this.next()};e.uR=function(){$("#objectPanel li.elements a").click();this.next()};function gl(){return/[?&]layouts/g.test(window.location.search)}
function mD(){return 2<=$(".templateGallery li:not(.grid)").has(".price.free").length}function CD(a,b,c){var d=c||1;10<d&&(a.NM=!0,b(!1));gl()?1<=$(".templateGallery li").length?b(mD()):window.setTimeout(function(){CD(a,b,d+1)},200*d):b(!1)}e.jH=function(){DD.QD();this.next()};e.next=function(a){function b(){d.call(c)}var c=this,d=this.order[this.EA];d&&d.call?(this.EA++,a&&!isNaN(parseInt(a,10))?window.setTimeout(b,a):b()):c.next=function(){}};
function fD(a){a.EA=0;gl()?CD(a,function(b){b?a.order=[a.jH,a.XF,a.XG,a.MH,a.lK,a.VJ,a.EI,a.kE,a.lH,a.fG,a.DF,a.pR,a.Cc,a.hN,a.nR,a.Cc,a.zL,a.CL,a.Cc,a.hQ,a.GR,a.kN,a.Cc,a.oR,a.IK,a.Cc,a.oS,a.Cc,a.jG,a.wD,a.Cc,a.iG,a.uD,a.Cc,a.Or,a.tE,a.Cc,a.RH,a.Cc,a.kH,a.tD,a.bB,a.rH,a.xR,a.RG,a.nG]:yD(a);a.next()}):(yD(a),a.next())};function bl(a,b,c){this.document=a;this.Ha=b;this.wE="//www.facebook.com/plugins/like.php?href\x3dhttps%3A%2F%2Fwww.facebook.com%2Fcanva\x26amp;width\x3d450\x26amp;height\x3d65\x26amp;colorscheme\x3dlight\x26amp;layout\x3dbox_count\x26amp;action\x3dlike\x26amp;show_faces\x3dfalse\x26amp;send\x3dfalse\x26amp;appId\x3d"+encodeURIComponent(window.facebookConfig.appId);this.ud=c}bl.prototype.listenTo=Backbone.Events.listenTo;
function ED(){WebFont.load({google:{families:["Yellowtail"]},active:function(){},inactive:function(){}})}
function FD(a){var b=a.Ha.Fe();switch(b){case "FREE_NEW_USER":return b=GD(z.Za()),a={fbUrl:a.wE,twitterText:a.ud.format("magicButtonFreeNewTwitterText",b),congratulations:a.ud.format("magicButtonFreeNewCongratulations"),youHaveCompleted:a.ud.format("magicButtonFreeNewYouHaveCompleted",b),startYourOwnDesign:a.ud.format("magicButtonFreeNewStartYourOwnDesign")},b=_.template('\x3cdiv id\x3d"magic-button-dialog"\x3e\x3cdiv id\x3d"magic-button-dialog-congratulations"\x3e\x3c%- congratulations %\x3e\x3c/div\x3e\x3cdiv id\x3d"magic-button-dialog-now-ready"\x3e\x3c%- youHaveCompleted %\x3e\x3c/div\x3e\x3cbutton class\x3d"button" id\x3d"magic-button-dialog-done"\x3e\x3c%- startYourOwnDesign %\x3e\x3c/button\x3e\x3cdiv id\x3d"magic-button-dialog-share"\x3e\x3ciframe src\x3d"\x3c%\x3d fbUrl %\x3e" scrolling\x3d"no" frameborder\x3d"0" style\x3d"border:none; overflow:hidden; width:50px; height:61px;" allowTransparency\x3d"true"\x3e\x3c/iframe\x3e\x3ciframe allowtransparency\x3d"true" frameborder\x3d"0" scrolling\x3d"no" src\x3d"https://platform.twitter.com/widgets/tweet_button.html?url\x3d%20\x26text\x3d\x3c%\x3d encodeURIComponent(twitterText) %\x3e\x26counturl\x3dhttps://www.canva.com\x26count\x3dvertical" style\x3d"width:56px; height:62px;"\x3e\x3c/iframe\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'),$(b(a));
case "DESIGN_TUTORIAL":return b=GD(z.Za()),a={fbUrl:a.wE,twitterText:a.ud.format("magicButtonTutorialTwitterText",b),congratulations:a.ud.format("magicButtonTutorialCongratulations"),youHaveCompleted:a.ud.format("magicButtonTutorialYouHaveCompleted",b),startYourOwnDesign:a.ud.format("magicButtonTutorialStartYourOwnDesign")},b=_.template('\x3cdiv id\x3d"magic-button-dialog"\x3e\x3cdiv id\x3d"magic-button-dialog-congratulations"\x3e\x3c%- congratulations %\x3e\x3c/div\x3e\x3cdiv id\x3d"magic-button-dialog-now-ready"\x3e\x3c%- youHaveCompleted %\x3e\x3c/div\x3e\x3cbutton class\x3d"button" id\x3d"magic-button-start-design"\x3e\x3c%- startYourOwnDesign %\x3e\x3c/button\x3e\x3cdiv id\x3d"magic-button-dialog-share"\x3e\x3ciframe src\x3d"\x3c%\x3d fbUrl %\x3e" scrolling\x3d"no" frameborder\x3d"0" style\x3d"border:none; overflow:hidden; width:50px; height:61px;" allowTransparency\x3d"true"\x3e\x3c/iframe\x3e\x3ciframe allowtransparency\x3d"true" frameborder\x3d"0" scrolling\x3d"no" src\x3d"https://platform.twitter.com/widgets/tweet_button.html?url\x3d%20\x26text\x3d\x3c%\x3d encodeURIComponent(twitterText) %\x3e\x26counturl\x3dhttps://www.canva.com\x26count\x3dvertical" style\x3d"width:56px; height:62px;"\x3e\x3c/iframe\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'),
$(b(a));case "C4W_INVITED_NEW_USER":return a={congratulations:a.ud.format("magicButtonInvitedUserCongratulations"),gettingTheHangHtml:a.ud.format("magicButtonInvitedUserGettingTheHang"),visitTeamSpace:a.ud.format("magicButtonInvitedUserVisitTeamSpace")},b=_.template('\x3cdiv id\x3d"magic-button-dialog"\x3e\x3cdiv id\x3d"magic-button-dialog-congratulations"\x3e\x3c%- congratulations %\x3e\x3c/div\x3e\x3cdiv id\x3d"magic-button-dialog-now-ready"\x3e\x3c%\x3d gettingTheHangHtml %\x3e\x3c/div\x3e\x3ca class\x3d"button" id\x3d"magic-button-dialog-done" href\x3d"/brand"\x3e\x3c%- visitTeamSpace %\x3e\x3c/a\x3e\x3c/div\x3e'),
$(b(a));default:throw Error("onboarding mode "+b+" not handled");}}
function HD(a){function b(){P.all([Fr(1E3),vf(c.da,c.url+"/"+encodeURIComponent(A.va())+"/complete",null).get(0).then(Bk)]).finally(function(){window.location="/"})}var c=new zk;$("body").addClass("modalContentVisible modalContentBlurAndDarkenVisible");$("body \x3e .mask").removeClass("off").addClass("on fullscreenMessageMask");FD(a).on("animationend",function(){$("body").on("click",b);$("body \x3e .mask").on("click",b)}).appendTo("body")}
function ID(a){return 0<a.document.za().filter(function(a){return"magic-button"==a.F().attr("id")}).length}
bl.prototype.cD=function(){function a(a){a.stopPropagation();a.preventDefault();HD(b);return!1}var b=this,c=b.document;b.cD=function(){};if(!ID(b)){b.page=new ml(c,c.Ig());b.page.$F();vl(c,this.page,c.Ae(),!1);$("#canvaDocument").addClass("deletePageDisabled");this.Ha.Fe()&&$("#canvaDocument").addClass("pageControlsDisabled");b.page.F().css("background-color","#20c4cb");var c={html:JD(this),width:460,justification:"center"},c=new Jr(c),d=c.F();d.attr("id","magic-button");d.on("mousedown",a);d.on("touchstart",
a);b.page.addElement(c,!1,!1);var d=(b.page.w()-c.w())/2,f=(b.page.D()-c.D())/2;c.setPosition(d,f)}};function JD(a){a={tutorialComplete:a.ud.format("magicButtonTutorialCompleteButton")};var b=_.template("\x3cstrong id\x3d'magic-button-text'\x3e\x3c%- tutorialComplete %\x3e \x26nbsp;\x3cspan id\x3d'magic-button-text-triangle'\x3e\x26#9656;\x3c/span\x3e\x3c/strong\x3e");return $(b(a))}bl.prototype.go=function(){ED();this.cD()};function ml(a,b){this.yb=a;this.zk=null;this.elements=[];this.height=0;this.ja=b.layout&&new Yi(b.layout);this.top=this.left=0;this.vl=this.di=this.Dj=null;this.Td=this.selected=!1;this.width=0;this.pe(b,!0);iu(this)}_.extend(ml.prototype,Backbone.Events);e=ml.prototype;e.trigger=Backbone.Events.trigger;e.on=Backbone.Events.on;e.off=Backbone.Events.off;e.$F=function(){this.Td=!0};function KD(a,b){a.Dj=b;a.trigger("change:preview")}function LD(a){a.Dj=null;a.trigger("change:preview")}
function MD(a){var b=a.elements.filter(function(a){return a.Td||a.mb()&&a.Vb&&!a.Vb()?!1:!0}),c=OC();a=c instanceof XC&&$C(c,a.ea());return 0<b.length&&!a}
function ZC(a,b,c,d,f){function g(a){a.forEach(function(a){var b=a.G(),c=a.getVersion();Ze(bb,b,c,a.Ty())})}function h(){-1===k.ea()&&!f||k.ja!==b||(LD(k),k.pe(b.Ig(),!1),iu(k))}var k=a,l=JA(lb,dj(b));a.clear();a.ja=b;f||(a.ja.pa(a.w()),a.ja.oa(a.D()));0===l.length?(a.pe(b.Ig(),!1),iu(a)):(c&&KD(a,c),d&&d.hb()===Xs?Wl(d.G()).then(g).catch($.noop).finally(h):iA(l,h))}
e.pe=function(a,b){function c(a){0<=m.indexOf(a)||(m.push(a),0<n.length&&d())}function d(){var b=0===n.filter(g).filter(h).length,c=0===n.filter(h).length;b&&!l&&(l=!0,ND(k,n,a));c?f():(window.clearTimeout(p),p=window.setTimeout(f,5E3))}function f(){K.off("elementLoaded",c);K.off("elementLoadingError",c);window.clearTimeout(p);k.trigger("unpacked");K.trigger("pageLayoutLoaded",k);b||(k.trigger("change"),k.yb&&k.yb.trigger("change"))}function g(a){return!a.Ff()}function h(a){return-1===m.indexOf(a)}
var k=this;b||this.trigger("willchange");void 0!==a.dpi&&(this.zk=a.dpi);void 0!==a.width&&this.pa(a.width);void 0!==a.height&&this.oa(a.height);var l=!1,m=[],n=[];K.on("elementLoaded",c);K.on("elementLoadingError",c);n=n.concat(function(a){return a?a.map(He).filter(Boolean):[]}(a.elements));n.forEach(function(a){a.appendTo(this)},this);var p=window.setTimeout(f,5E3);0<n.length?window.setTimeout(function(){d()},1):f();a.resizeContentBox?(this.di=Ei(a.resizeContentBox),this.vl=OD(this,this.di)):this.vl=
this.di=null};function PD(a){if(a.di&&a.vl){var b=OD(a,a.di);if(Gi(b,a.vl))return a.di;a.di=null;a.vl=null}return null}function OD(a,b){var c=a.ya(),d=b.clone();a.za().forEach(function(a){if(!a.Td&&!a.mb()){var b=a.ya();if(!(a instanceof kt&&Pi(b,c))){a=Math.min(d.W(),b.W());var h=Math.min(d.N(),b.N()),k=Math.max(d.Ua(),b.Ua())-a,b=Math.max(d.Ga(),b.Ga())-h;d.left=a;d.top=h;d.width=k;d.height=b}}});return d}
e.resize=function(a){var b=QD({sk:PD(this),ot:a,page:this});this.pe(a.Ig(),!0);iu(this);this.trigger("resize");this.vl=(this.di=b)&&OD(this,b)};e.YB=function(a){this.clear();this.pe(a,!0);iu(this);this.trigger("resize")};
function ND(a,b,c){function d(a){K.trigger("elementLoaded",a);K.trigger("elementLoaded:group",a)}b.forEach(function(a,g){var h,k,l;if(a.Ff()){var m=c.elements[g].childRange;if(m&&2===m.length&&0<m[0]&&m[1]>=m[0]){for(var n=m[0];n<=m[1];n++)if(!c.elements[n]||c.elements[n].groupIndex!==g){d(a);a.remove();return}for(n=m[0];n<=m[1];n++){l=yt(a);var p=yt(b[n]);g=Math.max(0,p.Jb-l.Jb);var r=ij(hj([p.left+p.width/2-(l.left+l.width/2),p.top+p.height/2-(l.top+l.height/2)]).rotate(l.rotation));g=g||0;h=$s(p.rotation,
l.rotation)||0;k=r[1]-p.height/2+l.height/2;l=r[0]-p.width/2+l.width/2;a.addElement(b[n]);b[n].qo(g);b[n].setPosition(l,k);b[n].pi(h);a.F().find(".elements").append(b[n].F());a.Ia()}d(a)}else d(a),a.remove()}});a.trigger("unpacked")}e.F=function(){return this.xa};e.Bg=function(){var a=new Ik;this.elements.forEach(function(b){b.Bg().Ld().forEach(function(b){Lk(a,b)})});return a};e.clone=function(){return new ml(null,this.serialize())};e.serialize=function(){return RD(this)};
function RD(a){function b(a){return a.elementIndex}var c=a.elements.filter(function(a){return!a.Td}).map(function(a){return a.serialize()}).filter(Boolean);c.forEach(function(a,b){var c=a.elementIndex-b;a.elementIndex=b;c&&a.elements&&a.elements.forEach(function(a){a.elementIndex-=c})});c.filter(function(a){return-1<Object.keys(a).indexOf("elements")}).forEach(function(a){var d=a.elementIndex,f={Jb:a.transparency,rotation:a.rotation,top:a.top,left:a.left,width:a.width,height:a.height},l=a.elements.map(b),
m=[];c.forEach(function(a){var b=l.indexOf(a.elementIndex);0<=b&&(l.splice(b,1),m.push(a.elementIndex),b=Hw(f,{Jb:a.transparency,rotation:a.rotation,top:a.top,left:a.left,width:a.width,height:a.height}),a.transparency=b.Jb,a.rotation=b.rotation,a.top=b.top,a.left=b.left,a.groupIndex=d)});if(0!==m.length&&0===l.length){var n=Math.min.apply(null,m),p=Math.max.apply(null,m);a.childRange=[n,p]}else a.childRange=[-1,-1];delete a.elements});var d={elements:c,width:a.width,height:a.height};a.zk&&(d.dpi=
a.zk);var f=a.ja&&a.ja.serialize();f&&(d.layout=f);(a=PD(a))&&(d.resizeContentBox=a.serialize());return d}e.clear=function(){var a;for(LD(this);this.za().length;)(a=this.elements[0]||null)&&this.ci(a);this.elements=[];this.vl=this.di=null};e.za=function(){return this.elements};e.Ja=function(){return this.za().filter(function(a){return a.Ce()})};function tl(a){return a.za().filter(function(a){return a.mb()})}
function SD(a,b){function c(a){return!a.mb()}function d(a){return!(a instanceof lt)}var f=b instanceof Array?b:[b],f=f.filter(c).filter(d);return 0===f.length?f:a.za().filter(function(a){return!Ct(a)}).filter(c).filter(d).filter(function(a){return-1===f.indexOf(a)}).filter(function(a){return f.some(function(b){return ef(b.ya(),a.ya())})})}
e.ci=function(a,b){b=b||{};for(var c=this.elements.indexOf(a),d=0;d<this.elements.length;d++)if(this.elements[d].Ff()&&-1!==this.elements[d].elements.indexOf(a)){this.elements[d].ci(a);break}-1<c&&(this.elements.splice(c,1),a.remove(),b.EQ&&0===this.elements.length&&(this.ja=void 0),b.FR||this.trigger("element:remove",this,a,c,!!b.UT),a.mb()&&this.trigger("change:background",this))};
e.addElement=function(a,b,c){var d=this;this.elements.push(a);a.page=this;bt(a)&&a.za().forEach(function(b){d.elements.push(b);b.mc=a.mc;b.page=d;d.trigger("element:add",d,b,!1,!1);a.F().find(".elements").append(b.F())});this.trigger("element:add",this,a,b,c);a.mb()&&this.trigger("change:background",this,a)};
function Et(a,b,c){0>c&&(c=a.elements.length);var d=a.elements.indexOf(b);-1==d?(c=Math.min(c,a.elements.length),a.elements.splice(c,0,b),b.page=a,a.trigger("element:add",a,b,!1,!1),b.mb()&&a.trigger("change:background",a,b)):(c=Math.min(c,a.elements.length-1),a.elements.splice(c,0,a.elements.splice(d,1)[0]),a.trigger("element:move",a,b))}e.uc=function(){return this.left};e.qB=function(a){this.left=a};e.vc=function(){return this.top};e.Ug=function(a){this.top=a};e.W=function(){return 0};e.Ya=ml.prototype.W;
e.N=function(){return 0};e.ab=ml.prototype.N;e.w=function(){return this.width};e.de=ml.prototype.w;e.D=function(){return this.height};e.ce=ml.prototype.D;e.Ua=function(){return this.W()+this.w()};e.$b=ml.prototype.Ua;e.Ga=function(){return this.N()+this.D()};e.Qb=ml.prototype.Ga;e.ya=function(){return new M(this.W(),this.N(),this.w(),this.D())};e.Xm=function(){return this.W()+this.w()/2};e.Ma=function(){return 0};e.setSize=function(){};e.pa=function(a){this.ja&&this.ja.pa(a);this.width=a};
e.oa=function(a){this.ja&&this.ja.oa(a);this.height=a};e.Va=function(){};e.Wa=function(){};e.setPosition=function(){};function wl(a,b){a.yb=b;iu(a)}e.xu=function(){var a=tl(this);if(0<a.length){var a=a[a.length-1],b;if(b=a.yc())a:{if(a.yc()&&(b=rf(a.backgroundColor||G.yw))){b=Dj(b)<G.ww;break a}b=a.KD}return b}return!1};function Lt(a){a=tl(a);return 0<a.length?a[a.length-1].yc():!0}
e.Oj=function(a){var b;this.yb&&this.selected!==a&&!this.Td&&(a||(this.selected=!1),b=L(this.yb),a=a||this===b,b!==this&&(b.selected=!a,b.trigger("change:selected",b,!a)),this.selected=a,this.trigger("change:selected",this,a))};e.Ce=function(){return this.selected};e.remove=function(){this.elements.forEach(function(a){YC(a)});this.yb&&xl(this.yb,this)};
function vD(a,b){a.F().find(".element").fadeOut();window.setTimeout(function(){for(;0<a.elements.length;)YC(a.elements[0]),a.elements[0].F().remove(),a.ci(a.elements[0]);a.elements=[];b&&b()},400)}e.ea=function(){return this.yb?T(this.yb,this):-1};e.nm=function(){return Zi(this.serialize())};function iu(a){(function(){a.za().slice(0).forEach(function(b){b instanceof lt&&a.ci(b)})})();(function(){var b=a.Sa();b&&wo(b).forEach(function(b){(b=He(b))&&Et(a,b,0)})})()}e.isEmpty=function(){return 1>this.za().filter(function(a){return!a.Td}).length};
e.Sa=function(){var a=this.yb;return a?a.Sa():null};function ak(a,b){this.eE=this.dE=this.cE=this.bE=this.Po=this.gn=this.iB=this.jB=this.scrollHeight=this.scrollWidth=this.scrollTop=this.scrollLeft=0;this.iw=this.nu=null;this.sI=!!b;this.bC=ff(this);this.dC=ff(this);this.Wv=new TD({attributes:!0,attributeFilter:["class","style"],childList:!0,characterData:!1,subtree:!0});this.Db=a;this.Df=$("\x3cdiv\x3e").addClass("scrollThumb");this.Xf=$("\x3cdiv\x3e").addClass("scrollThumb");this.xj=this.xj.bind(this);this.ev=this.ev.bind(this);this.$u=this.$u.bind(this);
this.cv=this.cv.bind(this);this.Wu=this.Wu.bind(this);this.Xu=this.Xu.bind(this);this.Wq=this.Wq.bind(this);this.Xq=this.Xq.bind(this);this.Uu=this.Uu.bind(this);this.Vu=this.Vu.bind(this)}e=ak.prototype;e.trigger=Backbone.Events.trigger;e.on=Backbone.Events.on;e.off=Backbone.Events.off;
e.render=function(){this.Db.addClass("scrollElement");$("\x3cdiv\x3e").addClass("scrollTrack hScrollTrack").append(this.Df).insertAfter(this.Db);$("\x3cdiv\x3e").addClass("scrollTrack vScrollTrack").append(this.Xf).insertAfter(this.Db);UD(this);this.Db.on("scroll",this.ev);this.Db.on("transitionend",this.xj);this.Db.on("mouseenter",this.$u);this.Db.on("mouseleave",this.cv);this.Df.on("mousedown",this.Wu);this.Xf.on("mousedown",this.Xu);this.Wv.on("attrModified",this.xj);this.Wv.on("subtreeModified",
this.xj);this.Wv.observe(this.Db);$("\x3cspan\x3e").appendTo(this.Db).remove();$(window).on("resize",this.xj);return this};e.remove=function(){VD(this.Wv);this.Db.off("scroll",this.ev);this.Db.off("transitionend",this.xj);this.Db.off("mouseenter",this.$u);this.Db.off("mouseleave",this.cv);this.Df.off("mousedown",this.Wu);this.Xf.off("mousedown",this.Xu);$(window).off("resize",this.xj);return this};
function UD(a){ff(a).read(function(a){var c=this.Db.prop("clientWidth"),d=this.Db.prop("offsetWidth"),f=this.Db.prop("clientHeight"),g=this.Db.prop("offsetHeight");a.write(function(){d>c&&this.Db.css("margin-right",c-d);g>f&&this.Db.css("margin-bottom",f-g);this.Ia()})})}e.Ia=function(){this.bC.read(this.wI)};
e.wI=function(){var a=this.scrollWidth,b=this.scrollHeight,c=this.gn,d=this.Po;this.scrollWidth=this.Db.prop("scrollWidth");this.scrollHeight=this.Db.prop("scrollHeight");this.jB=this.Db.prop("clientWidth");this.iB=this.Db.prop("clientHeight");this.gn=this.Df.parent().outerWidth();this.Po=this.Xf.parent().outerHeight();if(a!==this.scrollWidth||b!==this.scrollHeight||c!==this.gn||d!==this.Po)this.scrollTop=this.scrollLeft=-1,this.bC.write(this.JQ),this.dC.read(this.zI)};
e.JQ=function(){var a=Math.round(this.Po*this.iB/this.scrollHeight);this.Df.css("width",Math.round(this.gn*this.jB/this.scrollWidth)+"px");this.Xf.css("height",a+"px");var a=this.jB<this.scrollWidth,b=this.iB<this.scrollHeight,c=a!==this.nu,d=b!==this.iw;c&&(this.nu=a,this.Df.toggleClass("disabled",!a));d&&(this.iw=b,this.Xf.toggleClass("disabled",!b));this.sI&&(c||d)&&this.trigger("change:scrollability",this.nu,this.iw)};
e.zI=function(){var a=this.scrollLeft,b=this.scrollTop;this.scrollLeft=this.Db.scrollLeft();this.scrollTop=this.Db.scrollTop();if(a!==this.scrollLeft||b!==this.scrollTop)this.dC.write(this.KQ),this.sI&&(this.nu||this.iw)&&this.trigger("scroll",this.scrollLeft,this.scrollTop)};e.KQ=function(){var a=Math.round(this.Po*this.scrollTop/this.scrollHeight);this.Df.css("transform","translateX("+Math.round(this.gn*this.scrollLeft/this.scrollWidth)+"px)");this.Xf.css("transform","translateY("+a+"px)")};
e.xj=function(){this.bC.read(this.wI)};e.ev=function(){this.dC.read(this.zI)};e.$u=function(){this.Df.addClass("ready");this.Xf.addClass("ready")};e.cv=function(){this.Df.removeClass("ready");this.Xf.removeClass("ready")};e.Wu=function(a){0===a.button&&(this.bE=a.screenX,this.dE=this.scrollLeft,this.Df.addClass("active"),$(document).on("mousemove",this.Wq).on("mouseup",this.Uu),a.preventDefault(),a.stopPropagation())};
e.Wq=function(a){this.Db.scrollLeft(this.dE+Math.round((a.screenX-this.bE)*this.scrollWidth/this.gn))};e.Uu=function(a){this.Wq(a);this.Df.removeClass("active");$(document).off("mousemove",this.Wq).off("mouseup",this.Uu)};e.Xu=function(a){0===a.button&&(this.cE=a.screenY,this.eE=this.scrollTop,this.Xf.addClass("active"),$(document).on("mousemove",this.Xq).on("mouseup",this.Vu),a.preventDefault(),a.stopPropagation())};
e.Xq=function(a){this.Db.scrollTop(this.eE+Math.round((a.screenY-this.cE)*this.scrollHeight/this.Po))};e.Vu=function(a){this.Xq(a);this.Xf.removeClass("active");$(document).off("mousemove",this.Xq).off("mouseup",this.Vu)};function WD(){this.query="";this.iM=[]}function XD(a,b){a.query=b;return a}WD.prototype.toString=function(){return(this.query?[this.query]:[]).concat(this.iM).map(function(a){return a.toString()}).join(" AND ")};var YB=null,wB=null;function pB(a){zb=!1;xb=new Nz(mb,[new Lz]);$("#search").on("keypress",function(b){return YD.call(this,b,a)});$("#search").on("keydown",ZD);$("#search").on("keyup",ZD)}
function YD(a,b){function c(){$("#objectPanel menu .elements a").click()}function d(a){$("#resultsElements li.folderExpanded \x3e a:not([data-query\x3d"+a+"])").mousedown();setTimeout(function(){$("#resultsElements li:not(.folderExpanded) \x3e a[data-query\x3d"+a+"]").mousedown()},500)}function f(a){$("#resultsElements \x3e .layer").animate({scrollTop:$("#resultsElements a[data-query\x3d"+a+"]").parent().position().top},G.sa.yl)}a.stopPropagation();if(13==a.which){a=$("#search");if(!a.val().match(/^\s*$/)){var g=
$("#objectPanel").find("menu");switch(a.val().toLowerCase()){case "grid":case "grids":c();d("grids");f("grids");break;case "chart":case "charts":c();d("charts");f("charts");break;case "layout":case "layouts":g.find(".layout a").click();a.select();break;case "text":case "font":case "fonts":g.find(".text a").click();a.select();break;case "bkground":case "background":case "backgrounds":g.find(".backgrounds a").click();a.select();break;case "upload":case "uploads":g.find(".uploads a").click();a.select();
break;default:xB(b)}}return!1}}
function xB(a,b,c){function d(){m.animate({scrollTop:v-G.Ds},G.sa.yl,function(){q.remove();if(YB&&YB.isPending()){var a=LB(),a=$(".inner \x3e .searchGroup",a.children(".layer")).last();a.data("search")===wB&&MB(a)}c&&c()})}function f(){var a=$(".infoPanel",p);0<a.length&&(p.addClass("doNotTransition"),a.addClass("doNotTransition"),$(".close",a).click(),a.data("infoPanelPointer").remove(),a.remove(),p.removeClass("doNotTransition"));var b=lC(l),c=-1;$("\x3e .gallery \x3e li",p).each(function(){var a=
$(this);r+a.data("originalTop")<b&&(a.addClass("oldSearch"),setTimeout(function(){a.addClass("doNotTransition newSearch");setTimeout(function(){a.removeClass("doNotTransition newSearch oldSearch")},G.wb)},++c*G.sa.Hn+G.sa.Uq))});setTimeout(function(){zb=!1},c*G.sa.Hn+G.sa.Uq)}var g=wB?wB.query:"",h=YB&&!YB.isRejected()&&wB&&!wB.cb,k=$("#search"),l=$("#resultsSearch"),m=l.children(".layer").first(),n=$("\x3e .inner \x3e .searchGroup",m);b=!!nb.ta.get(Rd)&&!1!==b;m.data("userPreparedSearch",!0);if(k.val().trim()===
g&&h){var p=n.last();QB(p);if(!zb){zb=!0;var r=mC(p);a=r-G.Ds;1<Math.abs(a-m.scrollTop())?m.animate({scrollTop:a},G.sa.yl,f):f()}}else{wB=new NB(k.val(),Pz,null,null,b,null,OB(l,l.height()),null,!0,PB.bind(null,a));zC?k.blur():k.select();p=$('\x3cdiv class\x3d"searchGroup hasContent" data-search-text\x3d"'+_.escape(String(k.val()))+'"\x3e\x3ch2\x3e\x3c/h2\x3e\x3cdiv class\x3d"searchSuggestion"\x3e\x3c/div\x3e\x3cul class\x3d"gallery photoGallery infoPanelGallery"\x3e\x3c/ul\x3e\x3c/div\x3e');""!=
k.val()?$("h2",p).text("“"+k.val()+"”"):$("h2",p).text("");p.height(l.height());var q=$();0<$(".searchLoaderHolder.on",l).length&&(q=$('\x3cdiv class\x3d"placeholder"\x3e\x3cdiv/\x3e'),q.height($(".searchLoaderHolder",l).height()),m.addClass("doNotTransition"),q.insertAfter(n.last()),m.removeClass("doNotTransition"));QB(n.last());var v=EC(m);b=lC(l);g=v>b+G.Ds;h=$();k=$();if(g){var x=b+G.Ds,w=$();n.each(function(){var a=$(this);0==w.length&&mC(a)+a.outerHeight()>x&&(w=a)});0==w.length&&(w=n.last());
b=$(".gallery",w);var k=x-mC(w),y=0;0<b.length&&(y=k-(b.offset().top-w.offset().top));y=uC(b,y);h=h.add(y);k=w.nextAll(".searchGroup");0>=$("li",b).length-y.length&&(h=$(),k=k.add(w));k=k.filter(function(){return!$(this).hasClass("inlineFolderGroup")});if(0==h.length&&0==k.length)g=!1;else{l.addClass("modifying");y=k;0<h.find("a.infoOpen").length&&(y=y.add(w));var B=$(".infoPanel",y);0<B.length&&(y.addClass("doNotTransition"),B.addClass("doNotTransition"),$(".close",B).click(),B.data("infoPanelPointer").remove(),
B.remove(),y.removeClass("doNotTransition"));b=b.data("columnData")||null;FC(b,h);h.detach();Er(w,!0);w.hasClass("inlineFolderGroup")&&$D(m.data("view"),!1);l.removeClass("modifying")}}n=$("\x3e .inner \x3e .searchGroup",m);h=k.map(function(){return $(this).outerHeight(!0)}).toArray().reduce(function(a,b){return a+b},0);h=EC(m)+p.height()-h;g&&h<lC(l)&&p.height(p.height()+(lC(l)-h));p.insertAfter(n.last());k.detach();var F=k.toArray(),n=n.filter(function(){return-1==F.indexOf(this)});g||0!=$(".gallery li",
n.last()).length||(n.last().remove(),n=n.filter(function(a){return a!=n.length-1}));p.data("search",wB);var v=0,D=parseInt(p.css("padding-top"),10)+parseInt(p.css("padding-bottom"),10);n.last().addClass("doNotTransition");n.each(function(){var a=$(this);if(void 0!==a.data("contentHeight")){var b=a.data("contentHeight"),b=b+sC(a);a.height(b);v+=b+D}});n.last().removeClass("doNotTransition");g=$("#objectPanel").find("menu .search");g.hasClass("on")||g.find("a").click();PB(a);d()}}
function PB(a){var b=LB(),c=wB;YB&&YB.cancel();YB=null;YB=xb.Bl(A?A.va():null,wB.query,wB.Xz,wB.uz,wB.By,wB.dI,wB.sort,null,null,!1,wB.kl,wB.bj(),wB.Nd(),wB.yr,!0).then(function(b){aE(a,b)}).catch(function(d){var f=b.find(".layer \x3e .inner \x3e .searchGroup").last();if(!(d instanceof P.CancellationError&&LB().attr("id")===b.attr("id"))){if("resultsSearch"!==b.attr("id"))return QB(f),P.reject();c.cancel();d=$('\x3cp class\x3d"noResults"\x3e').text(Qb(a).format("objectPanelSearchFailed"));QB(f);f.find(".gallery").remove();
f.append(d)}})}
function aE(a,b){var c=LB(),d=$("\x3e .layer \x3e .inner \x3e .searchGroup",c).last(),f=b.Xp(),g=$(".photoGallery, .backgroundGallery",d);wB.Sq=f.length;QB(c.children(".layer"));if(0==f.length&&CC())wB.zH();else{var h=b.suggestion,k=wB,l=wB.query;0===k.bj()&&(k.yr=b.G());if(nb.ta.get(Rd)&&h){b=$("h2",d);var m=$(".searchSuggestion",d);m.empty().addClass("hasSuggestion");window.setTimeout(function(){m.addClass("showSuggestion")},300);h.overridden?(wB=new NB(aA(h),k.Xz,k.uz,k.By,!1,k.sort,k.Nd(),k.yr,
k.kl,function(){PB(a)}),wB.Sq=f.length,d.data("search",wB),b.text("“"+aA(h)+"”"),0<h.originalHits?m.append("Search instead for ").append($("\x3ca/\x3e").data("query",h.originalQuery).append(h.originalQuery)):m.addClass("originalSearch").append("You typed ").append($("\x3cstrong/\x3e").append(h.originalQuery))):m.append("Did you mean: ").append($("\x3ca/\x3e").data("query",aA(h)).append(bE(h)))}else 0===k.bj()&&$(".searchSuggestion",d).empty().removeClass("showSuggestion").removeClass("hasSuggestion");
0<f.length?(f=f.slice(0,k.Nd()),f.forEach(function(a){Ze(bb,a.G(),a.getVersion(),a.Ub())}),f.forEach(function(b){(new cE({model:b,query:l,Y:Qb(a)})).$el.appendTo(g)}),Dr(g),setTimeout(function(){BC(c)},f.length*G.sa.Hn+G.sa.Uq)):0==k.bj()&&(g.remove(),$(".noResults",d).remove(),f=$('\x3cp class\x3d"noResults"\x3e').text(Qb(a).format("objectPanelSearchNoResults")),d.append(f))}}
function MB(a){if(0>=$(".searchLoader",a).length){var b=$('\x3cdiv class\x3d"searchLoader tileListBusyIndicator"\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e');a.append(b);b.addClass("tileListBusyIndicatorOn")}}
function bE(a){var b=$("\x3cspan/\x3e");if(!a.tokenReplacements||0==a.tokenReplacements.length)return b.text(aA(a)),b;var c=a.originalQuery;a=a.tokenReplacements;for(var d=0,f=0,g=0;d<c.length&&g<a.length;)d==a[g].start?(f<d&&b.append(c.substring(f,d)),b.append($("\x3cspan\x3e").addClass("replacedToken").text(a[g].replacement)),d=f=a[g].end,g++):d++;f<c.length&&b.append(c.substring(f,c.length));return b}
function QB(a){$(".searchLoader",a).each(function(){$(this).remove();$(".searchLoaderHolder",a).removeClass("on")})};function dE(){this.li=[]}dE.prototype.trigger=Backbone.Events.trigger;dE.prototype.listenTo=Backbone.Events.listenTo;dE.prototype.stopListening=Backbone.Events.stopListening;_.extend(dE.prototype,Backbone.Events);dE.prototype.cg=function(a){eE(this,a,this.li.length)};function eE(a,b,c){-1===a.li.indexOf(b)&&(c=Math.max(0,Math.min(c,a.li.length)),a.li.splice(c,0,b),a.listenTo(b,"all",function(){a.trigger.apply(this,arguments)}),a.trigger("searchGroup:add",a,b,c))}
dE.prototype.tr=function(a){var b=this.li.indexOf(a);-1<b&&(a.remove(),this.li.splice(b,1),this.stopListening(a),this.trigger("searchGroup:remove",this,a,b))};function fE(a){return a.li[a.li.length-1]}dE.prototype.getLength=function(){return this.li.length};function fB(a,b){this.kB=a;this.title=b||"";this.ho=[];this.Pq=!0}fB.prototype.trigger=Backbone.Events.trigger;_.extend(fB.prototype,Backbone.Events);fB.prototype.Za=function(){return this.title};fB.prototype.remove=function(){this.kB.cancel()};
fB.prototype.clear=function(){this.ho=[];this.Pq=!0;this.kB.reset();this.trigger("results:clear",this)};fB.prototype.ue=function(a){var b=this;this.trigger("results:willFetch",b);this.kB.$m(a,function(c,d){b.Pq=c.length>=a;0<c.length&&(b.ho=b.ho.concat(c));b.trigger("results:didFetch",b,c,d)})};
function gE(a){var b=mb,c=gb,d=nb;if(-1<["grid","grids"].indexOf(a.toLowerCase()))return new hE(a);if("uploads"===a)return new iE(c,!0);if("marketplace"===a)return new iE(c,!1);b=new Nz(b,[new Lz]);c=new NB(a,Pz,null,null,!1,[],0,null,!1,function(){});return d.ta.get(ye)&&-1<["chart","charts"].indexOf(a.toLowerCase())?new jE(b,c,Xi):new kE(b,c)}function lE(){}_.extend(lE.prototype,Backbone.Events);lE.prototype.$m=function(a,b){b&&b([],!0)};lE.prototype.cancel=function(){};lE.prototype.reset=function(){};
function kE(a,b,c){this.search=a;this.ed=b;this.ez=c||Wi;this.cb=!1;this.Gv=this.Eb=null}_.extend(kE.prototype,Backbone.Events);e=kE.prototype;
e.$m=function(a,b){function c(a){return!(a instanceof P.CancellationError)}this.Eb?b&&b([],!0):this.bG(a,b,this.cb)||(this.ed.limit=a,this.Gv=b,this.Eb=Qz(this.search,A?A.va():null,this.ed.query,this.ed.Xz,this.ed.uz,this.ed.By,this.ed.dI,this.ed.sort,this.ed.kl,this.ed.bj(),this.ed.Nd(),this.ed.yr).catch(c,function(){}).then(this.dR.bind(this)).catch(P.CancellationError,function(){}))};e.bG=function(){return!1};e.cancel=function(){this.cb=!0;this.Eb&&this.Eb.cancel();this.Eb=null};
e.reset=function(){this.cancel();this.cb=!1;this.ed.reset()};e.dR=function(a){var b=[];!this.cb&&a&&a.Xp()&&(b=a.Xp());this.Wz(b,this.ed.Nd());this.Gv&&this.Gv(b,this.cb);this.Eb=this.Gv=null;this.cb||(0===this.ed.bj()&&(this.ed.yr=a.G()),this.ed.Sq=b.length,a=this.ed,a.from+=a.limit)};e.Wz=function(){};function hE(a){this.Eo=0;this.Ec=[];this.query=a;this.cb=!1;if("grid"===a||"grids"===a)this.query="grid",this.Ec=_.keys(Wi)}hE.prototype.cancel=function(){this.cb=!0};
hE.prototype.$m=function(a,b){if(this.Eo>=this.Ec.length||this.cb)b&&b([],this.cb);else{var c=this.Ec.slice(this.Eo,this.Eo+a);this.Eo+=a;b&&b(c,!1)}};hE.prototype.reset=function(){this.cb=!1;this.Eo=0;this.Ec=[]};function iE(a,b){this.tb=a;this.sH=b;this.Xg=0;this.cb=!1;this.Eb=null}
iE.prototype.$m=function(a,b){function c(a,c){function f(a){return(a=a.Aa().ec())&&0<Object.keys(a).length}function l(a){var b=a.Aa(),c=b.ec(),d;cw(a.Aa())&&(d=100*cw(a.Aa()).ONE_USE||0);return Se({id:a.G(),version:b.getVersion(),files_:_.values(c),oneTimeUsePriceCents:d,status:b.Pk(),type:a.hb()})}function m(a,b){a=a.G();b=b.G();return-(a<b?-1:a>b?1:0)}200===a&&c.media&&0!==c.media.length?(a=c.media.filter(f).sort(m).map(l),b&&b(a,d.cb),d.Xg+=a.length,d.Eb=null):b&&b([],d.cb)}var d=this,f=[Oe,Qe];
this.Eb?b&&b([],!0):(a=gw(fw((new ew).$l(this.sH).Yl(!1).Zl()),f).nw(this.Xg,a),this.sH||(a=a.rC().Ro(!0)),this.Eb=Fv(gb,a,c))};iE.prototype.cancel=function(){this.cb=!0;this.Eb&&(this.Eb.cancel(),this.Eb=null)};iE.prototype.reset=function(){this.cancel();this.cb=!1;this.Xg=0};
function gB(a){if(void 0!==a.AH&&void 0!==a.Kc){var b=new WD,b=XD(b,a.query?a.query+" *":"*"),c=a.ez||Wi;kE.call(this,a.AH,new NB(b.toString(),Oz,{designType:a.Kc.G()},null,!1,[new fA("score","DESC"),new fA("lastModified","DESC"),new fA("id","ASC")],0,null,!1,function(){}),c)}this.Dt=!1;this.gq=0}_.extend(gB.prototype,kE.prototype);gB.prototype.reset=function(){kE.prototype.reset.call(this);this.Dt=!1;this.gq=0};
gB.prototype.bG=function(a,b,c){var d=[];return this.Dt?(mE(this,d,this.gq,a),b&&b(d,c),!0):!1};gB.prototype.Wz=function(a,b){(this.Dt=0===a.length||a.length<b)&&mE(this,a,this.gq,b-a.length)};function mE(a,b,c,d){c=_.rest(_.keys(a.ez),c);d=_.first(c,d);a.gq+=d.length;d.forEach(function(c){b.push(nE(a,c))})}
function nE(a,b){b=a.ez[b];a=new Qx;var c=$e(z.Sa().dc());b={width:c.w(),height:c.D(),elements:[{type:"grid",left:0,top:0,width:c.w(),height:c.D(),items:b.items}]};a.name="Photo Grid";a.content=b;return a}function jE(a,b,c){kE.call(this,a,b,c);this.sD=c;this.Cy=!1;this.hp=0}_.extend(jE.prototype,kE.prototype);jE.prototype.reset=function(){kE.prototype.reset.call(this);this.Cy=!1;this.hp=0};jE.prototype.Wz=function(a,b){this.Cy||(this.Cy=oE(this,a,this.hp,b-a.length))};
function oE(a,b,c,d){c=_.rest(_.keys(a.sD),c);d=_.first(c,d);a.hp+=d.length;d.forEach(function(a,c){b.splice(c,0,a)});return a.hp===_.size(a.sD)}function dB(a){this.cb=!1;this.eb=a.eb;this.fb=a.fb;this.jb=a.jb;this.Fd=a.Fd;this.Rm=a.Rm;this.Ay=a.Ay;this.nt=a.nt||null;this.Ct=!1;this.Gu=this.sb=this.Eb=null}_.extend(dB.prototype,kE.prototype);
dB.prototype.$m=function(a,b){function c(){function b(a){h.Gu=a.Rb();h.Ct=null==h.Gu;a=a.Md().map(function(a){return a.G()});return k.ws(a)}if(h.Rm){var c=(new qh).$f(new Wg({id:h.Rm})).jf(a).dh(h.Gu);return h.fb.Gq(c).then(b).catch(g)}return P.resolve(k)}function d(a){h.Eb=Pl(h.eb,a);return h.Eb}function f(a){h.sb=a.continuation;this.Rm||(h.Ct=null==h.sb);b&&b(a.documents,h.cb);h.Eb=null}function g(a){b&&b([],h.cb);throw a;}var h=this,k=gm(fm(this.Ay)).nw(this.sb,a);this.nt&&k.GI(this.nt);this.Rm||
hm(k,this.jb,this.Fd);this.Eb?b&&b([],!0):this.Ct?b&&b([],this.cb):this.Eb=c().then(d).then(f).catch(g)};dB.prototype.cancel=function(){this.cb=!0;this.Eb&&(this.Eb.cancel(),this.Eb=null)};dB.prototype.reset=function(){this.cancel();this.cb=!1;this.Gu=this.sb=null;this.Ct=!1};function pE(a){this.Fd=a.Fd||null;this.cb=!1;this.Ox=a.Ox;this.eb=a.eb;this.mE=!1;this.sb=this.Eb=null;this.Ne=a.Ne}_.extend(pE.prototype,kE.prototype);
pE.prototype.$m=function(a,b){function c(a){var b=a.Md().map(h);k.mE=null==a.Rb();k.sb=a.Rb();return 0!==b.length?(a=(new em).ws(b),Pl(k.eb,a)):P.resolve({documents:[]})}function d(a){b(a.documents,k.cb)}function f(){b([],k.cb)}function g(){k.Eb=null}function h(a){return a.G()}var k=this;this.Eb?b&&b([],!0):this.mE?b&&b([],this.cb):(a=Tx((new Sx).me(this.Fd).$f("/designs/layouts"),this.Ox).jf(a).dh(this.sb),this.Eb=Ox(this.Ne,a).then(c).then(d).catch(f).finally(g))};
pE.prototype.cancel=function(){this.cb=!0;this.Eb=null};pE.prototype.reset=function(){this.cancel();this.cb=!1;this.sb=null};function NB(a,b,c,d,f,g,h,k,l,m){this.query="";this.Xz=b;this.uz=c;this.By=d;this.dI=f;this.sort=g;"string"===typeof a?this.query=a.trim():a instanceof Tz&&(this.query="group:"+a.na());this.from=0;this.limit=h;this.Sq=0;this.cb=!1;this.zH=m;this.yr=k;this.kl=l}NB.prototype.bj=function(){return this.from};NB.prototype.Nd=function(){return this.limit};NB.prototype.cancel=function(){this.cb=!0};function CC(){var a=wB;return a.Sq>=a.limit}NB.prototype.reset=function(){this.Sq=this.from=0};function qE(a){if(void 0!==a&&!rE(a))throw Error("StateMachine constructed with invalid options: "+JSON.stringify(a));this.qh=a?a.xF||"none":"none";this.Ke=a?a.Ke.slice(0):[]}qE.prototype.trigger=Backbone.Events.trigger;_.extend(qE.prototype,Backbone.Events);qE.prototype.Bh=function(){return this.qh};function sE(a){return a.Ke.map(function(a){return _.extend({},a)})}
function tE(a,b){var c=a.Ke.concat(b);if(!rE({xF:a.qh,Ke:c}))throw Error("Invalid transitions being added: "+JSON.stringify(c));a.Ke=a.Ke.concat(b)}qE.prototype.transition=function(a){var b=this.qh,c=uE(this,a);if(null!==c)this.qh=c,this.trigger("state:enter",this,c,b);else throw Error("Invalid transition "+a+" from "+this.qh);};
function vE(a,b){var c=a.qh;if(-1===a.Ke.filter(function(a){return a.from===c&&a.to===b}).map(function(a){return a.to}).indexOf(b))throw Error('Cannot transition from "'+c+'" to "'+b+'"');a.qh=b;a.trigger("state:enter",a,b,c)}qE.prototype.start=function(){this.transition("start")};qE.prototype.fail=function(){this.transition("fail")};
function uE(a,b){var c=a.Ke.filter(function(c){return c.name===b&&c.from===a.qh});if(1<c.length)throw Error('More than 1 transition "'+b+'" exists from state "'+a.qh+'"');return 1===c.length?c[0].to:null}function rE(a){var b=a.xF||"none",c;c=-1===wE(a.Ke).indexOf(b)?!1:!0;var d=xE(a.Ke);a=yE(a.Ke);b=0===a.length||1===a.length&&a[0]===b;return c&&b&&0===d.length}function wE(a){a=a.map(function(a){return[a.from,a.to]});return _.uniq(_.flatten(a))}
function yE(a){return wE(a).filter(function(b){return 0===a.filter(function(a){return a.to===b}).length})}function xE(a){return wE(a).filter(function(b){var c=a.filter(function(a){return a.from===b}).map(function(a){return a.name});return c.length>_.uniq(c).length})};function AE(a){this.Hf=a.justification;this.list=a.list;this.o=a.italic;this.bold=a.bold;this.fontSize=a.fontSize;this.fontFamily=a.fontFamily;this.color=a.color}_.extend(AE.prototype,Backbone.Events);e=AE.prototype;e.trigger=Backbone.Events.trigger;e.Up=function(){return this.Hf};e.Vg=function(a){this.Hf=a;this.trigger("change:justification",this);this.trigger("change",this);return this};e.UE=function(){return this.list};
e.Fl=function(a){this.list=a;this.trigger("change:list",this);this.trigger("change",this);return this};e.Tp=function(){return this.o};e.oi=function(a){this.o=a;this.trigger("change:italic",this);this.trigger("change",this);return this};e.Rp=function(){return this.bold};e.ni=function(a){this.bold=a;this.trigger("change:bold",this);this.trigger("change",this);return this};e.wc=function(){return this.fontSize};
e.fd=function(a){this.fontSize=a;this.trigger("change:fontSize",this);this.trigger("change",this);return this};e.Sf=function(a){this.fontFamily=a;this.trigger("change:fontFamily",this);this.trigger("change",this);return this};e.rd=function(){return this.color};e.setColor=function(a){this.color=a;this.trigger("change:color",this);this.trigger("change",this);return this};
e.serialize=function(){return{justification:this.Hf,list:this.list,italic:this.o,bold:this.bold,fontSize:this.fontSize,fontFamily:this.fontFamily,color:this.color}};function AA(a){this.source=a;this.filename="";this.viewBox=[]}var iv="inherit";function mu(a){if(a===iv)return iv;if(a=rf(a||""))return a}function mv(a){if(a===iv)return iv;if(a instanceof nj)return a.qa()}AA.prototype.II=function(a){this.filename=a;return this};function su(a,b){a:{var c;try{c=$.parseXML(a)}catch(d){a=null;break a}a=$(c.documentElement)}return!a||!b&&BE(a)||CE(a)?!1:!0}function BE(a){return a.find("*").andSelf().toArray().some(function(a){return-1===DE.indexOf(a.localName.toLowerCase())})}
function CE(a){return a.find("*").andSelf().toArray().some(function(a){a=a.attributes;for(var c=0;c<a.length;c++){var d=a[c].name.toLowerCase(),f;if(f="xlink:href"===d)f=a[c].value,f=!("#"===f.charAt(0)||EE.test(f));if(f||-1===FE.indexOf(d))return!0}return!1})}
var EE=/^data:image\/[^,;]+;base64,/,DE="circle clippath defs desc ellipse feblend fecolormatrix fecomponenttransfer fecomposite feconvolvematrix fediffuselighting fedisplacementmap fedistantlight feflood fefunca fefuncb fefuncg fefuncr fegaussianblur feimage femerge femergenode femorphology feoffset fepointlight fespecularlighting fespotlight fetile feturbulence filter g hkern image line lineargradient marker mask path pattern polygon polyline radialgradient rect stop svg symbol text textpath title tref tspan use view vkern".split(" "),FE=
"amplitude azimuth basefrequency baseline-shift bias class clip clip-path clip-rule clippathunits color color-interpolation color-interpolation-filters color-profile color-rendering cursor cx cy d diffuseconstant direction display divisor dominant-baseline dx dy edgemode elevation enable-background exponent fill fill-opacity fill-rule filter filterres filterunits flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight fx fy g1 g2 glyph-orientation-horizontal glyph-orientation-vertical gradienttransform gradientunits height id image-rendering in in2 intercept k k1 k2 k3 k4 kernelmatrix kernelunitlength kerning lengthadjust letter-spacing lighting-color limitingconeangle marker-end marker-mid marker-start markerheight markerunits markerwidth mask maskcontentunits maskunits method mode numoctaves offset opacity operator order orient overflow pathlength patterncontentunits patterntransform patternunits pointer-events points pointsatx pointsaty pointsatz preservealpha preserveaspectratio primitiveunits r radius refx refy result rotate rx ry scale seed shape-rendering slope spacing specularconstant specularexponent spreadmethod startoffset stddeviation stitchtiles stop-color stop-opacity stroke stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width style surfacescale tablevalues targetx targety text-anchor text-decoration text-rendering textlength transform type u1 u2 unicode-bidi values version viewbox viewtarget visibility width word-spacing writing-mode x x1 x2 xchannelselector xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xml:lang xml:space xmlns xmlns:svg xmlns:xlink y y1 y2 ychannelselector z zoomandpan".split(" ");function CA(a){var b=a.indexOf("\x3csvg",0),c=a.slice(0,b);-1===c.toUpperCase().indexOf("\x3c!DOCTYPE")&&(a=c+'\x3c!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"\x3e\n'+a.slice(b));return a}function EA(a){function b(a){return 0!==a.filter(function(a){return isNaN(a)}).length}var c=($($.parseXML(a)).find("svg").attr("viewBox")||"").split(/\s/);a=c.map(function(a,b){return parseFloat(c[b])});return 4!==a.length||b(a)?[]:a}
function DA(a){function b(a){a=g.attr(a);return"undefined"==typeof a||""===a?NaN:parseFloat(a.replace(/[^0-9\.]/g,""))}var c=$("#limbo"),d=!1;0>=c.length&&(c=$('\x3cdiv id\x3d"limbo"\x3e\x3c/div\x3e'),$("body").append(c),d=!0);var f=$($.parseXML(a)),g,h,k,l,m;if(4!==EA(a).length){g=f.find("svg");if(!g)throw Error("SVG with no \x3csvg\x3e!");h=b("x");k=b("y");l=b("width");m=b("height");var n=f.find("svg");c.append(n);n=n.get(0).getBBox();isNaN(h)&&(h=n.x);isNaN(k)&&(k=n.y);isNaN(l)&&(l=n.width);isNaN(m)&&
(m=n.height);f.remove();d&&c.remove();c=' viewBox\x3d"'+[h,k,l,m].join(" ")+'" ';d=a.indexOf("\x3csvg",0)+4;return a.substring(0,d)+c+a.substring(d)}return a}
function BA(a){if(!su(a))throw Error("Aborting attempt to generate color changes on unacceptable SVG");var b=$(a).filter("svg"),c='\x3c?xml version\x3d"1.0" standalone\x3d"no"?\x3e',d=a.match(/<\?xml([^?]*)\?>/gi);d&&0<=d.length&&(c=d[0]);d=b.find("[fill]").not('[fill\x3d"none"]');if(0<b.find("g").filter(function(){return/^change/gi.test(this.id)}).length)return a;var f=[],g={};d.each(function(){var a=rf($(this).attr("fill"));if(a){var b=a.qa();g.hasOwnProperty(b)||(f.push(a.qa()),g[b]=1);a=f.indexOf(b)+
1;$(this).wrap('\x3cg id\x3d"change'+a+"_"+g[b]+'"\x3e\x3c/g\x3e');g[b]+=1}});a=$("\x3cdiv\x3e\x3c/div\x3e").append(b).html();return c+a}
function GE(a,b){for(var c=/SVGID_/g,d=new Set,f=/((url\(|xlink:href=)['"]?#)([a-z0-9_-]+)(['"]?)/gi,g;g=f.exec(a);)g[3]&&!d.has(g[3])&&(c&&c.test(g[3])||d.add(g[3]));return 0==d.size?a:a.replace(f,function(a,c,f,g,n){return(c||"")+(d.has(g)?b+g:g)+(n||"")}).replace(/(xml:)?(id=['"]?)([a-z0-9_-]+)(['"]?)/gi,function(a,c,f,g,n){return(c||"")+(f||"")+(d.has(g)?b+g:g)+(n||"")})};function uu(a,b){a=a.trim();a=a.replace(/SVGID_/g,b+"SVGID_");a=GE(a,b);a=a.replace(/font-size\s*:\s*\d+\.?\d*(?=[\s;"])/g,"$\x26px");a=CA(a);return a=DA(a)}function vu(a){var b=a.get(0);b.removeAttribute("width");b.removeAttribute("height");b.removeAttribute("id");$("g",a).each(function(a,b){b.id=b.id.toLowerCase()});$("style",a).remove();HE(a);IE(a);JE(a);KE(a);LE(a)}
function HE(a){var b=0,c=0,d=/^[neswc]_repeat/i,f=/^([ns][ew]?|e|w|c)(_\d+)(_|$)/i;$("g",a).each(function(a,g){d.test(g.id)?(g.id=g.id.substr(0,1),g.classList.add("repeat")):(a=g.id.match(f))&&a[1]&&(g.id=a[1]);-1<["w","e"].indexOf(g.id)&&b++;-1<["n","s"].indexOf(g.id)&&c++});var g=0<b&&0===c,h=0<c&&0===b,k=a.get(0);g?(k.classList.add("horizontalOnly"),$("g#w, g#c, g#e",a).each(function(a,b){b.id="n"+b.id;"nc"==b.id&&(b.id="n")})):h&&(k.classList.add("verticalOnly"),$("g#n, g#c, g#s",a).each(function(a,
b){b.id+="w";"cw"==b.id&&(b.id="w")}))}
function IE(a){function b(a,b){var c,k,l;l=(k=(c=a.getAttribute("style"))&&c.match(ME))?c.match(ME)[2]:a.getAttribute("fill");k&&(c=c.replace(ME,""),a.setAttribute("style",c),a.setAttribute("fill",l));a.hasAttribute("fill")&&(a.classList.add("color"),a.setAttribute("data-color",a.getAttribute("fill")),a.classList.add("color-"+b));b=a.getAttribute("fill");c=rf(b);k=null;Ku.equals(c)?k="primaryColor":Lu.equals(c)?k="secondaryColor":Mu.equals(c)&&(k="tertiaryColor");(c=k)?a.classList.add(c):b&&(d=!1)}
var c=/^change(\d+|$)/i,d=!0;a.find("g").filter(function(){return c.test(this.id)}).each(function(a,c){var d=parseFloat(c.id.substr(6)),d=isNaN(d)?1:d;c.removeAttribute("id");b(c,d);$("[style*\x3dfill], [fill]",c).each(function(){b(this,d)})});d&&a.get(0).classList.add("baseColors")}
function JE(a){var b=/^stack(_|$)/i;a.find("g").filter(function(){return b.test(this.id)}).each(function(a,b){var f=b.id;b.removeAttribute("id");b.classList.add("canva");b.classList.add("stack");f=f.match(/_(vcenter|vtop|vbottom)(_|$)/i);b.setAttribute("data-valign",f?f[1].substr(1).toUpperCase():"CENTER");b.setAttribute("data-stack-id",a)})}
function KE(a){var b=wu(a),c=b.W(),d=b.N(),f=/^[op](_|$)/i,g=0;a.find("g").filter(function(){return f.test(this.id)}).each(function(a,b){a=document.createElementNS("http://www.w3.org/2000/svg","g");a.setAttribute("class","canva");b.parentNode.insertBefore(a,b);b.parentNode.removeChild(b);b=NE(b,["circle","ellipse","path","polygon","rect"]);if(null!==b){var f=document.createElementNS("http://www.w3.org/2000/svg","clipPath");a.appendChild(f);f.id=tu();f.setAttribute("transform","translate("+-c+", "+
-d+")");b.setAttribute("class","photoPlaceholder");f.appendChild(b);var m=document.createElementNS("http://www.w3.org/2000/svg","image");m.setAttribute("class","placeholder");m.setAttribute("clip-path","url(#"+f.id+")");m.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","https://static.canva.com/static/images/placeholder.jpg");m.setAttribute("transform","translate("+c+", "+d+")");m.setAttribute("data-placeholder-index",g.toString());g++;a.appendChild(m);b=OE(b,"cx cy r rx ry d pathLength points x y width height transform".split(" "));
b.setAttribute("class","outline");b.setAttribute("fill","none");a.appendChild(b)}})}
function LE(a){var b=/^t(_|$)/i;a.find("g").filter(function(){return b.test(this.id)}).each(function(a,b){var f=document.createElementNS("http://www.w3.org/2000/svg","g");f.setAttribute("class","canva");b.parentNode.insertBefore(f,b);b.parentNode.removeChild(b);a=NE(b,["rect"]);if(null!==a){a=OE(a,"rx ry x y width height".split(" "));a.setAttribute("class","textPlaceholder");a.setAttribute("fill","none");f.appendChild(a);var f=NE(b,["text"]),f=PE(f),g=b.id,h=/_(dfont)(_|$)/.test(g),k=/_(dwidth)(_|$)/.test(g),
l=/_(dheight)(_|$)/.test(g),m=g.match(/_(left|center|right)(_|$)/),g=g.match(/_ls([0-9]+)(_|$)/),f=$.extend({},f,{justification:m?m[1]:void 0,"line-spacing":g?parseFloat(g[1].substring(0,1)+"."+g[1].substring(1)):void 0,"dynamic-font-size":h,"dynamic-width":k&&!l,"dynamic-height":l}),n;for(n in f)a.setAttribute("data-"+n,f[n]);if(b){n=[];b=b.getElementsByTagNameNS("http://www.w3.org/2000/svg","text");for(f=0;f<b.length;f++)h=b[f],h.textContent&&0<h.textContent.trim().length&&n.push(h.textContent.trim());
b=n.join(" ")}else b="";""!=b&&a.setAttribute("data-placeholder-text",b)}})}function OE(a,b){var c=document.createElementNS("http://www.w3.org/2000/svg",a.nodeName);b.forEach(function(b){a.hasAttribute(b)&&c.setAttribute(b,a.getAttribute(b))});return c}function NE(a,b){var c=[];b.forEach(function(b){b=a.getElementsByTagNameNS("http://www.w3.org/2000/svg",b);for(var f=0;f<b.length;f++)c.push(b[f])});return 0===c.length?null:c[0]}
function PE(a){function b(a){for(var b=a.replace(/^['"]|['"]$/g,""),d=Wy(ob),f,g,p=0;p<d.length;p++)for(g in f=d[p],f.J)if(f.J[g].l.toLowerCase()===b.toLowerCase())return a=-1<[f.J.bold,f.J.v].indexOf(f.J[g]),g=-1<[f.J.o,f.J.v].indexOf(f.J[g]),{"font-name":f.name||f.family,"font-family":f.family,bold:a,italic:g};return c(a)}function c(a){var b=["bold","italic","bolditalic","black"],c={},d=Wy(ob),f=a.replace(/^['"]|['"]$/g,"").toLowerCase();if(a=_.find(d,function(a){return(a.O||"").toLowerCase()===
f}))return c["font-name"]=a.name||a.family,c["font-family"]=a.family,c;var d=d.filter(function(a){a=(a.O||"").toLowerCase().replace(/-[^-]+$/,"");return 0===f.indexOf(a)}),g=_.find(d,function(a){return-1<(a.O||"").toLowerCase().indexOf("-regular")})||d[0];g&&b.forEach(function(a){var b=(g.O||"").toLowerCase().replace(/-[^-]+$/,"");f==b+"-"+a&&(c["font-name"]=g.name||g.family,c["font-family"]=g.family,c.bold="bold"==a||"bolditalic"==a||"black"==a,c.italic="italic"==a||"bolditalic"==a)});return c}var d=
["fill","font-size","font-family"];if(!a)return{};var f={};d.forEach(function(b){var c=(a.getAttribute(b)||"").trim();""!==c&&(f[b]=c)});(a.getAttribute("style")||"").split(";").forEach(function(a){var b=a.split(":");2==b.length&&(a=b[0].trim(),b=b[1].trim(),-1<d.indexOf(a)&&(f[a]=b))});if(f.fill){var g=rf(f.fill);g?f.fill=g.qa():delete f.fill}f["font-size"]&&(f["font-size"]=.72*parseFloat(f["font-size"]));f["font-family"]&&(g=b(f["font-family"]),delete f["font-family"],$.extend(f,g));return f}
var ME=/(\b|^)fill\s*:\s*([^;]+);\s*/i;function Qj(a,b,c,d){var f;a==c?f=b>d?1.5*Math.PI:.5*Math.PI:(f=Math.atan((d-b)/(c-a)),a<c?d<b&&(f=2*Math.PI+f):f=Math.PI+f,isNaN(f)&&(f=0));return Vi(180*f/Math.PI)}function Vi(a){a%=360;0>a&&(a+=360);return a}function Oj(a){return Math.PI/180*a}function $s(a,b){a-=b;return 0>a?360+a:a}function QE(a,b){a=Math.floor(180*Math.atan2(a.y-b.y,a.x-b.x)/Math.PI+90);return 0>a?360+a:a}
function RE(a){switch(a){case "TL":return 270;case "TR":return 0;case "BR":return 90;case "BL":return 180;default:throw Error("Quadrant does not exist");}}function Rj(a,b,c,d){return Math.sqrt(Math.pow(c-a,2)+Math.pow(d-b,2))};function SE(a){this.listener=void 0;this.Nx=a;this.Lw=this.visible=!1;this.dF=[]}e=SE.prototype;e.Aq=function(){return!!this.visible};function TE(a){a.Nx.aa.forEach(function(a){if(a.F()){if(0>=a.F().find(".guides").length){var c=$('\x3cdiv class\x3d"guides"\x3e\x3cdiv class\x3d"vertical gutter"\x3e\x3c/div\x3e\x3cdiv class\x3d"horizontal gutter"\x3e\x3c/div\x3e\x3c/div\x3e');a.F().append(c)}a.F().find(".guides").css("display","block")}})}
e.toggle=function(){this.Aq()?(this.hide(),UE(this)):this.Lw?UE(this):this.show()};function VE(a){return a.dF.filter(function(a){return a&&a.mc&&a.ha()})}e.add=function(a){this.dF.push(a)};e.hide=function(){this.visible=!1;this.Nx.aa.forEach(function(a){a.F()&&a.F().find(".guides").css("display","none")});VE(this).forEach(function(a){a.jt()});this.stopListening()};e.stopListening=function(){this.listener&&(this.listener.off("mousedown",".guides",this.Qs),this.listener.off("touchstart",".guides",this.Qs))};
e.show=function(){this.visible=!0;TE(this);VE(this).forEach(function(a){a.activate()});this.listener=new Uk("#canvaDocument");this.Qs=this.ay.bind(this);this.listener.on("mousedown",".guides",this.Qs);this.listener.on("touchstart",".guides",this.Qs)};
e.ay=function(a){function b(a){var p=a.clientX-l;a=a.clientY-m;p={align:"vertical",type:"guide",width:0,height:k.D(),left:p/N,top:0};f||(p.align="horizontal",p.width=k.w(),p.left=0,p.top=a/N,p.height=0);a=k;0<=p.left&&p.left<=a.w()&&0<=p.top&&p.top<=a.D()&&(a=new $w(p),a.appendTo(k),a.Va(p.left),a.Wa(p.top),a.activate(),d.add(a));g.off("mouseup|touchend",b);g.off("mousemove|touchmove",c);h.remove()}function c(a){var b=a.clientX-l;a=a.clientY-m;f?h.css("top",0).css("left",b):h.css("top",a).css("left",
0)}var d=this,f=$(a.target).hasClass("vertical"),g=new Uk($(document)),h=$('\x3cdiv class\x3d"element guide"\x3e\x3c/div\x3e'),k=L(this.Nx),l=k.F().get(0).getBoundingClientRect().left,m=k.F().get(0).getBoundingClientRect().top;f?h.addClass("vertical"):h.addClass("horizontal");k.F().find(".elements").append(h);g.on("mousemove|touchmove",c);g.on("mouseup|touchend",b)};function WE(){var a=vb();return a.Aq()?VE(a):[]}
function UE(a){function b(){return'\x3cdiv class\x3d"gutter"\x3e\x3c/div\x3e'}function c(){return'\x3cdiv class\x3d"column lsnap"\x3e\x3c/div\x3e\x3cdiv class\x3d"line"\x3e\x3c/div\x3e\x3cdiv class\x3d"column"\x3e\x3c/div\x3e\x3cdiv class\x3d"line"\x3e\x3c/div\x3e\x3cdiv class\x3d"column rsnap"\x3e\x3c/div\x3e'}$(".page").hasClass("showGuidelines")?(a.Lw=!1,$(".page").removeClass("showGuidelines"),$(".page .guidelines").remove()):(a.Lw=!0,$(".page").addClass("showGuidelines"),$(".page").prepend('\x3cdiv class\x3d"guidelines"\x3e'+
b()+c()+b()+c()+b()+c()+b()+c()+b()+c()+b()+c()+b()+"\x3c/div\x3e"),XE())}function XE(){if(z&&z.hu&&z.aa[0]){var a=(z.aa[0].w()-140)/18*N-2/3+"px";$(".page .guidelines .column").css("width",a);$(".page .guidelines .gutter").css("width",20*N)}}
function YE(a){if(!a.F()||!a.F().hasClass("showGuidelines"))return delete $a.hq,[];if($a.hq)return $a.hq;$a.hq=[];a.F().find(".guidelines .gutter").each(function(b,c){function d(){return 0}function f(){return(c.getBoundingClientRect().right-h().left)/N}function g(){return(c.getBoundingClientRect().left-h().left)/N}function h(){return a.F().get(0).getBoundingClientRect()}$a.hq.push({W:g,Ya:g,$b:f,N:d,ab:d,de:function(){return f()-g()},ce:function(){return(h().bottom-h().top)/N},Qb:function(){return(h().bottom-
h().top)/N},uc:function(){return h().left+c.getBoundingClientRect().left},vc:function(){return h().top},Ma:function(){return 0}})});return $a.hq};var Ku=Hj("#ffffff"),Lu=Hj("#272c33"),Mu=Hj("#7d8693");function ZE(a){var b=a.data;soy.asserts.assertType(goog.isNumber(a.index),"index",a.index,"number");var c=a.index;soy.asserts.assertType(goog.isNumber(a.maxLength),"maxLength",a.maxLength,"number");var d=a.maxLength;soy.asserts.assertType(null==a.isEmpty||goog.isBoolean(a.isEmpty)||1===a.isEmpty||0===a.isEmpty,"isEmpty",a.isEmpty,"boolean|null|undefined");a=a.isEmpty;c='\x3ctr data-row\x3d"'+soy.$$escapeHtmlAttribute(c)+'" class\x3d"tableView__row tableView__row--data '+(a?"tableView__row--empty":
"")+'"\x3e';a=b.length;for(var f=0;f<a;f++)var g=b[f],c=c+('\x3ctd class\x3d"tableView__cell"\x3e\x3cinput maxlength\x3d"'+soy.$$escapeHtmlAttribute(d)+'" data-column\x3d"'+soy.$$escapeHtmlAttribute(f)+'" class\x3d"tableView__input tableView__input--data" type\x3d"text" value\x3d"'+soy.$$escapeHtmlAttribute(g)+'" /\x3e\x3c/td\x3e');return soydata.VERY_UNSAFE.ordainSanitizedHtml(c+"\x3c/tr\x3e")}
function $E(a){var b='\x3ctr class\x3d"tableView__row tableView__row--header"\x3e';a=a.Be;for(var c=a.length,d=0;d<c;d++)b+='\x3cth class\x3d"tableView__cell tableView__cell--header"\x3e\x3cinput tabindex\x3d"-1" class\x3d"tableView__input tableView__input--header" type\x3d"text" value\x3d"'+soy.$$escapeHtmlAttribute(a[d])+'" /\x3e\x3c/th\x3e';return soydata.VERY_UNSAFE.ordainSanitizedHtml(b+"\x3c/tr\x3e")}
function aF(a){soy.asserts.assertType(goog.isNumber(a.count),"count",a.count,"number");var b='\x3ctr class\x3d"tableView__row tableView__row--placeholder"\x3e';a=a.count;for(var c=0;c<a;c++)b+='\x3ctd class\x3d"tableView__cell tableView__cell--placeholder"\x3e\x3cinput tabindex\x3d"-1" data-column\x3d"'+soy.$$escapeHtmlAttribute(c)+'" class\x3d"tableView__input tableView__input--placeholder" type\x3d"text" value\x3d"" /\x3e\x3c/td\x3e';return soydata.VERY_UNSAFE.ordainSanitizedHtml(b+"\x3c/tr\x3e")}
;function bF(){Backbone.View.call(this,{className:"tableView",tagName:"table"});this.$el.attr("cellspacing",0);this.$el.attr("cellpadding",0);this.$el.attr("border",0)}t(bF,Backbone.View);e=bF.prototype;e.events=function(){return{"input .tableView__input":this.Yq,"keyup .tableView__input":this.QO,"keydown .tableView__input":this.lA,"focus .tableView__input--data":this.jO,"focus .tableView__input--placeholder":this.iP,"blur .tableView__input--data":this.hl,"paste .tableView__input":this.fP}};
e.ea=function(a){if(!a.length)return{Yb:-1,sc:-1};var b=a.parents(".tableView__row").attr("data-row");a=$(a).attr("data-column");b=parseInt(void 0===b?-1:b,10);a=parseInt(void 0===a?-1:a,10);return{Yb:b,sc:a}};function cF(a,b){return a.$el.find('[data-row\x3d"'+b.Yb+'"] [data-column\x3d"'+b.sc+'"]')}e.Qk=function(a){return""+a.val()};e.Kj=function(a){cF(this,a).focus();return this};
function dF(a,b,c){cF(a,b).toggleClass("tableView__input--numerical",!!c).toggleClass("tableView__input--nonNumerical",!c)}function eF(a,b,c){cF(a,b).toggleClass("tableView__input--empty",!!c)}function fF(a,b,c){a.$('.tableView__row[data-row\x3d"'+b+'"]').toggleClass("tableView__row--empty",!!c)}e.ro=function(a,b,c){var d=cF(this,a);d.length&&d.val(b)&&!c&&this.trigger("input",a,b)};e.tB=function(a){var b=this.$el.find(".tableView__row--header");a=$E({Be:a}).toString();b.length?b.replaceWith(a):this.$el.find(".tableView__row").first().before(a)};
e.Yq=function(a){var b=$(a.currentTarget);a=this.ea(b);b=this.Qk(b);this.trigger("input",a,b)};e.QO=function(a){a.stopPropagation();this.trigger("keyup",this.VL,a.preventDefault)};e.lA=function(a){a.stopPropagation();var b=$(a.currentTarget),c=this.ea(b),b=this.Qk(b);this.VL={index:c,value:b,keyCode:a.keyCode,shiftKey:a.shiftKey,altKey:a.altKey,selectionStart:a.currentTarget.selectionStart,selectionEnd:a.currentTarget.selectionEnd}};
e.fP=function(a){var b=$(a.currentTarget),b=this.ea(b),c=a.originalEvent.clipboardData.getData("text");if(-1!==c.indexOf("\t")||-1!==c.indexOf("\n"))a.preventDefault(),this.trigger("paste",b,c)};e.iP=function(a){a.preventDefault();this.trigger("append")};e.jO=function(a){a=$(a.currentTarget);this.trigger("focus",this.ea(a));a.select()};e.hl=function(a){var b=$(a.currentTarget);a=this.ea(b);b=this.Qk(b);this.trigger("blur",a,b)};
e.render=function(a,b,c,d){var f=this.el;soy.asserts.assertType(goog.isNumber(b),"maxLength",b,"number");for(var g="",h=a.length,k=0;k<h;k++)g+=ZE({data:a[k],index:k,maxLength:b});b=soydata.VERY_UNSAFE.ordainSanitizedHtml(g);f.innerHTML=b;c&&this.$el.find(".tableView__row").first().before($E({Be:c}).toString());d&&a[0]&&a[0].length&&this.$el.find(".tableView__row").last().after(aF({count:a[0].length}).toString())};
e.insertRow=function(a,b,c,d){this.$el.find('.tableView__row--data[data-row\x3d"'+a+'"]').after(ZE({data:d,index:a+1,maxLength:c,isEmpty:b}).toString());gF(this)};function gF(a){a.$el.find(".tableView__row--data").each(function(a,c){$(c).attr("data-row",a)})}function hF(a,b){a.$el.find(".tableView__input--placeholder").toggle(b)};function iF(a,b,c,d,f){var g=this;this.view=a;this.Jq=b;this.Iq=c;this.maxLength=d||16;this.pj=f||0;this.data=[];this.headers=[];this.Bx={sc:0,Yb:0};this.view.on("focus",function(a){g.Bx=a});this.view.on("input",function(a,b){return g.ro(a,b)});this.view.on("keyup",function(a,b){return jF(g,a,b)});this.view.on("blur",function(a,b){return g.validate(a,b)});this.view.on("paste",function(a,b){return kF(g,a,b)});this.view.on("append",function(){g.insertRow(g.data.length-1)})}
function lF(a){var b=new bF,c=new iF(b,30,2,16,0);c.setData(a);b.render(a,c.maxLength,["Label","Value"],!0);return{qQ:c,view:b}}e=iF.prototype;e.setData=function(a){this.data=a};e.tB=function(a){this.headers=a;this.view.tB(this.headers)};e.ro=function(a,b){-1!==a.Yb&&-1!==a.sc&&(this.data[a.Yb][a.sc]=b,this.validate(a,b),this.trigger("change",this.data))};
e.validate=function(a,b){-1!==a.Yb&&-1!==a.sc&&(a.sc!=this.pj&&dF(this.view,a,!isNaN(parseFloat(b.toString()))),eF(this.view,a,!b.length),b=this.data[a.Yb].reduce(function(a,b){return!a.length&&!b.length}),fF(this.view,a.Yb,b))};
function jF(a,b,c){var d=b.index,f=b.value;switch(b.keyCode){case 13:c&&c();b.shiftKey?a.insertRow(d.Yb):b.altKey?mF(a,d):nF(a,d);break;case 38:c&&c();mF(a,d);break;case 40:c&&c();nF(a,d);break;case 37:0==b.selectionStart&&0==b.selectionEnd&&(c&&c(),oF(a,d));break;case 39:b.selectionStart==f.length&&b.selectionEnd==f.length&&(c&&c(),pF(a,d));break;case 8:0===f.length&&(b=0===a.data[d.Yb].reduce(function(a,b){return a.length+b.length}),0===d.sc&&b?(c&&c(),a.deleteRow(d.Yb),qF(a,d)):(c&&c(),oF(a,d)))}}
function kF(a,b,c){var d=[];c.split("\n").forEach(function(a){return d.push(a.split("\t"))});c=function(a,b){return _.findIndex(a,function(a){a=a.slice(b+1);return _.any(a,function(a){return!isNaN(parseFloat(a))})})}(d,a.pj);0<c&&a.tB(d[c-1]);for(c=Math.max(0,c);c<d.length&&c!==a.Jq;c++,b.Yb++){b.Yb>=a.data.length&&a.insertRow(b.Yb-1);for(var f=0;f<Math.min(d[c].length,a.Iq-b.sc)&&f!==a.Iq;f++){var g={Yb:b.Yb,sc:f+b.sc},h=d[c][f];a.ro(g,h);a.view.ro(g,h,!0);a.validate(g,h)}}}
e.Kj=function(a){this.view.Kj(a);this.Bx=a;this.trigger("focus",a)};function nF(a,b){b.Yb+1<a.Jq&&(b.Yb===a.data.length-1?a.insertRow(a.data.length-1):(b.Yb++,a.Kj(b)))}function mF(a,b){0<=--b.Yb&&a.Kj(b)}function pF(a,b){b.sc+1<a.Iq&&(b.sc++,a.Kj(b))}function oF(a,b){0<=--b.sc&&a.Kj(b)}function qF(a,b){b.sc?b.sc--:(b.Yb=Math.max(0,b.Yb-1),b.sc=a.Iq-1);a.Kj(b)}e.getData=function(){return this.data};function rF(a){return Array(a.Iq).fill("").map(function(a){return a})}
e.insertRow=function(a,b){b=void 0===b?rF(this):b;var c=!0,d=0;this.data.forEach(function(a){a.reduce(function(a,b){return""===a&&""===b})&&d++});b.forEach(function(a){return c=c&&0==a.length});this.data.length<this.Jq&&0===d?(this.data.splice(a+1,0,b),this.view.insertRow(a,c,this.maxLength,b)):this.data.length===this.Jq&&hF(this.view,!1);this.Kj({Yb:a+1,sc:this.Bx.sc});this.trigger("change",this.data)};
e.deleteRow=function(a){if(1===this.data.length)return{sc:0,Yb:a};var b=this.view;b.$el.find('.tableView__row--data[data-row\x3d"'+a+'"]').remove();gF(b);this.data.splice(a,1);this.data.length<this.Jq&&hF(this.view,!0);this.trigger("change",this.data)};e.off=Backbone.Events.off;e.on=Backbone.Events.on;e.trigger=Backbone.Events.trigger;e.listenTo=Backbone.Events.listenTo;e.stopListening=Backbone.Events.stopListening;function sF(a){var b=this;Backbone.View.call(this,{el:a.el,events:{"mouseover li":function(a){return $(a.currentTarget).addClass("hovering")},"mouseout li":function(a){return $(a.currentTarget).removeClass("hovering")},"hover li.selectable":function(a){b.Dz||b.trigger("hover",$(a.currentTarget).index()-$(a.currentTarget).prevAll("li").not(".selectable").length)},"mouseup li.selectable":function(a){b.trigger("trigger",$(a.currentTarget).index()-$(a.currentTarget).prevAll("li").not(".selectable").length,
a)},"click li:not(.selectable)":function(){b.trigger("clickNonSelectable")}}});this.Dz=!1;this.MB=_.debounce(this.MB,500);this.bv=this.bv.bind(this);$(document).on("keydown",this.bv)}t(sF,Backbone.View);function tF(a){var b=$(uF());a=a.elements.map(function(a){return $("\x3cli\x3e").toggleClass("selectable",a.BH).toggleClass("toolbar__menuHeader",a.MM).append(a.element)});var c;(c=b.find("ul")).append.apply(c,[].concat(ka(a)));return new sF({el:b[0]})}e=sF.prototype;
e.select=function(a){this.$("li.active").removeClass("active");this.$("li.selectable").eq(a).addClass("active")};e.Cr=function(){var a=this.$("li.active").position().top,b=this.$(".menuList__inner"),c=this.$el.outerHeight(),a=b.scrollTop()+a-c/2;b.stop().animate({scrollTop:a},100)};e.remove=function(){$(document).off("keydown",this.bv);Backbone.View.prototype.remove.call(this)};e.MB=function(){this.Dz=!1};
e.bv=function(a){if("hidden"!=this.$el.css("visibility")){this.Dz=!0;this.MB();if(38===a.which)this.trigger("keyUp",a);else if(40===a.which)this.trigger("keyDown",a);else if(9===a.which&&a.shiftKey)this.trigger("keyShiftTab",a);else if(9===a.which)this.trigger("keyTab",a);else if(13===a.which)this.trigger("keyEnter",a);else if(27===a.which)this.trigger("keyEsc",a);else return;a.preventDefault();return!1}};function vF(a,b,c){this.element=a instanceof jQuery?a:$(a);this.BH=b;this.MM=c}var uF=_.template('\n  \x3cdiv class\x3d"menuList"\x3e\n    \x3cul class\x3d"menuList__inner"\x3e\x3c/ul\x3e\n  \x3c/div\x3e\n');function wF(a){var b=this;this.index=a.index;this.mi=a.mi;this.view=a.view;this.listenTo(this.view,{keyUp:function(){return xF(b,!1)},keyDown:function(){return yF(b,!1)},keyTab:function(){return yF(b,!0)},keyShiftTab:function(){return xF(b,!0)},keyEnter:function(a){null!==b.index&&b.trigger("select",b.index,b.mi[b.index||0],a)},keyEsc:function(){return b.trigger("cancel")},hover:function(a){b.index=a;b.view.select(a)},trigger:function(a,d){b.trigger("select",a,b.mi[a],d)},clickNonSelectable:function(){return b.trigger("cancel")}})}
function zF(a){var b=tF({elements:a.elements});"undefined"!==typeof a.Cm&&b.select(a.Cm);return new wF({index:"undefined"===typeof a.Cm?null:a.Cm,mi:a.elements.filter(function(a){return a.BH}),view:b})}function xF(a,b){a.index||(a.index=0);a.index--;0>a.index&&(a.index=b?a.mi.length-1:0);a.view.select(a.index);a.view.Cr();a.trigger("activeChange",a.mi[a.index])}e=wF.prototype;e.Cr=function(){this.view.Cr()};
function yF(a,b){a.index||(a.index=0);a.index++;a.index>=a.mi.length&&(a.index=b?0:a.mi.length-1);a.view.select(a.index);a.view.Cr();a.trigger("activeChange",a.mi[a.index])}e.remove=function(){this.stopListening();this.view.remove()};e.listenTo=Backbone.Events.listenTo;e.stopListening=Backbone.Events.stopListening;e.trigger=Backbone.Events.trigger;e.off=Backbone.Events.off;e.on=Backbone.Events.on;function AF(){Backbone.View.call(this,{className:"sidebar",tagName:"section"});this.visible=!1;this.Wh=[]}t(AF,Backbone.View);e=AF.prototype;e.events=function(){return{click:this.preventDefault}};e.preventDefault=function(a){a.stopPropagation();a.preventDefault()};e.jm=function(a){this.Wh.push(a);this.$el.append(a.$el);return this};e.Io=function(){this.visible?BF(this):(this.visible=!0,this.$el.addClass("sidebar--showing"),this.$el.removeClass("sidebar--hiding"))};
function BF(a){a.visible=!1;a.$el.addClass("sidebar--hiding");a.$el.removeClass("sidebar--showing")}e.remove=function(){this.Wh.forEach(function(a){a.stopListening();a.remove()});Backbone.View.prototype.remove.call(this)};function CF(){this.type="separator"}function Z(a,b,c){c=void 0===c?{}:c;this.id=a;this.label="number"==typeof b?b.toFixed(1).toString().replace(".0",""):b;this.Rl=(c.Rl||b).toString();this.th=!!c.th;this.pq=c.pq;this.enabled=void 0===c.enabled?!0:c.enabled;this.hidden=!!c.hidden;this.icon=!!c.icon;this.Bd=c.Bd;this.Yf=!!c.Yf;this.Hd=c.Hd||"no";"string"==typeof c.xd?(a=c.xd,b=-1<navigator.platform.indexOf("Mac")?"⌘":"Ctrl ",a=a.replace("^",b)):a=void 0;this.xd=a}
function DF(a,b){this.id="link";this.label=a;this.placeholder=b;this.type="input"}function EF(a,b,c){c=void 0===c?{}:c;this.id=a;this.label=b;this.type="slider";this.min=c.min||0;this.max=c.max||100;this.step=c.step||1}function FF(a,b,c){this.fill=a;this.label=b;this.index=c||0;this.type="color"};function GF(a,b){var c=!1,d=new CF,f=[];a instanceof kt?(f.push(new FF("",nd(b))),c=!0):a.Bb&&a.Bb().length&&(f=f.concat(a.Bb().map(function(a,c){if(a instanceof nj)return new FF(a.qa(),nd(b),c);if("string"===typeof a)return new FF(a,nd(b),c);if(null===a)return new FF("",nd(b),c)})),c=!0);if(a instanceof Qk||a.Od&&a.Od()&&(a.iF()||a.jj()))c&&f.push(d),f.push(new Z("filter",b.format("editorToolbarImageFilter"),{enabled:a.oj(),hidden:a instanceof Qk&&!a.Od()}));if(a.oh||a instanceof Qk)c&&-1===f.indexOf(d)&&
f.push(d),f.push(new Z("crop",b.format("editorToolbarImageCrop"),{enabled:!(a.lj&&a.lj()),hidden:a instanceof Qk&&!a.oh}));if(a.mj()){c&&-1===f.indexOf(d)&&f.push(d);var g=[];g.push(new Z("flipHorizontal",b.format("editorToolbarElementFlipHorizontally"),{icon:!0}));g.push(new Z("flipVertical",b.format("editorToolbarElementFlipVertically"),{icon:!0}));f.push(new Z("flip",b.format("editorToolbarElementFlip"),{Bd:g,Yf:!0}))}c&&a.lq()&&(-1===f.indexOf(d)&&f.push(d),f.push(new Z("gridSpacing",b.format("editorToolbarGridSpacing"),
{Bd:[new EF("gridSpacing",b.format("editorToolbarGridSpacing"))]})));return f}
function HF(a,b){var c=[],d={HorizontalAlignLeft:new Z("HorizontalAlignLeft",fd(b),{icon:!0}),HorizontalAlignCenter:new Z("HorizontalAlignCenter",hd(b),{icon:!0}),HorizontalAlignRight:new Z("HorizontalAlignRight",gd(b),{icon:!0}),VerticalAlignTop:new Z("VerticalAlignTop",id(b),{icon:!0}),VerticalAlignCenter:new Z("VerticalAlignCenter",kd(b),{icon:!0}),VerticalAlignBottom:new Z("VerticalAlignBottom",jd(b),{icon:!0}),HorizontalDistribute:new Z("HorizontalDistribute",ld(b),{icon:!0}),VerticalDistribute:new Z("VerticalDistribute",
md(b),{icon:!0})};a.forEach(function(a){c.push(d[a.id])});return c}
function IF(a,b,c){var d=[],f={copy:new Z("copy",b.format("editorToolbarElementCopy")),group:new Z("group",b.format("editorToolbarElementGroup"),{enabled:!1}),ungroup:new Z("ungroup",b.format("editorToolbarElementUngroup"),{enabled:!0}),arrange:new Z("arrange",b.format("editorToolbarElementArrange"),{Yf:!0,Bd:[new Z("forward",b.format("editorToolbarElementForward"),{icon:!0,xd:"^]",th:!0}),new Z("back",b.format("editorToolbarElementBack"),{icon:!0,xd:"^[",th:!0})]}),transparency:new Z("transparency",
ed(b),{icon:!0,Bd:[new EF("transparency",ed(b))]}),link:new Z("link",b.format("editorToolbarElementLink"),{icon:!0,Bd:[new DF(b.format("editorToolbarElementLinkApply"),b.format("editorToolbarElementLinkPlaceholder"))]}),"delete":new Z("delete",b.format("editorToolbarElementDelete"),{icon:!0}),deleteMenu:new Z("deleteMenu",b.format("editorToolbarElementDelete"),{icon:!0,Yf:!0,Bd:[new Z("imageDelete",b.format("editorToolbarDeleteMenuDeleteImage"),{icon:!1}),new Z("delete",b.format("editorToolbarDeleteMenuDeleteElement"),
{icon:!1})]})};d.push(new CF);a.forEach(function(a){"delete"===a?(d.push(new Z("more",b.format("editorToolbarElementMore"),{Bd:[],Yf:!0,enabled:!1})),d.push(c?f.deleteMenu:f["delete"])):d.push(f[a])});return d};function JF(a,b){a=a.items;var c='\x3cul class\x3d"toolbar__list"\x3e';if(a)for(var d=a.length,f=0;f<d;f++){var g=a[f];if("color"==g.type)g=KF({fill:g.fill,label:g.label,index:g.index});else if("slider"==g.type){var h=g;soy.asserts.assertType(goog.isString(h.id)||h.id instanceof goog.soy.data.SanitizedContent,"id",h.id,"string|goog.soy.data.SanitizedContent");g=h.id;soy.asserts.assertType(goog.isString(h.label)||h.label instanceof goog.soy.data.SanitizedContent,"label",h.label,"string|goog.soy.data.SanitizedContent");
var k=h.label;soy.asserts.assertType(goog.isNumber(h.min),"min",h.min,"number");var l=h.min;soy.asserts.assertType(goog.isNumber(h.max),"max",h.max,"number");var m=h.max;soy.asserts.assertType(goog.isNumber(h.step),"step",h.step,"number");h=h.step;g=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli class\x3d"toolbar__item toolbar__item--slider"\x3e\x3clabel class\x3d"toolbar__label toolbar__label--'+soy.$$escapeHtmlAttribute(g)+'"\x3e'+soy.$$escapeHtml(k)+'\x3c/label\x3e\x3cdiv class\x3d"toolbar__sliderWrapper"\x3e\x3cdiv class\x3d"toolbar__sliderBackground"\x3e\x3c/div\x3e\x3cinput class\x3d"toolbar__slider toolbar__slider--'+
soy.$$escapeHtmlAttribute(g)+'" type\x3d"range" min\x3d"'+soy.$$escapeHtmlAttribute(l)+'" max\x3d"'+soy.$$escapeHtmlAttribute(m)+'" step\x3d"'+soy.$$escapeHtmlAttribute(h)+'" /\x3e\x3c/div\x3e\x3cinput class\x3d"toolbar__sliderValue toolbar__sliderValue--'+soy.$$escapeHtmlAttribute(g)+'" type\x3d"number" min\x3d"'+soy.$$escapeHtmlAttribute(l)+'" max\x3d"'+soy.$$escapeHtmlAttribute(m)+'" step\x3d"'+soy.$$escapeHtmlAttribute(h)+'" disabled\x3d"disabled" /\x3e\x3c/li\x3e')}else if("input"==g.type)l=
g,soy.asserts.assertType(goog.isString(l.id)||l.id instanceof goog.soy.data.SanitizedContent,"id",l.id,"string|goog.soy.data.SanitizedContent"),g=l.id,soy.asserts.assertType(goog.isString(l.label)||l.label instanceof goog.soy.data.SanitizedContent,"label",l.label,"string|goog.soy.data.SanitizedContent"),k=l.label,soy.asserts.assertType(goog.isString(l.placeholder)||l.placeholder instanceof goog.soy.data.SanitizedContent,"placeholder",l.placeholder,"string|goog.soy.data.SanitizedContent"),l=l.placeholder,
g=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli class\x3d"toolbar__item toolbar__item--input"\x3e\x3cinput class\x3d"toolbar__input toolbar__input--'+soy.$$escapeHtmlAttribute(g)+'" type\x3d"text" placeholder\x3d"'+soy.$$escapeHtmlAttribute(l)+'" /\x3e\x3cbutton class\x3d"button buttonSmall toolbar__submit toolbar__submit--'+soy.$$escapeHtmlAttribute(g)+'"\x3e'+soy.$$escapeHtml(k)+'\x3c/button\x3e\x3cdiv class\x3d"toolbar__inputLabel toolbar__inputLabel--'+soy.$$escapeHtmlAttribute(g)+'"\x3e\x3c/div\x3e\x3c/li\x3e');
else if("separator"==g.type)g='\x3cli class\x3d"toolbar__item toolbar__separator"\x3e\x3c/li\x3e';else{var n=g,g=b;soy.asserts.assertType(goog.isString(n.id)||n.id instanceof goog.soy.data.SanitizedContent,"id",n.id,"string|goog.soy.data.SanitizedContent");k=n.id;soy.asserts.assertType(goog.isString(n.label)||n.label instanceof goog.soy.data.SanitizedContent,"label",n.label,"string|goog.soy.data.SanitizedContent");l=n.label;soy.asserts.assertType(goog.isString(n.Rl)||n.Rl instanceof goog.soy.data.SanitizedContent,
"tooltip",n.Rl,"string|goog.soy.data.SanitizedContent");m=n.Rl;soy.asserts.assertType(null==n.th||goog.isBoolean(n.th)||1===n.th||0===n.th,"disableTooltip",n.th,"boolean|null|undefined");h=n.th;soy.asserts.assertType(null==n.icon||goog.isBoolean(n.icon)||1===n.icon||0===n.icon,"icon",n.icon,"boolean|null|undefined");var p=n.icon;soy.asserts.assertType(null==n.enabled||goog.isBoolean(n.enabled)||1===n.enabled||0===n.enabled,"enabled",n.enabled,"boolean|null|undefined");var r=n.enabled;soy.asserts.assertType(null==
n.hidden||goog.isBoolean(n.hidden)||1===n.hidden||0===n.hidden,"hidden",n.hidden,"boolean|null|undefined");var q=n.hidden;soy.asserts.assertType(null==n.Yf||goog.isBoolean(n.Yf)||1===n.Yf||0===n.Yf,"vertical",n.Yf,"boolean|null|undefined");var v=n.Yf;soy.asserts.assertType(null==n.Hd||n.Hd instanceof goog.soy.data.SanitizedContent||goog.isString(n.Hd),"editable",n.Hd,"null|string|undefined");var x=n.Hd;soy.asserts.assertType(null==n.xd||n.xd instanceof goog.soy.data.SanitizedContent||goog.isString(n.xd),
"shortcut",n.xd,"null|string|undefined");var w=n.xd;soy.asserts.assertType(null==n.Bd||goog.isArray(n.Bd),"submenu",n.Bd,"?Array\x3c{disableTooltip: boolean, editable: string, enabled: boolean, fill: string, hidden: boolean, icon: boolean, id: string, index: number, label: string, placeholder: string, shortcut: string, submenu: !Array\x3c{disableTooltip: boolean, editable: string, enabled: boolean, fill: string, hidden: boolean, icon: boolean, id: string, label: string, placeholder: string, shortcut: string, tooltip: string, type: string, vertical: boolean}\x3e, tooltip: string, type: string, vertical: boolean}\x3e|undefined");
n=n.Bd;g=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli class\x3d"toolbar__item toolbar__item--'+soy.$$escapeHtmlAttribute(k)+" "+(r?"enabled":"disabled")+" "+(q?"hidden":"")+" "+(n?"toolbar__item--submenu":"")+'"\x3e\x3cbutton data-item\x3d"'+soy.$$escapeHtmlAttribute(k)+'" class\x3d"toolbar__button toolbar__button--'+soy.$$escapeHtmlAttribute(k)+" "+(p?"toolbar__button--icon":"")+'"\x3e'+("number"==x?'\x3cinput class\x3d"toolbar__inputButton toolbar__inputButton--'+soy.$$escapeHtmlAttribute(k)+
'" type\x3d"number" value\x3d"'+soy.$$escapeHtmlAttribute(l)+'" /\x3e':'\x3cspan class\x3d"toolbar__label toolbar__label--'+soy.$$escapeHtmlAttribute(k)+'"\x3e'+soy.$$escapeHtml(l)+"\x3c/span\x3e"+(w&&h?'\x3cspan class\x3d"toolbar__shortcut toolbar__shortcut--'+soy.$$escapeHtmlAttribute(k)+'"\x3e'+soy.$$escapeHtml(w)+"\x3c/span\x3e":""))+"\x3c/button\x3e"+(h?"":'\x3cdiv class\x3d"toolbar__tooltip toolbar__tooltip--'+soy.$$escapeHtmlAttribute(k)+'"\x3e'+soy.$$escapeHtml(m)+(w?'\x3cspan class\x3d"toolbar__shortcut toolbar__shortcut--'+
soy.$$escapeHtmlAttribute(k)+'"\x3e'+soy.$$escapeHtml(w)+"\x3c/span\x3e":"")+"\x3c/div\x3e")+(n?'\x3cmenu class\x3d"toolbar toolbar--'+soy.$$escapeHtmlAttribute(k)+" "+(v?"toolbar--vertical":"")+'"\x3e'+JF({items:n},g)+"\x3c/menu\x3e":"")+"\x3c/li\x3e")}c+=g}return soydata.VERY_UNSAFE.ordainSanitizedHtml(c+"\x3c/ul\x3e")}
function KF(a){soy.asserts.assertType(goog.isString(a.fill)||a.fill instanceof goog.soy.data.SanitizedContent,"fill",a.fill,"string|goog.soy.data.SanitizedContent");var b=a.fill;soy.asserts.assertType(goog.isNumber(a.index),"index",a.index,"number");var c=a.index;soy.asserts.assertType(goog.isString(a.label)||a.label instanceof goog.soy.data.SanitizedContent,"label",a.label,"string|goog.soy.data.SanitizedContent");a=a.label;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli class\x3d"toolbar__item toolbar__item--color"\x3e\x3cbutton data-colorindex\x3d"'+
soy.$$escapeHtmlAttribute(c)+'" class\x3d"toolbar__button toolbar__button--color toolbar__button--icon '+(""==b?"noColor":"")+'" '+(""!=b?'style\x3d"background-color: '+soy.$$escapeHtmlAttribute(soy.$$filterCssValue(b))+'"':"")+'\x3e\x3c/button\x3e\x3cdiv class\x3d"toolbar__tooltip"\x3e'+soy.$$escapeHtml(a)+"\x3c/div\x3e\x3c/li\x3e")}
function LF(a){soy.asserts.assertType(goog.isString(a.url)||a.url instanceof goog.soy.data.SanitizedContent,"url",a.url,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"300" height\x3d"35" viewBox\x3d"0 0 300 35"\x3e\x3cdefs\x3e\x3cfilter id\x3d"invert"\x3e\x3cfeColorMatrix in\x3d"SourceGraphic" type\x3d"matrix" values\x3d"-1 0 0 0 1 0 -1 0 0 1 0 0 -1 0 1 0 0 0 1 0"/\x3e\x3c/filter\x3e\x3c/defs\x3e\x3cimage x\x3d"0" y\x3d"0" width\x3d"300" height\x3d"35" xlink:href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(a.url))+
'" filter\x3d"url(#invert)"/\x3e\x3c/svg\x3e')};function MF(a){var b="toolbar ",b=a.name?b+" toolbar--"+a.name:b,b=a.Xs?b+" "+a.Xs:b,b=a.dg?b+" toolbar--"+a.dg:b;Backbone.View.call(this,{className:b,tagName:"menu"});this.ba=a.ba;this.name=a.name;this.dg=a.dg;this.element=a.element;this.jv=a.jv;this.qt=!1}t(MF,Backbone.View);e=MF.prototype;
e.events=function(){return{"mousedown \x3e .toolbar__list \x3e .toolbar__item--submenu.enabled \x3e .toolbar__button":this.pI,"mouseup .toolbar__item--submenu:not(.toolbar__item--more).enabled .toolbar .toolbar__item \x3e .toolbar__button":this.jS,"click \x3e .toolbar__list \x3e .toolbar__item--submenu.enabled \x3e .toolbar__button":this.iS,"click .toolbar__item--more.enabled .toolbar .toolbar__button":this.pI}};e.pI=function(a){a=$(a.target);this.qt=!0;NF(this,a.closest(".toolbar__item"),a)};
e.jS=function(a){a=$(a.target).closest(".toolbar__item");var b=a.find(".toolbar__button \x3e .toolbar__inputButton");!b.length&&this.qt&&a.parents(".toolbar__item--submenuExpanded").length?(OF(this),this.qt=!1):b.length&&b.addClass("toolbar__inputButton--active").focus().select()};e.iS=function(){this.qt=!1};
function NF(a,b,c){if(b.hasClass("toolbar__item--submenu")||b.hasClass("toolbar__item--color")){a.trigger("openSubmenu",b,c);var d=b.hasClass("toolbar__item--more"),f=b.parents(".toolbar__item--more").length,g=a.$el.find(".toolbar--more");if(f)g.after(b.find(".toolbar").clone()),g.addClass("hidden");else{c=c.hasClass("toolbar__inputButton--fontSize")&&b.hasClass("toolbar__item--submenuExpanded");d&&g.hasClass("hidden")||c||!a.jv||a.jv();b.hasClass("toolbar__item--submenuExpanded")||b.addClass("toolbar__item--submenuExpanded");
var h=b.find(".toolbar__button \x3e .toolbar__inputButton");a=b.find(".toolbar:first \x3e .toolbar__list \x3e .toolbar__item--input");d=b.find(".menuList").length;h.length?$h(function(){h.addClass("toolbar__inputButton--active").focus().select()}):d?b.find(".menuList__inner .active").focus():a.length&&a.focus();g.removeClass("hidden");g.next(".toolbar").remove()}}}
function OF(a,b){b=void 0===b?0:b;var c=a.$el.find(".toolbar__item--submenuExpanded");if(c){var d=c.parents(".toolbar").data("element");a.trigger("closeSubmenu",d)}a.$el.find(".toolbar__inputButton--active").removeClass("toolbar__inputButton--active");P.delay(b).then(function(){return c.addClass("toolbar__item--submenuCollapsing")}).delay(200).then(function(){return c.removeClass("toolbar__item--submenuExpanded toolbar__item--submenuCollapsing")})}e.F=function(){return this.element};e.getName=function(){return this.name};
e.Vi=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var d=this;b.forEach(function(a){return d.$el.find(".toolbar__item--"+a).removeClass("disabled").addClass("enabled")})};e.Kx=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var d=this;b.forEach(function(a){return d.$el.find(".toolbar__item--"+a).removeClass("enabled").addClass("disabled")})};function PF(a){a.$el.find(".toolbar__item").removeClass("enabled").addClass("disabled")}
e.oz=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var d=this;b.forEach(function(a){return d.$el.find(".toolbar__item--"+a).addClass("hidden")})};e.Qv=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var d=this;b.forEach(function(a){return d.$el.find(".toolbar__item--"+a).removeClass("hidden")})};e.Cd=function(a,b){b?this.Vi(a):this.Kx(a)};
function QF(a,b,c,d){c="number"==typeof c?c.toFixed(1).toString().replace(".0",""):c;a.$el.find(".toolbar__label--"+b).text(c);a.$el.find(".toolbar__inputButton--"+b).val(c);d&&a.$el.find(".toolbar__label--"+b).css("font-family",d)}function RF(a,b,c){a.$el.find(".toolbar__item--"+b).toggleClass("toolbar__item--active",c)}
e.SC=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var d=this;b.forEach(function(a){var b=d.$el.find(".toolbar__item--"+a);b.addClass("toolbar__item--active");b.closest(".toolbar").closest(".toolbar__item--submenu:not(.toolbar__item--more)").children(".toolbar__button:first").addClass("toolbar__activeItem--"+a)});return this};
e.MD=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var d=this;b.forEach(function(a){var b=d.$el.find(".toolbar__item--"+a);b.removeClass("toolbar__item--active");b.closest(".toolbar").closest(".toolbar__item--submenu:not(.toolbar__item--more)").children(".toolbar__button:first").removeClass("toolbar__activeItem--"+a)});return this};e.Is=function(a,b){this.$el.find(".toolbar__item--"+a).append(b.$el).addClass("toolbar__item--submenu")};
e.Ns=function(a){"right"===this.dg?this.$el.appendTo(a):this.$el.prependTo(a)};
e.setColor=function(a,b,c){function d(a){var b="",c=100/a.length;a.forEach(function(d,f){var n=f*c+"%",p=(f+1)*c+"%";0==f?b+=d+" "+p+",":f==a.length-1?b+=d+" "+n:(b+=d+" "+n+",",b+=d+" "+p+",")});return{HS:"-webkit-linear-gradient(left, "+b+")",OR:"linear-gradient(to right, "+b+")"}}c=c||0;var f=this.$el.find(".toolbar__button--color").filter('[data-colorindex\x3d"'+c+'"]');f.length||(this.$el.not(".toolbar--element").find(".toolbar__list").append(KF(new FF("",b,c)).toString()),f=this.$el.find(".toolbar__button--color").filter('[data-colorindex\x3d"'+
c+'"]'));0<a.length?(f.removeClass("noColor"),1==a.length?-1<a[0].indexOf("url")||a[0]===iv?f.css("background-color","").css("background-image","").addClass("noColor"):f.css("background-color",a[0]).css("background-image",""):(a=a.map(function(a){return a||"black"}),a=d(a),f.css("background-color","").css("background-image",a.HS).css("background-image",a.OR))):this.element.data("fill")?(a=rf(this.element.data("fill")),f.css("background-color",a.qa()).css("background-image","").removeClass("noColor")):
f.css("background-color","").css("background-image","").addClass("noColor")};function SF(a){a.$el.find(".toolbar__separator").removeClass("hidden");a=a.$el.find(".toolbar__item:not(.hidden)").last();a.hasClass("toolbar__separator")&&a.addClass("hidden")}e.addClass=function(a){this.$el.addClass(a)};e.removeClass=function(a){this.$el.addClass(a)};e.render=function(a){this.el.innerHTML=JF({items:a});return this};function TF(a){this.view=a.view;this.items=a.items;this.element=a.element;this.Gb=a.element.data("canvaElement");this.Ai=[];this.IF=0}function UF(a){var b=new MF({ba:a.ba,name:a.name,Xs:a.Xs,dg:a.dg,element:a.element,jv:function(){return a.wd.trigger("hideContextualControlsRequested")}});return(new TF({element:a.element,view:b,items:a.items})).render()}
function VF(a){a.view.$el.css("visibility","hidden");a.view.$el.find(".toolbar__item").each(function(a,c){c=$(c);var d=c.outerWidth(!0);0===a&&(d+=c.position().left);c.attr("data-width",d)});a.view.$el.find(".toolbar__item--more").addClass("disabled").removeClass("enabled");a.view.$el.css("visibility","visible")}e=TF.prototype;
e.Rt=function(){var a=this,b=this.Ic&&this.Ic.width();if(b!==this.IF){this.IF=b;var c=function(){return a.view.$(".toolbar__item--collapsed").length},d=this.view.$el.filter(".toolbar--element").find("\x3e .toolbar__list \x3e .toolbar__item").not(".toolbar__item--delete, .toolbar__item--more"),f=this.view.$el.not(".toolbar--element").find("\x3e .toolbar__list \x3e .toolbar__item"),g=this.view.$(".toolbar__item--more"),h=g.data("width"),k=20;this.view.$("\x3e .toolbar__list \x3e .toolbar__item").not(".toolbar__item--collapsed").not(".toolbar__item--more.disabled").each(function(a,
b){k+=$(b).data("width")});if(k>b)for(c=f.get().concat(d.get()).reverse(),d=0;d<c.length&&(f=$(c[d]),f.hasClass("toolbar__item--collapsed")||(f.addClass("toolbar__item--collapsed"),k-=parseInt(f.data("width"),10),g.hasClass("disabled")&&(k+=h,g.removeClass("disabled").addClass("enabled")),!(k<b)));d++);else if(c()&&k<b){h=f.filter(".toolbar__item--collapsed").get().concat(d.filter(".toolbar__item--collapsed").get());for(d=0;d<h.length;d++)if(f=$(h[d]),k+f.data("width")<b)k+=f.data("width"),f.removeClass("toolbar__item--collapsed");
else break;1>=c()&&(this.view.$(".toolbar__item--collapsed").removeClass("toolbar__item--collapsed"),g.removeClass("enabled").addClass("disabled"))}var b=this.view.$el.not(".toolbar--element").find(".toolbar__item--collapsed").get(),g=this.view.$el.filter(".toolbar--element").find(".toolbar__item--collapsed").get(),l=this.view.$(".toolbar--more ul");l.empty();b.forEach(function(a){return l.append($(a).clone().removeClass("toolbar__item--collapsed"))});g.forEach(function(a){return l.append($(a).clone().removeClass("toolbar__item--collapsed"))});
this.view.$(".toolbar").each(function(a,b){b.getBoundingClientRect().right>window.innerWidth&&$(b).addClass("toolbar--alignRight")});b=this.view.$el.filter(".toolbar--element").find("\x3e .toolbar__list \x3e .toolbar__item:last-child").find("\x3e .toolbar__button .toolbar__tooltip");b.length&&b.get(0).getBoundingClientRect().right>window.innerWidth&&b.addClass("toolbar__tooltip--alignRight")}};e.F=function(){return this.element};e.Is=function(a,b){this.view.Is(a,b.view);this.Ai.push(b)};
function WF(a,b){a.view.$el=a.view.$el.add(b.view.$el);a.Ai.push(b)}e.save=function(a){this.view.$el.data("element",this.element);this.view.$el.data("toolbar",this);this.element.data(a||"toolbar",this)};e.hide=function(){this.view.$el.hide()};e.show=function(){this.view.$el.show()};
e.Ns=function(a,b){this.Ic=a;this.activate();this.Ic.empty().append('\x3cdiv class\x3d"toolbar__wrapper"\x3e\x3c/div\x3e');this.view.Ns(this.Ic.find(".toolbar__wrapper"));VF(this);this.Rt();this.cB=_.debounce(this.Rt.bind(this),300);this.viewport=b;this.viewport.on("resize",this.cB)};e.activate=function(){this.Ic&&this.Ic.addClass("toolbarContainer--active")};e.jt=function(){this.Ic&&this.Ic.removeClass("toolbarContainer--active")};
function XF(a,b){a.Ic&&a.Ic.toggleClass("toolbarContainer--noAnimation",!b)}function YF(a,b){var c=od();b.forEach(function(b,f){b instanceof nj?a.view.setColor([b.qa()],c,f):"string"==typeof b&&a.view.setColor([b],c,f)});SF(a.view)}function ZF(a){function b(a){a.forEach(function(a){a instanceof wF&&a.Cr();a.Ai&&b(a.Ai)})}a.Ai&&b(a.Ai)}e.addClass=function(a){this.view.$el.addClass(a)};e.removeClass=function(a){this.view.$el.addClass(a)};e.data=function(a){return"canvaElement"===a?this.Gb:this.element};
function $F(a){a.Ai.forEach(function(a){"font"===a.view.getName()&&a.remove(!0)})}e.remove=function(a){var b=this;this.cB&&this.viewport.off("resize",this.cB);a?(XF(this,!1),this.jt(),this.Ai.forEach(function(a){a.remove(!0)}),this.view.remove()):(this.jt(),P.delay(400).then(function(){XF(b,!0);b.Ai.forEach(function(a){a.remove(!0)});b.view.remove()}))};e.render=function(){this.view.render(this.items);return this};e.listenTo=Backbone.Events.listenTo;e.stopListening=Backbone.Events.stopListening;
e.trigger=Backbone.Events.trigger;e.off=Backbone.Events.off;e.on=Backbone.Events.on;function aG(a,b,c){return[new Z("fontFamily",a,{Rl:c.format("editorToolbarFontFamilyTooltip")}),new Z("fontSize",b,{Rl:c.format("editorToolbarFontSizeTooltip"),Hd:"number"}),new CF,new FF("",nd(c)),new CF,new Z("bold",c.format("editorToolbarTextBold"),{icon:!0,xd:"^B"}),new Z("italic",c.format("editorToolbarTextItalic"),{icon:!0,xd:"^I"}),new Z("textAlign",c.textAlign(),{icon:!0,Bd:[new Z("left",c.format("editorToolbarTextLeft"),{icon:!0,xd:"^ Shift L"}),new Z("center",c.format("editorToolbarTextCenter"),
{icon:!0,xd:"^ Shift C"}),new Z("right",c.format("editorToolbarTextRight"),{icon:!0,xd:"^ Shift R"})]}),new Z("uppercase",c.format("editorToolbarTextUppercase"),{icon:!0,xd:"^ Shift K"}),new Z("list",c.format("editorToolbarTextList"),{icon:!0}),new CF,new Z("textSpacing",c.format("editorToolbarTextSpacing"),{Bd:[new EF("letterSpacing",c.letterSpacing(),{min:-200,max:800,step:10}),new EF("lineHeight",c.lineHeight(),{min:.5,max:2.5,step:.01})]})]}
function bG(a,b,c,d){var f=ob;function g(b){var d=b.name||b.family,f=b.displayName||d,g=b.K;b=$('\x3cbutton href\x3d"#" data-name\x3d"'+d+'" data-display-name\x3d"'+f+'" data-family\x3d"'+b.family+'" title\x3d"'+f+'" class\x3d"'+(f===a?"toolbar__button--selected":"")+' toolbar__button toolbar__button--font"\x3e\x3c/button\x3e');b.attr("data-image-src",g);c?b.append(LF({url:g}).toString()):b.append($('\x3cimg class\x3d"toolbar__thumbnail" src\x3d"'+g+'" alt\x3d"'+f+'" /\x3e'));return new vF(b,!0,!1)}
function h(a){a=$('\x3cdiv class\x3d"toolbar__menuHeaderLine"\x3e\x3c/div\x3e\x3cdiv class\x3d"toolbar__menuListSeparator"\x3e'+a+'\x3c/div\x3e\x3cdiv class\x3d"toolbar__menuHeaderLine"\x3e\x3c/div\x3e');return new vF(a,!1,!0)}function k(a){var b=a.find(".menuList__inner");a=a.find(".toolbar__fontCta");if(0===a.length){a=$;var c;c=d.format("editorToolbarFontUploadUpgradePrompt");var f=d.Rz();soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"prompt",c,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(goog.isString(f)||f instanceof goog.soy.data.SanitizedContent,"buttonLabel",f,"string|goog.soy.data.SanitizedContent");c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"toolbar__fontCta"\x3e\x3cdiv class\x3d"toolbar__fontCtaLabel"\x3e'+soy.$$escapeHtml(c)+'\x3c/div\x3e\x3cbutton class\x3d"button buttonSmall toolbar__fontCtaButton"\x3e'+soy.$$escapeHtml(f)+"\x3c/button\x3e\x3c/div\x3e");a=a(c.toString());a.insertAfter(b)}}for(var l=Ly(f),m=f.LA,n=Iy(f),f=[],f=n.length?
f.concat([h(d.format("editorToolbarUploadedFontFamily"))]).concat(n.map(g)):f,f=m.length?f.concat([h(d.format("editorToolbarBrandFontFamily"))].concat(m.map(g))):f,f=(m.length||n.length)&&l.length?f.concat([h(d.format("editorToolbarAllFontFamily"))]):f,f=f.concat(l.map(g)),l=[],p,m=ia(f),n=m.next();!n.done;n=m.next())n=n.value,n.element&&(p=n.element.data("name"))&&l.push(p);p=l.indexOf(a);f=zF({elements:f,Cm:p});b&&k(f.view.$el);f.view.$el.find(".toolbar__button--selected").parent().addClass("active");
return f}function cG(a){var b=G.kJ,c=b.map(function(b){return new vF($('\x3cbutton class\x3d"toolbar__button '+(b===a?"toolbar__button--selected":"")+'"\x3e').attr("data-text",b).text(b)[0],!0,!1)}),b=b.indexOf(a),c=zF({elements:c,Cm:b});c.view.$el.find(".toolbar__button--selected").parent().addClass("active");return c};function sr(a){Backbone.View.call(this,{className:"toolbarContainer",tagName:"menu"});this.C=a.C}var dG,eG,fG,gG,hG;t(sr,Backbone.View);
sr.prototype.init=function(a){var b=this.C;iG(b);$("#content").on("click",".toolbar__button",!1);jG.forEach(function(b){var c=this;(kG[b]||[]).forEach(function(g){c.$el.on("click",g,{cancel:!0},lG(b,a))})}.bind(this));$("#content").on("click",function(a){$(a.target).closest(".toolbar--fx,.toolbar--flip,.toolbar__item--submenu,.colorPalette,.colorPicker").length||K.trigger("hideContextualControlsRequested")});this.$el.on("mouseup",".enabled \x3e .toolbar__button--back",{cancel:!0},function(){mG(this)});
this.$el.on("mouseup",".enabled \x3e .toolbar__button--forward",{cancel:!0},function(){nG(this)});this.$el.on("click",".enabled \x3e .toolbar__button--copy",{cancel:!0},oG);this.$el.on("click",".enabled \x3e .toolbar__button--delete",{cancel:!0},function(){pG(this)});this.$el.on("click",".enabled \x3e .toolbar__button--imageDelete",{cancel:!0},function(){K.trigger("hideContextualControlsRequested");var a=$(this).parents(".toolbar").last().data("element").data("canvaElement"),b=a.Ab(),c=a.gj(b),b=
{elementIndex:a.ea(),pageIndex:a.ha().ea(),placeholderIndex:b,"new":{},old:c};a.mH();C.register(new U(PC,b));a.Ia()});this.$el.on("click",".enabled \x3e .toolbar__button--group",{cancel:!0},qG);this.$el.on("click",".enabled \x3e .toolbar__button--ungroup",{cancel:!0},rG);this.$el.on("click",".enabled \x3e .toolbar__button--crop",{cancel:!0},sG);this.$el.on("mouseup",".enabled \x3e .toolbar__button--flipHorizontal",{cancel:!0},function(){var a=tG(this);if(a instanceof kt){var b=a.Ab(),c=a.ej(b),h=
c.pb,k=h^1;c.El(k);a={pageIndex:T(z,a.ha()),elementIndex:a.ea(),placeholderIndex:b,old:{flipOrientation:h},"new":{flipOrientation:k}};C.register(new U(12,a))}else uG.call(this);vG().track("image_flip",{design:A.va(),type:"horizontal",section:"editor",subsection:"toolbar",location:"top"})});this.$el.on("mouseup",".enabled \x3e .toolbar__button--flipVertical",{cancel:!0},function(){var a=tG(this);if(a instanceof kt){var b=a.Ab(),c=a.ej(b),h=c.pb,k=h^2;c.El(k);a={pageIndex:T(z,a.ha()),elementIndex:a.ea(),
placeholderIndex:b,old:{flipOrientation:h},"new":{flipOrientation:k}};C.register(new U(12,a))}else wG.call(this);vG().track("image_flip",{design:A.va(),type:"vertical",section:"editor",subsection:"toolbar",location:"top"})});this.$el.on("click",".toolbar__fontCtaButton",{cancel:!0},function(){var a=qb;a.analytics.kd(Ai("toolbar_fonts_menu","bottom","fonts"));Dk(a,xG)});this.$el.on("mouseleave",".enabled.toolbar__item--submenu .menuList",{cancel:!0},yG);this.$el.on("keyup",".enabled \x3e .toolbar__button \x3e .toolbar__inputButton--fontSize",
{cancel:!0},zG);this.$el.on("click",".enabled \x3e .toolbar__button--bold",{cancel:!0},function(){AG(this)});this.$el.on("click",".enabled \x3e .toolbar__button--uppercase",{cancel:!0},function(){BG(this)});this.$el.on("click",".enabled \x3e .toolbar__button--italic",{cancel:!0},function(){CG(this)});this.$el.on("mouseup",".enabled \x3e .toolbar__button--left",{cancel:!0},function(){var a=$(this).parents(".toolbar").last().data("element");DG(a,"left")});this.$el.on("mouseup",".enabled \x3e .toolbar__button--center",
{cancel:!0},function(){var a=$(this).parents(".toolbar").last().data("element");DG(a,"center")});this.$el.on("mouseup",".enabled \x3e .toolbar__button--right",{cancel:!0},function(){var a=$(this).parents(".toolbar").last().data("element");DG(a,"right")});this.$el.on("click",".enabled \x3e .toolbar__button--list",{cancel:!0},function(){EG(this)});this.$el.on("click",".enabled \x3e .toolbar__button--transparency",{cancel:!0},dG);this.$el.on("click",".enabled \x3e .toolbar__button--gridSpacing",{cancel:!0},
eG);this.$el.on("click",".enabled \x3e .toolbar__button--textSpacing",{cancel:!0},fG);this.$el.on("mouseup",".enabled \x3e .toolbar__button--HorizontalAlignLeft",{cancel:!0},function(){var a=FG(this);a&&GG(a);vG().track("group_align",{design:A.va(),type:"horizontal_left",section:"editor",subsection:"toolbar",location:"top"})});this.$el.on("mouseup",".enabled \x3e .toolbar__button--HorizontalAlignRight",{cancel:!0},function(){var a=FG(this);a&&HG(a);vG().track("group_align",{design:A.va(),type:"horizontal_right",
section:"editor",subsection:"toolbar",location:"top"})});this.$el.on("mouseup",".enabled \x3e .toolbar__button--HorizontalAlignCenter",{cancel:!0},function(){var a=FG(this);a&&IG(a);vG().track("group_align",{design:A.va(),type:"horizontal_center",section:"editor",subsection:"toolbar",location:"top"})});this.$el.on("mouseup",".enabled \x3e .toolbar__button--VerticalAlignTop",{cancel:!0},function(){var a=FG(this);a&&JG(a);vG().track("group_align",{design:A.va(),type:"vertical_top",section:"editor",
subsection:"toolbar",location:"top"})});this.$el.on("mouseup",".enabled \x3e .toolbar__button--VerticalAlignBottom",{cancel:!0},function(){var a=FG(this);a&&KG(a);vG().track("group_align",{design:A.va(),type:"vertical_bottom",section:"editor",subsection:"toolbar",location:"top"})});this.$el.on("mouseup",".enabled \x3e .toolbar__button--VerticalAlignCenter",{cancel:!0},function(){var a=FG(this);a&&LG(a);vG().track("group_align",{design:A.va(),type:"vertical_center",section:"editor",subsection:"toolbar",
location:"top"})});this.$el.on("mouseup",".enabled \x3e .toolbar__button--VerticalDistribute",{cancel:!0},function(){var a=FG(this);a&&MG(a);vG().track("group_align",{design:A.va(),type:"vertical_distribute",section:"editor",subsection:"toolbar",location:"top"})});this.$el.on("mouseup",".enabled \x3e .toolbar__button--HorizontalDistribute",{cancel:!0},function(){var a=FG(this);a&&NG(a);vG().track("group_align",{design:A.va(),type:"horizontal_distribute",section:"editor",subsection:"toolbar",location:"top"})});
this.$el.on("click",".enabled \x3e .toolbar__button--link",{cancel:!0},function(){OG(this)});this.$el.on("click",".enabled \x3e .toolbar__button--filter",{cancel:!0},function(){PG(this,b)});nb.ta.get(ye)&&(this.$el.on("click",".enabled \x3e .toolbar__button--chartData",{cancel:!0},function(){QG(this)}),this.$el.on("click",".enabled \x3e .toolbar__button--chartStyle",{cancel:!0},gG));$(window).resize(RG);$(document).on("keyup",function(a){return 27===a.which&&RG()});var c=this.$el;K.on("hideContextualControlsRequested",
function(){if(c.find(".toolbar").length){var a=$(".toolbar").data("element");(a=a&&a.data("toolbar"))&&OF(a.view)}else c.removeClass("toolbarContainer--active toolbarContainer--noAnimation")})};sr.prototype.render=function(){this.$el.html('\x3cdiv class\x3d"toolbarContainer__inner"\x3e\x3c/div\x3e');return this.$el};
function iG(a){function b(a){return 100-a}function c(){return this.Zm(this.$a())}function d(a){return.01*a}function f(a){return 100*a}function g(){return this.Mk(this.$a())}dG=SG([{name:"transparency",displayName:a.Jb(),method:Y.prototype.cz,ik:TG(Y.prototype.qo,"transparency",b),rk:UG(Y.prototype.cz,"transparency","transparency",!1),Hq:b}]);eG=SG([{name:"gridSpacing",displayName:"Spacing",method:kt.prototype.az,ik:TG(kt.prototype.Ov,"gridSpacing"),rk:UG(kt.prototype.az,"gridSpacing","spacing",!1)}]);
fG=SG([{name:"letterSpacing",displayName:a.letterSpacing(),method:c,ik:TG(function(a){return this.oo(this.$a(),a)},"letterSpacing"),rk:UG(c,"letterSpacing","letterSpacing",!0)},{name:"lineHeight",displayName:a.lineHeight(),method:g,ik:TG(function(a){return this.po(this.$a(),a)},"lineHeight",f),rk:UG(g,"lineHeight","lineHeight",!0),Hq:d}]);gG=SG([{name:"barSpacing",displayName:"Bar Spacing",method:nt.prototype.$t,ik:TG(nt.prototype.pB,"barSpacing",function(a){return.009*a}),rk:UG(nt.prototype.$t,"barSpacing",
"barSpacing",!1),Hq:function(a){return 90*a}},{name:"barGradient",displayName:"Gradient",method:nt.prototype.TE,ik:TG(nt.prototype.mR,"barGradient",d),rk:UG(nt.prototype.TE,"barGradient","barGradient",!1),Hq:f}])}function RG(){K.trigger("hideContextualControlsRequested")}function vG(){hG||(hG=De||zi());return hG}
function VG(a,b){var c=a.sd(),d=c.data("fontName"),f=c.data("fontFamily");a=a.wc(a.$a());var g=a/ab.Ti,d=f||d||"Glegoo",f=(new UAParser).getResult().browser.name,f="IE"===f||"Edge"===f,f=bG(d,!!nb.ta.get(ie),f,b),g=cG(g),h=ms(ob,d),k=UF({ba:Zh,name:"font",element:c,items:aG(d,a,b),wd:K});k.Is("fontFamily",f);k.Is("fontSize",g);QF(k.view,"fontFamily",d,h.family);f.on("select",function(a,b,c){WG(b);c.shiftKey||OF(k.view,100)});g.on("select",function(a,b,c){"keydown"===c.type?zG(c):XG(b);c.shiftKey||
OF(k.view,100)});g.on("activeChange",function(a){QF(k.view,"fontSize",a.element.data("text"))});Yu(k);k.view.on("openSubmenu",function(a,b){a&&a.hasClass("toolbar__item--fontSize")&&(b=b.parents(".toolbar").data("element"),(b&&b.data("canvaElement"))instanceof Jr&&YG.aI(b));a&&a.hasClass("toolbar__item--textSpacing")&&!a.hasClass("toolbar__item--submenuExpanded")&&vG().track("text_spacing",{design:A.va(),type:"open_submenu",section:"editor",subsection:"toolbar",location:"top"})});k.view.on("closeSubmenu",
function(a){(a&&a.data("canvaElement"))instanceof Jr&&YG.YH(a)});return k}
function nG(a){vG().track("element_arrange",{design:A.va(),type:"forward",section:"editor",subsection:"toolbar",location:"top"});Tk();var b=$(a).closest(".toolbar__item"),c=L(z);a=c.Ja();var c=SD(c,a),d=$("#layerGraph");if(0>=d.length)for(var d=$('\x3col id\x3d"layerGraph" class\x3d"toolbar--layerGraph"\x3e\x3c/ol\x3e'),f=0;f<c.length+1;f++)d.append("\x3cli\x3eLayer "+f+"\x3c/li\x3e");else d.css("opacity","");$("#overlays").append(d);b=b.closest(".toolbar").offset();d.css("top",b.top+25);d.css("left",
b.left-15);if(!d.data("locked")&&(d.stop(),window.clearTimeout(d.data("fadeTimer")),0!==a.length)){var b=a[0],g=b.ea(),c=c.filter(function(a){return a.ea()>g});a=c[0];a.Ff()&&(a=Kw(a));a&&(b.insertAfter(a),b.Ra(),b={oldElementIndex:g,elementIndex:b.ea(),pageIndex:T(z,b.ha())},C.register(new U(4,b)));var b=$("li",d),h=b.eq(c.length),k=h.prev(),c=b.first().outerHeight(!0);h.addClass("selected");a&&(d.data("locked",!0),h.animate({left:-c/2},{duration:G.sa.rj/2,sg:"linear",queue:!1,complete:function(){$(this).animate({left:0},
{duration:G.sa.rj/2,sg:"linear",queue:!1,complete:function(){k.before(h);h.css("left","").css("top","");k.css("top","");d.removeData("locked")}})}}).animate({top:-c},{duration:G.sa.rj,queue:!1}),k.animate({top:c},G.sa.rj));a=window.setTimeout(function(){d.animate({opacity:0},G.sa.OF,function(){$(this).remove()})},G.sa.PF);d.data("fadeTimer",a)}}
function mG(a){vG().track("element_arrange",{design:A.va(),type:"backward",section:"editor",subsection:"toolbar",location:"top"});Tk();var b=$(a).closest(".toolbar__item");a=L(z);var c=a.Ja();a=SD(a,c);var d=$("#layerGraph");if(0>=d.length)for(var d=$('\x3col id\x3d"layerGraph" class\x3d"toolbar--layerGraph"\x3e\x3c/ol\x3e'),f=0;f<a.length+1;f++)d.append("\x3cli\x3eLayer "+f+"\x3c/li\x3e");else d.css("opacity","");$("#overlays").append(d);b=b.closest(".toolbar").offset();d.css("top",b.top+25);d.css("left",
b.left-15);if(!d.data("locked")&&(d.stop(),window.clearTimeout(d.data("fadeTimer")),0!==c.length)){var f=c[0],g=f.ea(),b=a.filter(function(a){return a.ea()<g}).reverse();if(c=b[0])f.insertBefore(c),f.Ra(),f={oldElementIndex:g,elementIndex:f.ea(),pageIndex:T(z,f.ha())},C.register(new U(4,f));var f=$("li",d),h=f.eq(a.length-b.length),k=h.next();a=f.first().outerHeight(!0);h.addClass("selected");c&&(d.data("locked",!0),h.animate({left:-a/2},{duration:G.sa.rj/2,sg:"linear",queue:!1,complete:function(){$(this).animate({left:0},
{duration:G.sa.rj/2,sg:"linear",queue:!1,complete:function(){k.after(h);h.css("left","").css("top","");k.css("top","");d.removeData("locked")}})}}).animate({top:a},{duration:G.sa.rj,queue:!1}),k.animate({top:-a},G.sa.rj));a=setTimeout(function(){d.animate({opacity:0},G.sa.OF,function(){$(this).remove()})},G.sa.PF);d.data("fadeTimer",a)}}
function oG(){K.trigger("hideContextualControlsRequested");Tk();K.trigger("hideContextualControlsRequested");var a=[];z.Ja().forEach(function(b){var c=b.clone(),d=b.ha()||L(z);b.xq&&!1===b.xq()&&c.$B&&c.$B();wt(c,G.cm);xt(c,G.cm);c.appendTo(d);c.Fb();a.push(c)});oz();a.forEach(Je);S();pz();setTimeout(function(){Iz(a)},G.wb);vG().track("element_copy",{design:A.va(),section:"editor",subsection:"toolbar",location:"top"})}
function pG(a){$(a).parents(".toolbar").last().data("toolbar").remove(!0);K.trigger("hideContextualControlsRequested");oz();z.Ja().forEach(function(a){a.kq()&&a.Uv();dC(a);a.remove()});pz();$(".multipleSelectionBox").remove();vG().track("element_delete",{design:A.va(),section:"editor",subsection:"toolbar",location:"top"})}function qG(){Hz();vG().track("selection_group",{design:A.va(),section:"editor",subsection:"toolbar",location:"top"})}
function rG(){Gz();vG().track("selection_ungroup",{design:A.va(),section:"editor",subsection:"toolbar",location:"top"})}function sG(){K.trigger("hideContextualControlsRequested");z.Ja().forEach(function(a){ZG(a)});vG().track("image_crop",{design:A.va(),section:"editor",subsection:"toolbar",location:"top"})}function tG(a){return $(a).parents(".toolbar").last().data("element").data("canvaElement")}
function WG(a){function b(a){g.removeClass("loading");g.find(".spinner").remove();var b=d.Gb;if(b)if(a){if(QF(d.view,"fontFamily",k,l),!f.is(".focused")){a=m.index;var c=b.Wb(a),b={elementIndex:b.ea(),pageIndex:T(z,b.ha()),textIndex:a,"new":c,old:m};C.register(new TC(1,b))}}else alert("Sorry, there was a problem trying to apply the font "+h+". Please let us know about it.")}var c=a.element.parents(".toolbar--font"),d=c.data("toolbar"),f=d.F(),g=c.find(".toolbar__button--fontFamily"),h=a.element.data("name"),
k=a.element.data("displayName"),l=a.element.data("family");a.element.parents(".menuList").find(".toolbar__button--selected").removeClass("toolbar__button--selected");a.element.addClass("toolbar__button--selected");vG().track("font_choice",{design:A.va(),section:"editor",subsection:"toolbar",location:"top",value:h});var m=null;f&&(a=d.Gb,c=a.$a(),-1<c&&(g.addClass("loading").append('\x3cspan class\x3d"spinner"\x3e\x3c/span\x3e'),m=a.Wb(c),a.Sf(c,h,b)))}
function XG(a){var b=a.element.parents(".toolbar").last().data("element"),c=b.data("toolbar"),d=parseFloat(a.element.data("text"));QF(c.view,"fontSize",parseFloat(d));a.element.parents(".menuList").find(".toolbar__button--selected").removeClass("toolbar__button--selected");a.element.addClass("toolbar__button--selected");vG().track("font_size",{design:A.va(),section:"editor",subsection:"toolbar",location:"top",value:d});if(b){var f=b.data("canvaElement"),d=parseFloat(d*ab.Ti);$G(f,function(){f.Hr(d)})}}
function yG(a){a=$(a.currentTarget);a.find(".active").removeClass("active");a.find(".toolbar__button--selected").parents(".selectable").addClass("active")}
function zG(a){a.preventDefault();a.stopPropagation();var b=$(a.target),c=b.parents(".toolbar").last().data("element"),d=c.data("canvaElement");if(13===a.which){a=c.data("toolbar");var c=b.closest(".toolbar__item").find(".menuList"),f=Math.min(Math.max(1,parseFloat(b.val())),400);vG().track("font_size",{design:A.va(),section:"editor",subsection:"toolbar",location:"top",value:f});""===b.val()||isNaN(f)?b.val(d.wc(0)):(b.val()!==f.toString()&&b.val(f.toString()),QF(a.view,"fontSize",f.toString()),c.find(".toolbar__button--selected").removeClass("toolbar__button--selected"),
c.find('[data-text\x3d"'+f+'"]').addClass("toolbar__button--selected"),OF(a.view),f=parseFloat(f*ab.Ti),$G(d,function(){d.Hr(f)}))}else 27===a.which&&b.val(d.wc(0))}
function PG(a,b){vG().track("image_filter",{design:A.va(),section:"editor",subsection:"toolbar",location:"top"});var c=function(a){return 0<a.parents(".toolbarReferencePoint").length?a.parents(".toolbarReferencePoint").data("toolbar"):a.parents(".toolbar").last()}($(a)),d=c.data("element").data("canvaElement");d.vu();var f=!!c.data("isFxPanelVisible");K.trigger("hideContextualControlsRequested");if(!f){K.once("hideContextualControlsRequested",function(){c.removeData("isFxPanelVisible")});c.data("isFxPanelVisible",
!0);var g=new aH({model:d.cc(),GA:by,Id:b});bH(g,a.getBoundingClientRect());a.parentElement.classList.add("toolbar__item--submenuExpanded");g.$el.removeClass("appeared").addClass("appearing");g.$el.appendTo("#content");$(".fxPanel").show();window.setTimeout(function(){g.$el.removeClass("appearing").addClass("appeared")},G.sa.nL)}}
function OG(a){function b(a){k.removeClass("valid invalid");a?(q.text($b(pb).format("editorToolbarElementLinkDescription")),k.addClass("valid")):(q.text($b(pb).format("editorToolbarElementLinkInvalid")),k.addClass("invalid"))}function c(){var a=k.find(".toolbar__list");a.addClass("toolbar__list--linkShakeInvalid");P.delay(300).then(function(){a.removeClass("toolbar__list--linkShakeInvalid")})}function d(a){""===a||st.dm.test(a)||null!==a.match(/^(http)/)||(a="http://"+a);r.val(a);var b=n;rt(a)?b.link=
a||"":b.link="";b=r.get(0);a=$(b).data("element");var c=$(b).data("lastLinkState");c!=a.zg()&&(c={elementIndex:a.ea(),pageIndex:T(z,a.ha()),"new":{link:a.zg()},old:{link:c||""}},C.register(new U(10,c)),$(b).data("lastLinkState",a.zg()));h.toggleClass("hasLink",!!n.zg());OF(m.view)}function f(){var a=r.val().trim(),f=st.URL.test(a)||st.dm.test(a),f=""===a||f;b(f);f?d(a):c()}function g(a){var f=$(a.target).val().trim(),g=st.URL.test(f)||st.dm.test(f),g=""===f||g;b(g);13===a.which&&(g?d(f):c())}vG().track("element_link",
{design:A.va(),section:"editor",subsection:"toolbar",location:"top"});a=$(a);var h=a.parents(".toolbar").last(),k=h.find(".toolbar--link"),l=h.data("element"),m=l.data("toolbar"),n=l.data("canvaElement"),p=n.zg();a.parents(".toolbar--more").length&&(h=a.parents(".toolbar--more").next(".toolbar"));var r=h.find(".toolbar__input--link"),q=h.find(".toolbar__inputLabel--link"),v=h.find(".toolbar__submit--link");(function(a){a.val(p).data("element",n).data("lastLinkState",p).focus().select();var c=st.URL.test(p)||
st.dm.test(p);b(""===p||c);a.data("linkKeyup")||(a.data("linkKeyup",g).on("keyup",g),v.on("click",f))})(r)}function uG(){oz();z.Ja().forEach(function(a){if(a.mj()){var b=a.pb,c=b^1;a.El(c);a={pageIndex:T(z,a.ha()),elementIndex:a.ea(),"new":{flipOrientation:c},old:{flipOrientation:b}};C.register(new U(Sk,a))}});pz()}
function wG(){oz();z.Ja().forEach(function(a){if(a.mj()){var b=a.pb,c=b^2;a.El(c);a={pageIndex:T(z,a.ha()),elementIndex:a.ea(),"new":{flipOrientation:c},old:{flipOrientation:b}};C.register(new U(Sk,a))}});pz()}
function SG(a){return function(){function b(a,b){var c=a.get(0),d;a.on("input",function(){d!==a.val()&&(b.call(c),d=a.val())});b.call(c)}function c(a,b){var c=a.get(0);a.off("change input");b.call(c)}if(!$(this).hasClass("disabled")){var d=$(this).parents(".toolbar").first();d.hasClass("toolbar--more")&&(d=d.next(".toolbar"));var f=$(this).parents(".toolbar").last().data("element").data("canvaElement"),g=d;a.forEach(function(a){function k(){m.off("blur",k);c(l,a.rk)}var l=$(".toolbar__slider--"+a.name,
d),m=$(".toolbar__sliderValue--"+a.name,d),n=a.method.call(f)||0,n=("function"==typeof a.Hq?a.Hq(n):n).toFixed(1).toString().replace(".0","");g.addClass(a.name+"SliderPresent");l.val(n);m.val(n);l.addClass(a.name+"SliderInput");l.data("element",f);l.data(cH(a.name),a.method.call(f));var p=!1;l.on("mousedown",function(){if(!p){p=!0;b(l,a.ik);var d=function(){$(document).off("mouseup",d);c(l,a.rk);p=!1};$(document).on("mouseup",d)}});m.on("change",function(){var c=m.val();l.val()!==c&&""!==c&&(l.val(m.val().toString()),
b(l,a.ik))});m.on("blur",k)})}}}function TG(a,b,c){return function(){var d=parseFloat($(this).val()),f="function"==typeof c?c(d):d,g=$(this).data("element");$(".toolbar__sliderValue--"+b).val(d.toString());g&&void 0!==f&&a.call(g,f)}}function cH(a){return"last"+a.charAt(0).toUpperCase()+a.slice(1)+"State"}
function UG(a,b,c,d){return function(){var f=cH(b),g=$(this).data("element"),h=$(this).data(f),k=a.call(g);if(h!=k){var l={elementIndex:g.ea(),pageIndex:T(z,g.ha()),"new":{},old:{}};d&&g instanceof Jr?(l.textIndex=0,l["new"]=g.Wb(0),l.old=g.Wb(0),l["new"][c]=k,l.old[c]=h,C.register(new TC(1,l))):(l["new"][c]=k,l.old[c]=h,C.register(new U(Sk,l)));$(this).data(f,k)}}}
function DG(a,b){var c=a.data("toolbar"),d=a.data("canvaElement"),f=d.$a(),g=["left","right","center"];g.splice(g.indexOf(b),1);vG().track("text_align",{design:A.va(),type:b,section:"editor",subsection:"toolbar",location:"top"});$G(d,function(){d.Vg(f,b);c.view.SC(b).MD.apply(c.view,g)})}
function AG(a){var b=$(a).parents("li"),c=$(a).parents(".toolbar").last().data("element").data("canvaElement"),d=c.$a(),f=c.sd(),g=!!f.data("bold");dH(c,function(){c.ni(d,!g);Kr(f,!0);g=!!f.data("bold");b.toggleClass("on",g)});vG().track("text_bold",{design:A.va(),section:"editor",subsection:"toolbar",location:"top",value:g})}
function BG(a){a=$(a).parents("li");var b=z.Ja()[0],c=b.$a(),d=b.du(c);$G(b,function(){b.Hl(c,d?void 0:"uppercase");Kr(b.Qa(c),!0)});a.toggleClass("on",d);vG().track("text_uppercase",{design:A.va(),section:"editor",subsection:"toolbar",location:"top",value:!d})}
function CG(a){var b=$(a).parents("li"),c=$(a).parents(".toolbar").last().data("element"),d=c.data("canvaElement"),f=d.$a(),g=d.sd(),h=!!g.data("italic");dH(d,function(){d.oi(f,!h);Kr(c,!0);h=!!g.data("italic");b.toggleClass("on",h)});vG().track("text_italic",{design:A.va(),section:"editor",subsection:"toolbar",location:"top",value:h})}
function EG(a){var b=$(a).parents("li"),c=$(a).parents(".toolbar").last().data("element"),d=c.data("canvaElement"),f=d.$a();a=d.sd();var g=c.data("list")||a.data("list");dH(d,function(){d.Fl(f,!g);g=!!c.data("list");b.toggleClass("on",g)});vG().track("text_list",{design:A.va(),section:"editor",subsection:"toolbar",location:"top",value:g})}function dH(a,b){var c=a.sd(),d=c.is(".focused"),c="true"===c.find(".inner").attr("contenteditable");d&&c?b():$G(a,b)}
function $G(a,b){a.sd();var c=a.F().data("toolbar"),d=a.$a(),f=a.Wb(d);b();b=a.Wb(d);a={elementIndex:a.ea(),pageIndex:T(z,a.ha()),textIndex:d,"new":b,old:f};C.register(new TC(1,a));Yu(c)}function Gt(a,b){a&&b&&(a.view.Cd("crop",!(b.lj&&b.lj())),a.view.Cd("filter",!(!b.oj||!b.oj())),!b.Bb||!b.Bb().length||a.element&&a.element.hasClass("multiSelected")||b instanceof kt||b instanceof Qk&&b.sd().length||YF(a,b.Bb()),b.yq&&!b.Sb?(PF(a.view),a.view.Vi("delete")):eH(a,b))}
function eH(a,b){var c=SD(b.ha(),b),d=b.ea();b=c.filter(function(a){return a.ea()>d});c=c.filter(function(a){return a.ea()<d});a.view.Cd("forward",0!==b.length);a.view.Cd("back",0!==c.length);a.view.Cd("arrange",0!==b.length||0!==c.length)}
function Yu(a){if(!a.element||!a.element.hasClass("multiSelected")){var b=a.Gb,c=b.sd();if(b instanceof Qk||b instanceof qt){if(0===c.length){$F(a);return}a.view.Cd("textSpacing",!1)}var d=js(c);0===d.bf.length&&(d=$r(c));var f=function(a){return d.bf.reduce(function(b,c){return b&&a(c)},!0)},g=f(function(a){return(a=ms(ob,a))&&!0===a.H.bold}),h=f(function(a){return(a=ms(ob,a))&&!0===a.H.o}),f=f(function(a){return(a=ms(ob,a))&&!0===a.H.v}),k=function(a){var b;if(!(b=!!c.data(a)))try{b=document.queryCommandState(a)}catch(d){b=
!1}return b};a.Rt();a.view.Cd("bold",!!c.data("italic")&&h&&f||!(c.data("italic")&&h)&&g);RF(a.view,"bold",k("bold"));a.view.Cd("italic",!!c.data("bold")&&g&&f||!(c.data("bold")&&g)&&h);RF(a.view,"italic",k("italic"));a.view.Cd("uppercase",!0);RF(a.view,"uppercase","uppercase"===c.data("textTransform"));g=c.data("justification")||"left";a.view.MD("left","center","right");a.view.SC(g);RF(a.view,"list",!!c.data("list"));b=b.wc(b.$a())/ab.Ti;QF(a.view,"fontSize",b);a.view.setColor(d.zf,$b(pb).format("editorToolbarTextPickAColor"));
c.data("fontFamily")&&(b=c.data("fontName")||d.bf[0],g=d.bf.filter(function(a){return null!==ms(ob,a)}),b=(1<g.length?"":g[0])||b,(g=ms(ob,b))&&g.displayName&&(b=g.displayName),QF(a.view,"fontFamily",b,g.family));a.view.Cd("list",!0===c.children(".inner").get(0).isContentEditable)}}
function FG(a){var b=$(a).parents(".toolbar--group");1!==b.length&&(b=$(a).parents(".toolbarReferencePoint").data("toolbar"));if((a=b.data("element"))&&a.data("canvaElement")instanceof qt)return a.data("canvaElement")}function Ft(a){var b=a.view.$el,c=b.data("element");c&&c.data("canvaElement")&&(a.Rt(),clearTimeout(fH),fH=setTimeout(function(){var a=b.data("fxPanelView");a&&bH(a,b.get(0).getBoundingClientRect())},G.wb+100))}
function BD(a,b){var c=a.data("canvaElement");if(c&&c.gk()){var d=$(".toolbarContainer"),f=!(c instanceof ht)&&c.Od&&0<c.Od(),f=UF({ba:Zh,dg:"right",name:"element",items:IF(c.SE(),b,f),element:a,wd:K}),g=c instanceof qt||c instanceof Qk,h=c instanceof Jr||1===a.length&&g&&c.kq(),k=c instanceof ht||c instanceof jt||c instanceof Qk||c instanceof kt,g=1<a.length||c.Ff()&&!h;f.view.oz("group");if(g){var k=a.data("canvaElement"),h="group",l=k.Ff();k instanceof nt?(h="chart",b=[new Z("chartData","Data",
{enabled:l}),new CF,new FF(k.Bb()[0].qa(),"Pick a color"),new Z("chartStyle","Style",{enabled:!0,Bd:[new EF("barSpacing","Bar spacing"),new EF("barGradient","Gradient")]})]):b=[new Z("align",b.format("editorToolbarElementAlign"),{enabled:l,Bd:HF(k.LE(),b)})];b=UF({ba:Zh,name:h,element:a,items:b,wd:K});WF(f,b);f.view.Qv("group")}else h?WF(f,VG(c,b)):k&&(b={ba:Zh,name:"image",element:c.F(),items:GF(c,b),wd:K},b=UF(b),WF(f,b));1<a.length?(PF(f.view),f.view.Vi("copy","delete"),a=0===a.filter(".background").length&&
0===a.filter(".group").length,f.view.Cd("group",a)):c.mb()&&(f.view.$el.find(".toolbar__item").addClass("hidden"),PF(f.view),f.view.Vi("delete","color","flip","flipVertical","flipHorizontal","filter","transparency","slider"),f.view.Qv("delete","color","flip","filter","transparency","slider"));!g&&c.zg()&&f.view.$el.addClass("hasLink");f.Ns(d,$(window));f.save();ZF(f);g||c.Ra()}}
function Vt(a){var b=$(".toolbarContainer"),c=a.data("confirmationToolbar");c||(c=UF({ba:Zh,name:"crop",Xs:"elementToolbar",element:a,items:[new Z("ok","Ok",{icon:!0,xd:"↩ Enter"}),new Z("cancel","Cancel",{icon:!0})]}),c.Ns(b,$(window)),c.save("confirmationToolbar"))}
function QG(a){var b=$(a).parents(".toolbar").last().data("toolbar").Gb,c=b.F(),d=c.data("sidebar");d||(a=b.Gj.getData(),a=lF(a),a.qQ.on("change",function(a){b.Cn(a);Ir(b.bu(),16,"Open Sans").then(function(a){b.render(a.width)})}),d=new AF,d.jm(a.view),$("#objectPanel section.content").after(d.$el),c.data("sidebar",d),K.on("hideContextualControlsRequested",function(){BF(d);P.delay(200).then(function(){c.removeData("sidebar");d.remove()})}));d.Io()}var fH=0;function lG(a,b){var c=gH[a];return function(a){return c&&c.call(this,a,b)}}
var jG=Object.keys({uC:"CLICK_FILL_COLOR",vC:"CLICK_TEXT_COLOR"}),kG={uC:[".toolbar--image .toolbar__button--color",".toolbar--chart .toolbar__button--color",".elementToolbarColor a",".imageToolbarColor a"],vC:[".toolbar--font .toolbar__button--color",".textToolbarColor a"]},gH={uC:function(a,b){function c(a){l.removeClass("noColor");l.css("background-color",a.qa());m.He(n,a)}function d(){var a=g(),b=m.ha();b&&(b={elementIndex:m.ea(),pageIndex:b.ea(),old:p,"new":a},C.register(new U(eC,b)));p=a}function f(){k.removeData("colorPalette");
k.removeData("activeColorPaletteToolbarButton");r.remove();d();m.tl()}function g(){if(m instanceof kt)return{index:n,placementData:m.gj(n)};var a=m instanceof Qk?iv:"",b=h();return{index:n,color:b?b.qa():a}}function h(){if(m instanceof kt)return m.ej(n).Af();var a=m.Bb()[n];return a===iv?null:a}var k=$(this).closest(".toolbar"),l=$(this),m=k.data("element").data("canvaElement"),n=1===m.Wm()?0:m instanceof Qk||m instanceof jt?l.data("colorindex"):m instanceof kt?m.Ab():-1;if(-1!==n){var p=g();a=k.data("activeColorPaletteToolbarButton");
K.trigger("hideContextualControlsRequested");if(a!==this){m.Zn();a=b.pf&&Fp(b.pf)||null;var r=new Tj({jp:hH,Ue:a,Rh:Wb(b.C),hg:Ub(b.C),Ng:m.ha().yb,Dr:!0,ib:h(),analytics:b.analytics,fa:nb});r.on("preview",c);r.on("confirm",d);r.listenTo(C,"beforeOperationStackPop",f);r.listenTo(K,"hideContextualControlsRequested",f);r.render();r.$el.addClass("toolbar--overlay");iH.bh(r.$el,$(this));r.Tr();k.data("colorPalette",r);k.data("activeColorPaletteToolbarButton",this)}}},vC:function(a,b){function c(a){h.css("background-color",
a.qa());k.setColor(l,a)}function d(){var a=k.Wb(l),b=k.ha();b&&(b={elementIndex:k.ea(),pageIndex:T(z,b),textIndex:l,old:m,"new":a},C.register(new TC(1,b)));m=a}function f(){g.removeData("colorPalette");g.removeData("activeColorPaletteToolbarButton");p.remove();d()}var g=$(this).parents(".toolbar"),h=$(this);a=g.data("element");var k=a.data("canvaElement"),l=k.$a(),m=k.Wb(l),n=g.data("activeColorPaletteToolbarButton");K.trigger("hideContextualControlsRequested");if(n!==this){var n=b.pf&&Fp(b.pf)||
null,p=new Tj({jp:hH,Rh:Wb(b.C),hg:Ub(b.C),Ng:k.ha().yb,Ue:n,Dr:!0,ib:rf(a.data("fill")),analytics:b.analytics,fa:nb});p.on("preview",c);p.on("confirm",d);p.listenTo(C,"beforeOperationStackPop",f);p.listenTo(K,"hideContextualControlsRequested",f);p.render();p.$el.addClass("toolbar--overlay");iH.bh(p.$el,h);p.Tr();g.data("colorPalette",p);g.data("activeColorPaletteToolbarButton",this)}}};function jH(a){a.appendTo("#overlays")}function kH(){return $("#canvaDocument")}
var iH=new Rq({$o:jH,fq:kH,margin:G.MC,Zr:Qq}),hH=new Rq({$o:jH,fq:kH,margin:G.wC,Zr:Qq});function lH(a){this.bL=a}function mH(){return new lH(function(){return new FormData})}
function ZA(a){var b=mH();return new P(function(c,d){var f=b.bL();Object.keys(a.GE).forEach(function(b){f.append(b,a.GE[b])});f.append("file",a.file);var g=new XMLHttpRequest;g.onerror=d;g.onreadystatechange=function(){if(4===g.readyState){var b=zf(g.status),f=b&&(a.nF||g.getResponseHeader("x-amz-version-id"));b&&f?c(f):d()}};g.upload.addEventListener("progress",a.progress||function(){});g.open("POST",a.url,!0);g.send(f)})};$.fn.forceLayout=function(){if(0===this.length)return this;var a=this.get(0);(a=window.getComputedStyle(a))&&a.getPropertyValue("left");return this};Array.max=function(a){return Math.max.apply(Math,a)};Array.min=function(a){return Math.min.apply(Math,a)};Array.lowerBound=function(a,b,c){!c&&(c=function(a,b){return a-b});for(var d=0,f,g=a.length,h;0<g;)f=d+(h=g/2|0),0>c(a[f],b)?(d=++f,g-=h+1):g=h;return d};
Array.upperBound=function(a,b,c){!c&&(c=function(a,b){return a-b});for(var d=0,f,g=a.length,h;0<g;)f=d+(h=g/2|0),0<=c(b,a[f])?(d=++f,g-=h+1):g=h;return d};Array.jU=function(a,b,c){var d=a.map(b,c),f=Array.min(d);return a.filter(function(a,b){return d[b]==f})};$.fn.delay=function(a,b){jQuery.fx.step.delay=function(){};return this.animate({delay:1},a,b)};$(function(){var a=nH();a&&"transform"!==a&&($.cssHooks.transform={get:function(b){return $.css(b,a)},set:function(b,c){b.style[a]=c}})});
(function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var c=(new Date).getTime(),g=Math.max(0,16-(c-a)),h=window.setTimeout(function(){b(c+g)},g);a=c+g;return h});window.cancelAnimationFrame||(window.cancelAnimationFrame=
function(a){clearTimeout(a)})})();
$(function(){function a(){var b=document.createElement("p"),c,d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(b,null);for(var f in d)if(void 0!==b.style[f]){b.style[f]="translate3d(1px,1px,1px)";c=window.getComputedStyle(b,null);if(!c){window.setTimeout(a,500);return}c=c.getPropertyValue(d[f])}document.body.removeChild(b);G.Fw=void 0!==c&&0<c.length&&"none"!==c}a()});function mf(a){var b,c,d,f,g,h;if(!a.src)return 0;if("data:image/svg+xml"===a.src.substring(0,18))return 1;c=a.naturalHeight;b=a.naturalWidth;d=b*c;if(isNaN(d)||0>=d)return 0;f=document.createElement("canvas");f.width=b;f.height=c;f=f.getContext("2d");f.drawImage(a,0,0);a=f.getImageData(0,0,b,c).data;for(h=f=0;h<c;h++)for(g=0;g<b;g++)0>=a[4*(g+h*b)+3]&&f++;return f/d}
function nH(){var a,b,c="T"+"transform".slice(1),d=["Moz","Webkit","ms"],f=document.createElement("div");if("transform"in f.style)b="transform";else for(var g=0;g<d.length;g++)if(a=d[g]+c,a in f.style){b=a;break}return $.support.transform=b}function hf(a,b){a=a.get(0).getBoundingClientRect();b=b.get(0).getBoundingClientRect();return oH(a,b)}function oH(a,b){return!a||!b||a.left+a.width<=b.left||a.top+a.height<=b.top||a.left>=b.left+b.width||a.top>=b.top+b.height?!1:!0}
function Qt(a,b){a=a instanceof M?a:Ei(a);return{transform:Pk({Le:a.W(),Me:a.N(),co:b||0}),left:"",top:"",width:a.w(),height:a.D()}}
function Ut(a,b,c){var d={xl:0,bo:0,co:0};null!=b&&(d.Le=b.W(),d.Me=b.N(),a.css("width",b.w()+"px"),a.css("height",b.D()+"px"));a.each(function(){var a=$(this);d.xl=a.data("FlipTransformation_rotateX")||0;d.bo=a.data("FlipTransformation_rotateY")||0;!!(c&2)!=(0!=d.xl%360)&&(d.xl+=180,a.data("FlipTransformation_rotateX",d.xl));!!(c&1)!=(0!=d.bo%360)&&(d.bo+=0==d.xl%360?180:-180,a.data("FlipTransformation_rotateY",d.bo));a.css("transform",Pk(d))})}
function Tt(a){var b=a.attr("style"),c,d;(c=b.match(/translate(3d)?\((-?[.\d]+)[^-.\d]+(-?[.\d]+)/))?(d=parseFloat(c[2]),c=parseFloat(c[3])):(d=parseFloat(a.css("left")),c=parseFloat(a.css("top")));var f=b.match(/width: ([.\d]+)/),g=b.match(/height: ([.\d]+)/),b=f?parseFloat(f[1]):a.width();a=g?parseFloat(g[1]):a.height();return new M(d,c,b,a)}function wu(a){a=a.get(0).getAttribute("viewBox").split(" ");return new M(parseFloat(a[0]),parseFloat(a[1]),parseFloat(a[2]),parseFloat(a[3]))}
function Pk(a){var b=void 0===a.ki?1:a.ki,c=void 0===a.Ij?1:a.Ij,d=a.xl||0,f=a.bo||0,g=a.co||0;a=""+("translate("+(a.Le||0)+"px,"+(a.Me||0)+"px)");if(1!=b||1!=c)a+=" scale("+b+","+c+") ";0!=d&&(a+=" rotateX("+d+"deg)");0!=f&&(a+=" rotateY("+f+"deg)");0!=g&&(a+=" rotateZ("+g+"deg)");return a}function pH(a){a=window.getComputedStyle(a);return a.getPropertyValue("transform")||a.getPropertyValue("-webkit-transform")}
function ki(a){if(a=/^matrix(?:3d)?\(([^)]*)\)$/.exec(pH(a))){a=a[1].split(",");if(6==a.length)return{ki:parseFloat(a[0]),skewX:parseFloat(a[1]),skewY:parseFloat(a[2]),Ij:parseFloat(a[3]),Le:parseFloat(a[4]),Me:parseFloat(a[5])};if(16==a.length)return{ki:parseFloat(a[0]),skewX:parseFloat(a[1]),skewY:parseFloat(a[4]),Ij:parseFloat(a[5]),Le:parseFloat(a[12]),Me:parseFloat(a[13])}}return{ki:0,skewX:0,skewY:0,Ij:0,Le:0,Me:0}}
function gf(a,b,c){var d=ki(a),f;for(f in b)b.hasOwnProperty(f)&&d.hasOwnProperty(f)&&(d[f]=c?d[f]+b[f]:b[f]);b=[d.ki,d.skewX,d.skewY,d.Ij,d.Le,d.Me];$(a).css("transform","matrix("+b.join(",")+")")}function Vu(a,b){return Math.round(1E5*a)/1E5==Math.round(1E5*b)/1E5}
function qH(a){switch(/(\s|^)(tl|t|tr|r|br|b|bl|l)(\s|$)/gi.exec(a.className)[2]){case "tl":return 0;case "t":return 1;case "tr":return 2;case "r":return 4;case "br":return 7;case "b":return 6;case "bl":return 5;case "l":return 3;default:return null}}function It(a,b){b=Math.round(Vi(b)/45);8>b||(b=0);if(a){for(var c=0;8!==c;c++)a.removeClass("octant"+c);a.addClass("octant"+b)}}
function Ay(a,b,c,d){function f(a,b){var c=a*a,d=1-a,f=d*d;return b[0]*f*d+3*b[1]*f*a+3*b[2]*d*c+b[3]*c*a}for(var g,h,k=0,l=[];1>k;)g=f(k,[a.x,b.x,c.x,d.x]),h=f(k,[a.y,b.y,c.y,d.y]),l.push({x:g,y:h}),k+=5E-5;var m=[{x:a.x,y:a.y}],n=.05,p=null;l.forEach(function(a){null!==p&&a.x>n&&(m.push(p),n+=.05);p=a});m.push({x:d.x,y:d.y});return m}
function rH(){var a=$("#canvaDocument"),b,c,d,f;Ar||$("body").hasClass("fullscreenMode")?(f=c=0,d=$(window).width(),a=$(window).height()):(f=G.gJ,d=G.fJ,b=G.dJ,c=G.eJ,d=a.width()-c-d,a=a.height()-f-b);return new M(c,f,d,a)}function sH(){var a=G.Fs;return Mi(rH().translate(a,a),-2*a,-2*a)}function tH(){var a=G.MC;return Mi(rH().translate(a,a),-2*a,-2*a)};var Br=!1,Ar=!1;function uH(a,b){function c(){var c=a.slice(0);b.forEach(function(a){a=sE(a.Pe.gd).filter(d).map(f(a.name));c=c.concat(a)});return new qE({Ke:c})}function d(a){return"start"!==a.name}function f(a){return function(b){return{name:b.name,from:a+":"+b.from,to:a+":"+b.to}}}this.Oi=null;this.Xv=(b||[]).slice(0);this.gd=new qE;this.NT=null;var g=this,h;0<this.Xv.length?(h=c(),tE(this.gd,h.Ke),this.Xv.forEach(function(a){g.listenTo(a.Pe,"change:state",g.EP)})):a&&tE(this.gd,a);this.listenTo(this.gd,"state:enter",
this.DP)}uH.prototype.trigger=Backbone.Events.trigger;uH.prototype.listenTo=Backbone.Events.listenTo;uH.prototype.on=Backbone.Events.on;uH.prototype.off=Backbone.Events.off;_.extend(uH.prototype,Backbone.Events);uH.prototype.start=function(){this.gd.start()};uH.prototype.cancel=function(){this.Oi&&this.Oi.cancel?(this.Oi.cancel(),this.Oi=null):this.Oi&&this.Oi.abort&&(this.Oi.abort(),this.Oi=null);this.Xv.forEach(function(a){a.Pe.cancel()})};
uH.prototype.EP=function(a,b,c,d){var f=this.Xv.filter(function(b){return b.Pe===a})[0].name+":"+b;this.gd.Bh()!==f&&vE(this.gd,f);var g=Array.prototype.slice.call(arguments,2),f=["change:state",this,f].concat(g);this.trigger.apply(this,f)};uH.prototype.DP=function(a,b){this.trigger("change:state",this,b)};function ZD(a){a.stopPropagation()}function vH(a){a.preventDefault()}function wH(){return!1}var zC="createTouch"in document,wC=!1;function Uk(a){this.el=$(a);this.pw={};this.ID=""}function $B(a){return 0<=a.ID.indexOf("touch")}Uk.prototype.selected=function(a){var b=this,c=null;return function(d){var f=d.type;b.ID=f;null===c&&(c=f);return f!==c?!0:a.call(this,d)}};function xH(a){return a.split("|").filter(function(a){return""!==a})}
function yH(a){return a.split(/[|+]/).filter(function(a){return""!==a})}function zH(a,b,c,d){if(a.pw[b+"_"+c])throw a='An event handler already exists for "'+b+'"',c&&(a+=' and selector "'+c+'"'),Error(a);a.pw[b+"_"+c]=d}Uk.prototype.on=function(a,b,c){var d=this,f;"function"===typeof c?(f=b,b=c):f="";if(0<=a.indexOf("|")){var g=this.selected(b);b.OI=g;zH(this,a,f,g);xH(a).forEach(function(a){if(f)d.el.on(a,f,g);else d.el.on(a,g)})}else if(zH(this,a,f,b),f)this.el.on(a,f,b);else this.el.on(a,b);return this};
Uk.prototype.off=function(a,b,c){var d=this,f;"function"===typeof c?(f=b,b=c):f="";var g=this.pw[a+"_"+f];if(g){if(g!==(b.OI||b))throw Error('The given handler is not listening to event "'+a+'"');b.OI=null;yH(a).forEach(function(a){f?d.el.off(a,f,g):d.el.off(a,g)});delete this.pw[a+"_"+f]}return this};function AH(a){Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);this.message=a}AH.prototype=Object.create(Error.prototype);AH.prototype.constructor=AH;
function uf(a){switch(a){case "card_declined":return new BH;case "expired_card":return new CH;case "incorrect_cvc":return new DH;case "incorrect_number":return new EH;case "invalid_cvc":return new FH;case "invalid_expiry_month":return new GH;case "invalid_expiry_year":return new HH;case "invalid_number":return new IH;case "missing":return new JH;case "processing_error":return new KH;default:return new LH(a)}}
function MH(a,b){if(b instanceof BH)return a.format("creditCardDeclined");if(b instanceof CH)return a.format("creditCardExpired");if(b instanceof DH)return a.format("creditCardCvcIncorrect");if(b instanceof EH)return a.format("creditCardNumberIncorrect");if(b instanceof FH)return a.format("creditCardCvcIncorrect");if(b instanceof GH)return a.format("creditCardExpiryMonthIncorrect");if(b instanceof HH)return a.format("creditCardExpiryYearIncorrect");if(b instanceof IH)return a.format("creditCardNumberIncorrect");
if(b instanceof JH)return a.format("creditCardMissingButRequired");if(b instanceof KH)return a.format("creditCardProcessingError");if(b instanceof LH)return a.format("creditCardUnknownProcessingError",b.errorCode);if(b instanceof NH)return a.format("creditCardNoCardEntered");throw Error("unrecognized CreditCardError");}function BH(){AH.call(this,"credit card declined")}BH.prototype=Object.create(AH.prototype);BH.prototype.constructor=BH;function CH(){AH.call(this,"credit card expired")}
CH.prototype=Object.create(AH.prototype);CH.prototype.constructor=CH;function DH(){AH.call(this,"credit card cvc incorrect")}DH.prototype=Object.create(AH.prototype);DH.prototype.constructor=DH;function EH(){AH.call(this,"credit card number incorrect")}EH.prototype=Object.create(AH.prototype);EH.prototype.constructor=EH;function FH(){AH.call(this,"credit card cvc invalid")}FH.prototype=Object.create(AH.prototype);FH.prototype.constructor=FH;
function GH(){AH.call(this,"credit card expiry month invalid")}GH.prototype=Object.create(AH.prototype);GH.prototype.constructor=GH;function HH(){AH.call(this,"credit card expiry year invalid")}HH.prototype=Object.create(AH.prototype);HH.prototype.constructor=HH;function IH(){AH.call(this,"credit card number invalid")}IH.prototype=Object.create(AH.prototype);IH.prototype.constructor=IH;function JH(){AH.call(this,"credit card missing but required")}JH.prototype=Object.create(AH.prototype);
JH.prototype.constructor=JH;function KH(){AH.call(this,"credit card processing error")}KH.prototype=Object.create(AH.prototype);KH.prototype.constructor=KH;function LH(a){AH.call(this,"unknown credit card processing error "+a);this.errorCode=a}LH.prototype=Object.create(AH.prototype);LH.prototype.constructor=LH;function NH(){AH.call(this,"no credit card entered")}NH.prototype=Object.create(AH.prototype);NH.prototype.constructor=NH;function OH(){var a=window.stripeConfig;switch(a.impl){case "local":return new PH;case "stripe":return new QH(a.publishableKey,window.Stripe||null);default:throw Error('unexpected stripe impl "'+a.impl+'"');}}function PH(){}PH.prototype.createToken=P.method(function(a){return JSON.stringify({brand:"Visa",expMonth:a.nE,expYear:a.oE,last4:a.fl.slice(-4)})});function QH(a,b){(this.gf=b)&&this.gf.setPublishableKey(a)}
QH.prototype.createToken=function(a){return new P(function(b,c){if(!this.gf)throw Error("Stripe API is unavailable");a={cvc:a.xk,exp_month:a.nE,exp_year:a.oE,number:a.fl};this.gf.createToken(a,function(a,f){if(f.error){var g;try{g=f.error.code||""}catch(h){g=""}c(uf(g))}else b(f.id)})}.bind(this))};function TD(a){var b=this,c=window.MutationObserver||window.WebKitMutationObserver;this.In=null;this.jq={nodeinserted:[],noderemoved:[],characterdatamodified:[],attrmodified:[]};this.Ha=a?a:{attributes:!1,childList:!0,characterData:!0,subtree:!0};this.rg=new c(function(a){a.forEach(function(a){b.handle(a)})})}TD.prototype.normalize=function(a){return a.toLowerCase()};TD.prototype.on=function(a,b){a=this.normalize(a);this.jq.hasOwnProperty(a)||(this.jq[a]=[]);this.jq[a].push(b);return this};
TD.prototype.handle=function(a){function b(b){var f=c.normalize(b),g=new jQuery.Event(b);c.In&&(g.target=a.target,g.currentTarget=c.In.get(0),c.jq.hasOwnProperty(f)&&c.jq[f].forEach(function(a){a.call(c.In,g)}))}var c=this;"childList"===a.type?(a.addedNodes&&0<a.addedNodes.length?b("nodeInserted"):a.removedNodes&&0<a.removedNodes.length&&b("nodeRemoved"),b("subtreeModified")):"attributes"===a.type?b("attrModified"):"characterData"===a.type&&b("characterDataModified")};
TD.prototype.observe=function(a){var b=$(a).get(0);if(this.In)throw Error("Already observing an element");b&&(this.rg.observe(b,this.Ha),this.In=$(a))};function VD(a){a.rg.disconnect();a.In=null};function kl(a,b,c){this.text=b||null;b=Sb(a);this.text&&this.text.toLocaleLowerCase()===b.format("documentUntitledDesign").toLocaleLowerCase()&&(this.text=null);this.Dm=c||null;this.C=a}kl.prototype.on=Backbone.Events.on;kl.prototype.off=Backbone.Events.off;kl.prototype.trigger=Backbone.Events.trigger;function RH(a){return a.text?(a.text.match(/#[a-z0-9_-]+/gi)||[]).map(function(a){return a.slice(1).trim()}):[]}function SH(a){return null===a.text||""===a.text}kl.prototype.$p=function(){return this.text};
function TH(a,b){var c;if(c=b){var d=b.trim().replace(/\s+/g," ");b=G.Bw;c="";d=d.trim();"undefined"==typeof c&&(c="…");if(d.length<=b)c=d;else{var f=d.substr(0,b),d=d.substr(b).match(/^\S+/),g=f.match(/\S+$/);f.match(/\s$/)||null===d||(10>=d[0].length?f+=d[0]:10>=g[0].length&&(f=f.substr(0,b-g[0].length)));c=f=f.trim()+c}}b=c;a.text!==b&&(a.text=b,a.trigger("change"))}
function UH(a,b){var c=Qb(a.C);a=Sb(a.C);return-1!=[a.Rn(),a.format("documentSvgPlaceholderText"),Rc(c),Sc(c),c.format("objectPanelTextPanelAddBody")].indexOf(b)}function GD(a,b){var c=a.text||Sb(a.C).format("documentUntitledDesign");b=b&&!!b.FM;a.Dm&&(SH(a)||b)&&(c=a.Dm+" – "+c);return c};var it="screen";function wD(a,b){var c=db,d=mb;a=new Vn(b.id,2,0,a,b.version,b.session,b.timestamp,b.content||{},Zl(b.extensions));c=new On(c,d,a,new gi);c.qn=!0;A=c;nb.ta.get(Qd)&&A.start();A.uB(VH);Ab=0;return A}
function rr(){$("#canvaDocument").on("mousedown",".page img, .cropControls img, a",vH);$("#canvaDocument").on("click",".hasWatermark .removeWatermark",WH);$("#content").on("keydown",".element.text.focused",XH);$("#content").on("keydown",".element.text.focused",YH);$("#content").on("input",".element.text.focused",ZH);$("#canvaDocument").on("DOMNodeInserted",".element.text.focused",$H);if(!zC)$("#canvaDocument").on("click",".page .element:not(.focused)",!1);$("#content").on("dblclick",".selectionBox:not(.multipleSelectionBox)",
aI);(new Uk("#canvaDocument")).on("mousedown",".selectionBox, .element",Bb).on("touchstart",".selectionBox, .element",Bb);(new Uk("#canvaDocument")).on("click",".element.focused",ZD).on("mousedown",".element.focused",ZD).on("touchstart",".element.focused",ZD).on("mousedown",".element:not(.focused, .multiSelected)",bI).on("touchstart",".element:not(.focused, .multiSelected)",bI);(new Uk("#content")).on("click",".selectionBox.multipleSelectionBox",wH).on("click",".element.multiSelected",wH).on("mousedown",
".selectionBox.multipleSelectionBox",cI).on("touchstart",".selectionBox.multipleSelectionBox",cI).on("mousedown",".element.multiSelected",cI).on("touchstart",".element.multiSelected",cI);(new Uk("#content")).on("click",".selectionBox",wH).on("mousedown",".selectionBox",dI).on("touchstart",".selectionBox",dI);(new Uk("#content")).on("click",".selectionBox .handle",wH).on("mousedown",".selectionBox:not(.multipleSelectionBox, .text.freeResize) .handle",eI).on("touchstart",".selectionBox:not(.multipleSelectionBox, .text.freeResize) .handle",
eI);(new Uk("#content")).on("click",".selectionBox .handle",wH).on("mousedown",".selectionBox.text.freeResize .handle.br",fI).on("touchstart",".selectionBox.text.freeResize .handle.br",fI);(new Uk("#content")).on("mousedown",".multipleSelectionBox .handle",gI).on("touchstart",".multipleSelectionBox .handle",gI);(new Uk("#content")).on("click",".cropControls",wH).on("mousedown",".cropControls",hI).on("touchstart",".cropControls",hI);(new Uk("#content")).on("click",".cropControls .handle",wH).on("mousedown",
".cropControls .handle",iI).on("touchstart",".cropControls .handle",iI);(new Uk("#content")).on("click",".viewPort .frameHandle",wH).on("mousedown",".viewPort .frameHandle",jI).on("touchstart",".viewPort .frameHandle",jI);(new Uk("#content")).on("click",".selectionBox .rotate",wH).on("mousedown",".selectionBox .rotate",Ok).on("touchstart",".selectionBox .rotate",Ok);(new Uk("#objectPanel")).on("mousedown",kI).on("touchstart",kI).on("mousedown",".gallery a",kI).on("touchstart",".gallery a",kI);$("#canvaDocument").on("mouseenter",
".unapproved, .failed",lI);if(zC)$("#content").on("click",mI);$("#null").keydown(function(){$(this).blur()})}function nI(){var a=z;function b(a){a.us(bb)}Ar||zl(a).forEach(b)}
function oI(a,b,c,d,f,g){function h(){return new pI({eg:(new UAParser).getBrowser().name,document:a,fa:b,Ea:A,Yk:Date.now(),pt:new co(mb),Hy:new Ho,Am:d,C:g})}function k(a){document.title=a}if(Ar)ab=new qI({model:a,C:g});else{Cb=new DD({model:a,fa:b,Ea:A,Oc:wb,Si:c,bw:k,Iw:f,ux:h,C:g});f={model:a,C:g};c.Fe()&&(f.tw=rI);ab=new qI(f);Db=new sI({model:a,og:ab,C:g});var l=new SE(a);vb=function(){return l}}}
function qr(a,b,c,d,f,g){function h(a){-1===l.indexOf(a)&&(l.push(a),m())}z&&(S(),z.off(),ab.remove(),Ar||(Cb.remove(),Db.remove()));var k=_.flatten(_.pluck(a.pages,"elements")).length,l=[],m=_.after(k+1,function(){if(z&&z.za){var a=10*z.za().length;K.off("elementLoaded",h);K.off("elementLoadingError",h);window.setTimeout(function(){K.trigger("documentRendered");window.setTimeout(function(){$("#canvaDocument").addClass("rendered")},2E3);g&&(g.kd("rendered"),g.done());z.on("change",z.yv);z.listenTo(K,
"elementLoaded:graphic",z.yv);z.listenTo(K,"elementLoaded:svg",z.yv);z.yv()},100+a)}});K.on("elementLoaded",h);K.on("elementLoadingError",h);z=new jl(a,b,d);z.on("change",xD);oI(z,nb,c,qb,f?f():[],d);z.aa.forEach(function(a){a.za().forEach(function(b){a.trigger("element:add",a,b)})});m();C=new MC;nI()}function Je(a){var b=a.ha();if(null==b)throw Error("cannot register element add operation - element must first be added to a page");a=VC(a.serialize());a.pageIndex=T(z,b);C.register(new U(QC,a))}
function tI(a){var b=[];a.elements.forEach(function(a){a=a.elementIndex;-1!==a&&b.push(a)});return[Math.min.apply(null,b),Math.max.apply(null,b)]}function uI(a){var b=a.ha();if(null==b)throw Error("cannot register element group operation - group has no page");a=a.serialize();var c=VC(a);c.pageIndex=T(z,b);c.childRange=tI(a);C.register(new U(13,c))}
function vI(a){var b=a.ha();if(null==b)throw Error("cannot register element ungroup operation - group has no page");a=a.serialize();var c=VC(a);c.pageIndex=T(z,b);c.childRange=tI(a);C.register(new U(14,c))}function dC(a){var b=a.ha();null!=b&&(a=VC(a.serialize()),a.pageIndex=T(z,b),C.register(new U(RC,a)))}function yC(){return L(z).F()||$("#canvaDocument \x3e .inner \x3e .page").first()}
function wI(a){if(a.nD()){var b=a.ha(),c=T(z,b),d=b.ya();Pi(a.ya(),d)?(oz(),b.za().forEach(function(b){b!==a&&b.mb()&&(dC(b),b.remove())}),a.mb()||(b=a.ea(),ul(a),C.register(new U(iC,{backgroundColor:a.Af(),elementIndex:a.ea(),oldElementIndex:b,pageIndex:c})),S(),Ke(a)),pz()):a.mb()&&(b=a.ea(),d=a.Af(),ku(a),C.register(new U(gC,{backgroundColor:d,elementIndex:a.ea(),oldElementIndex:b,pageIndex:c})))}}
function xD(){if(A){var a=z.serialize();PA(a);Dl(a)?(Ab=A.post(Ab,a),null==Ab&&JC()):(KC(),A.close())}}var xI=0;function VH(a){window.clearTimeout(xI);LC();1==a?xI=window.setTimeout(KC,G.Es):2==a?1===Ab&&2===A.Rc()&&window.opener&&"/"===window.opener.location.pathname&&window.opener.location.reload():3==a&&(JC(),A.close());K.trigger("session:sync",a)}
(function(){function a(){b=[];$(document).off("keyup",a)}var b=[];Bb=function(c){var d=void 0!==c.clientX?c.clientX:c.originalEvent.touches[0].clientX,f=void 0!==c.clientY?c.clientY:c.originalEvent.touches[0].clientY;if(c.metaKey){$(document).on("keyup",a);var g=[],h=null;$("#canvaDocument .page.selected .element").each(function(){var a=this.getBoundingClientRect();a.left<d&&a.right>d&&a.top<f&&a.bottom>f?(a=$(this).data("canvaElement"),g.push(a),-1===b.indexOf(a)&&(a.Ce()?(YC(a),b.unshift(a)):b.push(a))):
h=$(this).data("canvaElement")});b.forEach(function(a,c){-1===g.indexOf(a)&&b.splice(c,1)});h&&-1!==b.indexOf(h)&&b.unshift(h);var k=b.pop();if(k)return S(),Ke(k),b.unshift(k),c.stopPropagation(),c.preventDefault(),!1}return!0}})();function yI(){return z.aa.map(function(a){return{rect:a.F().get(0).getBoundingClientRect(),page:a}})}function WH(){alert("Coming soon!\n\nIf you do not know what it is then something is horribly wrong.");return!1}
function Tk(){$("#overlays .element.text.focused").each(function(){Ss($(this))})}
function bI(a){function b(a){Ob=!!a.shiftKey;W=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;Q=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;pa=q.F().get(0).getBoundingClientRect();oa.read(c);return!1}function c(){var a=!1;if(q.Ih()){var b=q.Vb();b&&!Bl(bb,b)&&(a=!0)}if(!q.yq||q.Sb||a){a=W-w;b=Q-y;E&&q.Ff()&&q.lk();if(E){var c=zI(pa,h);c&&c.page?(oc&&(oc=!1,q.F().removeClass("outsidePage")),q.fp()&&!q.un(q.ha())?(Oa&&c.page!=Oa&&Oa.F().removeClass("hotspotHover"),
Oa=c.page,Oa.F().addClass("hotspotHover")):Oa&&Oa.F().removeClass("hotspotHover")):(q.F().addClass("outsidePage"),oc=!0)}if(E||Math.abs(a)>G.xb||Math.abs(b)>G.xb){E=!0;q.setPosition(F+a/N,D+b/N);Ob||O.hasClass("placing")?AC():lf(q,H,V);var b=B.get(0).getBoundingClientRect(),c=$(".page.selected.on").get(0).getBoundingClientRect(),d=$("#overlays").get(0).getBoundingClientRect(),a=b.left-d.left,d=b.top-d.top,g=Math.round((b.left-c.left)/N),b=Math.round((b.top-c.top)/N);f.addClass("positionIndicatorShowing").addClass("positionIndicatorMoving").css("transform",
"translate("+a+"px,"+d+"px)").text(g+", "+b);q.Ra()}E&&!R&&(a=O.find("img"),a.attr("data-screen-width",q.w()).attr("data-screen-height",q.D()),q.yq&&a.attr("data-media-approved",q.Sb),O.addClass("clone"),!q.Vs()&&q instanceof ht&&O.addClass("cutout"),b=Se({id:q.ra,version:q.ua,origin:q.origin?q.origin.hb():"CANVA",files_:[{quality:"THUMBNAIL",page:0,url:a.attr("src")},{quality:"SCREEN",page:0,url:a.attr("src")}]}),c=$("\x3cli\x3e\x3c/li\x3e"),c.data("result",b).append(a.clone()),O.data("li",c),q.Vs()||
q.Ef())&&(of(O,null,$B(Pb)),R=!0)}}function d(a){Pb.off("mousemove|touchmove",b).off("mouseup|touchend",d);ja.read(function(){var b=q.F().get(0).getBoundingClientRect();ja.write(function(){var c;f.remove();B.remove();q.Dd=!1;$("#hotspots").remove();Oa&&Oa.F().removeClass("hotspotHover");$("#overlays .align").removeClass("on");E?q.ha()&&(q.un(q.ha())?(oz(),wI(q),c={elementIndex:q.ea(),pageIndex:T(z,q.ha()),"new":{left:q.W(),top:q.N()},old:{left:F,top:D}},c=new U(Sk,c),C.register(c),pz()):(c=zI(b,h))&&
q.fp()?(oz(),c=AI(q,b,c,F,D),wI(c),pz(),x&&Ke(c)):(c=VC(q.serialize()),c.pageIndex=T(z,q.ha()),c.left=F,c.top=D,c=new U(RC,c),oz(),C.register(c),q.remove(),pz())):n||m||(Ke(q),p&&(c=k.closest(".text"),v?Ss(c):a.shiftKey||(q instanceof Qk?(xz(c,!0),BD(r,$b(g))):q instanceof nt||(q instanceof qt?(q.lk(),c.is(".element")&&xz(c,!1),BD(r,$b(g))):xz(c)))));O.removeClass("clone cutout").removeData("startLeft").removeData("startTop").removeData("li");O.find("img").removeAttr("data-screen-width").removeAttr("data-screen-height")})})}
if(a.which==G.oe||a.ctrlKey)return!0;$("#overlays .positionIndicator").remove();var f=$('\x3cdiv class\x3d"positionIndicator"\x3e\x3c/div\x3e');$("#overlays").append(f);var g=pb,h=yI(),k=$(a.target),l=0!==k.parents(".group").length,m=k.is(".group"),n=k.is(".elements"),p=k.is(".text")||0<k.parents(".text").length,r=p?k.closest(".element"):$(this);l&&(r=k.parents(".group").first());var q=r.data("canvaElement");if(l=q.ha()){if(!q.Us())return a.preventDefault(),a.stopImmediatePropagation(),!1;K.trigger("hideContextualControlsRequested");
a.altKey&&(Tk(),q=q.clone(),q.appendTo(l),q.Fb(),r=q.F());var v=r.hasClass("focused"),x=q.Ce(),w=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,y=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;if($(document.elementFromPoint(w,y)).is(".handle.on"))return!0;if(a.shiftKey&&0===z.Ja().length||q.mb()&&!x)return Db.Qq(a,!0);var B=$("\x3cdiv\x3e\x3c/div\x3e"),l=Vi(q.Ma());45<l&&135>=l?B.css({position:"absolute",bottom:0,left:0}):135<l&&225>=l?B.css({position:"absolute",
bottom:0,right:0}):225<l&&315>=l?B.css({position:"absolute",top:0,right:0}):B.css({position:"absolute",top:0,left:0});q.F().append(B);a.shiftKey||x||S();q instanceof Qk?(a=$("#overlays .svg.text.focused"),0<a.length&&(Ss(a),q.YA(),BD(r,$b(g))),a=k.siblings("image").filter(function(){return this.classList.contains("placeholder")&&this.getAttribute("xlink:href")!=G.Fi}),k.is("image.placeholder")&&k.attr("xlink:href")!=G.Fi?q.Dl(k):k.is(".outline")&&1===a.length&&q.Dl(a)):q instanceof kt?k.is(".placeholder")&&
q.xe()!==k&&q.Dl(k):q instanceof qt&&(a=$("#overlays .group .text.focused"),1===a.length&&(Ss(a),q.YA(),BD(r,$b(g))));var F=q.W(),D=q.N(),E=!1,H={},V=kf(q),R=!1,O=q.F();O.data("startLeft",F).data("startTop",D);var W=0,Q=0,pa=r.get(0).getBoundingClientRect(),oa=ff(),ja=ff(),oc=!1,Oa,Ob=!1;q.Dd=!0;var Pb=new Uk($(document));Pb.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}}
function AI(a,b,c,d,f){var g=(b.left-c.rect.left)/N;b=(b.top-c.rect.top)/N;var h=VC(a.serialize());h.pageIndex=T(z,a.ha());h.left=d;h.top=f;d=new U(RC,h);oz();C.register(d);d=a.clone();a.remove();d.mb()&&ku(d);d.appendTo(c.page);d.setPosition(g,b);Je(d);pz();return d}function zI(a,b){for(var c=0;c!=b.length;c++){var d=b[c].rect;if(a.bottom>d.top&&a.top<d.bottom&&a.right>d.left&&a.left<d.right)return b[c]}return null}
function BI(a,b){return z.Ja().filter(function(c){c=c.F().get(0).getBoundingClientRect();return c.left<a&&c.right>a&&c.top<b&&c.bottom>b}).sort(function(a,b){return a.ea()-b.ea()})}function CI(a){var b=pb;2>z.Ja().length||(YC(a),a=z.Ja(),1<a.length?(a.forEach(function(a){a.F().removeData("toolbar")}),qz($b(b),bc(b))):1===a.length&&($(".multipleSelectionBox").remove(),S(),a[0].F().removeClass("multiSelected"),xC(a[0]),a[0].Ra()))}
function DI(a){function b(a,b){return a.ea()-b.ea()}if(2>a.length)return null;var c=Iw(new qt,a);c.insertBefore(a[0]);(function(a){a.sort(b);for(var c=a[0],g=1;g!==a.length;g++)a[g].insertAfter(c),c=a[g];return a})(a).forEach(function(a){c.addElement(a);var b=(new gj).translate(-1*c.W(),-1*c.N());a.transform(b);c.F().find(".elements").append(a.F())});return c}
function Hz(){function a(a){return bt(a)}function b(a){return a.mb()}function c(a){return Ct(a)}var d=z.Ja();if(!(1>=d.length||0<d.filter(a).length||0<d.filter(b).length||0<d.filter(c).length)){for(var f=d[0].ha(),g=1;g!==d.length;g++)if(!f||!d[g].ha()||d[g].ha()!==f)return;S();if(d=DI(d))Ke(d),uI(d)}}
function EI(a,b,c){var d=a.za().slice(),f=b(a),g=a.getActiveElement();g&&(f=b(g));oz();vI(a);WC(a);d.forEach(function(a){var b=a.W(),d=a.N();c(a,f);C.register(new U(Sk,{elementIndex:a.ea(),pageIndex:T(z,a.ha()),"new":{left:a.W(),top:a.N()},old:{left:b,top:d}}))});if(a=DI(d))xC(a),uI(a);pz()}function GG(a){EI(a,function(a){return a.Ya()},function(a,c){ut(a,a.Ya()-c)})}function HG(a){EI(a,function(a){return a.$b()},function(a,c){wt(a,c-a.$b())})}
function IG(a){EI(a,function(a){return a.Ya()+a.de()/2},function(a,c){var d=a.Ya()+a.de()/2;ut(a,d-c)})}function JG(a){EI(a,function(a){return a.ab()},function(a,c){vt(a,a.ab()-c)})}function KG(a){EI(a,function(a){return a.Qb()},function(a,c){xt(a,c-a.Qb())})}function LG(a){EI(a,function(a){return a.ab()+a.ce()/2},function(a,c){var d=a.ab()+a.ce()/2;vt(a,d-c)})}
function NG(a){var b=a.za().slice();oz();vI(a);WC(a);a=b.slice().sort(function(a,b){return a.Ya()>b.Ya()});var c=a.shift().$b(),d=a.pop().Ya(),f=a.reduce(function(a,b){return b.de()+a},0),g=(d-c-f)/(a.length+1),h=c;a.forEach(function(a){var b=a.W(),c=a.N();ut(a,a.Ya()-h-g);h=a.$b();C.register(new U(Sk,{elementIndex:a.ea(),pageIndex:T(z,a.ha()),"new":{left:a.W(),top:a.N()},old:{left:b,top:c}}))});if(b=DI(b))xC(b),uI(b);pz()}
function MG(a){var b=a.za().slice();oz();vI(a);WC(a);a=b.slice().sort(function(a,b){return a.ab()>b.ab()});var c=a.shift().Qb(),d=a.pop().ab(),f=a.reduce(function(a,b){return b.ce()+a},0),g=(d-c-f)/(a.length+1),h=c;a.forEach(function(a){var b=a.W(),c=a.N();vt(a,a.ab()-h-g);h=a.Qb();C.register(new U(Sk,{elementIndex:a.ea(),pageIndex:T(z,a.ha()),"new":{left:a.W(),top:a.N()},old:{left:b,top:c}}))});if(b=DI(b))xC(b),uI(b);pz()}
function WC(a){var b=[].concat(a.za()).reverse(),c=yt(a);a.lk();b.forEach(function(b){a.ci(b);var f=Hw(c,yt(b));b.insertAfter(a);b.F().insertAfter(a.F());b.qo(f.Jb);b.setPosition(f.left,f.top);b.pi(f.rotation)});a.remove();S();Iz(b)}function Gz(){var a=z.Ja();1===a.length&&bt(a[0])&&(S(),oz(),a=a[0],vI(a),WC(a),pz())}
function cI(a){function b(a){w=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;y=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;F.read(c);return!1}function c(){var a=w-k,b=y-l,c=$(".multipleSelectionBox").get(0).getBoundingClientRect(),c=zI(c,B);if(x||Math.abs(a)>G.xb||Math.abs(b)>G.xb)x=!0,h.setPosition(n+a/N,p+b/N),lf(h,q,v),c&&c.page&&c.page!==h.ha()&&!h.un(h.ha())?c.page.F().addClass("hotspotHover"):$(".page").removeClass("hotspotHover"),qz($b(f),bc(f))}function d(){E.off("mousemove|touchmove",
b).off("mouseup|touchend",d);D.read(function(){var a=$(".multipleSelectionBox").get(0).getBoundingClientRect();D.write(function(){var b=zI(a,B);$(".page").removeClass("hotspotHover");$("#overlays .align").removeClass("on");FI(g,!1);if(x){oz();if(h.un(h.ha()))g.forEach(function(a,b){a={elementIndex:a.ea(),pageIndex:T(z,a.ha()),"new":{left:a.W(),top:a.N()},old:{left:r[b].left,top:r[b].top}};C.register(new U(Sk,a))});else if(b){for(var c=[],d=g.length-1;0<=d;d--){var f=g[d];f.fp()&&(f=AI(f,f.F().get(0).getBoundingClientRect(),
b,r[d].left,r[d].top),c.push(f))}S();Iz(c)}else g.forEach(function(a,b){var c=VC(a.serialize());c.left=r[b].left;c.top=r[b].top;c.pageIndex=T(z,a.ha());C.register(new U(RC,c));a.remove()}),$(".multipleSelectionBox").remove();pz()}})})}var f=pb;if(a.which==G.oe||a.ctrlKey)return!0;var g=z.Ja().sort(function(a,b){return b.ea()-a.ea()}),h=new ji(g),k=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,l=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,m=BI(k,l)[0];if(a.shiftKey&&
m)return CI(m),!1;FI(g,!0);var n=h.W(),p=h.N(),r=g.map(function(a){return{left:a.W(),top:a.N()}}),q={},v=kf(g),x=!1,w=0,y=0,B=yI(),F=ff(),D=ff(),E=new Uk($(document));E.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}$(function(){Eb=new TD;Eb.on("nodeInserted",GI).on("nodeInserted",HI).on("nodeRemoved",HI).on("characterDataModified",HI)});
function sz(){if(1===z.Ja().length){var a=z.Ja()[0];if(a.Ff()){var b=a.$a(),c;a:{for(c=a.$a()+1;c!=a.elements.length;c++)if(a.elements[c]instanceof Jr)break a;b:{for(c=0;c!=a.elements.length;c++)if(a.elements[c]instanceof Jr)break b;c=-1}}-1!==c&&c!==b&&(Ss(a.sd()),a.lk(),xz(a.Qa(c)),BD(a.F(),$b(pb)))}}}
function xz(a,b){if(!a.hasClass("focused")){var c=a.data("canvaElement");if(c){var d=a.parents(".page").hasClass("dark");d&&a.addClass("dark");Cb&&(II(Cb),JI(Cb));if(a.is(".svg .text"))d=a.parents(".element").first(),a.data("precedingElement",d.prevAll(".element").first()).addClass("focused svg element"),d.appendTo("#overlays"),c.setPosition(),Rk(c);else if(a.is(".group .text")){var f=a.parents(".group").first(),g=f.prevAll(".element").first();a.data("precedingElement",g).addClass("focused");f.data("precedingElement",
g);d&&f.find(".text").addClass("dark");f.appendTo("#overlays");f.data("canvaElement").setPosition()}else a.data("precedingElement",a.prevAll(".element").first()).appendTo("#overlays").addClass("focused"),c.setPosition();d=c.$a();a.removeClass("focused");c=c.Wb(d);a.data("oldTextData",c);a.addClass("focused");is(a);c=a.children(".inner");c.attr("contentEditable","true");c.focus();c.on("paste",KI);VD(Eb);Eb.observe(a);YG.YH(a);d=Sb(pb);a=a.data("placeholderText")||d.Rn();a=c.text()==a;(b||a)&&Cs(c)}}}
function Cs(a,b){window.setTimeout(function(){var c,d;window.getSelection&&document.createRange?(d=document.createRange(),d.selectNodeContents(a.get(0)),c=window.getSelection(),c.removeAllRanges(),c.addRange(d)):document.body.createTextRange&&(d=document.body.createTextRange(),d.moveToElementText(a.get(0)),d.select());b&&b()},1)}
function KI(a){if(document.queryCommandSupported("ms-pasteContentOnly"))document.execCommand("ms-pasteContentOnly");else if(document.queryCommandSupported("insertHTML")&&a.originalEvent.clipboardData){var b=a.originalEvent.clipboardData.getData("text/plain"),b=_.escape(b).replace(/\r?\n/g,"\x3cbr\x3e").replace(/ {2}/g," \x26nbsp;");document.execCommand("insertHTML",!1,b)}else throw Error("Beware! Unsupported browser. Sneaking around.");a.preventDefault()}
function GI(a){function b(a){var b=a.attr("style");b&&-1<b.indexOf("Glegoo, Helvetica, Arial, sans-serif")&&a.attr("style","")}a=$(a.target);b(a);a.children().each(function(){b($(this))})}var LI=!1;
function HI(a){if(LI)LI=!1;else{var b=$(this),c=b.data("designObject")||null,d=b.data("Canva.textElementUpdated:lastCalledAt")||0;5<a.timeStamp-d&&(b.data("Canva.textElementUpdated:lastCalledAt",a.timeStamp),c&&b.is(".svg")&&Gu(c));a=/[\uE000-\uF8FF]/g;c=b.html();a.test(c)&&(LI=!0,b.html(c.replace(a,"�")))}}
var YG=function(){function a(a){a.get(0)===f&&(0!==d&&(window.cancelAnimationFrame(d),d=0),$(f).off("keydown mousemove",b),f=null,h=0)}function b(){g=Date.now();0===d&&(d=window.requestAnimationFrame(c))}function c(){var a=Date.now();if(5E3<a-g)d=0;else{if(100<a-h){var b=jQuery.data(f,"toolbar");b&&Yu(b,$(f));h=a}d=window.requestAnimationFrame(c)}}var d=0,f=null,g=0,h=0;return{YH:function(c){c=c.get(0);c!==f&&(null!==f&&a($(f)),f=c,b(),$(f).on("keydown mousemove",b))},aI:a}}();
function Ss(a){var b=a.data("canvaElement");if(b){var c=a.data("precedingElement"),d=a.children(".inner"),f=b.mc||yC(),g=b.$a(),h=!1;YG.aI(a);Cb&&MI(Cb);a.removeClass("dark");if(a.is(".svg.text"))h=a.parents(".element").first(),c&&0<c.length?h.insertAfter(c):h.prependTo(f.children(".elements")),a.removeData("precedingElement").removeClass("focused svg element"),d.attr("contentEditable","false"),Rk(b),Ur(b,g),h=!0,(c=b.F().data("toolbar"))&&$F(c);else if(a.is(".group .text")){h=a.parents(".group").first();
h.find(".text").removeClass("dark");var k=h.data("canvaElement");(c=h.data("precedingElement"))&&1===c.length&&0>=h.has(c[0]).length?h.insertAfter(c):h.prependTo(f.children(".elements"));h.removeData("precedingElement");a.removeData("precedingElement").removeClass("focused");d.attr("contentEditable","false");k.Fb();Ur(b,g);h=!0;(c=k.F().data("toolbar"))&&$F(c)}else 0<a.length&&(c&&0<c.length?a.insertAfter(c):a.prependTo(f.children(".elements")),a.removeClass("focused"),d.attr("contentEditable","false"),
a.text().match(/^\s*$/)?((c=a.data("oldTextData"))&&b.ri(g,c),oz(),dC(b),b.remove(),pz()):(Ur(b,g),h=!0));d.off("paste",KI);VD(Eb);b.Fb();$("#null").focus();window.setTimeout(function(){$("#null").blur()},0);if(h){if(d=a.data("oldTextData"))c=b.Wb(g),g={elementIndex:b.ea(),pageIndex:T(z,b.ha()),textIndex:g,"new":c,old:d},g=new TC(1,g),oz(),C.register(g),b.gw=!0,pz();b=z.Za();g=a.text();SH(b)&&TH(b,UH(b,g)?"":g)}a.removeData("oldTextData")}}
function dI(a){var b;if(/touch/gi.test(a.type)||!$(this).hasClass("multipleSelectionBox")){b=$(this).data("element");var c=b.data("canvaElement");if(c)if(c instanceof Jr)b=b.get(0),a.target=b;else{$(this).css("visibility","hidden");var c=document.elementFromPoint(void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY),d=$(c).closest(".element").get(0);d?(a.target=c,b=d):(b=b.get(0),a.target=b);$(this).css("visibility","")}else return;
bI.call(b,a)}return!1}function aI(a){var b=$(this).data("element"),c=$(b).data("canvaElement");if(a.metaKey)return!1;b.hasClass("text")?xz(b):c.oh&&ZG(c);return!1}
function Ke(a,b){function c(a){var b=a.F();a.ff();b.is(".text.focused")&&Ss(b);b.addClass("multiSelected")}var d=pb,f=a.F(),g=z.Ja();if(a.gk()){var h=!1;g.forEach(function(b){b.ha()===a.ha()&&(h=!0)});0<g.length&&!h||a.Ce()||Ct(a)||(a.Oj(!0),0===g.length?(NI(f),!b&&OI(a,$b(d))):(g.forEach(c),f.addClass("multiSelected"),qz($b(d),bc(d))))}}function OI(a,b){BD(a.F(),b)}function xC(a){var b=z.Ja();if(1!=b.length||-1==b.indexOf(a))S(),Ke(a)}
function Kz(a){var b=z.Ja(),c=L(z),d=c.za().length-1;if(0!==a&&1===b.length&&(b=c.elements.indexOf(b[0]),-1!==b)){b+=a;0>b&&(b=d);b>d&&(b=0);var f=c.elements[b]||null;f&&(f.mb()&&(0<a?(b+=1,b>d&&(b=0)):(--b,0>b&&(b=d))),(a=c.elements[b]||null)&&xC(a))}}var PI=_.template('\x3cdiv class\x3d"selectionBox cornerHandles"\x3e\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e\x3ca class\x3d"handle tl" href\x3d"#" title\x3d"\x3c%- resize %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle t" href\x3d"#" title\x3d"\x3c%- stretch %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle tr" href\x3d"#" title\x3d"\x3c%- resize %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle l" href\x3d"#" title\x3d"\x3c%- stretch %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle r" href\x3d"#" title\x3d"\x3c%- stretch %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle br" href\x3d"#" title\x3d"\x3c%- resize %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle b" href\x3d"#" title\x3d"\x3c%- stretch %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle bl" href\x3d"#" title\x3d"\x3c%- resize %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"rotate" href\x3d"#" title\x3d"\x3c%- rotate %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"move" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"removeWatermark" href\x3d"#"\x3e\x3c%- removeWatermark %\x3e\x3c/a\x3e\x3c/div\x3e');
function NI(a){function b(){f.removeClass("initialHover");f.off("mousemove",b)}var c=pb,d=$("#overlays"),f=a.data("selectionBox"),g=a.data("canvaElement")||null;a.addClass("selected");f||(f=$(PI({resize:bc(c).resize(),stretch:bc(c).stretch(),rotate:bc(c).rotate(),removeWatermark:bc(c).GQ()})),f.data("element",a).appendTo(d),a.hasClass("text")&&f.addClass("text"),a.hasClass("svg")&&f.addClass("svg"),a.hasClass("graphic")&&f.addClass("graphic"),a.hasClass("unapproved")&&f.addClass("unapproved"),a.hasClass("group")&&
f.addClass("group"),a.data("selectionBox",f));nb.ta.get(te)&&(a=Jt(g),f.toggleClass("hasWatermark",a),f.addClass("initialHover"),f.on("mousemove",b));g&&g.Ra()}function YC(a){var b=a.F(),c=b.find(".text.focused");a.Oj(!1);a.lk();a.ff();b.removeClass("selected").removeClass("multiSelected");b.is(".text.focused")?Ss(b):a instanceof qt?1===c.length&&Ss(c):a instanceof Qk&&1===c.length&&Ss(c);(b=a.ha())&&!a.un(b)&&(dC(a),a.remove())}function QI(a){YC(a);Ke(a)}
function Iz(a){for(var b=0;b!==a.length;b++)if(!a[b].gk())return;if(1===a.length)Ke(a[0]);else for(b=0;b!==a.length;b++)Ke(a[b],!0)}function S(){K.trigger("hideContextualControlsRequested");z.Ja().forEach(YC);$(".multipleSelectionBox").remove();$(document.activeElement).is("input, textarea")||window.getSelection().removeAllRanges()}
function tz(a){var b=ok(),c=b.elements[0],d=-1;b.gh&&0===b.gh.elementIndex&&(d=b.gh.filterableIndex);var f=-1;b.hh&&0===b.hh.elementIndex&&(f=b.hh.textIndex);var g=T(z,a.ha()),h=a.ea();if(b&&c&&b.sn){oz();C.register(new U(Sk,{elementIndex:h,pageIndex:g,"new":{transparency:c.Jb},old:{transparency:a.Jb}}));a.qo(c.Jb);c.hz()&&a.hz()&&(C.register(new U(Sk,{elementIndex:h,pageIndex:g,"new":{border:c.ye()},old:{border:a.ye()}})),rv(a,c.ye()));c.lz()&&a.lz()&&(C.register(new U(Sk,{elementIndex:h,pageIndex:g,
"new":{padding:c.padding},old:{padding:a.padding}})),sv(a,c.padding));c.lq()&&a.lq()&&(C.register(new U(Sk,{elementIndex:h,pageIndex:g,"new":{spacing:c.spacing},old:{spacing:a.spacing}})),a.Ov(c.spacing));if(c.jj()&&a.jj()){var b=a.Qp(),k=c.$i(d),d=a.cc();if(k&&d){var k=ju(k),l=ju(d),h=new U(11,{elementIndex:h,pageIndex:g,placeholderIndex:b,"new":{filter:k},old:{filter:l}});my(d,k);C.register(h)}}c.jn()&&a.jn()&&(h=a.$a(),-1!==f&&-1!==h&&(b=a.Wb(h),(c=c.Wb(f))&&b&&(a.ni(h,c.bold),a.Sf(h,c.fontFamily),
c.fontMedia&&a.Lj(h,fj(c.fontMedia)),a.fd(h,c.fontSize),a.oi(h,c.italic),a.Vg(h,c.justification),a.oo(h,c.letterSpacing),a.po(h,c.lineHeight),a.Hl(h,c.textTransform),a.setColor(h,rf(c.color))),c=a.Wb(h),a=new TC(1,{elementIndex:a.ea(),pageIndex:g,textIndex:h,"new":c,old:b}),C.register(a)));pz()}}function Ez(a){void 0===a&&(a=z.Ja());if(0<a.length){var b=a.map(function(a){return a.clone()});nk(b,a[a.length-1])}}
function Fz(){function a(a){if(a.Ih()){var b=a.Vb();b&&!Bl(bb,b)&&Jv(gb,b.id,(new lu).ag(b.version)).then(function(b){Ze(bb,b.G(),b.Aa().getVersion(),b.Aa().ec());a.WA()}).catch($.noop)}}function b(b){b.Ff()?(wt(b,G.cm),xt(b,G.cm),b.za().forEach(a),b.appendTo(d)):(a(b),f?(wt(b,G.cm),xt(b,G.cm),b.insertAfter(f),f=b):b.appendTo(d));h++;h===g.length&&(oz(),g.forEach(Je),S(),pz(),Iz(g),Ez(g))}var c=ok();if(c&&!c.sn){var d=L(z),f=c.Tn;!f||-1<d.elements.indexOf(f)||(f=null);var g=c.elements.filter(function(a){return!!a}),
h=0;g.forEach(b)}}
function hI(a){function b(a){p=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;r=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;n.write(c);return!1}function c(){var a=Oj(f.Ma()),b=(p-g)*Math.cos(a)-(h-r)*Math.sin(a)+g-g,a=-1*(h-r)*Math.cos(a)-(p-g)*Math.sin(a)+h-h;if(m||Math.abs(b)>G.xb||Math.abs(a)>G.xb)m=!0,b/=N,a/=N,f.oB(k+b,l+a),f.Ra()}function d(){q.off("mousemove|touchmove",b).off("mouseup|touchend",d);f.Dd=!1}if(a.which==G.oe||a.ctrlKey||$(a.target).is(".handle"))return!0;var f=
$(this).data("canvaElement"),g=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,h=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;a=f.be();var k=a.W(),l=a.N(),m=!1,n=ff(),p=0,r=0;f.Dd=!0;var q=new Uk($(document));q.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}
function iI(a){function b(a){O=a.shiftKey?!1:!0;V=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;R=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;W.read(c);return!1}function c(){q=Ii(df($(".cropControls").get(0).getBoundingClientRect()));W.write(function(){var a,b,c=0,d=0;b=a=0;var k=QE({x:V,y:R},r),q=Rj(n,p,V,R),W=Math.cos(Oj(k-v))*q;O&&(k=v,q=W);W=$s(k,g.Ma());switch(qH(f.get(0))){case 2:c=W-RE("TR");b=q*Math.cos(Oj(c));a=q*Math.sin(Oj(c));O&&(b=a/m);c=x;d=w-b;
a=y+a;b=B+b;break;case 7:c=W-RE("BR");b=q*Math.sin(Oj(c));a=q*Math.cos(Oj(c));O&&(b=a/m);c=x;d=w;a=y+a;b=B+b;break;case 5:c=W-RE("BL");b=q*Math.cos(Oj(c));a=q*Math.sin(Oj(c));O&&(b=a/m);c=x-a;d=w;a=y+a;b=B+b;break;case 0:c=W-RE("TL"),b=q*Math.sin(Oj(c)),a=q*Math.cos(Oj(c)),O&&(b=a/m),c=x-a,d=w-b,a=y+a,b=B+b}var q=l.W()+l.w(),W=l.N()+l.D(),k=Math.floor(d)>l.N(),Q=Math.floor(c)>l.W(),pa=Math.ceil(c+a)<q,Ec=Math.ceil(d+b)<W;k&&(l.N(),E===l.N()?(d=E,b=H,O&&(c=F,a=D)):(d=l.N(),b=H+(E-d),O&&(a=b*m,c=F,
Math.ceil(c+a)<q&&(a=q,b=a/m))));Q&&(l.W(),F===l.W()?(c=F,a=D,O&&(b=H,d=E)):(c=l.W(),a=D+(F-c),O&&(b=a/m,d=E,Math.ceil(d+b)<W&&(b=W,a=b*m))));pa&&(F+D===q?(a=D,c=F,O&&(d=E,b=H)):(a=q-c,O&&(b=a/m,d=E)));Ec&&(E+H===W?(b=H,d=E,O&&(c=F,a=D)):(b=W-d,O&&(a=b*m,c=F)));isNaN(1*b)||isNaN(1*a)||isNaN(1*d)||isNaN(1*c)||(b<W&&(d=E,c=F,b=W,O&&(a=b*m)),a<q&&(c=F,d=E,a=q,O&&(b=a/m)),k=Math.floor(d)>l.N(),Q=Math.floor(c)>l.W(),pa=Math.ceil(c+a)<q,Ec=Math.ceil(d+b)<W,k||Q||pa||Ec||(h.Va(c/N).Wa(d/N).pa(a/N).oa(b/
N),g.Tg(h),g.Ra(),F=c,E=d,D=a,H=b))})}function d(){pa.off("mousemove|touchmove",b).off("mouseup|touchend",d);Q.write(function(){f.removeClass("on");g.Dd=!1})}var f=$(this),g=z.Ja()[0],h=g.be(),k=g.be().scale(N),l=g.Ib().scale(N);l.Va(0).Wa(0);var m=Ji(k),n=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,p=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,r={x:n,y:p};a=Ii(df(f.get(0).getBoundingClientRect()));var q=Ii(df($(".cropControls").get(0).getBoundingClientRect())),
v=QE(a,q),x=k.W(),w=k.N(),y=k.w(),B=k.D(),F=k.W(),D=k.w(),E=k.N(),H=k.D(),V=0,R=0,O=!0,W=ff(),Q=ff();g.Dd=!0;var pa=new Uk($(document));pa.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}
function jI(a){function b(a){B=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;F=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;D.read(c);return!1}function c(){var a,b,c,d,Q=0,E=0,oa=h.clone(),ja=Rj(l,m,B,F),Q=$s(QE({x:B,y:F},n),f.Ma()),H=0;switch(qH(g.get(0))){case 2:H=Q-RE("TR");E=ja*Math.cos(Oj(H));Q=ja*Math.sin(Oj(H));a=h.W();c=h.N()-E;b=h.w()+Q;d=h.D()+E;break;case 7:H=Q-RE("BR");E=ja*Math.sin(Oj(H));Q=ja*Math.cos(Oj(H));a=h.W();c=h.N();b=h.w()+Q;d=h.D()+E;break;
case 5:H=Q-RE("BL");Q=ja*Math.sin(Oj(H));E=ja*Math.cos(Oj(H));a=h.W()-Q;c=h.N();b=h.w()+Q;d=h.D()+E;break;case 0:H=Q-RE("TL"),E=ja*Math.sin(Oj(H)),Q=ja*Math.cos(Oj(H)),a=h.W()-Q,c=h.N()-E,b=h.w()+Q,d=h.D()+E}ja=k.N();c<ja&&(w===ja?(c=w,d=y):(c=ja,d=y+(w-c)));ja=k.W();a<ja&&(v===ja?(a=v,b=x):(a=ja,b=x+(v-a)));ja=k.D()+k.N();c+d>ja&&(w+y===ja?(d=y,c=w):d=ja-c);ja=k.w()+k.W();a+b>ja&&(v+x===ja?(b=x,a=v):b=ja-a);20>b?b=20:20>d?d=20:isNaN(1*d)||isNaN(1*b)||isNaN(1*c)||isNaN(1*a)||(oa.Va(a).Wa(c).pa(b).oa(d),
v=a,w=c,x=b,y=d,D.write(function(){ii(f,oa.scale(1/N));q&&lf(q,p,r);f.Ra()}))}function d(){H.off("mousemove|touchmove",b).off("mouseup|touchend",d);E.write(function(){$("#overlays .align").removeClass("on");g.removeClass("on");f.Dd=!1})}var f=z.Ja()[0],g=$(this);f.Ra();var h=f.Ib();h.scale(N);var k=f.be();k.scale(N).translate(h.W(),h.N());var l=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,m=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,n={x:l,y:m},p={},r=kf(f),
q=f instanceof ht?new hi(f):null,v=h.W(),x=h.w(),w=h.N(),y=h.D(),B=0,F=0,D=ff(),E=ff();f.Dd=!0;var H=new Uk($(document));H.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}
function gI(a){function b(a){var b=(void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX)-l;a=(void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY)-m;var c=Math.sqrt(Math.pow(n+b,2)+Math.pow(p+a,2));D=d(x);10>n+b||10>p+a||(w=c/r,y.css("top",D.top-F+"px").css("left",D.left-B+"px").css("width",D.width+"px").css("height",D.height+"px"),v.css("-webkit-transform","scale("+w+")").css("transform","scale("+w+")"))}function c(){V.off("mousemove|touchmove",b).off("mouseup|touchend",c);
FI(q,!1);g();v.remove();f();y.remove()}function d(a){var b=Infinity,c=Infinity,d=0,f=0;a.each(function(a,g){a=g.getBoundingClientRect();a.top<b&&(b=a.top);a.left<c&&(c=a.left);a.bottom>f&&(f=a.bottom);a.right>d&&(d=a.right)});return{top:b,left:c,right:d,bottom:f,width:d-c,height:f-b}}function f(){$(".multipleSelectionBox").css("visibility","visible");$(".multiSelected").each(function(){var a=$(this).data("canvaElement");$(this).css("opacity",1-a.Jb/100)})}function g(){var a=v.get(0).getBoundingClientRect(),
b=a.left,c=a.top;oz();x.each(function(){function a(){0==v&&g.setPosition(r/N,q/N)}var d=$(this).data("multi-id"),f=$(".multiSelected").filter(function(){return $(this).data("multi-id")==d}).first(),g=f.data("canvaElement"),k=f.get(0).getBoundingClientRect(),l=$(this).get(0).getBoundingClientRect(),m=g.ya(),n=g.mq()?g.bq():null,p=T(z,g.ha()),f=(l.right-l.left)/(k.right-k.left),k=(l.bottom-l.top)/(k.bottom-k.top),r=l.left-b+H,q=l.top-c+E,v=g.Ma();$(this).remove();g instanceof Jr?(l=g.wc(0),l=parseFloat(parseFloat(l*
w)),k=g.w()*f,f=g.Wb(0),g.fd(0,l),g.pa(k),g.oa(),g.Ia(),a(),l=g.Wb(0),f={elementIndex:g.ea(),pageIndex:p,textIndex:0,"new":l,old:f},C.register(new TC(1,f))):(g.setSize(g.w()*f,g.D()*k),a());(function(){var a=g.ya();if(!Gi(m,a)){var b=m.serialize(),a=a.serialize();g.mq()&&(b.transformDependentData=n,a.transformDependentData=g.bq());b={elementIndex:g.ea(),pageIndex:p,old:b,"new":a};C.register(new U(Sk,b))}})();g.Ia();qz($b(h),bc(h))});pz()}var h=pb,k=$(this),l=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,
m=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,n=$(".multipleSelectionBox").width(),p=$(".multipleSelectionBox").height(),r=Math.sqrt(Math.pow(n,2)+Math.pow(p,2)),q=z.Ja();k.addClass("on");K.trigger("hideContextualControlsRequested");FI(q,!0);var v,x,w=1,y=$('\x3cdiv id\x3d"ghostSelectionBox" class\x3d"cornerHandles"\x3e\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e\x3ca class\x3d"handle tl"\x3e\x3c/a\x3e\x3ca class\x3d"handle tr"\x3e\x3c/a\x3e\x3ca class\x3d"handle br"\x3e\x3c/a\x3e\x3ca class\x3d"handle bl"\x3e\x3c/a\x3e\x3c/div\x3e');
(function(){x=$($(".multiSelected").map(function(a){$(this).data("multi-id",a);return this})).clone(!0).off();x.each(function(){$(this).removeAttr("id");$(this).find("*").removeAttr("id")});x.removeClass(".multiSelected");v=$('\x3cdiv class\x3d"ghost element"\x3e\x3c/div\x3e');$(".multipleSelectionBox").css("visibility","hidden");$(".multiSelected").css("opacity","0");x.appendTo(v);var a=z.Ja()[0].F().parent(".elements");v.appendTo(a);k.hasClass("br")?v.addClass("fixTopLeft"):k.hasClass("bl")?v.addClass("fixTopRight"):
k.hasClass("tr")?v.addClass("fixBottomLeft"):k.hasClass("tl")&&v.addClass("fixBottomRight")})();var B=$("#canvaDocument").offset().left,F=$("#canvaDocument").offset().top,D=d(x),E=D.top-$(".page.selected").offset().top,H=D.left-$(".page.selected").offset().left;v.css("left",H+"px").css("top",E+"px");x.each(function(a,b){gf(b,{Le:-H,Me:-E},!0)});$("#overlays").append(y);y.css("top",D.top-F+"px").css("left",D.left-B+"px").css("width",D.width+"px").css("height",D.height+"px");var V=new Uk($(document));
V.on("mousemove|touchmove",b).on("mouseup|touchend",c);return!1}
function fI(a){function b(a){var b=(g||0)+Math.sqrt(Math.pow(void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,2)+Math.pow(void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,2))-h;0<b?sv(f,b/N):sv(f);f.Ra();a.preventDefault();a.stopPropagation();return!1}function c(){k.off("mousemove|touchmove",b).off("mouseup|touchend",c);f.Hg&&f.Hg();f.Dd=!1;var a={elementIndex:f.ea(),pageIndex:T(z,f.ha()),"new":{padding:f.padding},old:{padding:g}};C.register(new U(Sk,a))}var d=$(this);
d.addClass("on");var f=d.parents(".selectionBox").data("element").data("canvaElement"),g=f.padding,h=Math.sqrt(Math.pow(void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,2)+Math.pow(void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,2));f.Dd=!0;var k=new Uk($(document));k.on("mousemove|touchmove",b).on("mouseup|touchend",c)}
function eI(a){function b(a){Pm=h instanceof Qk||h instanceof jt?y:h.Ff()?y:a.shiftKey?!y:y;oj=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;pj=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;SB.read(c);return!1}function c(){Ec=Vk(h);var a=QE({x:oj,y:pj},w),b=Rj(v,x,oj,pj),c=Math.cos(Oj(a-Ka))*b,d=0,g=0,k=0;Pm&&(a=Ka,b=c);if(!(TB&&3>Math.abs(UB-oj)||VB&&3>Math.abs(RB-pj))){TB=VB=!1;var l=qH(f.get(0)),y,hb,Le=!1,a=$s(a,h.Ma());switch(l){case 4:d=c;y=oc;hb=Q;break;
case 3:d=c;y=Q;hb=oc;break;case 1:g=c;y=oa;hb=O;break;case 6:g=c;y=O;hb=oa;break;case 2:Le=!0;y=ja;hb=W;k=a-RE("TR");d=b*Math.sin(Oj(k));g=b*Math.cos(Oj(k));break;case 7:Le=!0;y=R;hb=pa;k=a-RE("BR");g=b*Math.sin(Oj(k));d=b*Math.cos(Oj(k));break;case 5:Le=!0;y=W;hb=ja;k=a-RE("BL");d=b*Math.sin(Oj(k));g=b*Math.cos(Oj(k));break;case 0:Le=!0,y=pa,hb=R,k=a-RE("TL"),g=b*Math.sin(Oj(k)),d=b*Math.cos(Oj(k))}h instanceof Jr&&(3===l?(y=W,hb=oc,Ys(h)&&(y=Ob),Zs(h)&&(y=pa)):4===l&&(y=R,hb=Q,Ys(h)&&(y=Oa),Zs(h)&&
(y=ja)));var qj=y.get(0).getBoundingClientRect(),WB=D.scrollLeft,XB=D.scrollTop;Pm&&Le&&(0===d?d=g*q:g=d/q);var ps;ps=0===d?h.w():Le?Math.max(p+d,B)/N:Math.max(p+d,Math.max(G.Wo*N),Pb)/N;var qs;qs=0===g?h.D():Le?Math.max(r+g,F)/N:Math.max(r+g,Math.max(G.Wo*N),Nd)/N;bt(h)||lf(h,CP,DP,{d:!0,Cu:!0,r:!0,qS:!0},Pm);c=$("#overlays").get(0).getBoundingClientRect();hb=hb.get(0).getBoundingClientRect();a=hb.left-c.left;c=hb.top-c.top;hb.left<Ec.x&&V.addClass("positionIndicatorScalingFromLeft");hb.top>Ec.y&&
V.addClass("positionIndicatorScalingFromBottom");V.addClass("positionIndicatorShowing").addClass("positionIndicatorScaling").css("transform","translate("+a+"px,"+c+"px)").html(ps.toFixed(0)+" × "+qs.toFixed(0));SB.write(function(){h.setSize(ps,qs);var a=y.get(0).getBoundingClientRect(),b=XB-H,c=WB-E;H=XB;E=WB;Ui+=qj.top-a.top-b;Ti+=qj.left-a.left-c;a=h;b=(n+Ui)/N;tt(a,(m+Ti)/N);At(a,b);h instanceof Jr&&0!==h.Ma()?(h.pa(),h.Fb()):h.Ia()});UB=oj;RB=pj}}function d(){qj.off("mousemove|touchmove",b).off("mouseup|touchend",
d);EP.write(function(){V.remove();$("#overlays .align").removeClass("on");f.removeClass("on");h instanceof Jr?window.setTimeout(function(){h.Hg();Kr(g,!0);h.Dd=!1},0):h.Dd=!1;var a=h.ya();if(!Gi(k,a)){oz();wI(h);var b=k.serialize(),a=a.serialize();h.mq()&&(b.transformDependentData=l,a.transformDependentData=h.bq());b={elementIndex:h.ea(),pageIndex:T(z,h.ha()),old:b,"new":a};C.register(new U(Sk,b));pz()}R.remove();O.remove();W.remove();Q.remove();pa.remove();oa.remove();ja.remove();oc.remove();Oa.remove();
Ob.remove()})}var f=$(this),g=f.parents(".selectionBox").data("element"),h=g.data("canvaElement");if(h){f.addClass("on");var k=h.ya(),l=h.mq()?h.bq():null,m=Math.round(h.left*N),n=Math.round(h.top*N),p=Bt(h),r=Wk(h),q=p/r,v=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,x=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,w={x:v,y:x},y=!(h instanceof Jr||h instanceof kt);a=(new M(0,0,G.Wo,G.Wo)).scale(N);a=Oi(new M(0,0,q,1),a);var B=a.w(),F=a.D(),D=$("#canvaDocument").get(0),
E=D.scrollLeft,H=D.scrollTop,V=$('\x3cdiv class\x3d"positionIndicator"\x3e\x3c/div\x3e');$("#overlays").append(V);K.trigger("hideContextualControlsRequested");Tk();var R=$("\x3cdiv\x3e\x3c/div\x3e");R.css({position:"absolute",top:0,left:0});h.F().append(R);var O=$("\x3cdiv\x3e\x3c/div\x3e");O.css({position:"absolute",top:0,left:"50%"});h.F().append(O);var W=$("\x3cdiv\x3e\x3c/div\x3e");W.css({position:"absolute",top:0,right:0});h.F().append(W);var Q=$("\x3cdiv\x3e\x3c/div\x3e");Q.css({position:"absolute",
top:"50%",right:0});h.F().append(Q);var pa=$("\x3cdiv\x3e\x3c/div\x3e");pa.css({position:"absolute",bottom:0,right:0});h.F().append(pa);var oa=$("\x3cdiv\x3e\x3c/div\x3e");oa.css({position:"absolute",bottom:0,left:"50%"});h.F().append(oa);var ja=$("\x3cdiv\x3e\x3c/div\x3e");ja.css({position:"absolute",bottom:0,left:0});h.F().append(ja);var oc=$("\x3cdiv\x3e\x3c/div\x3e");oc.css({position:"absolute",top:"50%",left:0});h.F().append(oc);var Oa=$("\x3cdiv\x3e\x3c/div\x3e");Oa.css({position:"absolute",
top:"50%",left:0});h.F().append(Oa);var Ob=$("\x3cdiv\x3e\x3c/div\x3e");Ob.css({position:"absolute",top:"50%",right:0});h.F().append(Ob);var Pb=0,Nd=0;h instanceof Qk&&(a=h.Na?$.extend(!0,{},h.Na):null)&&(Pb=(a.left+a.right)*Uu(h).scale*N,Nd=(a.top+a.bottom)*Uu(h).scale*N);var Ui=0,Ti=0,Ec=Vk(h);a=Ii(df(f.get(0).getBoundingClientRect()));var Ka=QE(a,Ec),RB=x,UB=v,TB=!1,VB=!1,CP={},DP=kf(h),oj=0,pj=0,Pm=y,SB=ff(),EP=ff();h.Dd=!0;var qj=new Uk($(document));qj.on("mousemove|touchmove",b).on("mouseup|touchend",
d);return!1}}var RI=_.template('\x3cdiv class\x3d"selectionBox multipleSelectionBox"\x3e\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e\x3ca class\x3d"handle tl" href\x3d"#" title\x3d"\x3c%- resize %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle tr" href\x3d"#" title\x3d"\x3c%- resize %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle br" href\x3d"#" title\x3d"\x3c%- resize %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"handle bl" href\x3d"#" title\x3d"\x3c%- resize %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"rotate" href\x3d"#" title\x3d"\x3c%- rotate %\x3e"\x3e\x3c/a\x3e\x3ca class\x3d"move" href\x3d"#"\x3e\x3c/a\x3e\x3c/div\x3e');
function qz(a,b){if(z&&z.Ja){var c=z.Ja();if(!(2>c.length)){var d=$("#overlays"),f=$(".selectionBox.multipleSelectionBox");0==f.length&&(f=$(RI({resize:b.resize(),rotate:b.rotate()})),f.appendTo(d));0===c.filter(function(a){return 0!==a.Ma()}).length&&f.addClass("cornerHandles");b=SI(c);f.css("left",b.W()).css("top",b.N()).css("width",b.w()).css("height",b.D());var g=$();c.map(function(a){g.push(a.F().get(0))});BD(g,a)}}}
function SI(a){var b=a.map(function(a){return a.Ya()*N+(a.ha().uc()||0)}),c=a.map(function(a){return a.ab()*N+(a.ha().vc()||0)}),b=Array.min(b),c=Array.min(c),d=Array.max(a.map(function(a){return a.$b()*N+(a.ha().uc()||0)}));a=Array.max(a.map(function(a){return a.Qb()*N+(a.ha().vc()||0)}));return new M(b,c,d-b,a-c)}
function TI(){var a=$(this),b=a.data("canvaElement");if(b&&b.gk()&&!(0<a.parents(".group").length)){var c=z.Ja(),d=z.aa.filter(function(a){return hf(a.F(),$("#marquee"))}),f=hf(a,$("#marquee")),d=-1!==d.indexOf(b.ha()),g=0===c.length;c.forEach(function(a){b.ha()===a.ha()&&(g=!0)});f&&d&&g?b.mb()?(c=a.get(0).getBoundingClientRect(),f=$("#marquee").get(0).getBoundingClientRect(),f.top+10<c.top&&f.left+10<c.left?(b.Oj(!0),a.addClass("multiSelected")):(b.Oj(!1),a.removeClass("multiSelected"))):(b.Oj(!0),
a.addClass("multiSelected")):(b.Oj(!1),a.removeClass("multiSelected"))}}function $H(a){a=a.target;"SPAN"==a.tagName&&(a.style.removeProperty("font-size"),a.style.removeProperty("background-color"),a.style.removeProperty("line-height"),a.style.removeProperty("letter-spacing"))}
function XH(a){(function(a){if(13!==a.keyCode||!document.queryCommandSupported("insertLineBreak")||a.ctrlKey||a.metaKey)return!1;if(a.shiftKey||a.altKey)return!0;if(document.queryCommandState("insertUnorderedList")||document.queryCommandState("insertOrderedList"))return!1;a=document.queryCommandValue("formatBlock");return""!==a&&"div"!==a&&"p"!==a?!1:!0})(a)&&(document.execCommand("insertLineBreak",!1,null),a.preventDefault())}
function YH(){if(UI)$("#content").off("keydown",".element.text.focused",YH);else{var a=$(this);VI(a)}}function ZH(){UI=!0;var a=$(this);VI(a)}var UI=!1;function VI(a){function b(){a.data("handleTextElementInputTimerId",0);WI(a);Kr(a,!0)}if(!XI(a)){var c=a.data("handleTextElementInputTimerId")||0;0===c&&(c=UI?requestAnimationFrame(b):window.setTimeout(b,G.wb),a.data("handleTextElementInputTimerId",c))}}
function WI(a){var b=a.data("canvaElement");if(b){var c=b.$a();0<Object.keys(b.Lk(c)).length&&YI(function(){b.Ji(c)})}}function XI(a){return a.hasClass("svg")||0<a.closest(".element.svg").length}
function YI(a){var b=window.getSelection(),c=document.createElement("span");c.classList.add("fauxCaret");c.appendChild(document.createTextNode("​"));if(b.rangeCount){var d=b.getRangeAt(0);d.collapse(!1);d.insertNode(c)}a();b=window.getSelection();b.rangeCount&&(d=document.createRange(),d.setStart(c.childNodes[0],0),d.collapse(!0),b.removeAllRanges(),b.addRange(d));c.parentNode.removeChild(c)}
function Kr(a,b){function c(){g.Ia();k&&(Jw(m,g,D),m.Ia())}function d(a,b){return a.Ya()+b>a.ha().$b()}function f(a){return a.Ya()<=a.ha().Ya()}if(!XI(a)){var g=a.data("canvaElement");if(g){var h=a.children(".inner");if(0!==h.length){var k=0<a.parents(".element.group").length,l=0;if(k){var m=a.parents(".group").first().data("canvaElement"),l=m.Ma();g.Hg()}100<h.text().length&&g.ul(g.$a());var n=b&&!g.xq();n&&(h.css("width","0"),h.addClass("explicitLineBreaksLayoutMode"));var p=h.prop("scrollWidth"),
r=ki(h[0]).ki;r&&1<r&&(p/=r);var r=a.data("justification"),q=g.w(),v=g.W();if(n){var x=q;a.data("ephemeralStartWidth")?x=a.data("ephemeralStartWidth"):a.data("ephemeralStartWidth",g.w());a=Math.max(x,p+2);g.ha()&&(r&&"left"!==r?"right"===r?(g.Va(v+q-a),f(g)&&(a=q,g.Va(0),g.Hg())):"center"===r&&(g.Va(v+(q-a)/2),f(g)||d(g,a))&&(g.Va(v),a=q,g.Hg()):d(g,a)&&(a=g.ha().$b()-g.Ya(),g.Hg()))}else a=Math.max(q,p);r=p=0;if(b=(0!==Vi(l)-Vi(g.Ma())||!(!g.Vc||"top"===g.Vc))&&b){var w=$('\x3cspan class\x3d"shim"\x3e\x26nbsp;\x3c/span\x3e');
g.F().find(".shim").remove();g.F().prepend(w);w.css("position","absolute").css("left",0);g.Vc&&"top"!==g.Vc?Zs(g)?w.css("top","100%"):Ys(g)&&w.css("top","50%"):w.css("top",0);var y=w.get(0).getBoundingClientRect(),B=g.N(),F=g.W()}n&&h.removeClass("explicitLineBreaksLayoutMode");g.pa(a);var D=g.ya(),h=g.D();g.Ia();b&&h!==g.D()?(h=w.get(0).getBoundingClientRect(),w.remove(),p=h.top-y.top,r=h.left-y.left,Ct(g)&&(w=ij(hj([r,p]).rotate(m.Ma())),r=w[0],p=w[1]),0==p&&0==r||g.setPosition(F-r/N,B-p/N),window.setTimeout(c,
0)):(c(),w&&w.remove())}}}}
function Jz(){var a=z.Ja(),b,c,d=G.DC*G.zs,f,g;(c=L(z))&&1===a.length&&(b=a[0],a=b.ya(),b instanceof kt?(f=c.ya(),f.Wa(f.N()-d),f.pa(f.w()+2*d),f.oa(f.D()+2*d),f.Va(f.W()-d)):f=nf(a.clone(),c.ya()),b instanceof Jr?(YC(b),oz(),d=b.Wb(0),g=b.wc(0)*(f.D()/a.D()),b.fd(0,g),window.setTimeout(function(){b.pa(f.w());b.oa();b.Ia()},0),b.setPosition(f.W(),f.N()),g=b.Wb(0),d={elementIndex:b.ea(),pageIndex:T(z,c),textIndex:0,"new":g,old:d},d=new TC(1,d),C.register(d)):(b.Zb(f),b.Ia()),c={elementIndex:b.ea(),
pageIndex:T(z,c),"new":f.serialize(),old:a.serialize()},c=new U(Sk,c),C.register(c),b instanceof Jr&&pz(),Ke(b))}function kI(){var a=$(".toolbarContainer .toolbar__button--cancel");0<$("#overlays \x3e .mask.on").length&&0<a.length&&a.trigger("click")}
function lI(a){function b(a){if($(a.target).is("#cutoutMessage")||0<$(a.target).parents("#cutoutMessage").length||$("#overlays").hasClass("shakeOverlays"))return!0;clearTimeout(v);$("#overlays").addClass("shakeOverlays");v=setTimeout(function(){$("#overlays").removeClass("shakeOverlays")},300)}function c(a){$(a.target).hasClass("buttonCutoutMessageEditText")&&(a=q,a.Hp=!1,a.F().toggleClass("failed",a.Hp),a.Lj(0),a.Ir(0),a.Sf(0,"Glegoo"),a.pr=!0,is(a.F(),!0),a.Ia(),Ke(q),xz(q.F(),!0),q.Ra(),d())}function d(){$(n).off("mousedown",
b).off("mouseleave",d);$("#cutoutMessage").on("transitionend",f).addClass("disappear")}function f(){$(this).remove()}function g(){var a=r.get(0)===n;if(a=r.data("triggerElement")!==n&&!a){var a=$("#overlays").find(".text.focused"),b;0<a.length?(a=df(a.get(0).getBoundingClientRect()),b=df(n.getBoundingClientRect()),a=ef(a,b)):a=!1;a=!a}return a}var h,k,l;l=200;var m=85,n=a.currentTarget;a=Sb(pb);h=n.classList.contains("unapproved");k=a.format("documentMediaLoadFailedError");var p=n.classList.contains("failed"),
r=$("#cutoutMessage"),q=$(n).data("canvaElement");if(q){0>=r.length&&(r=$('\x3cdiv id\x3d"cutoutMessage"\x3e\x3c/div\x3e'));p&&(l=240,m=100,k=a.format("documentFontLoadFailedError"));r.data("canvaElement",q).html(k).toggleClass("unapproved",h).toggleClass("failed",p).off("transitionend").removeClass("disappear");$(n).on("mousedown",b);g()&&(a=df(n.getBoundingClientRect()),h=df($("#overlays").get(0).getBoundingClientRect()),k=$("#canvaDocument").offset(),k=tH().translate(k.left,k.top).translate(-h.W(),
-h.N()),l=new M(0,0,l,m),Qi(Ni(l,a).translate(-h.W(),-h.N()),k),r.css(l.serialize()).appendTo("#overlays").data("triggerElement",n).on("click",c));$(n).on("mouseleave",d);var v}}function mI(a){$(a.target).is("#content, #canvaDocument, #canvaDocument \x3e .inner, #canvaDocument \x3e .inner \x3e .page, #canvaDocument \x3e .inner \x3e .page \x3e .elements")&&($(a.target).is("input")||$(document.activeElement).blur(),S())}
function of(a,b,c){function d(a){wC=!0;window.clearTimeout(V);V=window.setTimeout(function(){wC=!1},1E3);var b=document.elementFromPoint(a.originalEvent.touches[0].clientX,a.originalEvent.touches[0].clientY);R.forEach(function(a){a!=b&&l.call(a)});a=$(b);var c=0<=R.indexOf(b);!c&&0<a.parents("#hotspots").length&&a.is(".element.hotspot")?(H=b,g.call(b),R=[b]):R=c?[b]:[]}function f(){$(document).off("touchmove",d).off("touchend",f);var a=$(H);0<a.parents("#hotspots").length&&a.is(".element.hotspot")&&
m.call(H);window.setTimeout(function(){wC=!1},300)}function g(){if(a.hasClass("svg")||a.hasClass("cutout")){w=x=!1;var b=$("#cutoutMessage");0>=b.length&&(b=$('\x3cdiv id\x3d"cutoutMessage"\x3e').text(p.format("documentCutoutInFrameWarning")),b.appendTo("#content"));b.off("transitionend").removeClass("disappear")}else if(q&&null===q.Vb())w=x=!1;else{var c=r.clone(!0);c.css("width","").css("height","");var d=$(this).data("canvaElement"),f=$(this).data("placeholderIndex");a.data("placedInElement",d).addClass("placing").addClass("draggedMediaOverHotspot");
var g=a.data("li"),h=g.data("result"),k=g.find("img").data("mediaApproved"),g=h.G(),h=h.getVersion(),l=d.fj(f),c=new M(0,0,q?Bt(q):parseInt(c.data("screenWidth"),10),q?Wk(q):parseInt(c.data("screenHeight"),10));Oi(c,l).translate(-l.W(),-l.N());c={type:"image",index:f,mediaId:g,mediaVersion:h,origin:q?q.Mc():null,imageBox:c.serialize(),flipOrientation:q?q.pb:0,mediaApproved:void 0===k?!0:k};D=d.gj(f);E=ju(d.$i(f));g===D.mediaId?x=!1:(d.Nj(f,c),q&&((g=q.F().data("selectionBox"))&&g.hide(),q.jj()&&q.cc()&&
(b=ju(q.cc()))),d=d.$i(f),d.remove(),my(d,b||ju(d)))}}function h(){F.read(k)}function k(){var b=a.offset();F.write(function(){$("#cutoutMessage").css("left",b.left+a.width()/2-$("#cutoutMessage").outerWidth()/2).css("top",b.top+a.height()/2-$("#cutoutMessage").outerHeight()/2)})}function l(){var b=$(this).data("canvaElement"),c=$(this).data("placeholderIndex"),d=b.$i(c);a.removeData("placedInElement").removeClass("placing").removeClass("draggedMediaOverHotspot");$("#cutoutMessage").on("transitionend",
n).addClass("disappear");x&&(b.Nj(c,D),d.remove(),my(d,E),q&&(b=q.F().data("selectionBox"))&&b.show())}function m(){if(a.data("li")&&($("#cutoutMessage").on("transitionend",n).addClass("disappear"),w)){var b=a.data("li").data("result"),c=$(this).data("canvaElement"),d=$(this).data("placeholderIndex"),f=c.Wp(d);xC(c);var g={elementIndex:c.ea(),pageIndex:T(z,c.ha()),placeholderIndex:d,"new":c.gj(d),old:D},h={elementIndex:c.ea(),pageIndex:T(z,c.ha()),placeholderIndex:d,"new":{filter:ju(c.$i(d))},old:{filter:E}},
g=new U(PC,g),h=new U(11,h);oz();C.register(g);C.register(h);c.gw=!0;c.Dl(f);a.one("transitionend",n).addClass("disappeared").removeClass("draggedMediaOverHotspot").removeClass("placing");y.remove();f.removeData("oldPlacement");q&&(q.Va(a.data("startLeft")),q.Wa(a.data("startTop")),dC(q),q.remove(),q instanceof ht&&c instanceof Qk&&0!=q.pb&&setTimeout(function(){function a(c){c.target!=l.get(0)&&(clearTimeout(y),c.target==l.find("a")[0]?($(document).on("mouseout mouseup",b),c.preventDefault()):k())}
function b(){$(document).off("mouseout mouseup",b);k()}function f(){$(document).off("mousemove",f);v=setTimeout(function(){l.on("mouseenter",g).on("mouseleave",h)},100)}function g(){clearTimeout(y)}function h(){clearTimeout(y);y=setTimeout(k,1E3)}function k(){clearTimeout(v);$(document).off("mousedown",a).off("mousemove",f);l.off("mouseenter",g).off("mouseleave",h);l.on("transitionend",n).addClass("disappear")}var l=$("#cutoutMessage");0==l.length&&(l=$('\x3cdiv id\x3d"cutoutMessage"\x3e\x3c/div\x3e'));
l.off("transitionend").addClass("closeable").removeClass("disappear").text(p.format("documentCutoutFlippedImageWarning")).append('\x3ca href\x3d"#" class\x3d"close"\x3eClose\x3c/a\x3e').appendTo(c.ha().F());var m=c.ya(),r=c.fj(d),q=m.N()+r.N()+r.D()/2,q=q*N,q=q-l.outerHeight()/2,m=m.W()+r.W()+r.w()/2,m=m*N,m=m-l.outerWidth()/2;l.css("top",q).css("left",m);$(document).on("mousedown",a).on("mousemove",f);var v=0,y=setTimeout(k,1E4)},200));pz();b&&(f=b.Mc(),f!==Te&&"GOOGLE"!==f||Me(lb,b,c.ej(d)),Rz(dA(b,
v)))}}function n(){$(this).remove()}b=b||L(z);var p=Sb(pb),r=$("img",a),q=a.data("canvaElement"),v=!!a.data("isOrganicSearchResult"),x=!0,w=!0,y=$('\x3csection id\x3d"hotspots"\x3e\x3c/section\x3e'),B=xv(b);y.css(B.serialize());var F=ff();b.za().forEach(function(a){if((a instanceof Qk||a instanceof kt)&&!Ct(a)){var b=$('\x3cdiv class\x3d"container"\x3e\x3c/div\x3e'),d=a.ya();b.css(d.scale(N).round().serialize()).css("transform","rotate("+a.Ma().toString()+"deg)");for(var d=a.Od(),f=0;f<d;f++){var k=
a.fj(f);k.scale(N).round();var n=$('\x3cdiv class\x3d"element hotspot"\x3e\x3c/div\x3e');n.css(k.serialize()).data("canvaElement",a).data("placeholderIndex",f).appendTo(b);!1===c&&n.mouseover(g).mousemove(h).mouseout(l).mouseup(m)}b.appendTo(y)}});y.appendTo("#content");b=ab.Oa[b.ea()].$el;y.css("left",b.offset().left).css("top",b.offset().top);var D=null,E=null,H=null,V=null;if(!0===c){var R=[];$(document).on("touchmove",d).on("touchend",f)}}
function ZB(a,b){function c(a){a={left:a.originalEvent.touches[0].clientX,top:a.originalEvent.touches[0].clientY,width:0,height:0};for(var b={left:m,top:n,width:0,height:0},c=0;c<l.length;c++){var d=l[c];oH(a,d)&&!oH(b,d)?f.call(d.element):oH(b,d)&&!oH(a,d)&&g.call(d.element)}m=a.left;n=a.top}function d(b){$(document).off("touchmove",c).off("touchend",d);for(var f={left:b.changedTouches[0].clientX,top:b.changedTouches[0].clientY,width:0,height:0},g=0;g<l.length;g++){var m=l[g];if(oH(f,m)){var n=$(".page",
k).index(m.element);$(m.element).data("page",$("#canvaDocument \x3e .inner \x3e .page").eq(n));h.call(m.element,b,a)}}}function f(){$(this).addClass("hover");$(this).data("page").addClass("hotspotHover");a.addClass("placing")}function g(){$(this).removeClass("hover");$(this).data("page").removeClass("hotspotHover");a.removeClass("placing")}function h(b,c){function d(a){function b(){h.off("unpacked",b);QD({sk:PD(h),ot:z.Sa(),page:h});c(h.serialize())}function c(b){n&&(f=new cj({type:Xs,id:n.id,version:n.version}),
ZI(a,f));var d={};a.layout&&(d.id=a.layout.id,d.version=a.layout.version);D&&(d.id=D.id,d.version=D.version);b=$i(new Yi(d),b);d={"new":b,old:O,pageIndex:R.ea()};ZC(R,b,l,f);C.register(new XC(4,d))}var f;l&&(R.clear(),KD(R,l));if(a.width!==R.w()||a.height!==R.D()){var g=$i(new Yi,a),h=new ml(z,{});ZC(h,g,null,null,!0);h.on("unpacked",b)}else c(a)}function f(a){return a.getDocument().Zc().content.pages[E.pageIndex]}S();2==arguments.length&&(a=c);var g=a.data("li"),h=$(this).data("page"),h=$("#canvaDocument \x3e .inner \x3e .page").index(h);
nl(z,h);var l,m=!!a.data("isOrganicSearchResult"),n=g.find("a").data("documentProperties"),D=g.find("a").data("layoutProperties"),E=g.find("a").data("pageTemplateRequest"),H=g.find("a").data("pageTemplateRequest"),V=g.find("a").data("pageTemplate"),R=L(z),O=R.nm();n&&n.previewUrl&&(l=n.previewUrl);D&&D.previewUrl&&(l=D.previewUrl);if(E||H||V)aB.lp(R,pb).then(function(a){a&&(E?(R.clear(),KD(R,n.previewUrl),db.getDocument(cm(n.id)).then(f).then(d)):H?(R.clear(),$.getJSON(H.url,function(a){d(a.content.pages[0])})):
V&&d(V))});else if(0<g.parents(".backgroundGallery").length)fC(a.data("li")),h=g.data("result"),Rz(dA(h,m));else if(0<g.parents(".templateGallery").length){var W=g.data("layoutItem"),m=g.data("designItem"),h=g.data("searchResult"),Q=g.parents(".results").data("view"),pa=g.find("a");$I(Q,pa,!0);m?(g=g.data("usablePreview"),aJ(Q,m,g)):W?bJ(Q,W):h&&zD(Q,h)}k.remove();a.remove();$("#canvaDocument \x3e .inner \x3e .page").removeClass("hotspotHover")}var k=$('\x3cdiv id\x3d"hotspots"\x3e\x3c/div\x3e');
k.css("left",parseInt($("#canvaDocument").css("left"),10)).css("top",-$("#canvaDocument").get(0).scrollTop).css("z-index","99999").appendTo("#content");$("#canvaDocument \x3e .inner \x3e .page").each(function(){$(this).clone().data("page",$(this)).empty().appendTo(k)});if(b){var l=[],m=0,n=0;$(".page",k).each(function(){var a=$(this).offset(),b=$(this).outerWidth(),c=$(this).outerHeight();l.push({element:this,left:a.left,top:a.top,width:b,height:c})});$(document).on("touchmove",c).on("touchend",d)}else $(".page",
k).mouseover(f).mouseout(g).mouseup(h)}
function ZG(a){function b(){$("#overlays \x3e .mask").addClass("on");h.addClass("cropping");a.Ra();$(".cropControls img.uncropped").css("opacity",.5);$(".cropControls .cropBox").css("background-color","rgba(255, 255, 255, 0.5)");It($(".cropControls"),a.Ma())}function c(a){13===a.which?d():27===a.which&&f()}function d(){var b=a.W(),c=a.N();a.tk();b={elementIndex:a.ea(),pageIndex:T(z,a.ha()),placeholderIndex:a.Ab(),"new":{placeholderBox:a.Ib().serialize(),imageBox:a.be().serialize(),cropped:!0,left:a.W(),
top:a.N()},old:{placeholderBox:l.serialize(),imageBox:k.serialize(),cropped:m||a instanceof ht,left:b,top:c}};C.register(new U(6,b));$("#overlays \x3e .mask").removeClass("on");$(".cropControls .cropBox").css("background-color","rgba(255, 255, 255, 0)");a.Ia();BD(h,$b(pb));g();De.track("crop_confirm",{design:A.va(),section:"editor",subsection:"toolbar",location:"top"})}function f(){a instanceof ht?(l&&ii(a,l),a.Tg(k),a.aw=!1,h.removeClass("cropping")):(a.Tg(k),a.tk());var b=h.data("toolbar");a.Ce()&&
b&&b.show();$("#overlays \x3e .mask").removeClass("on");$(".cropControls .cropBox").css("background-color","rgba(255, 255, 255, 0)");a.Ia();a.Ce()&&BD(h,$b(pb));g();De.track("crop_cancel",{design:A.va(),section:"editor",subsection:"toolbar",location:"top"})}function g(){$("#content").off("click",".toolbar--crop .toolbar__button--ok",d).off("click",".toolbar--crop .toolbar__button--cancel",f);$(document).off("keydown",c)}if(a.oh&&a.mz()){var h=a.F(),k=a.be(),l=a.Ib(),m=!!a.kg;$("#content").on("click",
".toolbar--crop .toolbar__button--ok",d).on("click",".toolbar--crop .toolbar__button--cancel",f);$(document).on("keydown",c);a.wv(a.Ab(),b)}}function AC(){ff().write(function(){$("#overlays .align").removeClass("on")})}
function lf(a,b,c,d,f){function g(a){return(a instanceof Y||a instanceof ji)&&a.ha()?a.Ya()*N+a.ha().uc():a.uc()}function h(a){return(a instanceof Y||a instanceof ji)&&a.ha()?a.ab()*N+a.ha().vc():a.vc()}function k(a,c,f){function g(a){function b(c,d){return a(c)-a(d)}var c,d=[];Ec.slice(0).sort(b).forEach(function(f){c&&0==b(c.Ec[0],f)?(c.Ec.push(f),c.Jg=Math.min(c.Jg,f.Jg),c.Kg=Math.min(c.Kg,f.Kg),c.Ph=Math.max(c.Ph,f.Ph),c.Qh=Math.max(c.Qh,f.Qh)):d.push(c={Ec:[f],pos:a(f),Jg:f.Jg,Kg:f.Kg,Ph:f.Ph,
Qh:f.Qh,Mx:NaN})});return d}function h(a,b){return a.pos-b.pos}function k(a,b){return a.Mx<b.Mx?a:b}function l(a,b,c){var d=Array.lowerBound(b,{pos:c-f},h),g=Array.upperBound(b,{pos:c+f},h);b=b.slice(d,g);b.forEach(function(a){a.Mx=Math.abs(c-a.pos)});b.length&&a.push(b.reduce(k))}var m=null,n=null,p=[],r={Cu:!1,r:!1,cy:!1,t:!1,b:!1,cx:!1},q=a.de(),v=a.ce(),w,x,Oa,Ob,Pb,Nd,Ui,Ti;w=a.Ya();x=a.ab();Oa=a.$b();Ob=a.Qb();Pb=a.de();Nd=a.ce();Ui=w+Pb/2;Ti=x+Nd/2;var Ec=c.map(function(a){var b=a.Ya(),c=a.$b(),
d=(b+c)/2,f=a.ab(),g=a.Qb();return{object:a,Jg:b,Kg:f,Lu:d,Mu:(f+g)/2,Ph:c,Qh:g}});b.rq||(b.rq=!0,b.Zg={Jg:g(function(a){return a.Jg}),Lu:g(function(a){return a.Lu}),Ph:g(function(a){return a.Ph}),Kg:g(function(a){return a.Kg}),Mu:g(function(a){return a.Mu}),Qh:g(function(a){return a.Qh})});c=0;var Ka=null;c=[];if(void 0===d||d.Cu)if(Ka=null,c=[],l(c,b.Zg.Jg,w),l(c,b.Zg.Ph,w),Ka=c.length&&c.reduce(k))for(m=Ka.pos,r.Cu=!0,c=0;c<Ka.Ec.length;++c)p.push(Ka.Ec[c].object);if(void 0===d||d.r)if(Ka=null,
c=[],l(c,b.Zg.Jg,Oa),l(c,b.Zg.Ph,Oa),Ka=c.length&&c.reduce(k))for(m=Ka.pos-Pb,r.r=!0,c=0;c<Ka.Ec.length;++c)p.push(Ka.Ec[c].object);if(void 0===d||d.d)if(Ka=null,c=[],l(c,b.Zg.Kg,x),l(c,b.Zg.Qh,x),Ka=c.length&&c.reduce(k))for(n=Ka.pos,r.t=!0,c=0;c<Ka.Ec.length;++c)p.push(Ka.Ec[c].object);if(void 0===d||d.qS)if(Ka=null,c=[],l(c,b.Zg.Kg,Ob),l(c,b.Zg.Qh,Ob),Ka=c.length&&c.reduce(k))for(n=Ka.pos-Nd,r.b=!0,c=0;c<Ka.Ec.length;++c)p.push(Ka.Ec[c].object);(function(){var c;c=[];l(c,b.Zg.Lu,Ui);if(c=c.length&&
c.reduce(k)){m=c.pos-Pb/2;r.cy=!0;for(var f=0;f<c.Ec.length;++f)p.push(c.Ec[f].object);var g=(f=d&&d.Jg)?a.$b():a.Ya();q=2*Math.abs(c.Lu-g);f&&(m-=(q-Pb)/2)}})();(function(){var a;a=[];l(a,b.Zg.Mu,Ti);if(a=a.length&&a.reduce(k)){n=a.pos-Nd/2;r.cx=!0;for(var c=0;c<a.Ec.length;++c)p.push(a.Ec[c].object);c=d&&d.Kg;v=2*Math.abs(a.Mu-(c?Ob:x));c&&(n-=(v-Nd)/2)}})();w=a.W()-a.Ya();Oa=a.N()-a.ab();null!==m&&m>a.W()?m+=w:null!==m&&m<a.W()&&(m+=w);null!==n&&n>a.N()?n+=Oa:null!==n&&n<a.N()&&(n+=Oa);null!==
m&&0===Math.round(10*m)/10&&(m=0);null!==n&&0===Math.round(10*n)/10&&(n=0);return{Kl:m,Ll:n,wT:q,vT:v,Ci:p,lm:r}}void 0===f&&(f=!0);var l=a.Ya(),m=a.ab(),n=Math.max(G.JC,G.JC/N);f=k(a,c,n);void 0!==d&&null!=f.Kl&&null!=f.Ll&&(Math.abs(l-f.Kl)>Math.abs(m-f.Ll)?f.Ll=null:f.Kl=null);null!=f.Kl&&(!a.Ma()&&1===f.Ci.length&&!f.Ci[0].Ma()&&Math.abs(f.Ci[0].W()-a.W())<n?!d&&a.Va(f.Ci[0].W()):!d&&a.Va(f.Kl));null!=f.Ll&&(!a.Ma()&&1===f.Ci.length&&!f.Ci[0].Ma()&&Math.abs(f.Ci[0].N()-a.N())<n?!d&&a.Wa(f.Ci[0].N()):
!d&&a.Wa(f.Ll));!d||null==f.Kl&&null==f.Ll||(f=k(a,c,1));AC();c=f.Ci;if(null!=f.Kl){var l=Array.max(c.map(function(a){return a.Qb()}).concat(a.Qb())),m=Array.min(c.map(function(a){return a.ab()}).concat(a.ab())),p=Math.abs(l-m)*N,r=Array.min(c.map(function(a){return h(a)}).concat(h(a))),q=[];f.lm.Cu&&q.push(g(a)-1);f.lm.r&&q.push(g(a)+a.de()*N);f.lm.cy&&q.push(g(a)+a.de()/2*N);ff().write(function(){q.forEach(function(a,b){$("#overlays .vertical.align").eq(b).addClass("on").css("top",Math.round(r)).css("left",
Math.round(a)).css("height",Math.round(p))})})}if(null!=f.Ll){var l=Array.max(c.map(function(a){return a.$b()}).concat(a.$b())),m=Array.min(c.map(function(a){return a.Ya()}).concat(a.Ya())),v=Math.abs(l-m)*N,x=Array.min(c.map(function(a){return g(a)}).concat(g(a))),w=[];f.lm.t&&w.push(h(a)-1);f.lm.b&&w.push(h(a)+a.ce()*N);f.lm.cx&&w.push(h(a)+a.ce()/2*N);ff().write(function(){w.forEach(function(a,b){$("#overlays .horizontal.align").eq(b).addClass("on").css("top",Math.round(a)).css("left",Math.round(x)).css("width",
Math.round(v))})})}}function kf(a){var b=[];void 0!==a&&(a instanceof Y?b.push(a):a instanceof Array&&(b=a));var c=0==b.length?L(z):b[0].ha();if(!c)return[];a=c.za();a=a.filter(function(a){return-1===b.indexOf(a)&&!a.mb()&&!Ct(a)});a.push(c);var d=[];vb&&vb()&&(d=WE());c=YE(c)||[];return a.concat(d).concat(c)}function IC(){$("body").addClass("blockDocument");S();$("#search").blur()}
function vz(a,b){var c=a.ye();c&&rv(a,c+105*b/2);a={elementIndex:a.ea(),pageIndex:T(z,a.ha()),"new":{borderWidth:a.ye()},old:{borderWidth:c}};C.register(new U(Sk,a))}function wz(a,b){var c=a.spacing;b=c+5*b;0<=b&&50>=b&&(a.Ov(b),a={elementIndex:a.ea(),pageIndex:T(z,a.ha()),"new":{spacing:a.spacing},old:{spacing:c}},C.register(new U(Sk,a)))}
function uz(a){var b=a.ye();b?rv(a,0):rv(a,105);a={elementIndex:a.ea(),pageIndex:T(z,a.ha()),"new":{borderWidth:a.ye()},old:{borderWidth:b}};C.register(new U(Sk,a))}function cJ(a,b){C.register(new U(Sk,{elementIndex:a.ea(),pageIndex:T(z,a.ha()),"new":{verticalAlignment:a.Vc||"top"},old:{verticalAlignment:b}}))}function zz(a){var b=a.Vc||"top";a.WB();cJ(a,b)}function Az(a){var b=a.Vc||"top";a.$z();cJ(a,b)}function Bz(a){var b=a.Vc||"top";a.$w();cJ(a,b)}
function yz(a,b){function c(){a.ND&&a.ND()}function d(){a.sF&&a.sF()}function f(){a.IH&&a.IH(0)}var g=a.Qa(a.$a());0===Qr(g)&&(1===b?YI(d):-1===b?YI(c):0===b&&YI(f),Kr(g,!0))}function FI(a,b){a.forEach(function(a){a.Dd=b})}
function Dz(){if(1===$(".element [contenteditable\x3dtrue]").length){if(document.execCommand("undo",!1,null))return;Tk()}var a=C;if(0!=a.zc.length){a.trigger("beforeOperationStackPop");a.ZB=!0;if(0<a.ij.length)throw Error("cannot undo while a grouped operation is being collected");var b=a.zc.pop(),c=b.invert();c.Yh();a.$n.push(b);S();Iz(SC(c));a.ZB=!1;z.trigger("change")}}
function Cz(){if(1===$(".element [contenteditable\x3dtrue]").length){if(document.execCommand("redo",!1,null))return;Tk()}var a=C;if(0!=a.$n.length){a.trigger("beforeOperationStackPop");a.VA=!0;var b=a.$n.pop();b.Yh();a.zc.push(b);S();Iz(SC(b));a.VA=!1;z.trigger("change")}};function dJ(a,b,c){return location.protocol+"//"+location.host+"/design/"+encodeURIComponent(a)+(c?"/"+encodeURIComponent(c):"")+(b?"/"+encodeURIComponent(b):"")}function eJ(a,b,c,d){return dJ(a,"view",b)+"?"+fJ(a,c,d)}function fJ(a,b,c){return["utm_content\x3d"+encodeURIComponent(a),"utm_campaign\x3d"+encodeURIComponent("designshare"),"utm_medium\x3d"+encodeURIComponent(c),"utm_source\x3d"+encodeURIComponent(b)].join("\x26")};function gJ(){}gJ=Backbone.View.extend({className:"switch"});e=gJ.prototype;e.events=function(){return{"blur input":this.hl,"change input":this.wN,dragstart:this.il,"focus input":this.iA,mousedown:this.jl}};e.initialize=function(a){a=_.defaults({},a,{Lg:null,on:!1,Nf:null});this.Lg=a.Lg;this.om=void 0===a.om||!!a.om;this.Su=this.Su.bind(this);this.Tu=this.Tu.bind(this);this.Nf=a.Nf;this.oA=a.on};function hJ(a){return!!a.input.prop("checked")}e.hl=function(){this.$el.removeClass("switchFocused")};
e.wN=function(){var a=hJ(this);this.$el.toggleClass("switchOn",a);this.trigger("toggle",a)};e.Su=function(a){var b=this.handle.offset().left,c=b+this.handle.outerWidth(),b=hJ(this)&&a.pageX<b;a=!hJ(this)&&a.pageX>c;if(b||a)this.handle.removeClass("switchHandlePressed"),iJ(this),this.toggle()};e.Tu=function(a){$(a.target).closest(this.el).length&&(this.trigger("click"),this.om&&this.toggle());this.handle.removeClass("switchHandlePressed");iJ(this)};e.il=function(a){a.preventDefault()};e.iA=function(){this.$el.addClass("switchFocused")};
e.jl=function(a){a.target===this.handle[0]&&($(document).on("mousemove",this.Su),this.handle.addClass("switchHandlePressed"));$(document).on("mouseup",this.Tu)};e.remove=function(){Backbone.View.prototype.remove.call(this);iJ(this)};function iJ(a){$(document).off({mousemove:a.Su,mouseup:a.Tu})}
e.render=function(){var a;this.oA?(a=this.oA,delete this.oA):a=!(!this.input||!this.input.prop("checked"));var b,c={Lg:this.Lg,Nf:this.Nf},d,c=c||{};soy.asserts.assertType(null==c.Nf||c.Nf instanceof goog.soy.data.SanitizedContent||goog.isString(c.Nf),"onLabel",c.Nf,"null|string|undefined");b=c.Nf;soy.asserts.assertType(null==c.Lg||c.Lg instanceof goog.soy.data.SanitizedContent||goog.isString(c.Lg),"offLabel",c.Lg,"null|string|undefined");c=c.Lg;b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cinput type\x3d"checkbox"\x3e\x3cdiv class\x3d"switchContent"\x3e\x3cdiv class\x3d"switchLabelOn"\x3e'+
soy.$$escapeHtml(null==(d=b)?"":d)+'\x3c/div\x3e\x3cdiv class\x3d"switchHandle"\x3e\x3c/div\x3e\x3cdiv class\x3d"switchLabelOff"\x3e'+soy.$$escapeHtml(null==(d=c)?"":d)+"\x3c/div\x3e"+(c?'\x3cdiv class\x3d"switchLabelOffSpacer"\x3e'+soy.$$escapeHtml(c)+"\x3c/div\x3e":"")+"\x3c/div\x3e");this.$el.html(b.toString());this.$el.toggleClass("switchOn",a);this.handle=this.$(".switchHandle");this.input=this.$("input");this.input.prop("checked",a);return this};
e.toggle=function(a){void 0===a&&(a=!this.input.prop("checked"));a!==this.input.prop("checked")&&(this.input.prop("checked",a),this.input.change())};function QD(a){function b(a){a.translate(-g.W(),-g.N());Ki(a,r,q,p);a.translate(w,y)}var c=a.page,d=c.ya(),f=function(a){a=$e(a.dc());return new M(0,0,a.w(),a.D())}(a.ot),g=a.sk||d;a=g.w();var h=g.D(),k=f.w(),l=f.D(),m=k/a,n=l/h,p=Math.min(m,n),r=a/2,q=h/2,v=k/2,x=l/2,w=v-r,y=x-q;c.za().forEach(function(a){if(!a.Td&&!Ct(a)){var c;if(a instanceof kt&&1===a.Od()){var g=a.spacing;c=a.ya();g=bj(d.w(),d.D(),g,!1);c=Pi(c,g)}else c=a instanceof ht?gu(a)&&a.mb():!1;if(c)a instanceof kt?a.Zb(bj(k,l,a.spacing,
!1)):a.Zb(f.clone());else{if(a.mb()){c=a.ya();g=1;b(c);if(m<n)var g=c.N(),h=l-c.Ga(),g=l/(l-2*Math.max(0,g,h));else m>n&&(g=c.W(),h=k-c.Ua(),g=k/(k-2*Math.max(0,g,h)));1<g&&Ki(c,v,x,g)}else c=a.ya(),a instanceof Jr&&(g=p*a.wc(0),a.xq()?a.fd(0,g):(a.Hg(),a.fd(0,g),a.$B())),b(c);a.Zb(c)}}});c.pa(k);c.oa(l);return nf(g.clone(),f)};function jJ(){}jJ=Backbone.View.extend({className:"tileListBusyIndicator"});e=jJ.prototype;e.initialize=function(){this.transitionDelay=-1;this.$v=0};e.hide=function(){kJ(this,function(){this.$el.removeClass("tileListBusyIndicatorOn")})};e.render=function(){this.$el.html(this.template());return this};function kJ(a,b){0!=a.$v&&(window.clearTimeout(a.$v),a.$v=0);0<=a.transitionDelay?a.$v=window.setTimeout(b.bind(a),a.transitionDelay):b.call(a)}e.show=function(){kJ(this,function(){this.$el.addClass("tileListBusyIndicatorOn")})};
e.template=function(){return _.range(8).map(function(){return"\x3cspan\x3e\x3c/span\x3e"}).join("")};function lJ(a,b){this.$el=a;this.lh=b.lh||"";this.Xd=b.Xd}function mJ(a){var b=$(soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"masonryLayout"\x3e\x3c/div\x3e').toString());return new lJ(b,a)}e=lJ.prototype;e.add=function(a,b){var c=this;this.la||nJ(this,this.yg());var d=oJ(this);this.la.eq(0).append(a);var f=a.get().map(this.D,this);a.each(function(a,h){var k=pJ(c,d);d[k]+=f[a];b?c.la.eq(k).prepend(h):c.la.eq(k).append(h)})};
function qJ(a,b){var c=a.yg();if(void 0!==b.la){if(b.la.length!==c)throw Error("Cannot merge masonry layouts with different column counts.");a.la||nJ(a,c);a.la.each(function(a,c){b.la.eq(a).children().appendTo(c)})}}e.contains=function(a){return!(!this.la||!this.la.children().filter(a).length)};function nJ(a,b){var c="masonryLayoutColumn "+a.lh;a.la=_.range(b).map(function(){return $("\x3cdiv\x3e").addClass(c).width(100/b+"%")}).reduce($.merge);a.la.appendTo(a.$el)}
e.zy=function(a){var b=this.$el.width()/this.yg();return Math.floor(a/b)*this.yg()+this.yg()};e.yg=function(){var a;"function"===typeof this.Xd?(a=this.$el.width(),a=this.Xd(a)):a=this.Xd;return Math.max(a,1)};function oJ(a){return a.la.get().map(function(a){var c=$(a).children();if(!c.length)return 0;var c=c.last().get(0),d=window.getComputedStyle(c),d=parseInt(d.marginBottom,10)||0;return c.getBoundingClientRect().bottom+d-a.getBoundingClientRect().top})}
function pJ(a,b){b||(b=oJ(a));return _.min(_.range(b.length),function(a){return b[a]})}e.D=function(a){var b=window.getComputedStyle(a);a=a.getBoundingClientRect().height;var c=Math.pow(10,2);return Math.round(a*c)/c+(parseInt(b.marginBottom,10)||0)+(parseInt(b.marginTop,10)||0)};e.Md=function(){var a=this.la.children().get();a.sort(function(a,c){return a.offsetTop!==c.offsetTop?a.offsetTop-c.offsetTop:a.offsetLeft-c.offsetLeft});return $(a)};
e.Ym=function(a){function b(a){return a.offsetHeight+a.offsetTop}if(!this.contains(a))throw Error("The given element is not an item in the masonry layout.");var c=b(a[0]);return $(this.la.children().get().filter(function(a){return b(a)>c}))};e.Dg=function(){if(this.la){var a=pJ(this),a=this.la.get(a);return $(a)}return null};e.isEmpty=function(){return!(this.la&&this.la.children().length)};e.push=function(a){this.add(a)};
e.Ia=function(){var a=this.yg(),a=this.la&&a!==this.la.length;this.la&&a&&(a=this.Md().detach(),this.la&&this.la.remove(),this.la=void 0,this.push(a),this.trigger("redraw"))};e.remove=function(a){this.la&&this.la.children().filter(a).remove()};e.removeAll=function(){this.la&&this.la.children().remove()};
e.split=function(a){if(!this.contains(a))throw Error("The given element is not an item in the masonry layout.");var b=this.Ym(a);if(0===b.length)return null;var c=mJ({lh:this.lh,Xd:this.Xd});nJ(c,this.la.length);this.la.each(function(a,f){f=$(f).children().filter(b);c.la.eq(a).append(f)});return c};e.unshift=function(a){this.add(a,!0)};e.on=Backbone.Events.on;e.off=Backbone.Events.off;e.trigger=Backbone.Events.trigger;function rJ(a){this.children=[];this.lh=a.lh;this.Xd=a.Xd;this.$el=$("\x3cdiv\x3e")}e=rJ.prototype;e.listenTo=Backbone.Events.listenTo;e.off=Backbone.Events.off;e.on=Backbone.Events.on;e.trigger=Backbone.Events.trigger;function sJ(a){return mJ({lh:a.lh,Xd:a.Xd})}e.zy=function(a){var b=this.$el.width()/this.yg();return Math.ceil(a/b)*this.yg()+this.yg()};e.yg=function(){var a;"function"===typeof this.Xd?(a=this.$el.width(),a=this.Xd(a)):a=this.Xd;return Math.max(a,1)};
e.Md=function(){var a=[];this.children.forEach(function(b){b instanceof lJ?a=a.concat(b.Md().get()):a.push(b)});return $(a)};function tJ(a,b){return uJ(a).filter(function(a){return a.contains(b)})[0]||null}function uJ(a){return a.children.filter(function(a){return a instanceof lJ})}e.Dg=function(){var a=uJ(this).slice(-1)[0];return a&&a.Dg()||null};
function vJ(a,b,c){var d,f;d=tJ(a,b);if(!d)throw Error("The given element is not an item in the masonry layout.");c.insertAfter(d.$el);f=a.children.indexOf(d);a.children.splice(f+1,0,c[0]);d.Ym(b).length&&(a.trigger("beforeSplit",d.la),b=d.split(b),b.$el.insertAfter(c),a.children.splice(f+2,0,b),a.trigger("afterSplit",d.la,b.la))}e.push=function(a){if(!(this.children.slice(-1)[0]instanceof lJ)){var b;b=sJ(this);b.$el.appendTo(this.$el);this.children.push(b)}this.children.slice(-1)[0].push(a)};
e.Ia=function(){function a(){b=!0}var b=!1;uJ(this).forEach(function(b){b.on("redraw",a);b.Ia();b.off("redraw",a)});b&&this.trigger("redraw")};e.remove=function(a){this.children=this.children.reduce(function(b,c){c instanceof lJ?(c.remove(a),c.isEmpty()?c.$el.remove():b.push(c)):b.push(c);return b},[])};
function wJ(a,b){var c=a.children.indexOf(b[0]),d,f;if(0>c)throw Error("The given element is not a block in the layout.");d=a.children[c+1];f=a.children[c-1];d instanceof lJ&&f instanceof lJ&&(a.trigger("beforeMerge",f.la,d.la),qJ(f,d),d.$el.remove(),a.children.splice(a.children.indexOf(d),1));b.remove();a.children.splice(c,1)}e.unshift=function(a){if(!(this.children[0]instanceof lJ)){var b;b=sJ(this);b.$el.prependTo(this.$el);this.children.unshift(b)}this.children[0].unshift(a)};function xJ(a){this.Wi=a;this.WL=$.isWindow(this.Wi[0]);this.eF=_.throttle(this.dispatchEvent.bind(this),200)}e=xJ.prototype;e.Hu=function(){this.stopListening();this.Wi.on("scroll",this.eF)};e.stopListening=function(){this.Wi.off("scroll",this.eF)};
function yJ(a,b,c){c=_.defaults({},c,{vz:!1});var d=b.offset().top;c=c.vz?parseInt(b.css("margin-bottom"),10):0;b=b.outerHeight();d=d+b+c;b=a.WL?a.Wi.scrollTop():a.Wi.offset().top+parseInt(a.Wi.css("border-top-width"),10);a=a.Wi.innerHeight();return d-(b+a)}e.on=Backbone.Events.on;e.once=Backbone.Events.once;e.off=Backbone.Events.off;e.trigger=Backbone.Events.trigger;e.dispatchEvent=function(){this.trigger("scroll",this)};function zJ(a){soy.asserts.assertType(null==a.Lh||a.Lh instanceof goog.soy.data.SanitizedContent||goog.isString(a.Lh),"licensePrice",a.Lh,"null|string|undefined");var b=a.Lh;soy.asserts.assertType(null==a.tj||goog.isBoolean(a.tj)||1===a.tj||0===a.tj,"licenseFree",a.tj,"boolean|null|undefined");var c=a.tj;soy.asserts.assertType(goog.isString(a.yn)||a.yn instanceof goog.soy.data.SanitizedContent,"licenseWithMarkup",a.yn,"string|goog.soy.data.SanitizedContent");var d=a.yn;soy.asserts.assertType(goog.isString(a.xn)||
a.xn instanceof goog.soy.data.SanitizedContent,"licenseDescription",a.xn,"string|goog.soy.data.SanitizedContent");var f=a.xn;soy.asserts.assertType(goog.isString(a.bc)||a.bc instanceof goog.soy.data.SanitizedContent,"free",a.bc,"string|goog.soy.data.SanitizedContent");a=a.bc;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cli\x3e\x3cdiv class\x3d"license"\x3e\x3cdiv class\x3d"license__name"\x3e'+soy.$$escapeHtml(d)+'\x3c/div\x3e\x3cdiv class\x3d"license__price"\x3e'+(null!=c&&c?soy.$$escapeHtml(a):
soy.$$escapeHtml(b))+'\x3c/div\x3e\x3c/div\x3e\x3cp class\x3d"priceSummary"\x3e'+soy.$$escapeHtml(f)+"\x3c/p\x3e\x3c/li\x3e")}
function AJ(a){soy.asserts.assertType(goog.isBoolean(a.zr)||1===a.zr||0===a.zr,"royaltyFreeEnabled",a.zr,"boolean");var b=!!a.zr;soy.asserts.assertType(goog.isBoolean(a.Dp)||1===a.Dp||0===a.Dp,"extendedEnabled",a.Dp,"boolean");var c=!!a.Dp;soy.asserts.assertType(null==a.dr||a.dr instanceof goog.soy.data.SanitizedContent||goog.isString(a.dr),"oneUsePrice",a.dr,"null|string|undefined");var d=a.dr;soy.asserts.assertType(null==a.Ar||a.Ar instanceof goog.soy.data.SanitizedContent||goog.isString(a.Ar),
"royaltyFreePrice",a.Ar,"null|string|undefined");var f=a.Ar;soy.asserts.assertType(null==a.Ep||a.Ep instanceof goog.soy.data.SanitizedContent||goog.isString(a.Ep),"extendedPrice",a.Ep,"null|string|undefined");var g=a.Ep;soy.asserts.assertType(goog.isString(a.bc)||a.bc instanceof goog.soy.data.SanitizedContent,"free",a.bc,"string|goog.soy.data.SanitizedContent");var h=a.bc;soy.asserts.assertType(goog.isString(a.Wt)||a.Wt instanceof goog.soy.data.SanitizedContent,"freeDescription",a.Wt,"string|goog.soy.data.SanitizedContent");
var k=a.Wt;soy.asserts.assertType(a.cr instanceof soydata.SanitizedHtml||a.cr instanceof soydata.UnsanitizedText||goog.isString(a.cr),"oneTimeUseWithMarkup",a.cr,"soydata.SanitizedHtml");var l=a.cr;soy.asserts.assertType(goog.isString(a.fc)||a.fc instanceof goog.soy.data.SanitizedContent,"oneTimeUseDescription",a.fc,"string|goog.soy.data.SanitizedContent");var m=a.fc;soy.asserts.assertType(a.Br instanceof soydata.SanitizedHtml||a.Br instanceof soydata.UnsanitizedText||goog.isString(a.Br),"royaltyFreeWithMarkup",
a.Br,"soydata.SanitizedHtml");var n=a.Br;soy.asserts.assertType(goog.isString(a.hc)||a.hc instanceof goog.soy.data.SanitizedContent,"royaltyFreeDescription",a.hc,"string|goog.soy.data.SanitizedContent");var p=a.hc;soy.asserts.assertType(a.Fp instanceof soydata.SanitizedHtml||a.Fp instanceof soydata.UnsanitizedText||goog.isString(a.Fp),"extendedWithMarkup",a.Fp,"soydata.SanitizedHtml");var r=a.Fp;soy.asserts.assertType(goog.isString(a.pd)||a.pd instanceof goog.soy.data.SanitizedContent,"extendedDescription",
a.pd,"string|goog.soy.data.SanitizedContent");var q=a.pd;soy.asserts.assertType(null==a.Kn||goog.isBoolean(a.Kn)||1===a.Kn||0===a.Kn,"oneUseFree",a.Kn,"boolean|null|undefined");var v=a.Kn;soy.asserts.assertType(null==a.eo||goog.isBoolean(a.eo)||1===a.eo||0===a.eo,"royaltyFreeFree",a.eo,"boolean|null|undefined");var x=a.eo;soy.asserts.assertType(null==a.Nm||goog.isBoolean(a.Nm)||1===a.Nm||0===a.Nm,"extendedFree",a.Nm,"boolean|null|undefined");a=a.Nm;b=""+(null!=d&&!v||b&&null!=f&&!x||c&&null!=g&&!a?
"\x3cul\x3e"+(null!=d?zJ({Lh:d,tj:v,yn:l,xn:m,bc:h}):"")+(b&&null!=f?zJ({Lh:f,tj:x,yn:n,xn:p,bc:h}):"")+(c&&null!=g?zJ({Lh:g,tj:a,yn:r,xn:q,bc:h}):"")+"\x3c/ul\x3e":"\x3cp\x3e"+soy.$$escapeHtml(h)+'\x3c/p\x3e\x3cp class\x3d"priceSummary"\x3e'+soy.$$escapeHtml(k)+"\x3c/p\x3e");return soydata.VERY_UNSAFE.ordainSanitizedHtml(b)};function tC(){}
tC=Backbone.View.extend({className:"infoPanel",template:_.template('\x3ca class\x3d"close" href\x3d"#" title\x3d"\x3c%- close %\x3e"\x3e\x3c%- close %\x3e\x3c/a\x3e\x3ch3 class\x3d"infoPanelTitle"\x3e\x3c%- title %\x3e\x3c/h3\x3e'),hR:_.template('\x3ca class\x3d"close" href\x3d"#" title\x3d"\x3c%- close %\x3e"\x3e\x3c%- close %\x3e\x3c/a\x3e\x3ch3 class\x3d"infoPanelTitle"\x3e\x3c%- title %\x3e\x3c/h3\x3e\x3ch4 class\x3d"infoPanelSubtitle brandInfo"\x3e\x3cspan class\x3d"brand"\x3e\x3c/span\x3e\x3cspan class\x3d"spinner on"\x3e\x26hellip;\x3c/span\x3e\x3c/h4\x3e\x3cdiv class\x3d"sectionTitle"\x3e\x3c%- purchase %\x3e\x3c/div\x3e\x3cdiv class\x3d"prices"\x3e\x3c/div\x3e\x3c% if (hasComponentMedia) { %\x3e\x3cdiv class\x3d"sectionTitle"\x3e\x3c%- includedAssets %\x3e\x3c/div\x3e\x3cul class\x3d"componentItems componentMedia threeCol"\x3e\x3c/ul\x3e\x3c% } %\x3e\x3cdiv class\x3d"sectionTitle"\x3e\x3c%- details %\x3e\x3c/div\x3e\x3cdiv class\x3d"details"\x3e\x3cp class\x3d"id"\x3e\x3c%- idTag %\x3e\x3ca target\x3d"_blank" href\x3d"\x3c%- url %\x3e"\x3e\x3c%- id %\x3e\x3c/a\x3e\x3c/p\x3e\x3c/div\x3e\x3c% if (hasKeywords) { %\x3e\x3cdiv class\x3d"sectionTitle"\x3e\x3c%- keywords %\x3e\x3c/div\x3e\x3cp class\x3d"keywords"\x3e\x3c/p\x3e\x3c% } %\x3e'),lL:_.template('\x3ca class\x3d"close" href\x3d"#" title\x3d"\x3c%- closeThisInfoPanel %\x3e"\x3e\x3c%- close %\x3e\x3c/a\x3e\x3ch3 class\x3d"infoPanelTitle"\x3e\x3c%- title %\x3e\x3c/h3\x3e\x3ch4 class\x3d"infoPanelSubtitle layoutsInfo"\x3e\x3cspan class\x3d"infoPanelLayoutsCount"\x3e\x3c%- count %\x3e\x3c/span\x3e\x3c/h4\x3e\x3c% if (hasComponentDesignPages) { %\x3e\x3cul class\x3d"componentItems componentLayouts twoCol"\x3e\x3c/ul\x3e\x3c% } %\x3e'),
mN:_.template('\x3ca class\x3d"close" href\x3d"#" title\x3d"\x3c%- closeThisInfoPanel %\x3e"\x3e\x3c%- close %\x3e\x3c/a\x3e\x3ch3 class\x3d"infoPanelTitle"\x3e\x3c%- title %\x3e\x3c/h3\x3e\x3ch4 class\x3d"infoPanelSubtitle brandInfo layoutsInfo"\x3e\x3cspan class\x3d"infoPanelLayoutsCount"\x3e\x3c%- count %\x3e\x3c/span\x3e \x3cspan class\x3d"brand"\x3e\x3c/span\x3e\x3cspan class\x3d"spinner on"\x3e\x26hellip;\x3c/span\x3e\x3c/h4\x3e\x3cul class\x3d"componentItems componentLayouts twoCol"\x3e\x3c/ul\x3e'),
DS:_.template('\x3ca class\x3d"close" href\x3d"#" title\x3d"\x3c%- closeThisInfoPanel %\x3e"\x3e\x3c%- close %\x3e\x3c/a\x3e\x3ch3 class\x3d"infoPanelTitle"\x3e\x3c%- title %\x3e\x3c/h3\x3e\x3c% if (isUnapproved) { %\x3e\x3cp class\x3d"unapproved error"\x3e\x3c%- uploadError %\x3e\x3cbr\x3e\x3c%- imageRequirementsTitle %\x3e\x3c/p\x3e\x3cul class\x3d"unapproved error"\x3e\x3cli\x3e\x3c%- imageRequirementsSize %\x3e\x3c/li\x3e\x3cli\x3e\x3c%- imageRequirementsExt %\x3e\x3c/li\x3e\x3cli\x3e\x3c%- imageRequirementsRgb %\x3e\x3c/li\x3e\x3c/ul\x3e\x3c% } %\x3e\x3cp class\x3d"delete removeUpload" data-media-id\x3d"\x3c%- id %\x3e" data-version\x3d"\x3c%- version %\x3e"\x3e\x3cspan class\x3d"icon" title\x3d"\x3c%- deleteMsg %\x3e"\x3e\x3c/span\x3e\x3c%- deleteMsg %\x3e\x3c/p\x3e'),
nx:_.template('\x3cli class\x3d"componentItem fetchingComponentItem componentItem\x3c%- id %\x3e"\x3e\x3cspan class\x3d"componentItemLinkLoading"\x3e\x3c/span\x3e\x3ca class\x3d"componentItemLink" target\x3d"_blank" href\x3d"\x3c%- url %\x3e"\x3e\x3c%- id %\x3e\x3c/a\x3e\x3c% if (hasPrice) { %\x3e\x3cspan class\x3d"componentItemPrice"\x3e\x3c%- price %\x3e\x3c/span\x3e\x3c% } %\x3e\x3c/li\x3e'),RM:_.template('\x3cspan class\x3d"mediaKeyword"\x3e\x3c%- keyword %\x3e\x3c/span\x3e',{variable:"keyword"})});
e=tC.prototype;e.initialize=function(a){this.C=a.C;this.fa=a.fa;this.Y=Qb(a.C);this.title=a.title||this.model.Za&&this.model.Za()||Lc(this.Y);this.document=null;this.eb=a.eb;this.Kz=a.Kz;this.Gf=a.Gf;this.Iz=a.Iz;this.Az=a.Az;this.Jz=a.Jz;this.pA=a.pA;this.bb=a.bb;this.al=a.al;this.Ki=new Map};
e.events=function(){return{"mousedown .componentLayouts .componentItem a":this.yL,"click .componentLayouts .componentItem a":this.bD,"click .brandInfo a":this.cR,"click .mediaKeyword":this.fR,"click .removeUpload":this.FQ,"click .close":this.close}};
e.render=function(){this.$el.html(this.template({title:this.title,close:Jc(this.Y)}));if(this.Kz)this.$el.html(this.DS({title:this.title||Lc(this.Y),id:this.model.G(),version:this.model.getVersion(),isUnapproved:this.Jz,close:Jc(this.Y),closeThisInfoPanel:Kc(this.Y),uploadError:this.Y.format("objectPanelInfoUploadError"),imageRequirementsTitle:this.Y.format("objectPanelInfoImageRequirementsTitle"),imageRequirementsSize:this.Y.format("objectPanelInfoImageRequirementsSize"),imageRequirementsExt:this.Y.format("objectPanelInfoImageRequirementsExt"),
imageRequirementsRgb:this.Y.format("objectPanelInfoImageRequirementsRgb"),deleteMsg:this.Y.format("objectPanelInfoDelete")}));else if(this.Az)this.$el.html(this.lL({title:this.title,count:Mc(this.Y,Number(this.model.Zc().pageCount)),hasComponentDesignPages:this.gF(),close:Jc(this.Y),closeThisInfoPanel:Kc(this.Y)})),this.gF()&&BJ(this);else if(this.Gf)this.$el.html(this.mN({title:this.title,count:Mc(this.Y,Number(this.model.Ae())),close:Jc(this.Y),closeThisInfoPanel:Kc(this.Y)})),Wz(this.model)&&0<
this.model.Ae()&&CJ(this);else if(this.Iz){this.$el.html(this.hR({title:this.title,id:this.model.G(),url:"/media/"+encodeURIComponent(this.model.G()),hasComponentMedia:this.iz(),hasKeywords:this.hF(),close:Jc(this.Y),purchase:this.Y.format("objectPanelInfoPurchase"),includedAssets:this.Y.format("objectPanelInfoIncludedAssets"),details:this.Y.format("objectPanelInfoDetails"),keywords:this.Y.format("objectPanelInfoKeywords"),idTag:this.Y.format("objectPanelInfoIDTag")}));if(this.hF()){var a=this.model.cj().map(this.RM).join(", ");
this.$(".keywords").html(a)}this.iz()&&DJ(this);this.model.na&&this.model.na()&&EJ(this);var b,c,d=0;this.iz()?(d=this.model.oneTimeUseAggregatePriceCents/100,a=0===d?0:100):a=Uz(this.model);b=10*a;c=100*a;this.$(".prices").html(AJ({zr:!1,Dp:!1,dr:FJ(this,a,d),Ar:FJ(this,b,d),Ep:FJ(this,c,d),bc:this.Y.format("objectPanelInfoFree"),Wt:this.Y.format("objectPanelInfoFreeDescription"),cr:this.Y.format("objectPanelInfoOneUse"),fc:this.Y.format("objectPanelInfoOneUsePriceDescription"),Br:this.Y.gc(),hc:this.Y.format("objectPanelInfoRoyaltyFreePriceDescription"),
Fp:this.Y.od(),pd:this.Y.format("objectPanelInfoExtendedPriceDescription"),Kn:0===a,eo:0===b,Nm:0===c}).toString())}return this};
function DJ(a){function b(a,b){function d(){var a=$(this).attr("src");$(this).remove();k++;q.removeClass("fetchingComponentItem");q.find(".componentItemLink").css("background-image","url("+a+")");k>=h&&GJ(c)}if(200===a){a=0;var f=b.Aa().ec(),f=f.THUMBNAIL_LARGE||f[eu],g=cw(b.Aa());g&&(a=100*cw(b.Aa()).ONE_USE||0);var q=$(c.nx({url:"/media/"+b.G(),id:b.G(),hasPrice:g,price:HJ(c,a)}));c.$(".componentMedia").append(q);$("\x3cimg/\x3e").attr("src",f.ma()).one("load",d)}}var c=a,d=a.model.Ry(),f=Math.ceil(d.length/
3),g=.21*$(".infoPanelGallery").width()+20;a=a.$(".componentMedia");var h=d.length,k=0;IJ(c);a.css("height",f*g+"px");d.forEach(function(a){gb.rb(a.id,(new lu).ag(a.version),b)})}function JJ(a,b){function c(){return null}var d=ib.na(a.model.na()).catch(c);a="DESIGN"==a.model.type&&a.model.Ca&&a.model.Ca()?ib.Ca(a.model.Ca()).catch(c):null;P.all([d,a]).spread(b)}
function EJ(a){JJ(a,function(b,c){var d="DESIGN"==a.model.type?$("\x3cspan\x3e"):$("\x3ca\x3e").attr("href","#");if(b){var f=b.gb()||b.Qy(),g=a.Y.format("objectPanelInfoBrand")+" "+b.G();c?(c=c.gb()||c.Cf(),b.nj()&&!f?d.text(a.Y.format("objectPanelInfoByUser",c)):d.text(a.Y.format("objectPanelInfoByUserFromBrand",c,f||g))):d.text(a.Y.format("objectPanelInfoByBrand",f||g))}else d.text(a.Y.format("objectPanelInfoByUnknownBrand"));a.$(".brandInfo .brand").append(d).addClass("on");a.$(".brandInfo .infoPanelLayoutsCount").addClass("on");
a.$(".brandInfo .spinner").removeClass("on").addClass("off")})}
function CJ(a){function b(a){var b=d.model.getFile("THUMBNAIL_LARGE",a)||d.model.getFile(eu,a),c="https://static.canva.com/static/images/default_thumbnail.gif",f=$(d.nx({url:"#",id:a,hasPrice:!1}));b&&(c=b.url);d.$(".componentLayouts").append(f);$("\x3cimg/\x3e").attr("src",c).one("load",function(){var a=$(this).attr("src");$(this).remove();l++;f.removeClass("fetchingComponentItem");f.find(".componentItemLink").css("background-image","url("+a+")");l>=m&&GJ(d)})}function c(a,b){var c=[];Array.isArray(b.media)&&(c=b.media.map(Ia).map(fj));
0<c.length&&(b=lw(new kw,c).rC(),Kv(gb,b,function(b,c){var f=0;200===b&&(f=c.media.reduce(function(a,b){return a+(cw(b.Aa()).ONE_USE||0)},0));0!==f&&d.$(".componentLayouts .componentItem"+a).append('\x3cspan class\x3d"componentItemPrice unlistedPrice"\x3e$\x3c/span\x3e')}))}var d=a,f=a.model.Ae(),g=Math.ceil(f/2),h=.31*$(".infoPanelGallery").width()+20,k=a.$(".componentLayouts"),l=0,m=f;IJ(a);EJ(a);k.css("height",g*h+"px");Vz(a.model).sort().forEach(function(a){b(a);KJ(d,a,function(b){c(a,b)})})}
function BJ(a){function b(a){var b=!1,d="https://static.canva.com/static/images/default_thumbnail.gif";f[a]&&(b=!0,d=f[a].url);var h=$(c.nx({url:"#",id:a,hasPrice:!1}));h.toggleClass("componentItemThumbnailUpdating",!b||g);c.$(".componentLayouts").append(h);$("\x3cimg/\x3e").attr("src",d).one("load",function(){var a=$(this).attr("src");$(this).remove();m++;h.removeClass("fetchingComponentItem");h.find(".componentItemLink").css("background-image","url("+a+")");m>=n&&GJ(c)})}var c=a,d=a.model.Zc().imageSets.thumbnail,f=d.images,
g=a.model.getVersion()>d.version,d=a.model.Zc().pageCount,h=Math.ceil(d/2),k=.31*$(".infoPanelGallery").width()+20,l=a.$(".componentLayouts"),m=0,n=d;IJ(a);l.css("height",h*k+"px");for(a=0;a<d;a++)b(a)}function IJ(a){a.$el.addClass("infoPanelLoading")}function GJ(a){window.setTimeout(function(){a.$el.removeClass("infoPanelLoading").addClass("infoPanelLoaded")},G.sa.GM)}e.hF=function(){return this.model.cj&&0<(this.model.cj()||[]).length};e.gF=function(){return this.model.Zc&&1<this.model.Zc().pageCount};
e.iz=function(){return this.model.Ry&&0<(this.model.Ry()||[]).length};function FJ(a,b,c){return null===b?null:0===b?a.Y.format("objectPanelInfoFree"):null!=c&&0<c?a.Y.format("objectPanelInfoComponentsPrice",c,(b/100).toFixed(0)):a.Y.format("objectPanelInfoPrice",(b/100).toFixed(0))}function HJ(a,b){b=FJ(a,b);null===b&&(b=a.Y.format("objectPanelInfoPriceUnavailable"));return b}e.close=function(){vC.call(this.$(".close").get(0))};e.cR=function(){$("#search").val("brand:"+this.model.na());wB=null;xB(this.C)};
e.fR=function(a){$("#search").val(a.currentTarget.textContent);wB=null;xB(this.C)};e.FQ=function(a){this.close(a);a=(new Ov).eh(this.model.G()).ag(this.model.getVersion()).Yl(!0);Mv(gb,a,this.pA)};
e.Yy=function(a){var b;if(!(this.model instanceof Em))throw Error("attempted to get a page from a non-design");try{b=this.model.Zc().content.pages[a]}catch(c){}if(!b&&this.document)try{b=this.document.Zc().content.pages[a]}catch(c){}b?this.bb&&this.al&&(a={},a[this.al.rd()]="#"+this.bb,b=LJ(null,b,a)):b=null;return b};function KJ(a,b,c){var d=a.model.getFile("ORIGINAL",b).ma();$.getJSON(d,function(d){a.Ki.set(b,d);c&&c(d)})}function MJ(a,b){if(a=a.Ki.get(b))return a.content.pages[0]}
function NJ(a){return a.eb.getDocument(cm(a.model.G())).then(function(a){return this.document=a.getDocument()}.bind(a))}
e.bD=function(a,b){function c(a){function b(){QD({sk:PD(v),ot:z.Sa(),page:v});c(v.serialize())}function c(b){var g={};a.layout&&(g.id=a.layout.id,g.version=a.layout.version);d.model instanceof Tz&&(g.id=d.model.G(),g.version=d.model.getVersion());b=$i(new Yi(g),b);g={"new":b,old:l,pageIndex:h.ea()};ZC(h,b,k,f);C.register(new XC(4,g))}if(d.model instanceof Em){var f=new cj({type:Xs,id:d.model.G(),version:d.model.getVersion()});ZI(a,f)}if(a.width!==h.w()||a.height!==h.D()){var g=$i(new Yi,a),v=new ml(z,
{});ZC(v,g,null,null,!0);d.listenToOnce(v,"unpacked",b)}else c(a)}var d=this,f=parseInt(a.currentTarget.textContent,10),g=this.Gf?MJ(this,f):this.Yy(f),h=L(z);if(b){var k=this.model instanceof Em?Fm(this.model,f):this.model.getFile(eu,f).ma(),l=h.nm();h.clear();k&&KD(h,k);g?c(g):this.Gf?KJ(this,f,c):NJ(this).then(this.Yy.bind(this,f)).then(c.bind(this))}else aB.lp(h,this.C).then(function(b){b&&this.bD(a,!0)}.bind(this))};
e.yL=function(a){var b,c,d,f=parseInt($(a.currentTarget).text(),10),g={url:"https://static.canva.com/static/images/default_thumbnail.gif"};this.Gf?(b=MJ(this,f),c=this.model.getFile("THUMBNAIL_LARGE",f)||this.model.getFile(eu,f),d={url:c.ma()},c={draft:{content:{pages:[]},imageSets:{thumbnail:{images:[d||g]}}}}):(b=this.Yy(f),c=$.extend(!0,{},this.model),d=c.draft.imageSets.thumbnail.images[f],c.draft.imageSets.thumbnail.images[0]=d||g);b?(c.draft.content.pages=[],c.draft.content.pages[0]=$.extend(!0,{},b),b={pageTemplate:b}):
b=this.Gf?{cdfRequest:{url:this.model.getFile("ORIGINAL",f).ma()}}:{pageTemplateRequest:{pageIndex:f}};this.model instanceof Em?b.documentProperties={id:this.model.G(),version:this.model.getVersion(),previewUrl:Fm(this.model,f)}:this.model instanceof Tz&&(b.layoutProperties={id:this.model.G(),version:this.model.getVersion(),previewUrl:this.model.getFile(eu,f).ma()});f=OJ.HE(Fh(c),Qb(this.C));f.$el.children("a").data(b).css("width",$(a.currentTarget).css("width")).css("height",$(a.currentTarget).css("height"));
$(a.currentTarget).parents("li").data("view",f);return rB.call(a.currentTarget,a)};function OJ(){}OJ=Backbone.View.extend({});OJ.aS=function(){var a=Date.now();return function(b){var c=Date.now(),d=Math.max(0,500-(c-a));window.setTimeout(b,d);a=c+d}}();
OJ.HE=function(a,b){if(a instanceof Tz)return"DESIGN"===a.type&&OJ.aS(function(){a.dj()}),new cE({model:a,Y:b});if(a instanceof Qx)return new PJ({model:a});if(a instanceof Em)return new QJ({model:a});if("string"===typeof a&&-1<_.keys(Wi).indexOf(a))return new RJ({model:a});if("string"===typeof a&&-1<_.keys(Xi).indexOf(a))return new SJ({model:a,Y:b});throw new TypeError("Unknown galleryObject type: "+typeof a);};e=OJ.prototype;e.ab=function(){return Math.round(this.$el.offset().top)};
e.Qb=function(){return Math.round(this.$el.offset().top+this.$el.height())};e.Xm=function(){return Math.round(parseInt(this.$el.css("left"),10)+this.$el.width()/2)};e.Vd=function(a,b){b?this.$el.css("top","+\x3d"+a):this.$el.addClass("doNotTransition").css("top","+\x3d"+a).removeClass("doNotTransition")};function TJ(a,b,c){var d=a.$el.data("originalTop");c?a.$el.css("top",d+b):a.$el.addClass("doNotTransition").css("top",d+b).removeClass("doNotTransition")}
e.np=function(){var a=this.$el.children("a"),b=a.offset(),c=a.width(),d=a.height(),f=$('\x3cdiv class\x3d"clone"\x3e\x3c/div\x3e'),a=a.children().first().clone();a.hasClass("multiPageLayoutItem")&&(a=a.find("img"));a.css("width",c).css("height",d).appendTo(f);f.data("li",this.$el).css("left",b.left).css("top",b.top).css("width",c).css("height",d);return f};function RJ(){}RJ=OJ.extend({tagName:"li",className:"newSearch grid",template:_.template('\x3ca href\x3d"#"\x3e\x3c/a\x3e')});RJ.prototype.initialize=function(a){this.cF=this.model;this.nM=Wi[this.cF];!a.el&&this.render();this.$el.data("view",this)};RJ.prototype.render=function(){this.$el.html(this.template()).attr("data-grid-name",this.cF);this.$("a").append(uv(this.nM.items));return this};function SJ(){}SJ=OJ.extend({tagName:"li",className:"newSearch chart",template:_.template('\x3ca href\x3d"#"\x3e\x3c/a\x3e')});SJ.prototype.initialize=function(a){this.Y=a.Y;this.rD=this.model;this.iK=Xi[this.rD];!a.el&&this.render();this.$el.data("view",this)};SJ.prototype.render=function(){this.$el.html(this.template()).attr("data-chart-name",this.rD);this.$("a").append(Xw(this.iK));this.$("a").append('\x3cspan class\x3d"edit"\x3e'+this.Y.format("objectPanelInfoEdit")+"\x3c/span\x3e");return this};function PJ(){}PJ=OJ.extend({tagName:"li",className:"newSearch loading",template:_.template('\x3ca href\x3d"#" title\x3d"\x3c%\x3d name %\x3e"\x3e\x3cimg src\x3d"\x3c%\x3d thumbnail.url %\x3e" width\x3d"\x3c%\x3d thumbnail.width %\x3e" height\x3d"\x3c%\x3d thumbnail.height %\x3e" \x3e\x3c/a\x3e'),oM:_.template('\x3ca href\x3d"#" title\x3d"\x3c%\x3d name %\x3e"\x3e\x3c/a\x3e')});PJ.prototype.initialize=function(a){!a.el&&this.render();this.$el.data("view",this)};
PJ.prototype.render=function(){var a=this,b=this.model.getContent();Rx(this.model)?(this.$el.addClass("grid").html(this.oM(this.model)),this.$("a").append(uv(b.elements[0].items)),this.$el.removeClass("loading")):(this.$el.html(this.template(this.model)),this.$("img").on("load",function(){a.$el.removeClass("loading")}));this.$el.data("layoutItem",this.model);return this};
PJ.prototype.np=function(){var a=OJ.prototype.np.call(this),b=a.children().first();a.addClass("template");Rx(this.model)&&(a.addClass("draggableGridItem dragging"),b.find(".item \x3e .content").addBack().css("left",1).css("right",1).css("top",1).css("bottom",1));return a};function QJ(){}QJ=PJ.extend({className:"designGalleryItem newSearch loading",tagName:"li"});QJ.prototype.initialize=function(){this.render()};
QJ.prototype.render=function(){var a=this,b=this.model.draft,c=UJ(this);this.$el.data({designItem:this.model,usablePreview:c,view:this});this.$el.html(this.template({pageCount:b.pageCount,name:b.content.title,thumbnail:pm(a.model.draft.imageSets.thumbnail)}));this.$el.toggleClass("designItemThumbnailUpdating",c);this.$("img").on("load",function(){a.$el.removeClass("loading")});return this};
function UJ(a){var b;try{b=a.model.Zc().imageSets.thumbnail.version}catch(c){b=-1}return a.model.getVersion()>b}QJ.prototype.np=function(){var a,b,c;a=OJ.prototype.np.call(this);a.addClass("template");b=a.find(".designItem");1===b.length&&(c=a.find("img"),c.css("width",a.width()),c.css("height",a.height()),b.remove(),a.append(c));return a};QJ.prototype.template=_.template('\x3ca href\x3d"#" title\x3d"\x3c%\x3d name %\x3e"\x3e\x3c% if (pageCount \x3e 1) { %\x3e\x3cdiv class\x3d"designItem multiPageDesignItem" style\x3d"background-image: url(\x3c%\x3d thumbnail.images[0].url %\x3e);"\x3e\x3cdiv class\x3d"multiPageDesignItemPageCount"\x3e\x3c%\x3d pageCount %\x3e\x3c/div\x3e\x3cimg src\x3d"\x3c%\x3d thumbnail.images[0].url %\x3e" width\x3d"\x3c%\x3d thumbnail.width %\x3e" height\x3d"\x3c%\x3d thumbnail.height %\x3e" \x3e\x3c/div\x3e\x3c% } else { %\x3e\x3cimg src\x3d"\x3c%\x3d thumbnail.images[0].url %\x3e" width\x3d"\x3c%\x3d thumbnail.width %\x3e" height\x3d"\x3c%\x3d thumbnail.height %\x3e" \x3e\x3c% } %\x3e\x3c/a\x3e');function cE(){}cE=OJ.extend();e=cE.prototype;e.initialize=function(a){this.Si=new pf(window.viewConfig);this.query=a.query;this.Y=a.Y;this.render()};e.render=function(){this.$el=this.createElement();this.$el.data("view",this);this.$el.data("searchResult",this.model);this.$el.data("result",this.model);return this};e.Gf=function(){return Wz(this.model)};
e.createElement=function(){function a(){var a;if(c.query&&/^\w+$/.test(c.query)){var b=c.query.toLowerCase();a=c.model.bz();var f=!1;if(a)for(var h=0;h<a.length;h++)if(a[h].toLowerCase()==b){f=!0;break}a='\x3cspan class\x3d"superKeyword '+(f?"superHit":"superMiss")+'" title\x3d"'+(f?"Remove superKeyword ":"Add superKeyword ")+"'"+b+"'\" \x3eS\x3c/span\x3e ";g.data("superKeywordAdd",!f);g.data("query",b);d.append($(a))}}function b(){var a=$('\x3cdiv class\x3d"multiPageLayoutItem"\x3e\x3c/div\x3e'),
b=$('\x3cdiv class\x3d"multiPageLayoutItemPageCount"\x3e\x3c/div\x3e'),d=c.model.getFile("THUMBNAIL_LARGE",0)||c.model.getFile(eu,0);a.css("background-image","url("+d.ma()+")");b.text(String(c.model.Ae()));g.find("a \x3e *").wrapAll(a);g.find(".multiPageLayoutItem").append(b)}var c=this,d,f,g=$('\x3cli class\x3d"newSearch loading"\x3e\x3ca href\x3d"#"\x3e\x3cimg\x3e\x3c/a\x3e\x3c/li\x3e'),h=this.model.getFile("THUMBNAIL_LARGE")||this.model.getFile(eu),k=this.model.getFile(Ue),l=this.Y.format("objectPanelSearchResultItemViewShowMoreInfo");
(function(){var a=$("img",g);Rt(St,a,h.ma()).then(function(){g.removeClass("loading")}).catch(function(){var a=c;a.$el.addClass("failed");a.$el.find(".multiPageLayoutItem").removeClass("multiPageLayoutItem");a.$el.find(".multiPageLayoutItemPageCount").remove();a.$el.find(".price").remove();a.$el.find(".info").remove()});a.data("screen-url",k.ma()).data("screen-width",k.w()).data("screen-height",k.D()).attr("width",h.w()).attr("height",h.D());c.model.type===Qe&&(c.model.Zp()?a.addClass("graphic"):
a.addClass("svg"))})();(function(){var a=Uz(c.model),b=(a/100).toFixed(0)+" USD",h=c.model.oneTimeUseAggregatePriceCents,a=null===a?"":0===a?c.Y.format("objectPanelMediaItemCostFree"):"$"+b;(h=!!h)&&(a='\x3cspan class\x3d"inner"\x3e$\x3c/span\x3e');d=$(c.IM({priceHtml:a,priceCategory:h?"poa":"",showMoreInfo:l}));f=$('\x3cspan class\x3d"price '+(h?"poa":"free")+'"\x3e'+a+"\x3c/span\x3e");$("a",g).append(f).append(d)})();c.Gf()&&(b(),$(".info",g).remove());"CANVA"!==c.model.Mc()&&$(".info",g).remove();
c.model.restricted||c.model.status==Qv||($(".info",g).remove(),$(".price",g).remove(),$("img",g).addClass("inMarketplaceReview"));this.Si.Zf.get("quickKeywordEditEnabled",void 0)&&a();return g};e.IM=_.template('\x3cspan class\x3d"info"\x3e\x3cspan class\x3d"price \x3c%\x3d priceCategory %\x3e"\x3e\x3c%\x3d priceHtml %\x3e\x3c/span\x3e\x3cspan class\x3d"moreInfo" title\x3d"\x3c%- showMoreInfo %\x3e"\x3ei\x3c/span\x3e\x3c/span\x3e');function VJ(){}VJ=Backbone.View.extend({className:"searchGroup"});e=VJ.prototype;e.initialize=function(a){this.Tm=a.Tm;this.KE=[];this.fo=a.model;this.listenTo(this.fo,{"results:willFetch":this.vs,"results:didFetch":this.yk,"results:clear":this.nK});this.C=a.C;this.ZA=!1;a.el||this.render();this.$el.data("view",this)};e.render=function(){this.$el.html(this.template({title:this.fo.Za()}));this.$(".gallery").addClass(this.Tm);""===this.fo.Za()&&this.$("h2").remove();return this};e.vs=function(){};
e.yk=function(a,b,c){function d(a){return OJ.HE(a,p)}function f(a){a.$el.appendTo(n)}function g(a){return a instanceof Tz&&"DESIGN"===a.type}function h(a){return a instanceof RJ}function k(a){return a instanceof SJ}function l(a){return a instanceof PJ}function m(){n.addClass("templateGallery").removeClass("photoGallery")}var n,p=Qb(this.C);c||(n=this.$(".gallery"),this.$el.addClass("hasContent"),0<b.length?(a=b.map(d),a.forEach(f),a.some(k)&&n.addClass("chartGallery").removeClass("photoGallery"),
a.some(h)&&n.addClass("gridGallery").removeClass("photoGallery"),a.some(l)&&m(),b.some(g)&&m(),this.KE=this.KE.concat(a),this.ja(),this.trigger("results:render")):0===this.fo.ho.length&&(n.remove(),this.$(".noResults,.layoutsTab__noResults").remove(),this.$el.append(this.sy())))};e.nK=function(){this.$(".gallery").find("li").each(function(){$(this).data("view").remove()})};e.ja=function(){Dr(this.$(".gallery"),!1)};e.compact=function(){Er(this.$el,!0)};
e.oa=function(a,b){var c=0===a?0:"";b?this.$el.css("height",a).css("padding",c):this.$el.addClass("doNotTransition").css("height",a).css("padding",c).removeClass("doNotTransition")};function WJ(a,b){a.$el.addClass("doNotTransition").css("height","+\x3d"+b).removeClass("doNotTransition")}e.Ym=function(a){var b=a.Qb();return a.$el.nextAll().toArray().filter(function(a){a=a.getBoundingClientRect();return(a.top+a.bottom)/2>b}).map(function(a){return $(a).data("view")})};
function XJ(a,b){b=a.Ym(b);if(0===b.length)return 0;a=b.slice(0).sort(function(a,b){return a.ab()-b.ab()});b=b.slice(0).sort(function(a,b){return b.Qb()-a.Qb()});a=a[0];return b[0].Qb()-a.ab()}function YJ(a){return a.$el.outerHeight(!0)-a.$el.height()}e.Cp=function(){};e.yD=function(){};e.sy=function(){return $("\x3cp\x3e").addClass("noResults").text(Qb(this.C).format("objectPanelSearchNoResults"))};e.template=_.template('\x3ch2\x3e\x3c%- title %\x3e\x3c/h2\x3e\x3cul class\x3d"gallery"\x3e\x3c/ul\x3e');function ZJ(){}ZJ=VJ.extend();ZJ.prototype.initialize=function(a){this.C=a.C;this.wq=a.wq;VJ.prototype.initialize.call(this,a)};ZJ.prototype.sy=function(){var a=$("\x3cp\x3e");this.wq?a.addClass("layoutsTab__noResults layoutsTab__noResults--folder").text(Qb(this.C).format("objectPanelFolderNoResults")):a.addClass("layoutsTab__noResults layoutsTab__noResults--yourDesigns").text(Qb(this.C).format("objectPanelYourDesignsNoResults"));return a};function $J(){}$J=VJ.extend();$J.prototype.initialize=function(a){this.C=a.C;VJ.prototype.initialize.call(this,a)};$J.prototype.sy=function(){return $("\x3cp\x3e").addClass("layoutsTab__noResults layoutsTab__noResults--templates").html(Qb(this.C).format("objectPanelTemplateNoResults"))};function aK(){}aK=VJ.extend({});aK.prototype.initialize=function(a){this.Bo=null;this.pE=0;VJ.prototype.initialize.apply(this,arguments);a.el&&this.$(".gallery li").each(function(){var a=new OJ({el:this});$(this).data("view",a)})};
aK.prototype.Cp=function(a,b){var c=a.$el,d=this.Ym(a),f=c.height(),f=c.data("originalTop")+f,g=bK(this,f);this.$el.addClass("folderExpanded");c.addClass("folderExpanded");d.forEach(function(a){TJ(a,Math.min(b,g),!0)});b>g&&window.setTimeout(function(){d.forEach(function(a){TJ(a,b,!1)})},G.sa.Op);this.oa(f,!0);this.pE=b;null===this.Bo&&(a=XJ(this,a),c=this.$el.next(),this.Bo=$('\x3cdiv class\x3d"spacer"\x3e\x3c/div\x3e'),this.Bo.css("height",a).insertAfter(c))};
aK.prototype.yD=function(a){var b=this.Ym(a),c=this.pE-bK(this);0<c&&b.forEach(function(a){a.Vd(-c,!1)});this.$el.removeClass("folderExpanded");a.$el.removeClass("folderExpanded");b.forEach(function(a){TJ(a,0,!0)});var d=this;window.setTimeout(function(){d.compact();d.Bo&&d.Bo.remove();d.Bo=null},G.sa.Op*G.To)};function bK(a,b){void 0===b&&(b=a.$el.height());var c=a.$el.parents(".layer").outerHeight(!0);a=a.$el.position().top;return c-(a+b)};function cK(){}cK=VJ.extend({className:"inlineFolderGroup searchGroup",template:_.template('\x3cul class\x3d"gallery"\x3e\x3c/ul\x3e')});cK.Vo=150;e=cK.prototype;e.initialize=function(a){this.model=a.model;this.Be=null;VJ.prototype.initialize.apply(this,arguments);this.render();this.oa(0,!1)};
e.remove=function(){function a(){VJ.prototype.remove.apply(b,arguments);b.ZA=!1}var b=this,c=this.$(".infoPanel .close"),d=0<c.length,f=this.$el.parent();this.ZA=!0;d&&c.trigger("click");if(this.Be)this.Be.css("opacity",0).one("transitionend",function(){$(this).remove();b.Be=null});if(0<f.length){var g=this.$el.offset(),c=g.top+this.$el.outerHeight(),d=f.offset().top+f.outerHeight(),c=c-d;if(0<c){WJ(this,-c);var h=f.outerHeight()-g.top;this.$(".gallery li").each(function(){var a=$(this).data("originalTop");
(a>=h||a<-g.top)&&$(this).remove()})}this.$el.one("transitionend",a).addClass("disappearing")}else a()};e.vs=function(){0===this.fo.ho.length&&MB(this.$el);VJ.prototype.vs.apply(this,arguments)};e.yk=function(a,b,c){QB(this.$el);VJ.prototype.yk.apply(this,arguments);var d=this;window.setTimeout(function(){d.compact()},G.sa.TQ)};
e.compact=function(){if(0!==this.model.ho.length){var a=this;VJ.prototype.compact.apply(this,arguments);window.setTimeout(function(){a.$el.height()<cK.Vo&&a.oa(cK.Vo,!0)},G.sa.Op)}};
function dK(a){if(null===a.Be){var b=a.$el.parents(".layer");a.Be=$('\x3cdiv class\x3d"folder header clone"\x3e\x3ca class\x3d"close" href\x3d"#" title\x3d"Close this folder"\x3eClose\x3c/a\x3e\x3ch2\x3e\x3cspan\x3e'+_.escape(a.fo.Za())+"\x3c/span\x3e\x3c/h2\x3e\x3c/div\x3e");a.Be.css("opacity",0).insertAfter(b).delay(G.wb,function(){$(this).css("opacity","")});a.Be.find("a.close").one("click",function(){a.trigger("headerClose:click",a)})}}
function eK(a){if(null!==a.Be){var b=a.Be;a.Be=null;b.css("opacity",0).one("transitionend",function(){$(this).remove()})}};function fK(){}fK=Backbone.View.extend({tagName:"section",className:"layer"});fK.jg=function(a,b){return new VJ({model:a,Tm:"infoPanelGallery photoGallery",C:b})};e=fK.prototype;e.events=function(){return{scroll:_.throttle(this.scroll,200)}};
e.initialize=function(a){this.C=a.C;this.Er=this.model=a.model;this.oc=[];this.Hv=[];this.jg=a.jg||fK.jg;this.yz=!1;this.listenTo(this.Er,"searchGroup:add",this.cg);this.listenTo(this.Er,"searchGroup:remove",this.tr);this.listenTo(this.Er,"results:willFetch",this.vs);this.listenTo(this.Er,"results:didFetch",this.yk);this.$el.data("view",this)};
e.render=function(){this.$el.empty();this.oc.forEach(function(a){this.$el.append(a.$el)},this);this.$el.append('\x3cdiv class\x3d"searchLoaderHolder"\x3e\x3c/div\x3e');return this};e.scroll=function(){0<this.oc.filter(function(a){return a.ZA}).length||this.uu()};
e.uu=function(){var a=this.$el.parent(),b=this.oc[this.oc.length-1],c=fE(this.Er);if(0!==a.length&&b&&c&&!this.yz){var d=function(){var c=b.$el.offset().top+b.$el.outerHeight(),d=a.offset().top+a.outerHeight();return c-d};ff(this).read(function(){if(c.Pq&&d()<=a.outerHeight()*G.CC){var b=this.$("\x3e .inner \x3e .searchGroup .gallery li").length;b>G.Bs&&ff(this).write(function(){DC(this.$el,b-G.Bs)});this.yz=!0;c.ue(gK(this))}c.Pq||ff(this).write(function(){this.$el.data("userPreparedSearch",!0)})})}};
e.cg=function(a,b,c){(a=this.oc[c-1])&&a.compact();b=this.jg(b,this.C);this.oc.splice(c,0,b);a?b.$el.insertAfter(a.$el):b.$el.appendTo(this.$el.children(".inner"))};e.tr=function(a,b,c){a=this.oc[c];this.oc.splice(c,1);a.remove()};e.vs=function(a){this.Hv.push(a);MB(this.$el)};e.yk=function(a,b){var c=this.Hv.indexOf(a);-1<c&&this.Hv.splice(c,1);0===this.Hv.length&&QB(this.$el);this.yz=!1;if(a.Pq){var d=this;setTimeout(function(){a===fE(d.model)&&d.uu()},b.length*G.sa.Hn+G.sa.Uq)}};
function gK(a){a=a.$el.parent();return OB(a,a.height())};function hK(){}hK=fK.extend({});e=hK.prototype;e.events=function(){var a=fK.prototype.events.apply(this,arguments);a["mousedown .albumGallery a"]=this.rK;a["click .albumGallery a"]=function(){return!1};a["mousedown .albumGallery a img"]=function(a){a.preventDefault()};a["click .inlineFolderGroup \x3e .header a.close"]=this.vD;a.mousedown=this.zK;return a};e.initialize=function(a){fK.prototype.initialize.call(this,a);this.Ys=!1;this.Et=0;this.sq=$();this.listenTo(K,"infoPanelToggle",this.HM)};
function iK(a){a=a.oc.filter(function(a){return a instanceof cK});return 0<a.length?a[0]:null}e.scroll=function(a){fK.prototype.scroll.apply(this,arguments);var b=iK(this);b&&ff().read(function(a){var d=parseInt(b.$el.css("margin-top"),10),f=parseInt(b.$el.css("margin-bottom"),10),g=b.$el.outerHeight(!1),d=b.$el.position().top+d,h=0<d,k=d+g<f;a.write(function(){h||k?eK(b):dK(b)})})};e.uu=function(){this.$el.data("userPreparedSearch")?BB.call(this.el):fK.prototype.uu.apply(this,arguments)};
e.zK=function(a){if(a.target===this.el||"li"===a.target.nodeName.toLowerCase()&&0<$(a.target).parents(".browseCategories").length)return(a=this.oc[0].$("li.folderExpanded").data("view"))&&jK(this,a),!1};e.rK=function(a){var b=this.oc[0];a=$(a.currentTarget).parent().data("view");var c=b.$el.hasClass("folderExpanded")&&!a.$el.hasClass("folderExpanded");a.$el.hasClass("folderExpanded")?jK(this,a):c?(b=b.$("li.folderExpanded").data("view"),jK(this,b)):this.Ys||kK(this,a);return!1};
e.vD=function(){var a=this.$(".gallery .folderExpanded").data("view");!this.Ys&&jK(this,a)};
function kK(a,b){var c=a.oc[0],d=a.model,f=b.$el.children("a"),g=f.attr("title"),f=f.data("query"),h=gE(f),k=new fB(h,g);eE(d,k,1);d=a.oc[1];d.$el.attr("data-query",f);lK(a,cK.Vo);c.Cp(b,a.Et);0===XJ(c,b)&&d.$el.addClass("end");a.listenTo(d,"headerClose:click",function(){a.vD()});a.sq.remove();a.sq=$('\x3cdiv class\x3d"inlineFolderPointer"\x3e\x3c/div\x3e');a.sq.css("left",b.Xm()+parseInt(a.$el.css("padding-left"),10)).insertBefore(d.$el);MB(d.$el);setTimeout(function(){k.ue(gK(a))},G.sa.Op*G.To);
a.$el.removeData("userPreparedSearch")}function jK(a,b){var c=a.oc[0],d=a.model;if(1<d.getLength()){a.Ys=!0;var f=fE(d),g=iK(a);a.stopListening(g);d.tr(f);a.sq&&setTimeout(function(){a.sq.remove();a.Ys=!1},G.sa.Op)}c.yD(b);lK(a,0);a.$el.data("userPreparedSearch",!0)}e.cg=function(a,b,c){(a=this.oc[c-1])&&a.compact();var d=new cK({model:b,Tm:"infoPanelGallery photoGallery",C:this.C});this.oc.splice(c,0,d);d.$el.insertAfter(a.$el).delay(G.wb,function(){d.oa(cK.Vo-72,!0)})};
e.yk=function(a,b,c){fK.prototype.yk.apply(this,arguments);$D(this,!0)};function $D(a,b){var c=a.oc[0],d=iK(a),f=c.$("li.folderExpanded").data("view");if(f){var g=YJ(d),h=d.$el.data("contentHeight")||0,g=g+h,k=sC(d.$el),l=Math.max(g,cK.Vo),d=c.$el.find("li");b?c.Cp(f,l+k):d.addClass("doNotTransition").delay(G.wb,function(){c.Cp(f,l+k);$(this).delay(G.wb,function(){$(this).removeClass("doNotTransition")})});lK(a,l)}}
e.HM=function(a,b){var c=iK(this);c&&c.el===a.get(0)&&(a=this.oc[0],c=a.$("li.folderExpanded").data("view"),a.Cp(c,this.Et+b))};function lK(a,b){var c=b-a.Et;a.Et=b;a.oc[0].$el.nextAll(".searchGroup:not(.inlineFolderGroup)").find(".infoPanel, .infoPanelPointer").one("transitionend",function(){$(this).removeClass("transitionTop")}).addClass("transitionTop").delay(G.wb,function(){$(this).css("top","+\x3d"+c)})};function $A(){}$A=Backbone.View.extend({className:"textControls"});$A.zJ=1.02;e=$A.prototype;e.events=function(){return{"mousedown a.add":this.cN,"click a.add":this.pK}};e.initialize=function(a){this.pf=a.pf;this.C=a.C;this.Ws=!1;this.listenTo(this.model,"change:defaultFont",this.yS);this.render()};e.template=_.template("\x3c% if (hasBrandKit) { %\x3e\x3cp\x3e\x3c%- brandFontLabel %\x3e\x3c/p\x3e\x3c% } else { %\x3e\x3cp\x3e\x3c%- fontLabel %\x3e\x3c/p\x3e\x3c% } %\x3e\x3cul\x3e\x3c/ul\x3e");
e.XM=_.template('\x3cli style\x3d"color: \x3c%- color %\x3e; text-align: \x3c%- justification %\x3e;"\x3e\x3ca class\x3d"add" data-style\x3d"\x3c%- style %\x3e"href\x3d"#" style\x3d"color: \x3c%\x3d color %\x3e; font-family: \'\x3c%- fontFamily %\x3e\'; font-size: \x3c%- fontSizePercentage %\x3e%; font-style: \x3c%- italic ? "italic" : "normal"%\x3e; font-weight: \x3c%- bold ? "bold" : "normal"%\x3e;"\x3e\x3c%- placeholderText %\x3e\x3c/a\x3e\x3c/li\x3e');
e.render=function(){var a,b=this;this.$el.html(this.template(function(){var a=Qb(b.C);return{hasBrandKit:!!b.pf,fontLabel:a.format("objectPanelTextPanelFontLabel"),brandFontLabel:a.format("objectPanelTextPanelBrandFontLabel")}}()));a=this.$el.children("ul");for(var c in Hb)a.append(mK(this,Hb[c]));nK(this,this.OQ.bind(this));return this};
e.OQ=function(){var a;this.$(".add").each(function(){a=a||Math.min(1,this.parentElement.offsetWidth/this.offsetWidth);this.style.fontSize=parseFloat(this.style.fontSize)*a+"%"})};function nK(a,b){function c(){d++;3===d&&b&&b()}var d=0;Object.keys(Hb).forEach(function(a){a=this.Ik(Hb[a]).fontFamily;Oy(a,c)},a)}function mK(a,b){b=a.Ik(b);return $(a.XM(b))}
e.Ik=function(a){var b={title:32,subtitle:18,body:14},c=$.extend(!0,{},this.model.fw[a]),d=$.extend(!0,{},this.model.hk[a]),f=oK(this,a),g=Qb(this.C);switch(a){case "title":g=Rc(g);break;case "subtitle":g=Sc(g);break;case "body":g=g.format("objectPanelTextPanelAddBody");break;default:throw Error("Unknown TextElementStyle "+a);}g={bold:!1,italic:!1,justification:"center",color:"auto",placeholderText:g,style:a};c=_.extend({},g,d,c,f);(f=ms(ob,c.fontFamily))?c.fontFamily=f.family:c=_.extend({},g,d);
void 0===c.fontSize&&(c.fontSize=b[a]);c.fontSizePercentage=c.fontSize*G.Qe;return c};function oK(a,b){var c;try{c=Lp(Ip(a.pf)[0])||[]}catch(d){c=[]}return c.filter(function(a){return!!Op(a)&&a.getName()===b}).map(function(a){a=Op(a);return{bold:a.Rp(),italic:a.Tp(),fontFamily:a.family,fontSize:a.cn()}})[0]}e.yS=function(a,b,c){var d=this.$el.find("[data-style\x3d"+b+"]").parent(),f=mK(this,b);Oy(c.fontFamily,function(){d.replaceWith(f)})};
e.pK=function(a){function b(a){d.addElement(a,!0);Je(a)}var c=this.model;a=$(a.currentTarget).data("style");var d=L(c);this.gt(a).then(b,b);this.Ws=!0;return!1};
e.gt=function(a){var b=this.$(".add[data-style\x3d"+a+"]"),c=this.Ik(a);c.fontSize*=ab.Ti;var d=pK(this,b);d.find("a").css("font-size",c.fontSize*G.Qe+"%");d.css("font-size","100%").css("opacity",0).appendTo("#content");var f=d.width();d.remove();var g=_.defaults({style:a,lockedWidth:!1,width:f*$A.zJ,html:b.text(),placeholderText:b.text()},c);return new P(function(a,b){new Jr(g,function(c,d){d?a(c):b(c)})})};
function pK(a,b){var c=L(a.model).xu(),d=a.Ik(b.data("style")),f=b.clone();a=qK(a);var g=parseFloat(b.get(0).style.fontSize||100)/100,d=d.color&&"auto"!==d.color?d.color:"inherit";f.css("width",b.width()).css("height",b.height()).css("white-space","nowrap").css("color",d).css("font-size",a*g*100+"%");b=$('\x3cdiv class\x3d"textControls clone text"\x3e\x3c/div\x3e');b.css("font-size",100*N+"%").css("color",c?"white":"black").append(f);return b}
e.cN=function(a){function b(a){var h=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;a=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;if(d.Ws)return F.off("mousemove|touchmove",b).off("mouseup|touchend",c),l&&l.remove(),g.removeClass("pickedUp"),d.Ws=!1;if(null==l)if($B(F)){var m=Qj(w,y,h,a);if(300<m||60>m)l=pK(d,f),$("#content").append(l),g.addClass("pickedUp");else return!0}else if(Math.abs(h-w)>G.xb||Math.abs(a-y)>G.xb)l=pK(d,f),$("#content").append(l),g.addClass("pickedUp");
null!=l&&(m=k.top+a-y,l.css("left",k.left+h-w).css("top",m),m=Math.min(1,Math.sqrt(Math.pow(h-w,2)+Math.pow(a-y,2))/B),l.css("font-size",100*(1+(q-1)*m)+"%").css("color",Jj(V,R,m).qa()),(h<n.left||h>n.left+p||a<n.top||a>n.top+r)&&hf(v,l)?(null==D&&(D=new jf(l,x)),lf(D,H,E)):$("#overlays .align").removeClass("on"));return!1}function c(a){function h(){l.remove();g.removeClass("pickedUp");l.hasClass("returning")||k()}function k(){f.one("transitionend",function(){$(this).removeClass("reappearing")}).addClass("reappearing")}
function m(a){a.setPosition(D.W(),D.N());a.appendTo(L(d.model));Je(a);Ke(a);xz(a.F())}F.off("mousemove|touchmove",b).off("mouseup|touchend",c);$("#overlays .align").removeClass("on");$("#content").trigger("mousedown");S();var q=void 0!==a.clientX?a.clientX:a.changedTouches[0].clientX;a=void 0!==a.clientY?a.clientY:a.changedTouches[0].clientY;if(null==l&&Math.abs(q-w)<G.xb&&Math.abs(a-y)<G.xb)return!1;null!=l&&((q<n.left||q>n.left+p||a<n.top||a>n.top+r)&&hf(v,l)?(q=f.data("style"),d.gt(q).then(m).finally(h)):
(q=f.offset(),l.addClass("returning"),l.one("transitionend",h).css("left",q.left).css("top",q.top).css("font-size","100%").css("color",V.qa())))}if(a.which!==G.oe){var d=this,f=$(a.currentTarget),g=f.parent("li"),h=$(a.currentTarget).data("style"),k=f.offset(),l=null,m=$("#objectPanel"),n=m.offset(),p=m.outerWidth(),r=m.outerHeight(),h=this.Ik(h);h.fontSize*=ab.Ti;var q=1/(parseFloat(f.get(0).style.fontSize)/G.Qe*qK(this)/h.fontSize)*N,v=yC(),x=v.offset(),w=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,
y=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,B=Math.abs(w-(n.left+p)),F=new Uk($(document));F.on("mousemove|touchmove",b).on("mouseup|touchend",c);var D=null,E=kf(),H={};a=L(this.model).xu();var V=sj(new nj,255,255,255),R=new nj;h.color&&"auto"!==h.color?R=rf(h.color)||R:a?sj(R,255,255,255):sj(R,0,0,0);this.Ws=!1;return zC}};function qK(a){return parseFloat(getComputedStyle(a.el.querySelector("ul")).fontSize)/parseFloat(getComputedStyle(a.el).fontSize)};function hB(){}hB=fK.extend();hB.prototype.initialize=function(a){this.limit=0;this.Y=Qb(a.C);a.model=new dE;a.jg=hB.jg;fK.prototype.initialize.call(this,a);this.model.cg(rK())};hB.jg=function(a,b){return new $J({model:a,Tm:"infoPanelGallery photoGallery",C:b})};function rK(){var a=Fq(Cq()).na(),a=new pE({Fd:a.G(),eb:db,Ox:z.Sa().G(),Ne:new Mx(mb)});return new fB(a)}hB.prototype.ue=function(a){this.limit=a;fE(this.model).ue(a)};
hB.prototype.reset=function(){for(var a=this.model;fE(a);)a.tr(fE(a));this.model.cg(rK())};function cB(){}cB=fK.extend();cB.jg=function(a,b,c){return new ZJ({model:b,wq:a,Tm:"infoPanelGallery photoGallery",C:c})};cB.prototype.initialize=function(a){a.model=new dE;a.jg=cB.jg.bind(null,a.wq);fK.prototype.initialize.call(this,a);this.model.cg(new fB(a.mL))};cB.prototype.ue=function(a){fE(this.model).ue(a)};function eB(){}eB=fK.extend();eB.prototype.initialize=function(a){this.ft=a.ft;a.model=new dE;fK.prototype.initialize.call(this,a);this.model.cg(this.ft())};eB.prototype.ue=function(a){fE(this.model).ue(a)};eB.prototype.reset=function(){this.model.tr(fE(this.model));this.model.cg(this.ft())};function aB(){}aB=Backbone.View.extend();aB.prototype.initialize=function(a){this.bb=a.bb;this.Ex=a.Ex;this.vk=aC;this.et=a.et;this.xx=a.xx;this.tx=a.tx;this.yx=a.yx;this.eb=a.eb;this.fb=a.fb;this.Pb=null;this.EE=!1;this.xB=a.xB;this.zB=a.zB;this.Eq=this.sj=this.Je=null;this.al=a.YM.reduce(function(a,c){a[c.template]=qC(c);return a},{});this.Iv=null;this.C=a.C;this.Y=Qb(this.C);this.render();sK(this);this.$el.data("view",this);this.listenTo(this.model,"resize",this.qH)};
aB.prototype.events=function(){return{"click .templateGallery .info .moreInfo":this.DK,"click .templateGallery a":this.KK,"click .tabDropdown":this.JK}};aB.prototype.remove=function(){this.Eq&&this.Eq.remove();Backbone.View.prototype.remove.call(this)};var aC="CANVA_LAYOUTS",bC="TEAM_TEMPLATES",cC="YOUR_DESIGNS";e=aB.prototype;e.ZP=_.template('\x3csection class\x3d"layoutTabPanel"\x3e\x3csection class\x3d"layer scrollPane"\x3e\x3cdiv class\x3d"inner"\x3e\x3cdiv class\x3d"searchLoaderHolder"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/section\x3e\x3c/section\x3e');
e.template=_.template('\x3c% if (showTabMenu) { %\x3e\x3cdiv class\x3d"layoutsControls"\x3e\x3cdiv class\x3d"select tabDropdown"\x3e\x3c/div\x3e\x3c/div\x3e\x3c% } %\x3e\x3csection class\x3d"layoutsContainer layoutsContainer"\x3e\x3c/section\x3e');
function sK(a){var b=wh((new vh).am(a.Ex),[ah]).sC().jf(100);a.fb.BE(b).then(function(b){a.Pb=b.aj().filter(function(a){var b;if(b="undefined"!==typeof a.xg())b=["OWNER","ADMIN","EDITOR","VIEWER"],b=b.indexOf(a.xg())<=b.indexOf("EDITOR");return b}).sort(tK);a.Je&&a.Pb&&uK(a.Je,a.Pb)}).catch(function(){a.EE=!0;a.Je&&vK(a.Je)})}e.ue=function(a){this.Iv&&this.Iv.ue(a)};
e.KK=function(a){S();if($(a.target).is(".moreInfo"))return!1;a=$(a.currentTarget);var b=a.parents("li").data("view"),c=b.model;this.$(".gallery li.on").removeClass("on");if($I(this,a))return!1;c.getContent?(bJ(this,c),b.$el.addClass("on")):c.ec?(zD(this,c),b.$el.addClass("on")):c.Zc&&1===c.Zc().pageCount&&(aJ(this,c),b.$el.addClass("on"));return!1};
function $I(a,b,c){var d=b.parents("li").data("view"),f=d.model;return d.Gf&&d.Gf()||f.Zc&&f.Zc()&&1<f.Zc().pageCount?(d=!1!==c&&!b.hasClass("infoOpen"),!0!==c&&b.hasClass("infoOpen")?Cr():d&&(c=document.createElement("span"),$(c).css("visibility","hidden").css("width",0).css("height",0),b.append(c),uB.call(c,a.C)),!0):!1}e.DK=function(a){return uB.call(a.currentTarget,this.C)};
aB.lp=function(a,b){if((new pf(window.viewConfig)).Fe())b=P.resolve(!0);else{b.ky||(b.ky=new ad(b.Ha));b=b.ky;a=MD(a);var c=ib,d=new wK({ba:Zh,oC:b.oC(),uL:b.format("editorReplaceContentCancelButtonText"),oN:b.Ou(),LQ:b.format("editorReplaceContentConfirmButtonText"),nC:b.nC()});b=(new xK({C:b,uA:a,ia:c},d)).confirm()}return b};
function aJ(a,b,c,d){function f(a){return a.getDocument()}function g(a){function d(){QD({sk:PD(g),ot:z.Sa(),page:g});yK(L(z),Zi(g.serialize()),p,Fm(a,0),m)}n.clear();r&&c&&KD(n,r);l=a.Zc().content.pages[0];m=new cj({type:Xs,id:a.G(),version:a.getVersion()});ZI(l,m);null!==k.bb&&k.al.hasOwnProperty(b.G())&&LJ(null,l,h());if(l.width!==n.w()||l.height!==n.D()){var f=$i(new Yi,l),g=new ml(z,{});ZC(g,f,null,null,!0);k.listenToOnce(g,"unpacked",d)}else yK(L(z),Zi(l),p,Fm(a,0),m)}function h(){var a={};a[k.al[b.G()].rd()]=
"#"+k.bb;return a}var k=a,l,m,n=L(z),p=n.nm(),r=Fm(b,0);if(d){var q;try{q=b.Zc().content.pages[0]}catch(v){}q?g(b):(n.clear(),r&&c&&KD(n,r),a.eb.getDocument(cm(b.G())).then(f).then(g))}else aB.lp(n,a.C).then(function(a){a&&aJ(this,b,c,!0)}.bind(a))}function bJ(a,b,c){var d=L(z);c?(a=b.getContent(),a=$i(new Yi,a),Rx(b)&&aj(a,d.w(),d.D(),0<tl(d).length),yK(d,a)):aB.lp(d,a.C).then(function(a){a&&bJ(this,b,!0)}.bind(a))}
function zD(a,b,c){function d(a){if(a&&a.content&&a.content.pages){var c={id:b.G(),version:b.getVersion(),price:Uz(b),title:b.Za(),keywords:b.cj()},c=new Yi(c);$.extend(!0,c,_.omit(a.content.pages[0],"layout"));yK(f,c,null,b.dn())}}var f=L(z);c?(b.dj(d),Rz(dA(b))):aB.lp(f,a.C).then(function(a){a&&zD(this,b,!0)}.bind(a))}function yK(a,b,c,d,f){c={"new":b,old:c||a.nm(),pageIndex:a.ea()};ZC(a,b,d,f);C.register(new XC(4,c))}
aB.prototype.render=function(){this.$el.html(this.template({layoutsLabelText:this.Y.format("objectPanelLayoutsPanelLayoutsTabLabel"),yourDesignsLabelText:Tc(this.Y),showTabMenu:this.zB}));zK(this);return this};aB.prototype.qH=function(){this.sj.reset&&this.sj.reset();this.Iv===this.sj&&this.ue(OB(this.$el,this.$el.height()))};
aB.prototype.JK=function(){var a=this;this.Je=this.yx(this.vk);this.Je.on("select",function(b){a.vk!==b&&(a.vk=b,zK(a))});this.Je.on("hide",function(){a.$el.removeClass("resultsLayout--fadeResults")});this.Je.on("remove",function(){a.Je.off();a.Je=null});this.Je.Tf(this.$(".tabDropdown"));this.$el.addClass("resultsLayout--fadeResults");this.EE?vK(this.Je):this.Pb&&uK(this.Je,this.Pb);sK(this)};
function zK(a){var b=a.$(".tabDropdown"),c=$(a.ZP()),d=c.find(".layer");a.$(".layoutsContainer").empty().append(c);a.Eq&&a.Eq.remove();a.Eq=(new ak(c.find(".scrollPane"))).render();switch(a.vk){case aC:a.sj=a.xx(d);b.text(Uc(a.Y));break;case bC:a.sj=a.tx(d);b.text(Vc(a.Y));break;case cC:a.sj=a.et(d,null);b.text(Tc(a.Y));break;default:a.sj=a.et(d,a.vk),b.text(a.Pb.filter(function(b){return b.G()===a.vk})[0].getName()||"")}a.xB&&(c=$(document.createElement("span")).addClass("newFeatureLabel").text(Hc(a.C).format("newFeatureNewLabel")),
b.append(c));b.attr("data-selected",a.vk);a.Iv=a.sj;a.ue(OB(a.$el,a.$el.height()))};function bB(){}bB=Uq.extend({className:"layoutsTabMenu"});e=bB.prototype;e.initialize=function(a){this.Y=a.Y;this.Bm=a.Bm;this.Mb=a.Mb;this.wo=a.wo;this.Sg=null;Uq.prototype.initialize.call(this,{content:this.$A(),Mr:!1,Mn:!0,Qj:!1,position:dl})};
e.events=function(){function a(a,d){b.trigger("select",a);b.$(".layoutsTabMenu__item--selected").removeClass("layoutsTabMenu__item--selected");$(d.currentTarget).addClass("layoutsTabMenu__item--selected layoutsTabMenu__item--activated");b.ba.setTimeout(function(){return b.remove()},100)}var b=this;return{"click .layoutsTabMenu__item--canvaLayouts":function(b){return a(aC,b)},"click .layoutsTabMenu__item--teamTemplates":function(b){return a(bC,b)},"click .layoutsTabMenu__item--yourDesigns":function(b){return a(cC,
b)},"click .layoutsTabMenu__item--folder":function(b){return a($(b.currentTarget).attr("data-id"),b)},"click .layoutsTabMenu__upgrade":function(){var a=b.Mb;a.analytics.kd(Ai("object_panel_layouts","folders_dropdown","design_templates"));var d;a.fa.ta.get(we)?(window.open("https://about.canva.com/pricing","_blank"),d=!0):d=!1;d||Dk(a,AK);b.remove()}}};e.Nk=function(){return BK};e.remove=function(){this.Sg&&this.Sg.remove();Uq.prototype.remove.call(this)};
e.render=function(){Uq.prototype.render.call(this);this.Sg||(this.Sg=(new ak(this.$(".selectMenu"))).render());return this};
e.$A=function(){var a=$,b;b=this.Y.format("objectPanelLayoutsPanelFoldersLoading");var c=soydata.VERY_UNSAFE.ordainSanitizedHtml(this.Y.format("objectPanelLayoutsPanelUpgradeCta"));soy.asserts.assertType(goog.isString(b)||b instanceof goog.soy.data.SanitizedContent,"loadingMsg",b,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(c instanceof soydata.SanitizedHtml||c instanceof soydata.UnsanitizedText||goog.isString(c),"upgradeHtml",c,"soydata.SanitizedHtml");b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"selectMenu layoutsTabMenu"\x3e\x3cdiv class\x3d"layoutsTabMenu__loading"\x3e'+
soy.$$escapeHtml(b)+'\x3c/div\x3e\x3cdiv class\x3d"layoutsTabMenu__upgradeCta"\x3e'+soy.$$escapeHtml(c)+"\x3c/div\x3e\x3c/div\x3e");a=a(b.toString());b=a.find(".layoutsTabMenu__loading");b.before(CK({dl:"canvaLayouts",selected:this.Bm===aC,label:Uc(this.Y),locked:!1}).toString());b.before(CK({dl:"teamTemplates",selected:this.Bm===bC,label:Vc(this.Y),locked:this.wo}).toString());b.before(CK({dl:"yourDesigns",selected:this.Bm===cC,label:Tc(this.Y),locked:this.wo}).toString());a.toggleClass("layoutsTabMenu--demoMode",
this.wo);return a};function uK(a,b){b.length?a.$(".layoutsTabMenu__loading").remove():a.$(".layoutsTabMenu__loading").text(a.Y.format("objectPanelLayoutsPanelFoldersEmpty"));a.$(".layoutsTabMenu__item--folder").remove();b.forEach(function(b){a.$(".layoutsTabMenu__upgradeCta").before(CK({dl:"folder",selected:a.Bm===b.G(),label:b.getName()||"",uo:b.shared,Do:b.hj()&&b.hj().starred,Lp:b.G(),locked:a.wo}).toString())})}
function vK(a){a.$(".layoutsTabMenu__loading").text(a.Y.format("objectPanelLayoutsPanelFoldersError"))};function CK(a){soy.asserts.assertType(goog.isString(a.dl)||a.dl instanceof goog.soy.data.SanitizedContent,"modifierName",a.dl,"string|goog.soy.data.SanitizedContent");var b=a.dl;soy.asserts.assertType(goog.isBoolean(a.selected)||1===a.selected||0===a.selected,"selected",a.selected,"boolean");var c=!!a.selected;soy.asserts.assertType(goog.isString(a.label)||a.label instanceof goog.soy.data.SanitizedContent,"label",a.label,"string|goog.soy.data.SanitizedContent");var d=a.label;soy.asserts.assertType(goog.isBoolean(a.locked)||
1===a.locked||0===a.locked,"locked",a.locked,"boolean");var f=!!a.locked;soy.asserts.assertType(null==a.uo||goog.isBoolean(a.uo)||1===a.uo||0===a.uo,"sharedFolder",a.uo,"boolean|null|undefined");var g=a.uo;soy.asserts.assertType(null==a.Do||goog.isBoolean(a.Do)||1===a.Do||0===a.Do,"starredFolder",a.Do,"boolean|null|undefined");var h=a.Do;soy.asserts.assertType(null==a.Lp||a.Lp instanceof goog.soy.data.SanitizedContent||goog.isString(a.Lp),"folderId",a.Lp,"null|string|undefined");a=a.Lp;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"selectMenu__item layoutsTabMenu__item layoutsTabMenu__item--'+
soy.$$escapeHtmlAttribute(b)+(c?" layoutsTabMenu__item--selected":"")+(f?" layoutsTabMenu__item--locked":"")+'"'+(a?' data-id\x3d"'+soy.$$escapeHtmlAttribute(a)+'"':"")+"\x3e"+(a?g?DK({rf:"layoutsTabMenu__icon",Oe:h}):EK({rf:"layoutsTabMenu__icon",Oe:h}):"")+soy.$$escapeHtml(d)+"\x3c/div\x3e")};function mB(a){this.hA=this.hA.bind(this);this.Vh=this.Vh.bind(this);this.element=a;this.element.on({dragover:this.hA,drop:this.Vh});this.Nz=null;this.QF=-1}_.extend(mB.prototype,Backbone.Events);mB.prototype.trigger=Backbone.Events.trigger;
mB.prototype.hA=function(a){var b=this;a.originalEvent.dataTransfer&&(a.originalEvent.dataTransfer.dropEffect="copy",a.preventDefault(),clearTimeout(this.QF),this.Nz||(this.Nz=Date.now(),1===$("#objectPanel \x3e menu \x3e .uploads.on").length?this.trigger("dragenter"):($("#objectPanel \x3e menu \x3e .uploads \x3e a").click(),setTimeout(function(){b.trigger("dragenter")},300))),this.QF=setTimeout(function(){b.trigger("dragleave");b.Nz=null},500))};
mB.prototype.Vh=function(a){var b;try{b=a.originalEvent.dataTransfer.files}catch(c){}a.preventDefault();a.stopPropagation();b&&b.length&&this.trigger("drop",b);return!1};function FK(){}FK=Backbone.View.extend({className:"uploadsFolderItem"});e=FK.prototype;e.events=function(){return{click:this.Mf,dragstart:this.il,mousedown:this.jl}};e.initialize=function(a){this.Ba=a.Ba;this.model=a.model;this.root=a.root};e.Mf=function(){this.Ba.UC(this.model)};e.il=function(a){a.preventDefault();return!1};e.jl=function(a){return a.which===G.oe||this.LB(a)};e.nA=function(a,b){function c(){d.$el.removeClass("uploadsFolderItemDragging")}var d=this;b?setTimeout(c,600):(this.Mf(),c())};
e.render=function(){this.$el.addClass("uploadsFolderItemLoading");this.$el.html(this.template());this.vr();return this};e.vr=function(){var a,b,c=this;a=this.model.lc().D()/this.model.lc().w();b=this.$(".uploadsFolderItemThumbnail");b.css("padding-bottom",100*a+"%");a=b.find("img");a.one("load",function(){c.$el.removeClass("uploadsFolderItemLoading")});Rt(St,a,this.model.lc().ma())};
e.LB=function(a){var b=this.el.getBoundingClientRect(),c=a.clientX,d=a.clientY,f=this.$el.clone().off(),c=new M(c,d,c,d),b=df(b);if(this.root){this.$el.addClass("uploadsFolderItemDragging");var d=this.Ba,g=this.model;cf(d,Ne(g),b,f,c,d.UC.bind(d,g));this.mC(a)}return!1};e.template=_.template('\x3cdiv class\x3d"uploadsFolderItemThumbnail"\x3e\x3cimg\x3e\x3c/div\x3e');
e.mC=function(a){function b(c){3<Math.sqrt(Math.pow(c.clientX-a.clientX,2)+Math.pow(c.clientY-a.clientY,2))&&(f=!0,d.root.off("mousemove",b))}function c(a){d.root.off("mousemove",b);d.root.off("mouseup",c);d.nA(a,f)}var d=this,f=!1;d.root.on("mouseup",c);d.root.on("mousemove",b)};function GK(a){this.Ba=a.Ba;this.ug=a.ug;this.ve=!1;this.kz=!0;this.ja=new HK;this.offset=0;this.bd=a.bd;this.view=new IK({Y:a.Y});this.view.on({retry:this.fetch,signIn:this.authorize},this)}e=GK.prototype;e.listenTo=Backbone.Events.listenTo;e.on=Backbone.Events.on;e.stopListening=Backbone.Events.stopListening;e.trigger=Backbone.Events.trigger;e.authorize=function(){Dx(this.ug).then(this.view.oI.bind(this.view,!1)).then(this.fetch.bind(this)).catch(function(){})};
e.jK=function(){return Ex(this.ug).catch(function(){throw new JK;})};e.fetch=function(){function a(){b.ve=!1}var b=this;this.bd?!b.ve&&b.kz&&(this.ve=!0,this.view.Sd(!0),this.view.Ql(!1),this.GS().bind(this).then(this.jK).then(this.gM).finally(a).then(this.gP).catch(JK,this.eP).catch(LK,this.sP).catch(this.hP)):KK(this.view)};e.Ip=function(){this.fetch()};e.gM=function(){return Hx(this.offset,25)};e.getElement=function(){return this.view.$el};e.Dg=function(){return this.ja.Dg()};e.Tk=function(){return this.kz};
e.eP=function(){this.view.Sd(!1);this.view.oI(!0)};e.gP=function(a){var b,c=this;b=$(a.map(function(a){return(new FK({Ba:c.Ba,model:a,root:$(window)})).render()}).map(function(a){return a.el}));We(this.Ba,a);this.kz=0<a.length;MK("uploadsItemAppearing",b,2200);this.ja.push(b);this.offset+=a.length;this.view.Sd(!1);this.view.Pl(1>this.ja.Md().length&&1>a.length);this.trigger("fetch")};e.hP=function(){this.view.Sd(!1);this.view.Ql(!0)};e.sP=function(){this.view.Sd(!1);this.view.Ql(!0)};e.remove=function(){this.stopListening()};
e.render=function(){this.view.render();this.view.$el.prepend(this.ja.$el);return this};e.GS=P.method(function(){function a(){return P.try(function(){return Ax()||P.delay(500).then(a).cancellable()})}return a().timeout(2500).catch(P.TimeoutError,function(){throw new LK;})});function JK(){}JK.prototype=Object.create(Error.prototype);function LK(){}LK.prototype=Object.create(Error.prototype);function IK(){}IK=Backbone.View.extend({className:"facebookPhotos uploadsFolderContent"});e=IK.prototype;e.ty=_.template('\x3cp class\x3d"uploadsFolderContentEmptyMessage"\x3e\x3c%- message %\x3e\x3c/p\x3e');e.Im=_.template('\x3cp class\x3d"uploadsFolderContentErrorMessage"\x3e\x3c%- message %\x3e\x3cbutton class\x3d"button facebookPhotosRetry"\x3e\x3c%- buttonLabel %\x3e\x3c/button\x3e\x3c/p\x3e');e.events=function(){return{"click .buttonFacebook":this.tO,"click .facebookPhotosRetry":this.nP}};
e.initialize=function(a){this.Ve=new jJ;this.Y=a.Y};e.tO=function(){this.trigger("signIn")};e.nP=function(){this.trigger("retry")};e.render=function(){this.$el.append(this.Ve.render().$el);return this};e.DR=_.template('\x3cdiv class\x3d"facebookPhotosSignIn"\x3e\x3cp\x3e\x3c%- message %\x3e\x3c/p\x3e\x3cbutton class\x3d"button buttonFacebook"\x3e\x3c%- buttonLabel %\x3e\x3c/button\x3e\x3c/div\x3e');e.Yz=_.template('\x3cp class\x3d"facebookUploadDisabled feedback feedback--error"\x3e\x3c%\x3d label %\x3e\x3c/p\x3e');
e.Sd=function(a){a?this.Ve.show():this.Ve.hide()};e.Pl=function(a){var b=this.$(".uploadsFolderContentEmptyMessage");a?1>b.length&&this.$el.append(this.ty({message:this.Y.format("objectPanelUploadsPanelFacebookFolderEmptyMessage")})):b.remove()};
e.Ql=function(a){var b=this.$(".uploadsFolderContentErrorMessage");a?1>b.length&&this.$el.append(this.Im({buttonLabel:this.Y.format("objectPanelUploadsPanelFacebookFolderTryAgainButtonLabel"),message:this.Y.format("objectPanelUploadsPanelFacebookFolderErrorMessage")})):b.remove()};
e.oI=function(a){var b=this.$(".facebookPhotosSignIn");a?1>b.length&&this.$el.append(this.DR({buttonLabel:this.Y.format("objectPanelUploadsPanelFacebookFolderAuthorizeButton"),message:this.Y.format("objectPanelUploadsPanelFacebookFolderSignInMessage")})):b.remove()};function KK(a){a.$(".facebookUploadDisabled");var b=$(a.Yz({label:Nc(a.Y)}));a.$el.prepend(b)};function MK(a,b,c){b.addClass(a);b.on("animationend",function f(){$(this).off("animationend",f);$(this).removeClass(a)});setTimeout(function(){b.removeClass(a)},c)};function NK(){}NK=Backbone.View.extend({className:"uploadsFolderInfo uploadsInfo"});e=NK.prototype;e.events=function(){return{"click .uploadsInfoTrash":this.trigger.bind(this,"trash")}};e.initialize=function(a){this.Fa=a.Fa;this.C=a.C;this.jb=a.jb;this.bd=a.bd};e.render=function(){this.$el.html(this.template(this.Qf()));return this};
e.Qf=function(){var a=Qb(this.C),b=new Vx(this.Fa,a),c=this.Fa.Ca()===this.jb,d=this.Fa.shared,b=b.gb(),b=a.format("objectPanelUploadsPanelFolderInfoHeader",b);return{isOwner:c,isShared:d,headerMessage:b,itemCount:a.format("objectPanelUploadsPanelFolderInfoItemCount",this.Fa.itemCount),youSharedMessage:a.format("objectPanelUploadsPanelFolderInfoYouShared"),sharedWithYouMessage:a.format("objectPanelUploadsPanelFolderInfoSharedWithYou"),trashLabel:a.format("objectPanelUploadsPanelFolderInfoTrashLabel"),
mediaWritesEnabled:this.bd}};e.template=_.template('\x3ch3\x3e\x3c%- headerMessage %\x3e\x3c/h3\x3e\x3cp class\x3d"uploadsFolderInfoItemCount"\x3e\x3c%- itemCount %\x3e\x3c/p\x3e\x3c% if (isShared \x26\x26 isOwner) { %\x3e\x3cp class\x3d"uploadsFolderInfoShared"\x3e\x3c%- youSharedMessage %\x3e\x3c/p\x3e\x3c% } else if (isShared) { %\x3e\x3cp class\x3d"uploadsFolderInfoShared"\x3e\x3c%- sharedWithYouMessage %\x3e\x3c/p\x3e\x3c% } %\x3e\x3c% if (isOwner \x26\x26 mediaWritesEnabled) { %\x3e\x3cbutton class\x3d"button buttonPlain uploadsInfoTrash"\x3e\x3c%- trashLabel %\x3e\x3c/button\x3e\x3c% } %\x3e');function OK(){}OK=Backbone.View.extend({className:"uploadsFolderItemInfo uploadsInfo"});e=OK.prototype;e.events=function(){return{"click .uploadsInfoDownload":this.trigger.bind(this,"download"),"click .uploadsInfoTrash":this.trigger.bind(this,"trash"),"change select":this.mS}};e.initialize=function(a){this.Yx=a.Yx;this.dA=a.dA;this.Fa=a.Fa;this.Xj=a.Xj||[];this.item=a.item;this.Y=a.Y;this.bd=a.bd;this.title=a.title||this.item.getName();this.item.rb()&&(this.title=this.item.rb().importFilename)};
function PK(a){var b=a.$("select").val();return a.Xj.filter(function(a){return a.G()===b})[0]}e.render=function(){this.$el.html(this.template(this.Qf()));this.$("select").val(this.Fa.G());return this};
e.Qf=function(){var a=this;return{title:this.title,downloadLink:this.Yx,moveOptions:this.dA,downloadOriginalTitle:this.Y.format("objectPanelUploadsPanelItemInfoDownloadOriginal"),options:this.Xj.map(function(b){return _.extend({},b,{name:(new Vx(b,a.Y)).gb()})}).map(this.NP),trashLabel:this.Y.format("objectPanelUploadsPanelItemInfoTrash"),mediaWritesEnabled:this.bd}};e.mS=function(){this.trigger("move",PK(this))};e.NP=_.template('\x3coption value\x3d"\x3c%- id %\x3e"\x3e\x3c%- name %\x3e\x3c/option\x3e');
e.template=_.template('\x3c% if (title) { %\x3e\x3ch3\x3e\x3c%- title %\x3e\x3c/h3\x3e\x3c% } %\x3e\x3c% if (mediaWritesEnabled) { %\x3e\x3cbutton class\x3d"button buttonPlain uploadsInfoTrash"\x3e\x3c%- trashLabel %\x3e\x3c/button\x3e\x3c% } %\x3e\x3c% if (moveOptions) { %\x3e\x3cselect\x3e\x3c%\x3d options %\x3e\x3c/select\x3e\x3c% } %\x3e\x3c% if (downloadLink) { %\x3e\x3ca class\x3d"uploadsInfoDownload" title\x3d"\x3c%- downloadOriginalTitle %\x3e"\x3e\x26#11015;\x3c/a\x3e\x3c% } %\x3e');function QK(){return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"18px" height\x3d"18px" viewBox\x3d"0 0 18 18" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cg fill-rule\x3d"evenodd"\x3e\x3cpath d\x3d"M2.5 9c0 3.588 2.912 6.5 6.5 6.5s6.5-2.912 6.5-6.5S12.588 2.5 9 2.5A6.503 6.503 0 0 0 2.5 9zm14 0c0 4.14-3.36 7.5-7.5 7.5-4.14 0-7.5-3.36-7.5-7.5 0-4.14 3.36-7.5 7.5-7.5 4.14 0 7.5 3.36 7.5 7.5z"/\x3e\x3cpath d\x3d"M9.75 6.75h-1.5v-1.5h1.5v1.5zm0 6h-1.5v-4.5h1.5v4.5z"/\x3e\x3c/g\x3e\x3c/svg\x3e')}
function RK(a){soy.asserts.assertType(goog.isString(a.zh)||a.zh instanceof goog.soy.data.SanitizedContent,"fileType",a.zh,"string|goog.soy.data.SanitizedContent");var b=a.zh;soy.asserts.assertType(goog.isString(a.color)||a.color instanceof goog.soy.data.SanitizedContent,"color",a.color,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"32" height\x3d"40" viewBox\x3d"0 0 32 40" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cpath d\x3d"M-8-4h48v48H-8z"/\x3e\x3cpath d\x3d"M4 0C1.8 0 .02 1.8.02 4L0 36c0 2.2 1.78 4 3.98 4H28c2.2 0 4-1.8 4-4V12L20 0H4z" fill\x3d"'+
soy.$$escapeHtmlAttribute(a.color)+'"/\x3e\x3cpath d\x3d"M20 0l12 12h-8.004A4 4 0 0 1 20 8.004V0z" fill-opacity\x3d".5" fill\x3d"#FFF" style\x3d"mix-blend-mode:lighten"/\x3e\x3ctext width\x3d"32" height\x3d"12" x\x3d"16" y\x3d"35" text-anchor\x3d"middle" fill\x3d"#FFF" style\x3d"font-size: 10px; font-family: \'Open Sans\', \'Helvetica Neue\', Helvetica, Arial, sans-serif;"\x3e'+soy.$$escapeHtml(b)+"\x3c/text\x3e\x3c/g\x3e\x3c/svg\x3e")}
function EK(a){a=a||{};soy.asserts.assertType(null==a.rf||a.rf instanceof goog.soy.data.SanitizedContent||goog.isString(a.rf),"cssClass",a.rf,"null|string|undefined");var b=a.rf;soy.asserts.assertType(null==a.Oe||goog.isBoolean(a.Oe)||1===a.Oe||0===a.Oe,"withStar",a.Oe,"boolean|null|undefined");a=a.Oe;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3csvg "+(b?'class\x3d"'+soy.$$escapeHtmlAttribute(b)+'"':"")+'  viewBox\x3d"0 0 20 15" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath class\x3d"folderIcon__folder" fill\x3d"#FFF" d\x3d"M15.5 3H0v8.5c0 .828.672 1.5 1.5 1.5h14c.828 0 1.5-.672 1.5-1.5v-7c0-.828-.672-1.5-1.5-1.5M2 2h7L7 0H0v2h1"/\x3e'+
(a?'\x3cpath class\x3d"folderIcon__star" d\x3d"M17.83 9.827l-.51-1.074c-.476-1-1.242-1.007-1.72 0l-.51 1.074-1.065.16c-1.094.167-1.356.935-.573 1.728l.795.807-.197 1.196c-.18 1.087.467 1.536 1.423 1.013l.987-.538.987.54c.964.527 1.6.073 1.422-1.014l-.198-1.196.795-.807c.778-.788.527-1.56-.572-1.727l-1.066-.16z" fill\x3d"#F3B600"/\x3e':"")+"\x3c/svg\x3e")}
function DK(a){a=a||{};soy.asserts.assertType(null==a.rf||a.rf instanceof goog.soy.data.SanitizedContent||goog.isString(a.rf),"cssClass",a.rf,"null|string|undefined");var b=a.rf;soy.asserts.assertType(null==a.Oe||goog.isBoolean(a.Oe)||1===a.Oe||0===a.Oe,"withStar",a.Oe,"boolean|null|undefined");a=a.Oe;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3csvg "+(b?'class\x3d"'+soy.$$escapeHtmlAttribute(b)+'"':"")+' viewBox\x3d"0 0 18 15" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath class\x3d"folderIcon__folder" d\x3d"M10.32 8.842c.127-.214.2-.466.2-.736V7.64c-.267-.33-.48-.713-.606-1.127-.027-.083-.04-.18-.115-.233-.742-.998-.093-1.186-.102-1.27 0-.418-.003-.837.002-1.254.016-.387.278-1.937 2.163-1.943h.01c1.885.006 2.147 1.556 2.163 1.943.006.417 0 .836.002 1.254-.01.084.64.272-.1 1.27-.076.053-.09.15-.117.233-.127.414-.34.796-.607 1.128v.466c0 .605.37 1.12.89 1.315.142.055 1.31.27 1.762.634.303.245.69.525 1.004 1.057.088.15.23 1.19.23 1.19 0 .387-.276.7-.65.7h-3.846l.092-.336s-.006-.782-.134-1.197c-.085-.33-.254-1.277-.674-1.614-.53-.422-.76-.68-1.57-1.01zm.408.735c-.523-.424-1.883-.674-2.05-.736-.6-.226-1.032-.825-1.032-1.528v-.54c.312-.386.558-.83.706-1.31.032-.097.048-.21.134-.272.86-1.16.106-1.378.117-1.475-.002-.486.004-.972-.003-1.457C8.582 1.808 8.277.008 6.087 0 3.883.007 3.58 1.807 3.56 2.258c-.006.485 0 .97-.002 1.457.01.097-.744.316.117 1.475.086.062.102.175.134.272.147.48.393.924.704 1.31v.54c0 .703-.43 1.302-1.032 1.53-.167.06-1.526.31-2.05.735-.35.284-.802.61-1.166 1.228C.163 10.98 0 12.187 0 12.187c0 .45.32.813.752.813h10.656c.433 0 .753-.363.753-.813 0 0-.163-1.208-.265-1.382-.172-.666-.815-.944-1.167-1.228z" fill\x3d"#FFF"/\x3e'+
(a?'\x3cpath class\x3d"folderIcon__star" d\x3d"M15.83 9.827l-.51-1.074c-.476-1-1.242-1.007-1.72 0l-.51 1.074-1.065.16c-1.094.167-1.356.935-.573 1.728l.795.807-.197 1.196c-.18 1.087.467 1.536 1.423 1.013l.987-.538.987.54c.964.527 1.6.073 1.422-1.014l-.198-1.196.795-.807c.778-.788.527-1.56-.572-1.727l-1.066-.16z" fill\x3d"#F3B600"/\x3e':"")+"\x3c/svg\x3e")};function tK(a,b){var c=a.hj()&&a.hj().starred,d=b.hj()&&b.hj().starred;return c^d?c?-1:1:(a.getName()||"").toLowerCase().localeCompare((b.getName()||"").toLowerCase())};function SK(){}SK=Backbone.View.extend({className:"uploadsFolderItem"});e=SK.prototype;e.initialize=function(a){this.Ba=a.Ba;this.disabled=!1;this.model=a.model;this.En=a.En;this.Ie=a.Ie;this.Y=a.Y;this.Pf=void 0;this.root=a.root;(this.Bc=a.Bc)&&this.listenTo(this.Bc,{complete:this.JP,fail:this.KP,update:this.ps})};e.events=function(){return{click:this.Mf,dragstart:this.il,mousedown:this.jl}};
e.Mf=function(a){var b=a.target.classList.contains("uploadsInfoButton");if(!this.disabled)if(b)this.trigger("infoClick",this.model);else{var b=!1,c=this.model.rb();a.target&&$(a.target).is("img")?b=mf(a.target)>G.zw:1===$(a.target).find("img").length&&(b=mf($(a.target).find("img").get(0))>G.zw);c?this.Ba.VC(c,void 0,void 0,b):this.Bc&&this.Bc.rb()&&this.Ba.WC(this.Bc,void 0,void 0,b)}};e.JP=function(){this.Pf.remove();this.Pf=void 0;this.stopListening(this.Bc)};
e.KP=function(){this.Wf(!0);this.Pf.$el.addClass("uploadProgressBarFail");this.stopListening(this.Bc);setTimeout(this.QH.bind(this),1E3);setTimeout(this.trigger.bind(this,"uploadFail"),5350)};e.il=function(a){a.preventDefault();return!1};e.jl=function(a){kI();var b=a.target.classList.contains("uploadsInfoButton"),c=a.which==G.oe;return this.disabled||c||b||a.ctrlKey||this.LB(a)};
e.nA=function(a,b){function c(){d.$el.removeClass("uploadsFolderItemDragging")}var d=this,f=this.el.getBoundingClientRect();b?(bf(this.Ba,df(f)),setTimeout(c,600)):(this.Mf(a),c())};
e.render=function(){this.$el.addClass("uploadsFolderItemLoading");var a,b=this.model;a=b.license?tg(b.license):null;b=this.el;a=a&&a.type;var c=Wc(this.Y,this.Y.format("objectPanelLicenseExtended")),d=Wc(this.Y,this.Y.format("objectPanelLicenseRoyaltyFree")),f=this.Ie;soy.asserts.assertType(null==a||a instanceof goog.soy.data.SanitizedContent||goog.isString(a),"licenseType",a,"null|string|undefined");soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"licenseTitleExtended",
c,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"licenseTitleRoyaltyFree",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(f)||1===f||0===f,"showControls",f,"boolean");var f=!!f,g='\x3cdiv class\x3d"uploadsFolderItemThumbnail"\x3e\x3cimg\x3e\x3c/div\x3e';if(null!=a){g+='\x3cdiv class\x3d"uploadsFolderItemLicense"';switch(goog.isObject(a)?a.toString():a){case "ROYALTY_FREE":g+='title\x3d"'+
soy.$$escapeHtmlAttribute(d)+'"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"24" height\x3d"24" viewBox\x3d"0 0 24 24" xmlns\x3d"http://www.w3.org/2000/svg" xmlns:xlink\x3d"http://www.w3.org/1999/xlink"\x3e\x3cdefs\x3e\x3cpath d\x3d"M10 0C4.48 0 0 4.48 0 10s4.48 10 10 10 10-4.48 10-10S15.52 0 10 0z" id\x3d"a"/\x3e\x3cfilter x\x3d"-50%" y\x3d"-50%" width\x3d"200%" height\x3d"200%" filterUnits\x3d"objectBoundingBox" id\x3d"b"\x3e\x3cfeOffset dy\x3d"1" in\x3d"SourceAlpha" result\x3d"shadowOffsetOuter1"/\x3e\x3cfeGaussianBlur stdDeviation\x3d"1" in\x3d"shadowOffsetOuter1" result\x3d"shadowBlurOuter1"/\x3e\x3cfeComposite in\x3d"shadowBlurOuter1" in2\x3d"SourceAlpha" operator\x3d"out" result\x3d"shadowBlurOuter1"/\x3e\x3cfeColorMatrix values\x3d"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0" in\x3d"shadowBlurOuter1"/\x3e\x3c/filter\x3e\x3cmask id\x3d"c" x\x3d"0" y\x3d"0" width\x3d"20" height\x3d"20" fill\x3d"#fff"\x3e\x3cuse xlink:href\x3d"#a"/\x3e\x3c/mask\x3e\x3c/defs\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cg transform\x3d"translate(2 2)"\x3e\x3cuse fill\x3d"#000" filter\x3d"url(#b)" xlink:href\x3d"#a"/\x3e\x3cuse stroke\x3d"#FFF" mask\x3d"url(#c)" stroke-width\x3d"2" fill\x3d"#9F72D7" xlink:href\x3d"#a"/\x3e\x3c/g\x3e\x3cpath d\x3d"M6 6h12v12H6z"/\x3e\x3cpath d\x3d"M15.3 9c-.72 0-1.4.295-1.885.806L12 11.128l-.76.705h.005L9.9 13.092a1.64 1.64 0 0 1-1.2.521c-.935 0-1.695-.795-1.695-1.78 0-.984.76-1.78 1.695-1.78.455 0 .88.185 1.22.543l.565.526.755-.705-.63-.585A2.618 2.618 0 0 0 8.7 9C7.21 9 6 10.274 6 11.833c0 1.56 1.21 2.834 2.7 2.834.72 0 1.4-.295 1.885-.806L12 12.544l.005.006.755-.717h-.005l1.345-1.258a1.64 1.64 0 0 1 1.2-.522c.935 0 1.695.796 1.695 1.78 0 .985-.76 1.78-1.695 1.78-.45 0-.88-.184-1.22-.542l-.57-.532-.755.706.635.59c.51.531 1.185.826 1.91.826 1.49 0 2.7-1.269 2.7-2.833C18 10.264 16.79 9 15.3 9z" fill\x3d"#FFF"/\x3e\x3c/g\x3e\x3c/svg\x3e');
break;case "EXTENDED":g+='title\x3d"'+soy.$$escapeHtmlAttribute(c)+'"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"24" height\x3d"24" viewBox\x3d"0 0 24 24" xmlns\x3d"http://www.w3.org/2000/svg" xmlns:xlink\x3d"http://www.w3.org/1999/xlink"\x3e\x3cdefs\x3e\x3cpath d\x3d"M10 0C4.48 0 0 4.48 0 10s4.48 10 10 10 10-4.48 10-10S15.52 0 10 0z" id\x3d"a"/\x3e\x3cfilter x\x3d"-50%" y\x3d"-50%" width\x3d"200%" height\x3d"200%" filterUnits\x3d"objectBoundingBox" id\x3d"b"\x3e\x3cfeOffset dy\x3d"1" in\x3d"SourceAlpha" result\x3d"shadowOffsetOuter1"/\x3e\x3cfeGaussianBlur stdDeviation\x3d"1" in\x3d"shadowOffsetOuter1" result\x3d"shadowBlurOuter1"/\x3e\x3cfeComposite in\x3d"shadowBlurOuter1" in2\x3d"SourceAlpha" operator\x3d"out" result\x3d"shadowBlurOuter1"/\x3e\x3cfeColorMatrix values\x3d"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0" in\x3d"shadowBlurOuter1"/\x3e\x3c/filter\x3e\x3cmask id\x3d"c" x\x3d"0" y\x3d"0" width\x3d"20" height\x3d"20" fill\x3d"#fff"\x3e\x3cuse xlink:href\x3d"#a"/\x3e\x3c/mask\x3e\x3c/defs\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cg transform\x3d"translate(2 2)"\x3e\x3cuse fill\x3d"#000" filter\x3d"url(#b)" xlink:href\x3d"#a"/\x3e\x3cuse stroke\x3d"#FFF" mask\x3d"url(#c)" stroke-width\x3d"2" fill\x3d"#399BE6" xlink:href\x3d"#a"/\x3e\x3c/g\x3e\x3cpath d\x3d"M5 6h14v12H5z"/\x3e\x3cpath d\x3d"M14 10.762a1.7 1.7 0 0 0-.4.313l-1.34 1.258-.76.711-1.415 1.317a2.597 2.597 0 0 1-1.885.806c-1.49 0-2.7-1.275-2.7-2.834C5.5 10.774 6.71 9.5 8.2 9.5c.72 0 1.4.295 1.91.832l.63.585-.755.705-.565-.526a1.658 1.658 0 0 0-1.22-.543c-.935 0-1.695.796-1.695 1.78 0 .985.76 1.78 1.695 1.78.455 0 .88-.184 1.2-.521l1.34-1.259.76-.705 1.415-1.322c.3-.316.673-.549 1.085-.681v1.137zM16.372 13c-.251.653-.86 1.113-1.572 1.113-.45 0-.88-.184-1.22-.542l-.57-.532-.755.706.635.59c.51.531 1.185.826 1.91.826 1.27 0 2.336-.92 2.624-2.161h-1.052zM19 9.5h-1.5V8h-1v1.5H15v1h1.5V12h1v-1.5H19v-1z" fill\x3d"#FFF"/\x3e\x3c/g\x3e\x3c/svg\x3e');
break;default:g+="\x3e"}g+="\x3c/div\x3e"}a=soydata.VERY_UNSAFE.ordainSanitizedHtml(g+(f?'\x3cdiv class\x3d"uploadsControls"\x3e\x3cbutton class\x3d"button buttonPlain uploadsInfoButton"\x3ei\x3c/button\x3e\x3c/div\x3e':""));b.innerHTML=a;this.$el.toggleClass("uploadsFolderItemMovable",this.En);this.vr();this.Bc&&!this.Bc.nd&&(b=this.$(".uploadsControls"),this.Pf||(this.Pf=new TK),this.Pf.render().$el.insertBefore(b));if(b=this.Bc)b=this.Bc,b=b.nd&&!b.media;b&&this.QH();return this};
e.vr=function(){function a(){d.off("load",a);f.$el.removeClass("uploadsFolderItemLoading")}var b,c,d,f=this;b=this.model.lc().D()/this.model.lc().w();c=this.$(".uploadsFolderItemThumbnail");c.css("padding-bottom",100*b+"%");d=c.find("img");d.on("load",a);b=this.model.lc().ma();Rt(St,d,b)};e.show=function(){this.Pf&&this.ps()};
e.LB=function(a){var b,c,d=this.model.rb();b=a.clientX;c=a.clientY;var f=this.$el.clone().off();f.find(".uploadProgressBar").remove();f.find(".uploadsFolderItemLicense").remove();f.find(".uploadsControls").remove();this.trigger("pickedUp",this.model,f.find("img"));if(this.root){b=new M(b,c,b,c);c=df(this.el.getBoundingClientRect());this.$el.addClass("uploadsFolderItemDragging");if(d){var g=this.Ba,h;h=d.Aa().ec()[Ue];h=Se({id:d.G(),version:d.Aa().getVersion(),files_:[{page:0,quality:"THUMBNAIL",url:f.find("img").attr("src")},
{page:0,quality:"SCREEN",url:h.ma(),width:h.w(),height:h.D()}]});cf(g,h,c,f,b,g.VC.bind(g,d))}else this.Bc&&(d=this.Ba,g=this.Bc,h=f.find("img").attr("src"),h=Se({id:g.rb().G(),version:1,files_:[{page:0,quality:"THUMBNAIL",url:h},{page:0,quality:"SCREEN",url:h,width:g.dc().width,height:g.dc().height}]}),cf(d,h,c,f,b,d.WC.bind(d,g)));this.mC(a)}return!0};e.Wf=function(a){this.disabled=a};function UK(a,b){a.En=b;a.$el.toggleClass("uploadsFolderItemMovable",a.En)}
e.QH=function(){this.Pf&&this.Pf.remove();this.Pf=void 0;this.$el.addClass("uploadsFolderItemFailed");this.$el.find("img").attr("title",this.Y.format("objectPanelUploadsPanelUploadFailed"));UK(this,!1);this.Wf(!0)};
e.Ho=P.method(function(a,b){var c=this;return a?P.try(function(){c.$el.toggleClass("doNotAnimate",!!b).addClass("doNotTransition").height(c.$el.height())}).delay(G.wb).then(function(){c.$el.removeClass("doNotTransition").addClass("uploadsFolderItemHidden").height("")}).delay(350):(this.$el.removeClass("doNotAnimate uploadsFolderItemHidden"),P.resolve())});e.ps=function(){VK(this.Pf,this.Bc.Xh)};
e.mC=function(a){function b(c){3<Math.sqrt(Math.pow(c.clientX-a.clientX,2)+Math.pow(c.clientY-a.clientY,2))&&(f=!0,d.root.off("mousemove",b))}function c(a){d.root.off("mousemove",b);d.root.off("mouseup",c);d.nA(a,f)}var d=this,f=!1;d.root.on("mouseup",c);d.root.on("mousemove",b)};function WK(a){this.Ba=a.Ba;this.tb=a.tb;this.offset=0;this.Uh=!0}WK.prototype.fetch=function(a){function b(a){return ph({id:a.G(),media:a,thumbnail:a.Aa().ec()[eu],type:"MEDIA"})}var c=this,d=gw(fw((new ew).$l(!0).Yl(!1).Zl()),[Oe,Qe]).nw(this.offset,a);return Hv(this.tb,d).then(function(d){0===d.media.length?c.Uh=!1:(Ye(c.Ba,d.media),c.offset+=d.media.length,c.Uh=d.media.length>=a);return P.resolve(d.media.map(b))})};WK.prototype.Tk=function(){return this.Uh};function XK(a){this.Ba=a.Ba;this.Ne=a.Ne;this.lC=a.lC;this.sb=null;this.Uh=!0}XK.prototype.fetch=function(a){function b(a){return ph(a)}var c=this;a=(new Sx).$f(this.lC).jf(a).dh(this.sb);return Px(this.Ne,a).tap(function(a){c.sb=a.Rb();c.Uh=!!c.sb}).tap(function(a){a=(a.Md()||[]).map(function(a){return a.rb()}).filter(Boolean);Ye(c.Ba,a)}).then(function(a){return(a.Md()||[]).map(b)})};XK.prototype.Tk=function(){return this.Uh};function YK(a){this.Ba=a.Ba;this.fb=a.fb;this.Fa=a.Fa;this.sb=null;this.Uh=!0}YK.prototype.fetch=function(a){function b(a){return a.Md()||[]}var c=this;a=rh((new qh).dh(this.sb).$f(af(this.Fa))).jf(a);return this.fb.Gq(a).tap(function(a){c.sb=a.Rb();c.Uh=!!c.sb}).tap(function(a){a=b(a).map(function(a){return a.rb()});Ye(c.Ba,a)}).then(b)};YK.prototype.Tk=function(){return this.Uh};function ZK(a){this.Ln=this.ca=void 0;this.rn=a.jb===a.Fa.Ca();this.Ba=a.Ba;this.fa=a.fa;this.yE=this.ve=!1;this.Fa=a.Fa;this.Xj=a.Xj;this.fb=a.fb;this.qq=!1;this.De=[];this.ja=new HK;this.tb=a.tb;this.Y=a.Y;this.ia=a.ia;this.Sl=a.Sl;this.ld=a.ld;this.listenTo(this.ld,"create",this.tS);this.jb=a.jb;this.re=a.re;this.St=a.St;this.Ii=a.Ii;this.Ie=a.Ie;this.view=new $K({disabled:a.disabled,model:this.Fa,Y:this.Y,Ii:a.Ii,Ap:a.Ap,bd:Ce(this.fa)});this.listenTo(this.view,{upload:this.ew,share:this.tR})}
e=ZK.prototype;e.listenTo=Backbone.Events.listenTo;e.off=Backbone.Events.off;e.on=Backbone.Events.on;e.stopListening=Backbone.Events.stopListening;e.trigger=Backbone.Events.trigger;e.te=function(){this.uF=void 0;this.td&&(wJ(this.ja,this.td.$el),this.td=void 0)};e.fetch=function(a){a=a||25;this.ve||this.qq||!this.Tk()||(this.ve=!0,this.view.Sd(!0),this.St.fetch(a).bind(this).then(this.LO).catch(this.MO))};e.Ip=function(a){a=this.ja.zy(a);isFinite(a)?this.fetch(a):this.fetch()};e.getElement=function(){return this.view.$el};
function aL(a,b){for(var c=0;c<a.De.length;c++){var d=a.De[c];if(d.model===b||d.Bc===b)return d}return null}e.Dg=function(){return this.ja.Dg()};function bL(a){return a.ld.iu(a.Fa.G()).filter(function(b){return!aL(a,b)}).filter(function(b){return b.nd&&!b.media?!1:b.nd&&b.rb()?-1===a.Sl.indexOf(b.rb().G()):!0})}e.Tk=function(){return this.St.Tk()};
e.moveItem=function(a,b,c){var d=aL(this,a);d&&(this.te(),this.view.Pl(1===this.De.length),b=Tg(Ug(new Sg,af(this.Fa)).KI([a.G()]),af(b)),P.settle([this.fb.fN(b),d.Ho(!0,c)]).then(function(b){b[0].isFulfilled()?this.removeItem(a):cL(this,a)}.bind(this)))};
e.sG=function(a){var b;if(a===this.uF)this.te();else{var c;c=(new OK({Yx:!!this.fa.ta.get(ee),dA:this.Fa!==fh,Fa:this.Fa,Xj:this.Xj,item:a,title:a.getName()||"",Y:this.Y,bd:Ce(this.fa)})).render();c.on({move:this.moveItem.bind(this,a),trash:this.lS.bind(this,a),download:this.xL.bind(this,a)});b=aL(this,a);this.te();c=(new dL({Te:!1,mk:!0,content:c.$el,Y:this.Y,target:b.$el})).render();c.on("close",this.te,this);this.td=c;vJ(this.ja,b.$el,this.td.$el);this.td.show();this.uF=a;this.re&&this.re(this.td.getContent(),
!0)}};e.LO=function(a){this.yE=!0;this.ve=!1;eL(this,bL(this).map(this.oH,this));eL(this,a.filter(this.OM,this).map(this.IQ,this));this.view.Sd(!1);this.view.Pl(1>this.De.length);a=this.view;var b=a.$(".uploadsFolderContentUploadButton");a.bd?a.Ii&&1>b.length&&(b=$(a.CS({label:a.Y.format("objectPanelUploadsPanelUploadButtonLabel")})),b.prop("disabled",a.disabled),a.$el.prepend(b)):(b.remove(),b=$(a.Yz({label:Nc(a.Y)})),a.$el.prepend(b));this.trigger("fetch")};
e.OM=function(a){function b(a){var b="MEDIA"===a.hb(),c=a.rb();a="FONT"!==a.rb().hb();return b&&(!c||a)}var c=this;return function(a){return c.De.every(function(b){return b.Bc&&b.Bc.rb()?b.Bc.rb().G()!==a.G():!0})}(a)&&-1===c.Sl.indexOf(a.G())&&b(a)};
function fL(a){function b(){if(!f.rn)return f.ia.Ca(f.Fa.Ca())}function c(){gL(f.view,!1)}function d(a,b){a&&(f.rn||b)&&(f.Ln=b?b:void 0,f.ca=a,gL(f.view,!0),hL(f.view,!1,iL(f)))}var f=a,g;g=(new th).$f(af(a.Fa));a.fb.qb(g).then(function(a){var g=a.qb();a=a.xg();g&&(f.Fa=g);g="ADMIN"===a;a="OWNER"===a;var l=f.Fa.xc(),m=f.Fa===eh;!g&&!a||l||m?c():P.all([f.ia.na(f.Fa.na()),b()]).spread(d).catch(c)}).catch(c)}e.MO=function(){this.ve=!1;this.qq=!0;this.view.Sd(!1);this.view.Ql(!0)};
e.kA=function(a){this.removeItem(a);this.trigger("trash",a.G())};e.MP=function(a){var b=aL(this,a);b&&(b.model=b.model.Li({id:a.rb().G()}),b.Wf(!1),UK(b,!0))};function eL(a,b){var c=$(b.map(function(a){return a.el}));a.De=a.De.concat(b);MK("uploadsItemAppearing",c,2200);a.ja.push(c);b.forEach(function(a){a.show()})}e.remove=function(){this.De.forEach(function(a){a.remove()});this.Pj&&this.Pj.remove();this.stopListening()};
e.removeItem=function(a){a=aL(this,a);a.remove();this.De.splice(this.De.indexOf(a),1);this.view.Pl(1>this.De.length)};e.render=function(){this.view.render();this.view.$el.prepend(this.ja.$el);this.view.Sd(!0);return this};e.IQ=function(a){a=(new SK({Ba:this.Ba,model:a,En:!0,Ie:this.Ie,Y:this.Y,root:$(window)})).render();this.listenTo(a,{infoClick:this.sG,pickedUp:this.trigger.bind(this,"pickedUp")});return a};
e.oH=function(a){var b=(new SK({Ba:this.Ba,model:ph({id:"",thumbnail:{height:a.dc().height,url:a.dn(),width:a.dc().width},type:"MEDIA"}),En:!1,Ie:!0,Y:this.Y,root:$(window),Bc:a})).render();this.listenTo(b,{infoClick:this.sG,pickedUp:this.trigger.bind(this,"pickedUp")});this.listenTo(a,"start",this.MP);return b};function cL(a,b){if(b=aL(a,b))b.Ho(!1),a.view.Pl(!1)}e.tS=function(){function a(a){a.Wf(!0)}var b=bL(this);!this.yE||1>b.length||(b=b.map(this.oH,this),b.forEach(a),jL(this,b),this.view.Pl(!1))};
function jL(a,b){var c=$(b.map(function(a){return a.el}));a.De=b.concat(a.De);MK("uploadsItemUploading",c,600);a.ja.unshift(c);b.forEach(function(a){a.show()})}e.ew=function(a){var b=this.Fa===fh;this.Ii&&(b?0<a.length&&this.Ba.pp(this.Fa,"button").upload(a):this.Ba.ew(this.Fa,a,"button"))};
e.tR=function(a,b){function c(a,b){"UNSHARED"===a?iL(d)&&(d.rn||window.confirm(d.Y.format("objectPanelUploadsPanelSharePopOverUnshareConfirmation")))&&(kL(d,d.ca.G(),!1),d.view.Wf(!d.rn),d.trigger("disabled",!d.rn)):(kL(d,a,b),d.view.Wf(!1),d.trigger("disabled",!1))}var d=this,f;this.ca&&(f=d.rn?this.Y.format("objectPanelUploadsPanelSharePopOverPrivateLabel"):Pc(this.Y,this.Ln.gb()||this.Ln.Cf()),f=[{id:"UNSHARED",SB:!iL(this),title:f},{id:this.ca.G(),SB:iL(this),title:this.ca.gb()||this.Y.format("objectPanelUploadsPanelSharePopOverPublicLabel")}],
this.Pj&&(d.stopListening(this.Pj),this.Pj.remove()),this.Pj=new lL({title:this.Y.format("objectPanelUploadsPanelSharePopOverTitle")}),mL(this.Pj,f),this.Pj.vo(a,b),this.listenTo(this.Pj,"change",c))};function kL(a,b,c){function d(){hL(f.view,!1,iL(f))}var f=a;c=c?"EDITOR":void 0;hL(f.view,!0);b=mh(a.Fa,b,c);a.fb.aC(b).then(function(a){a&&a.qb()&&a.qb().G()===f.Fa.G()?(f.Fa=a.qb(),hL(f.view,!1,iL(f))):d()}).catch(d)}
function iL(a){return 0<(a.Fa.Kd()&&a.Fa.Kd().getEntries()||[]).filter(function(b){return a.ca&&b.na()===a.ca.G()&&"EDITOR"===b.xg()}).length}e.lS=function(a){function b(){return c().then(function(a){return Pv(g.tb,a.G(),a.Aa().getVersion())})}function c(){return P.try(function(){return a.rb()||Jv(g.tb,a.G(),jw(new lu))})}function d(b){b.isFulfilled()?g.kA(a):cL(g,a)}var f=aL(this,a),g=this;f&&(this.te(),P.settle([b(),f.Ho(!0)]).get(0).then(d))};
e.xL=function(a){var b=this;(function(){var c=a.G(),d=new lu;d.includeImportFileUrl=!0;d=jw(d);return Jv(b.tb,c,d)})().then(function(a){a=a.Aa().importFileUrl;var b=$("#canvaDownloadIframe");1>b.length&&(b=$("\x3ciframe /\x3e",{id:"canvaDownloadIframe"}).appendTo("body"));b.attr("src",a)})};function $K(){}$K=Backbone.View.extend({className:"uploadsFolderContent"});e=$K.prototype;e.events=function(){return{"change .uploadsFolderContentFileInput":this.uO,"click .uploadsFolderContentUploadButton":this.IP,"click .uploadsFolderContentShareButton:not(.buttonSpinner)":this.tP}};
e.initialize=function(a){this.HJ="image/jpeg,image/png,image/raw,image/svg+xml,image/x-fuji-raf";this.Ve=new jJ;this.Ii=a.Ii;this.disabled=a.disabled;this.Y=a.Y;this.Ap=a.Ap||this.Y.format("objectPanelUploadsPanelDragIn");this.model=a.model;this.bd=a.bd};
e.render=function(){this.bd&&this.$el.html(this.template({accept:this.HJ}));this.$el.toggleClass("uploadsFolderContentChristmas",-1<["christmas","xmas","x-mas"].indexOf(this.model.getName()?this.model.getName().toLowerCase():""));this.$el.append(this.Ve.render().$el);this.Wf(this.disabled);return this};e.uO=function(){var a;a=this.$(".uploadsFolderContentFileInput")[0].files;a.length&&this.trigger("upload",a)};
e.tP=function(a){var b=a.target.getBoundingClientRect();this.trigger("share",b.right,b.top+b.height/2);$(a.target).blur()};e.IP=function(){this.$(".uploadsFolderContentFileInput").click()};e.Sd=function(a){a?this.Ve.show():this.Ve.hide()};e.Wf=function(a){this.disabled=a;this.$el.toggleClass("uploadsFolderContentDisabled",a);this.$el.find(".uploadsFolderContentUploadButton").prop("disabled",a)};
e.Pl=function(a){var b=this.$(".uploadsFolderContentEmptyMessage");a&&this.bd?1>b.length&&this.$el.append(this.ty({emptyPrompt:this.Ap})):b.remove();this.$el.toggleClass("uploadsFolderContentEmpty",a)};e.Ql=function(a){var b=this.$(".uploadsFolderContentErrorMessage");a?1>b.length&&this.$el.append(this.Im({message:this.Y.format("objectPanelUploadsPanelFolderContentLoadingError")})):b.remove()};
function gL(a,b){var c=a.$(".uploadsFolderContentShareButton");b?1>c.length&&a.$el.prepend(a.sR()):c.remove();a.$el.toggleClass("uploadsFolderContentShareable",b)}function hL(a,b,c){a=a.$(".uploadsFolderContentShareButton");a.toggleClass("buttonSpinner",b);a.toggleClass("uploadsFolderContentShareButtonShared",c)}e.ty=_.template('\x3cp class\x3d"uploadsFolderContentEmptyMessage"\x3e\x3c%- emptyPrompt %\x3e\x3c/p\x3e');e.Im=_.template('\x3cp class\x3d"uploadsFolderContentErrorMessage"\x3e\x3c%- message %\x3e\x3c/p\x3e');
e.template=_.template('\x3cinput class\x3d"uploadsFolderContentFileInput" type\x3d"file" accept\x3d"\x3c%- accept %\x3e" multiple\x3e\x3cdiv class\x3d"uploadsFolderContentDropOverlay"\x3e\x3c/div\x3e\x3cdiv class\x3d"uploadsFolderDropIcon"\x3e\x3c/div\x3e');e.sR=_.template('\x3cbutton class\x3d"button buttonBlock uploadsFolderContentShareButton"\x3e\x3cspan class\x3d"spinner"\x3e\x3c/span\x3e\x3c/button\x3e');e.CS=_.template('\x3cbutton class\x3d"button buttonBlock uploadsFolderContentUploadButton"\x3e\x3c%- label %\x3e\x3c/button\x3e');
e.Yz=_.template('\x3cp class\x3d"feedback feedback--error"\x3e\x3c%\x3d label %\x3e\x3c/p\x3e');function nL(){}nL=Backbone.View.extend({className:"uploadsFolder"});e=nL.prototype;e.close=function(){this.$el.removeClass("uploadsFolderOpen")};
e.events=function(){return{"blur .uploadsFolderName \x3e input":this.aP,"click .uploadsFolderName \x3e span":this.$O,"click .uploadsFolderThumbnail":this.vG,dragenter:this.nO,dragleave:this.oO,dragstart:this.il,drop:this.Vh,"mouseover .uploadsFolderThumbnail":this.HP,"mouseout .uploadsFolderThumbnail":this.GP,"focus .uploadsFolderName \x3e input":this.bP,"keypress .uploadsFolderName \x3e input":this.cP}};
e.initialize=function(a){this.Te=a.Te;this.bp=a.bp;this.bb=a.bb;this.disabled=!1;this.model=a.model;this.Gn=!1;this.Y=a.Y;this.kv=-1;this.nH=!1;this.Ie=a.Ie;this.ba=a.ba};function oL(a,b,c){a=a.el.getBoundingClientRect();return b>=a.left&&b<=a.right&&c>=a.top&&c<=a.bottom}
function pL(a){function b(){return k.model.G().split("").reduce(function(a,b){return a+b.charCodeAt(0)},0)}var c="rgba(159, 109, 218, 1);rgba(250, 204, 51, 1);rgba(235, 78, 135, 1);rgba(80, 154, 210, 1);rgba(243, 149, 48, 1);rgba(226, 70, 51, 1);rgba(126, 198, 100, 1);rgba(49, 70, 146, 1)".split(";"),d=!!a.model.G(),f=!!a.model.lc(),g=!!a.model.xc(),h="LOGOS"===a.model.xc(),k=a;return f?"":h&&a.bb?"#"+a.bb:d&&!g?c[b()%c.length]:"rgba(217, 218, 221, 1)"}
function qL(a,b,c){return a.Te&&oL(a,b,c)&&!a.qn()}e.qn=function(){return this.$el.hasClass("uploadsFolderOpen")};e.nO=function(a){this.Te&&(this.$el.addClass("uploadsFolderDropping"),this.qn()||(this.ba.clearTimeout(this.kv),this.kv=this.ba.setTimeout(this.vG.bind(this,a),1E3)))};e.oO=function(a){oL(this,a.originalEvent.clientX,a.originalEvent.clientY)||(this.ba.clearTimeout(this.kv),this.kv=-1,this.$el.removeClass("uploadsFolderDropping"))};e.il=function(a){a.preventDefault();return!1};
e.Vh=function(a){var b;try{b=a.originalEvent.dataTransfer.files}catch(c){}this.$el.removeClass("uploadsFolderDropping");b&&b.length&&this.Te&&!this.disabled&&(a.preventDefault(),a.stopPropagation(),this.trigger("drop",this.model,b))};e.$O=function(){this.disabled||(this.bp?rL(this,!0):this.trigger("click",this.model))};e.aP=function(){this.Gn&&(this.Gn=!1,sL(this))};e.bP=function(){this.Gn=!0};e.cP=function(a){13===a.which&&sL(this)};
e.vG=function(a){this.disabled||(a=a.target.classList.contains("uploadsInfoButton"),this.trigger(a?"infoClick":"click",this.model))};e.HP=function(){this.$el.addClass("uploadsFolderHover")};e.GP=function(){this.$el.removeClass("uploadsFolderHover")};e.open=function(){this.$el.addClass("uploadsFolderOpen")};
e.render=function(){var a=!this.bp||this.disabled,b=new Vx(this.model,this.Y),c=this.model.xc();this.Gn=!1;this.$el.toggleClass("uploadsFolderAllowDrop",this.Te);this.$el.toggleClass("uploadsFolderStaticName",a);this.$el.attr("title",b.gb());c?this.$el.attr("data-system-folder",c):this.$el.removeAttr("data-system-folder");this.$el.html(this.template(this.Qf()));this.vr();rL(this,this.nH);return this};
e.vr=function(){function a(){c.off("load",a);f.$el.removeClass("uploadsFolderLoading")}var b,c,d=!1,f=this;b=this.$(".uploadsFolderThumbnail");b.addClass(function(){var a=f.model.lc();return a&&a.D()>a.w()?"uploadsFolderThumbnailPortrait":"uploadsFolderThumbnailLandscape"}());b.css("background-color",pL(this));b.toggleClass("uploadsFolderThumbnailDefault",!this.model.lc());d="LOGOS"===this.model.xc();c=b.children("img");c.on("load",a);Rt(St,c,function(){var a=f.model.lc();return a?a.ma():d?"https://static.canva.com/static/images/logos_folder_thumbnail_transparent_bg.png":
"https://static.canva.com/static/images/default_folder_thumbnail_transparent_bg.png"}())};e.Qf=function(){return _.extend({},this.model,{name:(new Vx(this.model,this.Y)).gb(),shared:this.model.shared,showControls:this.Ie})};e.show=function(){this.$el.addClass("uploadsFolderLoading")};e.$C=function(){var a=this;this.$el.addClass("uploadsFolderZoomIn");this.ba.setTimeout(function(){a.$el.removeClass("uploadsFolderTransparent");a.$el.removeClass("uploadsFolderZoomIn")},500)};e.template=_.template('\x3cdiv class\x3d"uploadsFolderThumbnail"\x3e\x3cimg\x3e\x3c% if (showControls) { %\x3e\x3cdiv class\x3d"uploadsControls"\x3e\x3c% if (shared) { %\x3e\x3cspan class\x3d"uploadsInfoShared"\x3eshared\x3c/span\x3e\x3c% } %\x3e\x3cbutton class\x3d"button buttonPlain uploadsInfoButton"\x3ei\x3c/button\x3e\x3c/div\x3e\x3c% } %\x3e\x3c/div\x3e\x3cdiv class\x3d"uploadsFolderName"\x3e\x3cinput type\x3d"text" value\x3d"\x3c%- name %\x3e"\x3e\x3cspan\x3e\x3c%- name %\x3e\x3c/span\x3e\x3c/div\x3e');
e.Wf=function(a){this.disabled=a};e.Ho=P.method(function(a){var b=this;return a?P.try(function(){b.$el.addClass("doNotTransition");b.$el.height(b.$el.height())}).delay(G.wb).then(function(){b.$el.removeClass("doNotTransition");b.$el.addClass("uploadsFolderHidden");b.$el.height("")}).delay(300):(this.$el.removeClass("uploadsFolderHidden"),P.resolve())});
function rL(a,b){a.Gn=!1;a.nH=b;a.$el.toggleClass("uploadsFolderRenaming",b);b&&(b=a.$(".uploadsFolderName \x3e input"),b.val(a.model.getName()),b.select(),a.Gn=!0)}function tL(a){var b;b=a.$(".uploadsFolderThumbnail");b.css("background-color","rgba(217, 218, 221, 1)");a.ba.setTimeout(function(){b.css("background-color",pL(a))},G.wb)}function sL(a){var b=Oc(a.Y),b=a.$(".uploadsFolderName \x3e input").val().trim()||b;a.trigger("rename",a.model,b)};function uL(a){this.bb=a.bb;this.Ba=a.Ba;this.sb=null;this.by=this.tt=void 0;this.ug=a.ug;this.Bp=a.Bp;this.tg=a.tg;this.fa=a.fa;this.ve=!1;this.fb=a.fb;this.Ne=a.Ne;this.af=[];this.qq=!1;this.ja=new HK;this.listenTo(this.ja,"redraw",this.RO);this.tb=a.tb;this.C=a.C;this.bA=!0;this.hv=this.hv.bind(this);this.ia=a.ia;this.Sl=[];this.ld=a.ld;this.jb=a.jb;this.mt=[];this.ba=a.ba;this.re=a.re;this.Mb=a.Mb;this.view=new vL({Y:Qb(this.C),wi:!!this.fa.ta.get(ie)&&!this.tg,root:a.root});this.listenTo(this.view,
{close:this.gO,drop:this.Vh,drag:this.mO,dragScroll:this.pO,folderUpgradeCta:this.CO});this.tg&&(a=new wL({C:this.C}),this.listenTo(a,"click",this.dP),this.wj=a)}function xL(a,b,c){return a.af.filter(function(a){return!yL(this,a.model)&&qL(a,b,c)}.bind(a))[0]}e=uL.prototype;e.CO=function(){var a=this.Mb;a.analytics.kd(Ai("object_panel_uploads","top","photo_folders"));Dk(a,zL)};e.gO=function(){this.te()};
e.mO=function(a,b){function c(){f&&d.view.Ak.addClass("uploadsFolderItemCloneOverTarget").removeClass("uploadsFolderItemCloneNotOverTarget")}var d=this;AL(this,a,b);var f=xL(this,a,b);f!==this.tt&&(this.tt&&this.view.Ak.addClass("uploadsFolderItemCloneNotOverTarget").removeClass("uploadsFolderItemCloneOverTarget"),this.tt=f,this.by&&clearTimeout(this.by),this.by=setTimeout(c,300))};e.pO=function(a){this.wA&&this.trigger("dragScroll",a)};
e.Vh=function(a,b){function c(){BL(f.view,"uploadsFolderItemCloneDropping");d.$el.toggleClass("uploadsFolderDroppedOn",!0);setTimeout(function(){d.$el.toggleClass("uploadsFolderDroppedOn",!1)},500)}var d,f=this,g=this.wA,h=this.OG,k=this.NG;AL(this,-1,-1);this.wA=this.NG=this.OG=this.tt=void 0;a=(d=xL(this,a,b))&&d.model;g&&a&&a!==k&&!yL(f,a)?(c(),h.moveItem(g,a,!0)):f.yj||BL(this.view,"uploadsFolderItemCloneHidden")};e.off=Backbone.Events.off;e.listenTo=Backbone.Events.listenTo;e.on=Backbone.Events.on;
e.once=Backbone.Events.once;e.stopListening=Backbone.Events.stopListening;e.trigger=Backbone.Events.trigger;e.te=function(){var a;this.tF=void 0;this.td&&(wJ(this.ja,this.td.$el),this.KM=this.td.Pg,this.td=void 0,CL(this)||this.Ao());this.yj&&(a=this.qb(this.yj),this.Qm.remove(),this.Qm=void 0,DL(this,a).close(),this.yj=void 0,EL(this.view,!1))};
e.GD=function(a){var b=nL,c=a.Ca()===this.jb,d=!!a.xc();a=new b({Te:!0,bp:c&&!d,bb:this.bb,model:a,Y:Qb(this.C),Ie:!a.xc(),ba:this.ba});this.listenTo(a,{click:this.jA,drop:this.eC,infoClick:this.zO,rename:this.HQ});a.render().show();return a};e.vx=function(a){var b;b=(new yh).Zj(a.getName());b.type="MEDIA";b=b.am(this.jb);this.fb.vx(b).then(this.wO.bind(this,a)).catch(this.xO.bind(this,a))};
e.wx=function(a){function b(b,d,h,k){return new ZK({Ba:c.Ba,fa:c.fa,Fa:a,Xj:c.aj().filter(function(a){return FL(c,a)}),fb:c.fb,tb:c.tb,Y:Qb(c.C),ia:c.ia,Sl:c.Sl,ld:c.ld,jb:c.jb,disabled:yL(c,a),re:c.re,St:b,Ii:d,Ie:h,Ap:k})}var c=this,d;switch(a){case eh:d=new GK({Ba:c.Ba,ug:c.ug,Y:Qb(c.C),bd:Ce(c.fa)});break;case fh:d=b(new WK({Ba:this.Ba,tb:this.tb}),!0,!0);break;case gh:d=b(new XK({Ba:this.Ba,Ne:this.Ne,lC:"/media/unlimited_use_purchases"}),!1,!1,Qb(this.C).format("objectPanelUploadsPanelPurchasedUnlimitedUseFolderEmpty"));
break;default:d=b(new YK({Ba:this.Ba,fb:this.fb,Fa:a}),!0,!0),this.listenTo(d,{trash:c.kA,pickedUp:c.KO.bind(c,d,a),disabled:c.yO.bind(c,a)}),c.Bp&&fL(d)}d.fetch();d.render();return d};
e.fetch=function(a){if(!this.ve&&!this.qq&&this.bA)if(this.tg){var b=wh((new vh).dh(this.sb),["MEDIA"]);b.includeSystemFolders=!0;b.includeThumbnails=!0;a=b.am(this.jb).jf(a||25);this.ve=!0;this.view.Sd(!0);this.fb.BE(a).bind(this).then(this.EO).catch(this.FO)}else this.qb(fh.G())||GL(this,fh),this.qb(gh.G())||HL(this),this.qb(eh.G())||GL(this,eh),this.bA=!1,this.view.Sd(!1),this.trigger("fetch")};e.Ip=function(a){a=this.ja.zy(a);isFinite(a)?this.fetch(a):this.fetch(25)};
e.qb=function(a){return this.aj().filter(function(b){return b.G()===a})[0]};e.aj=function(){return this.af.map(function(a){return a.model})};e.Dg=function(){return this.ja.Dg()};e.xc=function(a){return this.aj().filter(function(b){return(b=b.xc())&&b===a})[0]};
function CL(a){function b(){var a=DL(h,eh);return!a||g.eq(2).is(a.$el)||g.eq(3).is(a.$el)}function c(a){return a.childNodes.length}function d(){var a=h.xc("UNFOLDERED"),a=a&&DL(h,a);return!a||g.eq(1).is(a.$el)||g.eq(2).is(a.$el)}function f(){var a=h.xc("LOGOS"),a=a&&DL(h,a);return!a||g.eq(1).is(a.$el)}var g=a.ja.Md(),h=a;return function(){var a=h.ja.$el.find(".uploadsLayoutColumn").get().map(c),b=[].concat(a).sort().reverse();if(b=_.isEqual(a,b))b=2>Math.max.apply(Math,a)-Math.min.apply(Math,a);return b}()&&
b()&&(!h.wj||g.first().is(h.wj.$el))&&d()&&f()}e.getElement=function(){return this.view.$el};function DL(a,b){return a.af.filter(function(a){return a.model===b})[0]}function IL(a){return a.yj?a.qb(a.yj):void 0}function yL(a,b){return _.contains(a.mt,b.G())}function FL(a,b){var c=-1!==_.values(hh).map(function(a){return a.G()}).indexOf(b.G());return!yL(a,b)&&!c}
e.jA=function(a){a.G()===this.yj?this.te():(this.te(),DL(this,a).open(),EL(this.view,!0),this.Qm=this.wx(a),this.yj=a.G(),JL(this,{mk:!1,content:this.Qm.getElement(),Fa:a}),this.trigger("open"),this.re(DL(this,a).$el))};e.wO=function(a,b){b=b.qb();a=DL(this,a);a.model=b;a.Wf(!1);a.render();tL(a)};
e.xO=function(a,b){a=Ca(DL(this,a));window.alert(b instanceof Array&&b[0]&&"quota exceeded"==b[0].error?Qb(this.C).format("objectPanelUploadsPanelCreateFolderQuotaExceededError"):Qb(this.C).format("objectPanelUploadsPanelCreateFolderError"));this.stopListening(a);this.af.splice(this.af.indexOf(a),1);this.ja.remove(a.$el);this.Ao()};
e.zO=function(a){var b=a.G()===this.tF;this.te();b||(this.tF=a.G(),b=(new NK({Fa:a,C:this.C,jb:this.jb,bd:Ce(this.fa)})).render(),b.on("trash",this.kS.bind(this,a)),JL(this,{mk:!0,content:b.$el,Fa:a}),this.re(this.td.getContent(),!0))};e.BO=function(a){var b;b=this.qb(a.G());b=DL(this,b);b.model=a;b.render()};
e.EO=function(a){var b=a.aj();b.length&&KL(this,b);this.qb(eh.G())||GL(this,eh);this.qb(gh.G())||HL(this);this.tg&&this.wj&&this.ja.push(this.wj.$el);this.sb=a.Rb();this.ve=!1;this.bA=!!this.sb;this.Ao();this.view.Sd(!1);this.trigger("fetch")};e.FO=function(){this.ve=!1;this.qq=!0;this.view.Sd(!1);this.view.Ql(!0)};e.yO=function(a,b){b?this.mt.push(a.G()):this.mt=_.without(this.mt,a.G())};e.kA=function(a){this.Sl.push(a)};e.KO=function(a,b,c,d){this.OG=a;this.NG=b;this.wA=c;this.view.Ak=d};
e.RO=function(){this.te();this.Ao()};e.dP=function(){var a=this,b;b=function(){var b;b=Zg({name:Oc(Qb(a.C)),user:a.jb});b=a.GD(b);b.$el.addClass("uploadsFolderTransparent");a.af.push(b);a.ja.push(b.$el);b.Wf(!0);rL(b,!0);return b}();this.re(b.$el).then(function(){b.$C()});null!=De&&De.track("new_upload_folder")};e.hv=function(){this.ja.Ia()};e.xG=function(){var a,b;b=(a=this.tg?this.xc("UNFOLDERED"):fh)&&a.G()===this.yj;a&&!b&&this.jA(a)};
function GL(a,b){b=new nL({Te:!1,bp:!1,bb:a.bb,model:b,Y:Qb(a.C),Ie:!1,ba:a.ba});a.listenTo(b,"click",a.jA);b.render().show();a.af.push(b);a.ja.push(b.$el)}function HL(a){(a.fa.ta.get(le)||a.fa.ta.get(ve))&&GL(a,gh)}function KL(a,b){b=b.map(a.GD,a);a.af=a.af.concat(b);b=$(b.map(function(a){return a.el}));a.ja.push(b)}e.remove=function(){$(window).off("resize",this.hv);this.stopListening();this.view.remove()};
e.HQ=function(a,b){var c,d;c=a.Li({name:b});d=DL(this,a);d.model=c;d.render();rL(d,!1);a.G()?(b=(new jh).$f(af(a)).Zj(b),this.fb.aC(b).catch(this.BO.bind(this,a))):this.vx(c)};e.render=function(){this.wj&&this.wj.render();this.view.render();this.view.$el.prepend(this.ja.$el);var a=this.view;a.wi&&a.$el.prepend(a.BS({folderUpgradePrompt:a.Y.format("objectPanelUploadsPanelFolderUpgradePrompt"),learnMoreButtonLabel:a.Y.format("objectPanelUploadsPanelLearnMoreButtonLabel")}));return this};
function AL(a,b,c){a.af.forEach(function(a){yL(this,a.model)||a.$el.toggleClass("uploadsFolderDropping",qL(a,b,c))}.bind(a))}e.show=function(){$(window).on("resize",this.hv)};function JL(a,b){var c=b.Fa===eh,d=DL(a,b.Fa).$el;a.td=(new dL({Te:!c,mk:b.mk,content:b.content,Y:Qb(a.C),Pg:a.KM,target:d})).render();a.td.on({close:a.te,drop:a.eC.bind(a,b.Fa)},a);vJ(a.ja,d,a.td.$el);a.td.show()}
e.Ao=function(){function a(){var a=f.xc("LOGOS");if(a=a&&DL(f,a))g.splice(g.indexOf(a.el),1),g.unshift(a.el)}function b(){var a=DL(f,eh);a&&(g.splice(g.indexOf(a.el),1),g.unshift(a.el))}function c(){var a=DL(f,gh);a&&(g.splice(g.indexOf(a.el),1),g.unshift(a.el))}function d(){var a=f.xc("UNFOLDERED");if(a=a&&DL(f,a))g.splice(g.indexOf(a.el),1),g.unshift(a.el)}var f=this;if(this.tg&&!this.td){var g=this.ja.Md().detach().toArray();b();c();d();a();g.splice(g.indexOf(f.wj.el),1);g.unshift(f.wj.el);this.ja.push($(g))}};
e.kS=function(a){function b(){var b=a.itemCount,d=Qb(c.C);return window.confirm(d.format("objectPanelUploadsPanelTrashFolderConfirmation",b))}var c=this,d;0<a.itemCount&&!b()||(this.te(),d=lh((new jh).$f(af(a))),P.settle([this.fb.aC(d),DL(c,a).Ho(!0).bind(c).then(c.Ao)]).then(function(b){b[0].isFulfilled()?(b=DL(this,a),b.remove(),this.stopListening(b),this.af.splice(this.af.indexOf(b),1)):(DL(this,a).Ho(!1),this.Ao())}.bind(this)))};
e.eC=function(a,b,c){Ce(this.fa)&&(FL(this,a)?this.Ba.ew(a,b,c||"drop"):yL(this,a)||0<b.length&&this.Ba.pp(a,c||"drop").upload(b))};function vL(){}vL=Backbone.View.extend({className:"uploadsFolders"});vL.prototype.initialize=function(a){this.Ve=new jJ;this.Ak=$();this.Y=a.Y;this.root=a.root||$(window);this.wi=a.wi};vL.prototype.events=function(){return{mousedown:this.jl,"click .folderUpgradeCta .buttonLearnMore":this.SN}};vL.prototype.SN=function(){this.trigger("folderUpgradeCta")};vL.mJ=50;vL.AJ=100;vL.BJ=5;e=vL.prototype;
e.jl=function(a){function b(){function b(a){var h=a.clientX;a=a.clientY;d.trigger("drag",h,a);h<vL.mJ?(f||d.trigger("close"),f=!0,d.trigger("dragScroll",0)):h>g?d.trigger("dragScroll",0):Math.abs(l-a)>vL.BJ?d.trigger("dragScroll",c(h,a)):d.trigger("dragScroll",0);return!1}function k(a){d.root.off("mousemove",b);d.root.off("mouseup",k);d.trigger("dragScroll",0);d.trigger("drop",a.clientX,a.clientY)}var l=a.clientY;d.root.on("mousemove",b);d.root.on("mouseup",k);return!1}function c(a,b){var c;c=vL.AJ;
b=new M(a,b,0,0);a=d.$el.parent(".scrollPane").get(0).getBoundingClientRect();var f=df(a);a=b.N()-(f.N()+c);c=b.Ga()-(f.Ga()-c);return 0>a?Math.max(Math.floor(a/10),-10):0<c?Math.min(Math.ceil(c/10),10):0}var d=this,f=!1,g=this.el.getBoundingClientRect().right;return function(){var b=0<$(a.target).parents(".uploadsFolderItemMovable").length,c=$(a.target).hasClass("uploadsFolderItemMovable");return a.which==G.oe||!(c||b)}()||b()};e.render=function(){this.Ve.render();this.$el.append(this.Ve.$el);return this};
function BL(a,b){var c;c=a.Ak.clone();c.removeClass().addClass(b);b=a.Ak.get(0).getBoundingClientRect();c.css("top",b.top+"px").css("left",b.left+"px").css("width",b.width+"px").css("height",b.height+"px");$("body").append(c);a.Ak.remove();a.Ak=$();setTimeout(function(){c.remove()},500)}e.Sd=function(a){a?this.Ve.show():this.Ve.hide()};e.Ql=function(a){var b=this.$(".uploadsFoldersError");a?1>b.length&&this.$el.append(this.Im({message:this.Y.format("objectPanelUploadsPanelFoldersFetchError")})):b.remove()};
function EL(a,b){a.$el.toggleClass("uploadsFoldersFolderOpen",b)}e.Im=_.template('\x3cp class\x3d"uploadsFoldersError"\x3e\x3c%- message %\x3e\x3c/p\x3e');e.BS=_.template('\x3cdiv class\x3d"folderUpgradeCta"\x3e\x3cspan class\x3d"folderUpgradePrompt"\x3e\x3c%- folderUpgradePrompt %\x3e\x3c/span\x3e\x3cbutton class\x3d"button buttonSmall buttonLearnMore"\x3e\x3c%- learnMoreButtonLabel %\x3e\x3c/button\x3e\x3c/div\x3e');function dL(){}dL=Backbone.View.extend({className:"inlineContent"});dL.uJ=14.14;e=dL.prototype;e.events=function(){return{"click .inlineContentClose":this.trigger.bind(this,"close"),drop:this.Vh}};e.initialize=function(a){this.Te=a.Te;this.aD=!1;this.mk=!!a.mk;this.content=a.content;this.Y=a.Y;this.Pg=a.Pg;this.target=a.target};e.getContent=function(){return this.content};
e.Vh=function(a){var b;try{b=a.originalEvent.dataTransfer.files}catch(c){}b&&b.length&&this.Te&&(a.preventDefault(),a.stopPropagation(),this.trigger("drop",b))};
function LL(a){function b(){var a=dL.uJ/2,b=d.target.offset().left+d.target.outerWidth()/2,f=d.$el.offset().left;c(b-f-a)}function c(a){d.Pg=a;f.css("transform","translateX("+a+"px) rotate(-45deg)")}var d=a,f;f=a.$(".inlineContentPointer");f.addClass("doNotTransition");void 0!==a.Pg?c(a.Pg):b();window.setTimeout(function(){f.removeClass("doNotTransition");b()},G.wb)}
e.render=function(){this.$el.html(this.template(this.Qf()));this.$el.toggleClass("inlineContentAppearing",!this.aD);this.$(".inlineContentContent").append(this.content);return this};e.Qf=function(){return{closeButton:this.mk,closeTitle:this.Y.format("objectPanelUploadsPanelInlineContentCloseTitle")}};e.show=function(){this.aD=!0;LL(this);ML(this)};
function ML(a){var b;P.try(function(){a.$el.height("auto");b=a.$el.height();a.$el.height(0)}).delay(G.wb).then(function(){a.$el.removeClass("inlineContentAppearing");a.$el.height(b)}).delay(200).then(function(){a.$el.addClass("doNotTransition");a.$el.height("")}).delay(G.wb).then(function(){a.$el.removeClass("doNotTransition")})}e.template=_.template('\x3cdiv class\x3d"inlineContentPointer"\x3e\x3c/div\x3e\x3c% if (closeButton) { %\x3e\x3ca class\x3d"inlineContentClose" href\x3d"#" title\x3d"\x3c%- closeTitle %\x3e"\x3e\x3c/a\x3e\x3c% } %\x3e\x3cdiv class\x3d"inlineContentContent"\x3e\x3c/div\x3e');function HK(){rJ.call(this,{Xd:function(a){return Math.floor(a/90)},lh:"uploadsLayoutColumn"});this.listenTo(this,{afterSplit:this.SJ,beforeMerge:this.XJ,beforeSplit:this.YJ})}HK.prototype=Object.create(rJ.prototype);HK.prototype.SJ=function(a,b){b.addClass("doNotTransition");b.each(function(b,d){d=$(d);d.css("margin-top",NL(a.eq(b))-d.offset().top)}.bind(this));b.height();b.removeClass("doNotTransition");setTimeout(function(){a.children().add(b).add(b.children()).css("margin-top","")},G.wb)};
HK.prototype.YJ=function(a){OL(a.children())};function NL(a){function b(a){return a.offset().top+a.outerHeight()}return a.children().length?b(a.children().last()):b(a)}function OL(a){var b=a.get().map(function(a){return window.getComputedStyle(a)});a.each(function(a,d){d.style.marginTop=d.previousSibling?Math.max(parseInt(b[a-1].marginBottom,10)||0,parseInt(b[a].marginTop,10)||0)+"px":(parseInt(b[a].marginTop,10)||0)+"px"})}
HK.prototype.XJ=function(a,b){var c;c=b.children();c.addClass("doNotTransition");OL(c);(function(){return b.get().map(function(a){return a.firstChild})})().forEach(function(b,c){b&&(b=$(b),b.css("margin-top",b.offset().top-NL(a.eq(c))).addClass("closing-transition").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){$(this).removeClass("closing-transition")}))}.bind(this));c.height();c.removeClass("doNotTransition");setTimeout(function(){c.css("margin-top",
"")},G.wb)};function wL(){}wL=Backbone.View.extend({className:"newUploadsFolder"});e=wL.prototype;e.events=function(){return{click:this.trigger.bind(this,"click")}};e.initialize=function(a){this.C=a.C};e.$C=function(){this.$el.addClass("newUploadsFolderAppearing");setTimeout(function(){this.$el.removeClass("newUploadsFolderAppearing")}.bind(this),450)};e.render=function(){var a=Qb(this.C);this.$el.html(this.template({label:a.format("objectPanelUploadsPanelNewFolderButtonLabel")}));return this};e.template=_.template('\x3cdiv class\x3d"newUploadsFolderThumbnail"\x3e\x3c/div\x3e\x3cdiv class\x3d"newUploadsFolderLabel"\x3e\x3c%- label %\x3e\x3c/div\x3e');function lB(a){this.Ba=a.Ba;this.Gm=0;this.element=$("\x3cdiv\x3e").addClass("layer scrollPane uploadsPanel");this.Mb=a.Mb;this.Pb=new uL({bb:a.bb,Ba:a.Ba,Bp:a.Bp,tg:a.tg,ug:a.ug,fa:a.fa,fb:a.fb,Ne:a.Ne,tb:a.tb,C:a.C,ia:a.ia,ld:a.ld,jb:a.jb,ba:a.ba,re:this.re.bind(this),Mb:this.Mb,wx:a.wx});this.Pb.on({fetch:this.ix,open:this.AO,dragScroll:this.DO},this);this.Pb.once("fetch",this.Pb.xG,this.Pb);this.MF=-1;Ce(a.fa)&&this.listenTo(a.BL,{dragenter:this.qO,dragleave:this.rO,drop:this.sO})}e=lB.prototype;
e.listenTo=Backbone.Events.listenTo;e.DO=function(a){a!==this.Gm?(this.Gm=a,this.Fv&&clearInterval(this.Fv),0!==this.Gm&&(this.Fv=setInterval(this.fQ.bind(this),10))):0===a&&this.Fv&&clearInterval(this.Fv)};
e.re=function(a,b){var c=this.element.height(),d=yJ(this.zl,a,{vz:!0}),f=c+d-a.outerHeight(!0);a=c/3;var g=null;this.element.find(".closing-transition").each(function(a,b){a=parseInt(b.style.marginTop,10)-10;if(yJ(this.zl,$(b),{vz:!0})<d&&0<a)return f-=a,d-=a,!1}.bind(this));if(b&&0<d)g=this.element.scrollTop()+d+10;else if(!b&&f>a||0>f)g=this.element.scrollTop()+f-a;return new P(function(a){null!==g?this.element.animate({scrollTop:g},200,"linear",a):a()}.bind(this))};
e.ix=function(){var a=this.Pb.Qm,b=a&&a.Dg();a&&a.Tk()&&b&&800>yJ(this.zl,b)&&0===this.Gm?this.Pb.Qm.Ip(800):(a=this.Pb.Dg())&&800>yJ(this.zl,a)&&this.Pb.Ip(800)};e.getElement=function(){return this.element};e.qO=function(){var a=IL(this.Pb);a&&a!==eh&&a!==gh||this.Pb.xG();this.element.addClass("uploadsPanelDropTarget")};e.rO=function(){PL(this)};function PL(a){a.element.removeClass("uploadsPanelDropTarget")}e.AO=function(){this.Pb.Qm.on("fetch",this.ix,this)};
e.qP=function(){var a=this.zl.Wi.scrollTop();a>this.MF&&this.ix();this.MF=a};e.fQ=function(){var a=1*this.element.scrollTop();(function(){return 0===a&&0>this.Gm})()||this.element.scrollTop(a+this.Gm)};e.render=function(){this.Pb.getElement().appendTo(this.element);this.Pb.render();return this};
e.show=function(){var a=Number(this.element.height()),b=800;isNaN(a)||(b+=a);var a=this.element,a=$(a),c=a.data("CANVA_SCROLL_TARGET");c||(c=new xJ(a),c.Hu(),a.data("CANVA_SCROLL_TARGET",c));this.zl=c;this.zl.on("scroll",this.qP,this);this.zl.Hu();this.Pb.show();this.Pb.Ip(b)};e.sO=function(a){PL(this);var b=this.Pb,c=IL(b);c&&b.eC(c,a,"drop")};function TK(){}TK=Backbone.View.extend({className:"uploadProgressBar"});TK.prototype.initialize=function(){this.LG=0};TK.prototype.render=function(){this.$el.html(this.template());VK(this,this.LG);return this};function VK(a,b){var c;c=a.$(".uploadProgressBarFill");c.css("transform","translateX("+Math.max(c.height()/a.$el.width()*100,b)+"%)");a.LG=b}TK.prototype.template=_.template('\x3cdiv class\x3d"uploadProgressBarFill"\x3e\x3c/div\x3e');function nB(a){this.$el=$('\x3cdiv class\x3d"uploadProgressPorthole"\x3e\x3cdiv class\x3d"uploadProgressPortholeFill"\x3e\x3c/div\x3e\x3c/div\x3e');this.root=a.root;this.root.append(this.$el);this.zA=this.Xh=0;this.Fo=Date.now();this.iI=0;this.ld=a.ld;this.Uc=a.Uc}e=nB.prototype;e.off=Backbone.Events.off;e.listenTo=Backbone.Events.listenTo;e.on=Backbone.Events.on;e.once=Backbone.Events.once;e.stopListening=Backbone.Events.stopListening;e.trigger=Backbone.Events.trigger;
e.start=function(){this.Fo=Date.now()-100;this.stopListening(this.ld);this.listenTo(this.ld,{create:this.PR,fail:function(a){QL(this,a,this.Uc)}})};e.PR=function(){this.zA=setTimeout(this.FF.bind(this),50)};
e.FF=function(){function a(){.025>Math.random()&&(c.$el.addClass("showRubberDucky"),setTimeout(function(){c.$el.removeClass("showRubberDucky")},9E3))}var b=sA(this.ld,this.Fo),c=this;clearTimeout(this.iI);clearTimeout(this.zA);this.root.addClass("showUploadsProgressPorthole");100===b?this.finish():(this.Xh=Math.round(.7*b+.05),RL(this),a(),this.zA=setTimeout(this.FF.bind(this),1E3))};
e.finish=function(){var a=this;this.iI=setTimeout(function(){a.Fo=Date.now()-2E3-100;a.Xh=100;RL(a);setTimeout(a.reset.bind(a),1100)},2E3)};function QL(a,b,c){var d=a.$el.find(".uploadProgressPortholeFill");d.addClass("uploadProgressPortholeFillFailure");setTimeout(function(){d.removeClass("uploadProgressPortholeFillFailure")},650);b&&mA.show(b,c)}
function RL(a){var b=a.$el.find(".uploadProgressPortholeFill"),c="translateY("+(100-a.Xh)+"%)";b.css("transform",c+" rotate(2deg)");setTimeout(function(){b.css("transform",c+" rotate(-2deg)")},1050);setTimeout(function(){b.css("transform",c)},2100)}e.reset=function(){this.Xh=0;this.Fo=Date.now();this.root&&this.root.removeClass("showUploadsProgressPorthole");RL(this)};e.remove=function(){this.reset();this.stopListening(this.ld);this.$el.remove()};function jB(){}jB=Backbone.View.extend({});jB.prototype.initialize=function(a){var b=this,c=new dE;this.listenTo(c,"results:didFetch",function(a,c,d){b.trigger("results:didFetch",a,c,d)});var d=new fB(new lE);c.cg(d);this.Pz=new hK({model:c,el:this.$(".layer"),C:a.C});c=new aK({model:d,el:this.$(".browseCategories"),C:a.C});this.Pz.oc.push(c);!a.el&&this.render()};function kB(){}kB=Backbone.View.extend({});kB.prototype.initialize=function(a){var b=this,c=new dE;this.listenTo(c,"results:didFetch",function(a,c,d){b.trigger("results:didFetch",a,c,d)});var d=new fB(new lE);c.cg(d);this.Pz=new hK({model:c,el:this.$(".layer"),C:a.C});c=new aK({model:d,el:this.$(".browseCategories"),C:a.C});this.Pz.oc.push(c);!a.el&&this.render()};function SL(a){var b=this;this.Nc=a.Nc||$(document);this.Fc=a.Fc||$("body");this.su=function(){return b.hide()};this.element=null;this.BB=!1}e=SL.prototype;e.show=function(){this.element||(this.element=$("\x3cdiv\x3e"),this.element.css("height","100%").css("left","0").css("position","fixed").css("top","0").css("width","100%").css("z-index","1000").css("opacity","0"));this.element.on("click",this.su);this.Fc.append(this.element);this.Nc.on("keydown",this.su);this.BB=!0};
e.hide=function(){this.BB&&(this.BB=!1,this.element.off("click",this.su),this.element.remove(),this.trigger("close"),this.Nc.off("keydown",this.su));return!1};e.remove=function(){this.hide();this.element&&this.element.remove()};e.on=Backbone.Events.on;e.off=Backbone.Events.off;e.trigger=Backbone.Events.trigger;var JB="contextTipRoyaltyFreeFolder";function TL(a){var b=this;this.Nc=a.Nc;this.Fc=a.Fc;this.mp=a.mp;this.Gc=a.Gc;this.iH=function(){return b.remove()};this.width=a.width;this.style=a.style;this.Oh=new SL({Nc:this.Nc,Fc:this.Fc});this.Oh.on("close",this.iH);this.element=null}
function UL(a){switch(a.key){case JB:return new TL({Nc:a.Nc,Fc:a.Fc,mp:a.C.format("unlimitedUseFolderContextTipContentText"),Gc:a.C.format("unlimitedUseFolderContextTipButtonText"),width:215,style:"contextTipOnboarding"});case "contextTipRoyaltyFreePaymentOption":return new TL({Nc:a.Nc,Fc:a.Fc,mp:a.C.format("royaltyFreePaymentOptionContextTipContentText"),Gc:a.C.format("royaltyFreePaymentOptionContextTipButtonText"),width:215,style:"contextTipOnboarding"});default:throw Error('Unknown ContextTipKey "'+
a.key+'" when creating ContextTip');}}e=TL.prototype;
e.vo=function(a,b,c){c=void 0===c?!0:c;var d=this,f=$('\x3cspan class\x3d"contextTipContent"\x3e').text(this.mp),g=$('\x3cbutton class\x3d"button buttonBlock contextTipButton"\x3e').text(this.Gc),h=this.createElement();g.on("click",function(){return d.remove()});this.Oh.show();h.empty().append(f).append(g).appendTo(this.Fc).css("width",this.width).css("left",a).css("top",c?b-h.height()/2:b).removeClass("contextTipOff").addClass("contextTipOn");return new P(function(a){return d.on("remove",a)})};
e.remove=function(){var a=this;this.Oh.remove();this.Oh.off("close",this.iH);if(this.element)this.element.removeClass("contextTipOn").addClass("contextTipOff").on("animationend",function(){return a.element.remove()});this.trigger("remove")};e.createElement=function(){this.element||(this.element=$('\x3cdiv class\x3d"contextTip"\x3e'),this.element.addClass(this.style));return this.element};e.on=Backbone.Events.on;e.off=Backbone.Events.off;e.trigger=Backbone.Events.trigger;function VL(a){this.ia=a.ia;this.C=a.C;this.ig=a.ig;this.dt=a.dt;this.root=a.root;this.bt=null;this.Ul={};this.FA=new Map}VL.prototype.start=function(){tp(this.ia).bind(this).tap(this.cI).then(this.SH);return this};function IB(a,b,c){-1!==a.ig.indexOf(b)&&a.FA.set(b,c)}function WL(a,b){return-1!==a.ig.indexOf(b)&&!1===a.Ul[b]?XL(a,b):P.resolve()}function YL(a){var b=JB;ZL(a,b).then(function(){return WL(a,b)})}
function ZL(a,b){function c(){return!0!==this.Ul[b]?(this.Ul[b]=!1,up(this.ia,b,!1)):P.resolve()}return a.Ul.hasOwnProperty(b)?c.call(a):tp(a.ia).bind(a).tap(a.cI).then(c)}VL.prototype.SH=function(){var a=this,b=$L(this);this.bt&&this.bt.remove();b&&XL(this,b).then(function(){return a.SH()})};function $L(a){for(var b=0;b!==a.ig.length;b++)if(!1===a.Ul[a.ig[b]])return a.ig[b];return null}VL.prototype.cI=function(a){this.Ul=a};
function XL(a,b){var c=a.ig.indexOf(b);if(0<=c){a.bt=a.dt(b);var d=aM(a,b);if(d)return bM(a,b).then(function(){return a.bt.vo(d.x,d.y)});a.ig.splice(c,1)}return P.resolve()}function bM(a,b){a.Ul[b]=!0;return up(a.ia,b,!0)}function aM(a,b){return a.FA.has(b)&&(a=a.FA.get(b))?a():null};function lL(a){this.Nc=a.Nc||$(document);this.items=[];this.Fc=a.Fc||$("body");this.title=a.title;a=new cM;a.on("toggle",this.Cd.bind(this));this.view=a;this.Oh=new SL({Nc:this.Nc,Fc:this.Fc});this.Oh.on("close",this.remove.bind(this))}e=lL.prototype;e.on=Backbone.Events.on;e.off=Backbone.Events.off;e.trigger=Backbone.Events.trigger;e.remove=function(){var a=this.view;this.Oh.hide();a.hide();setTimeout(function(){a.remove()},300)};
function mL(a,b){a.items=b;a.view.render({items:a.items,title:a.title})}e.vo=function(a,b){this.Oh.hide();this.Fc.append(this.view.getElement());this.Oh.show();this.view.vo(a,b)};e.Cd=function(a){var b=this.items.filter(function(b){return b.title===a})[0];this.remove();b&&this.trigger("change",b.id,!b.SB)};function cM(){}cM=Backbone.View.extend({className:"contextMenu"});e=cM.prototype;e.events=function(){return{"click .contextMenuItem":this.JO}};e.getElement=function(){return this.$el};e.hide=function(){var a=this.$el;a.removeClass("contextMenuOn").addClass("contextMenuOff");setTimeout(function(){a.css("left","-9999em").css("top","-9999em")}.bind(this),400)};e.JO=function(a){this.trigger("toggle",$(a.target).text())};
e.render=function(a){var b=this.$el,c=$('\x3cstrong class\x3d"contextMenuInfo"/\x3e').text(a.title),d=$('\x3cul class\x3d"contextMenuItems"/\x3e');a.items.forEach(function(a){var b=$('\x3cli class\x3d"contextMenuItem"/\x3e').text(a.title);a.SB&&b.addClass("contextMenuItemTicked");d.append(b)});b.empty().append(c).append(d);return this};e.vo=function(a,b){this.$el.css("left",a).css("top",b).removeClass("contextMenuOff").addClass("contextMenuOn")};function dM(){}dM=Backbone.View.extend({className:"dropdownPane"});dM.prototype.initialize=function(){this.once("show",this.render)};dM.prototype.show=function(){this.$el.hasClass("focus")||(this.trigger("show",this),this.$el.siblings().removeClass("focus"),this.$el.addClass("focus"))};function eM(){}eM=Uq.extend({className:"dropdownMenuPopoverContainer"});e=eM.prototype;e.initialize=function(a){Uq.prototype.initialize.call(this,_.defaults(a,{dd:{top:-4}}));this.Wh=[];this.Hi=null;this.on("show",this.wR);this.on("remove",this.CQ)};e.render=function(){Uq.prototype.render.call(this);this.$("h2, .buttonContainer").remove();var a=this.$(".content");this.Wh.forEach(function(b){b.$el.appendTo(a)});return this};
e.jm=function(a){this.listenTo(a,"show",this.lR);this.listenTo(a,"show",this.Hj);this.listenTo(a,"resize",this.Hj.bind(this,a));this.Wh.push(a)};e.Hj=function(a){var b=window.innerHeight-108,c=a.$el.hasClass("focus");c&&a.$el.removeClass("focus");var d=a.$el.prop("offsetHeight");c&&a.$el.addClass("focus");this.$(".content").css("height",Math.min(d,b))};e.bh=function(){Uq.prototype.bh.call(this);this.Hi&&this.Hj(this.Hi);return this};e.lR=function(a){this.Hi=a};e.wR=function(){0<this.Wh.length&&this.Wh[0].show()};
e.CQ=function(){this.Hi=null;this.Wh.forEach(function(a){a.remove()});this.Wh.length=0};function pI(){}pI=eM.extend({className:"dropdownMenuPopoverContainer brandPrimaryColorStyled"});e=pI.prototype;
e.initialize=function(a){eM.prototype.initialize.call(this,a);this.eg=a.eg;this.document=a.document;this.fa=a.fa;this.Ea=a.Ea;this.Kc=this.document.Sa();this.hr=null;this.zz=this.Ez=!1;this.pt=a.pt;this.Hy=a.Hy;this.Am=a.Am;this.C=a.C;this.XD=null;var b=this.Kc.dc(),c=fM,d=this.Kc.getName(),f=this.Kc.G(),g=!!this.fa.ta.get(Ud),h=!!this.fa.ta.get(de),k=!!this.fa.ta.get(ie);a=a.Yk;var l=this.C;l.ae||(l.ae=new Yc(l.Ha));this.AE=new c({Rx:d,Qx:f,Sx:b,uy:g,vy:h,yy:k,Yk:a,ae:l.ae});c=gM;d=this.Kc.G();f=
this.C;f.qg||(f.qg=new Zc(f.Ha));this.pg=new c({lg:d,qg:f.qg});this.DH=b.Eg();this.ht=new hM({Jx:b.w(),Gx:b.D(),Ix:b.Eg(),sh:Yb(this.C)});b=iM;c=this.Kc.G();d=this.C;d.fe||(d.fe=new $c(d.Ha));this.Ee=new b({lg:c,fe:d.fe});this.jm(this.AE);this.jm(this.pg);this.jm(this.ht);this.jm(this.Ee);this.listenTo(this.AE,"show",this.uS);this.xE()};
e.events=function(){var a=eM.prototype.events.call(this);a["click .documentSaveButton"]=this.cO;a["click .documentCopyButton"]=this.GN;a["click .documentResizePaneButton"]=this.MN;a["click .documentResizeButton"]=this.KN;a["click .customDimensionsPaneButton"]=this.IN;a["keydown .customDimensionsWidth, .customDimensionsHeight"]=this.NO;a["change .customDimensionsUnits"]=this.yN;a["click .customDimensionsResizeButton"]=this.JN;a["click .magicResizePaneButton"]=this.XN;a["change .magicResizePane input"]=
this.BN;a["click .magicResizeButton:enabled"]=this.WN;a["click .button.retry"]=this.xE;a["click .resizeUpgradeCta .buttonLearnMore"]=this.LN;return a};e.Dv=function(a){this.trigger("documentResizeRequested",a)};
function jM(a){var b=a.$(".customDimensionsUnits").prop("value"),c="PIXELS"===b?0:3,d=+parseFloat(a.$(".customDimensionsWidth").val()).toFixed(c),c=+parseFloat(a.$(".customDimensionsHeight").val()).toFixed(c),f=a.Kc.dc(),g=f.w(),h=f.D(),f=f.Eg();d===g&&c===h&&b==f?a.cancel():(g=oo({width:d,height:c,units:b}),g=Eo(Fo(g)),a.pt.createDocumentType(g).then(function(a){a=a.Sa();this.Dv(a);this.ok()}.bind(a)));null!=De&&oi(De,"change_design_dimension",null,null,"editor",{resize_type:"custom",new_units:b,
new_width:d.toString(),new_height:c.toString()})}function kM(a){a.hr||(a.hr=Fr(G.Es),a.hr.finally(function(){a.hr=null}));return a.hr}e.xE=function(){this.vI({});fo(this.pt,Io(this.Hy)).bind(this).tap(function(a){this.XD=a.docTypes}).then(pI.pQ).then(this.vI).catch(this.sM)};e.LN=function(){var a=this.Am;a.analytics.kd(Ai("file_menu","resize_button","document_resize"));Dk(a,lM)};
e.vI=function(a){this.pg.rB(a);this.Hi===this.pg&&(this.pg.render(),this.Hj(this.pg));this.Ee.rB(a);this.Hi===this.Ee&&(this.Ee.render(),this.Hj(this.Ee),mM(this))};e.sM=function(){this.pg.sB();this.Hi===this.pg&&(this.pg.render(),this.Hj(this.pg));this.Ee.sB();this.Hi===this.Ee&&(this.Ee.render(),this.Hj(this.Ee))};
e.uS=function(){if(!this.zz){var a=this;this.zz=!0;kM(this).then(function(){var b=a.$(".documentCopyButton");b.prop("disabled",!1);b.removeClass("disabled");b.parent().removeAttr("title");a.zz=!1})}};function mM(a){a.Ez||(a.Ez=!0,kM(a).then(function(){var b=0<a.$(".magicResizePane input:checked").length;a.$(".magicResizeButton").prop("disabled",!b).toggleClass("disabled",!b);a.Ez=!1}))}
e.cO=function(a){var b=this;a=$(a.currentTarget);a.addClass("active");a.one("animationend",function(){b.trigger("documentSaveRequested");b.ok()})};e.GN=function(){this.trigger("documentCopyRequested");this.ok()};e.MN=function(){this.pg.show()};
e.KN=function(a){var b=this;a=$(a.currentTarget);var c=a.prop("value");a.addClass("active");a.one("animationend",function(){if(c===b.document.Sa().G())b.cancel();else{var a=_.find(b.XD,function(a){return a.G()==c});b.Dv(a);b.ok()}});null!=De&&oi(De,"change_design_dimension",null,null,"editor",{resize_type:"preset",resize_doctype_id:c})};e.IN=function(){this.ht.show()};e.NO=function(a){13===a.keyCode&&jM(this)};
e.yN=function(){var a=this.$(".customDimensionsUnits").prop("value"),b=this.$(".customDimensionsWidth").prop("value"),c=this.$(".customDimensionsHeight").prop("value");a:{b=oo({units:this.DH,width:b,height:c});c=$e(b);switch(a){case "PIXELS":b=c;break a;case "CENTIMETERS":b=c.w()/96*2.54;c=c.D()/96*2.54;break;case "INCHES":b=c.w()/96;c=c.D()/96;break;case "MILLIMETERS":b=c.w()/96*25.4;c=c.D()/96*25.4;break;default:throw Error("Unknown units: "+b.Eg());}b=oo({units:a,width:b,height:c})}c="PIXELS"===
a?0:3;this.$(".customDimensionsWidth").val(+b.w().toFixed(c));this.$(".customDimensionsHeight").val(+b.D().toFixed(c));this.DH=a};
e.JN=function(){var a=this.$(".customDimensionsUnits").prop("value"),b=this.$(".customDimensionsWidth").val(),c=this.$(".customDimensionsHeight").val(),d,f=Math.floor(1E3*nM(G.oJ,a))/1E3,g=Math.ceil(1E3*nM(G.pJ,a))/1E3;if(b<g||c<g)d=Yb(this.C).format("customDimensionsPaneDimensionUnder",g,a);else if(b>f||c>f)d=Yb(this.C).format("customDimensionsPaneDimensionOver",f,a);if(d)return this.ht.vi(d);this.ht.$(".customDimensions__error").removeClass("customDimensions__error--visible");jM(this)};
e.XN=function(){this.Ee.show();mM(this)};e.BN=function(){mM(this)};e.WN=function(a){var b=[],c=this.$(".magicResizePane input:checked:enabled");a=$(a.currentTarget);a.blur();a.prop("disabled",!0);c.toArray().forEach(function(a){(a=window.open(dJ(this.Ea.va(),"remix",Un(this.Ea))+"?resizeTo\x3d"+encodeURIComponent(a.value),""))&&b.push(a)},this);this.Ee.$(".errorMessage").remove();b.length===c.length?this.ok():(b.forEach(function(a){a.close()}),a.prop("disabled",!1),this.yB());null!=De&&De.track("magic_resize")};
e.yB=function(){oM.VR(this.eg)?(new oM({eg:this.eg})).show():(this.Ee.yB(),this.Hj(this.Ee))};pI.pQ=function(a){var b=a.docTypes,c={};a.categories.forEach(function(a){c[a.G()]=a});a=b.filter(function(a){return!!c[a.au()]}).map(function(a){return{id:a.G(),displayName:a.getName(),displayDimensions:a.dc().print(),category:c[a.au()].getName()}});return _.groupBy(a,"category")};function fM(){}
fM=dM.extend({className:"dropdownPane fileMenuPane",template:_.template('\x3cheader\x3e\x3ch3 class\x3d"fileMenuPaneTitle" data-doctype\x3d"\x3c%- data.doctypeId %\x3e"\x3e\x3c%- data.doctypeName %\x3e\x3c/h3\x3e\x3cdiv class\x3d"documentDimensions"\x3e\x3c%- data.documentDimensions %\x3e\x3c/div\x3e\x3c% if (data.enableDocumentResize) { %\x3e\x3cul class\x3d"menuActionsList"\x3e\x3cli\x3e\x3cbutton class\x3d"button documentResizePaneButton"\x3e\x3c%- data.changeDimensionsLabel %\x3e\x3c/button\x3e\x3c/li\x3e\x3c% if (data.enableMagicResize) { %\x3e\x3cli\x3e\x3cbutton class\x3d"button magicResizePaneButton"\x3e\x3c%- data.magicResizeLabel %\x3e\x3c/button\x3e\x3c/li\x3e\x3c% } %\x3e\x3c/ul\x3e\x3c% } else if (data.showUpgradeCta) { %\x3e\x3cdiv class\x3d"resizeUpgradeCta"\x3e\x3cspan\x3e\x3c%- data.resizeUpgradePrompt %\x3e\x3c/span\x3e\x3cbutton class\x3d"button buttonSmall buttonLearnMore"\x3e\x3c%- data.learnMoreButtonLabel %\x3e\x3c/button\x3e\x3c/div\x3e\x3c% } %\x3e\x3c/header\x3e\x3csection\x3e\x3cul class\x3d"menuActionsList"\x3e\x3cli\x3e\x3cbutton class\x3d"button documentSaveButton" data-syncstatus\x3d"\x3c%- data.lastSavedLabel %\x3e"\x3e\x3c%- data.saveLabel %\x3e\x3c/button\x3e\x3c/li\x3e\x3cli title\x3d"\x3c%- data.waitingForSaveTitle %\x3e"\x3e\x3cbutton class\x3d"button documentCopyButton disabled" disabled\x3e\x3c%- data.makeACopyLabel %\x3e\x3c/button\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/section\x3e',{variable:"data"})});
fM.prototype.initialize=function(a){dM.prototype.initialize.call(this);this.Rx=a.Rx;this.Qx=a.Qx;this.Sx=a.Sx;this.uy=a.uy;this.vy=a.vy;this.yy=a.yy;this.Yk=a.Yk;this.ae=a.ae};
fM.prototype.render=function(){var a=moment(this.Yk).fromNow();this.$el.html(this.template({documentDimensions:this.Sx.print(),enableDocumentResize:this.uy,enableMagicResize:this.vy,doctypeName:this.Rx,doctypeId:this.Qx,magicResizeLabel:this.ae.format("editorFileMenuPaneMagicResize"),changeDimensionsLabel:this.ae.format("editorFileMenuPaneChangeDimensions"),saveLabel:this.ae.save(),makeACopyLabel:this.ae.format("editorFileMenuPaneMakeACopy"),waitingForSaveTitle:this.ae.format("editorFileMenuPaneWaitingForSave"),
showUpgradeCta:this.yy,resizeUpgradePrompt:this.ae.PQ(),learnMoreButtonLabel:this.ae.Rz(),lastSavedLabel:this.ae.TM(a)}));return this};function gM(){}
gM=dM.extend({className:"dropdownPane documentResizePane",template:_.template('\x3csection class\x3d"scrollParent"\x3e\x3cdiv class\x3d"scrollContent"\x3e\x3cul class\x3d"menuActionsList"\x3e\x3cli\x3e\x3cbutton class\x3d"button customDimensionsPaneButton"\x3e\x3c%- data.useCustomDimensions %\x3e\x3c/button\x3e\x3c/li\x3e\x3c/ul\x3e\x3c% if (data.fetchFailed) { %\x3e\x3cdiv class\x3d"notification error message"\x3e\x3c%- data.couldNotBeLoaded %\x3e\x3cbr\x3e\x3cbutton class\x3d"button retry"\x3e\x3c%- data.tryLoadingAgain %\x3e\x3c/button\x3e\x3c/div\x3e\x3c% } else if (Object.keys(data.documentTypes).length \x3d\x3d\x3d 0) { %\x3e\x3cp class\x3d"documentTypeLoading"\x3e\x3c%- data.fetchingDesignTypes %\x3e\x3c/p\x3e\x3c% } else { %\x3e\x3c% for (var sectionName in data.documentTypes) { %\x3e\x3ch4\x3e\x3c%- sectionName %\x3e\x3c/h4\x3e\x3cul class\x3d"menuActionsList"\x3e\x3c% data.documentTypes[sectionName].forEach(function (documentType) { %\x3e\x3cli\x3e\x3cbutton class\x3d"button documentResizeButton" value\x3d"\x3c%- documentType.id %\x3e"\x3e\x3c%- documentType.displayName %\x3e \x3cspan class\x3d"documentTypeDimensions menuOptionsListSubLabel"\x3e\x3c%- documentType.displayDimensions %\x3e\x3c/span\x3e\x3c/button\x3e\x3c/li\x3e\x3c% }); %\x3e\x3c/ul\x3e\x3c% } %\x3e\x3c% } %\x3e\x3c/div\x3e\x3c/section\x3e',{variable:"data"})});
gM.prototype.initialize=function(a){dM.prototype.initialize.call(this);this.wp={};this.lg=a.lg;this.Fk=!1;this.qg=a.qg};gM.prototype.render=function(){this.$el.html(this.template({documentTypes:this.wp,fetchFailed:this.Fk,useCustomDimensions:this.qg.ES(),couldNotBeLoaded:this.qg.sx(),tryLoadingAgain:this.qg.XB(),fetchingDesignTypes:this.qg.Fy()}));if("custom"!==this.lg)for(var a=this.$(".documentResizeButton"),b=0;b<a.length;b++)if(a[b].value===this.lg){a.eq(b).addClass("selected");break}return this};
gM.prototype.rB=function(a){this.Fk=!1;this.wp=a};gM.prototype.sB=function(){this.Fk=!0};function hM(){}hM=dM.extend({className:"dropdownPane customDimensionsPane"});e=hM.prototype;e.initialize=function(a){dM.prototype.initialize.call(this);this.Jx=a.Jx;this.Gx=a.Gx;this.sh=a.sh;this.Ix=a.Ix;this.on("show",this.lM)};
e.render=function(){this.$el.html(this.template({defaultWidth:this.Jx,defaultHeight:this.Gx,actionResize:this.sh.OJ(),times:this.sh.times(),pixelsUnit:this.sh.iQ(),dimOptions:Object.keys(po).map(function(a){a=po[a];return{value:a,selected:a==this.Ix,name:ro(a)}}.bind(this))}));return this};e.lM=function(){var a=this;this.$el.one("transitionend",function(){a.$(".customDimensionsWidth").focus()})};
e.vi=function(a){var b=this.$(".customDimensions__error");b.text(a);b.addClass("customDimensions__error--visible");this.trigger("resize")};e.template=_.template('\x3cfieldset\x3e\x3cinput class\x3d"customDimensionsWidth textInput" type\x3d"number" value\x3d"\x3c%- defaultWidth %\x3e"\x3e \x3c%- times %\x3e \x3cinput class\x3d"customDimensionsHeight textInput" type\x3d"number" value\x3d"\x3c%- defaultHeight %\x3e"\x3e\x3cspan class\x3d"select"\x3e\x3cselect class\x3d"customDimensionsUnits"\x3e\x3c% for (var i \x3d 0; i \x3c dimOptions.length; ++i) { %\x3e\x3coption value\x3d"\x3c%- dimOptions[i].value %\x3e" \x3c% if (dimOptions[i].selected) { %\x3e selected \x3c% } %\x3e \x3e\x3c%- dimOptions[i].name %\x3e\x3c/option\x3e\x3c% } %\x3e\x3c/select\x3e\x3cspan\x3e\x3c/fieldset\x3e\x3cdiv class\x3d"customDimensions__error feedback feedback--warning"\x3e\x3c/div\x3e\x3cfieldset\x3e\x3cbutton class\x3d"button buttonBlock customDimensionsResizeButton"\x3e\x3c%- actionResize %\x3e\x3c/button\x3e\x3c/fieldset\x3e');function pM(a,b,c){this.Ah=a;this.Di=b;this.mh=c}var qM=[];function rM(a,b){if("INCHES"==a)throw Error('Cannot define measurement unit conversion from "INCHES" to itself');if(0==b)throw Error("Cannot define measurement unit conversion with conversionFactor \x3d 0");var c=new pM("INCHES",a,b);a=new pM(a,"INCHES",1/b);b=[c,a];sM(c,b,1);sM(a,b,0);Array.prototype.push.apply(qM,b)}
function nM(a,b){if("PIXELS"==b)return a;for(var c=0;c<qM.length;c++){var d=qM[c];if("PIXELS"==d.Ah&&d.Di==b)return d.mh*a}throw Error('Unknown measurement unit conversion from "PIXELS" to "'+b+'"');}
function sM(a,b,c){var d,f,g;for(f=0;f<qM.length;f++){var h=qM[f];if(h.Ah==a.Di){if(d=new pM(a.Ah,h.Di,a.mh*h.mh),b.push(d),0!=c)for(g=0;g<qM.length;g++)h=qM[g],d.Ah==h.Di&&b.push(new pM(d.Di,h.Ah,1/(h.mh*d.mh)))}else if(h.Di==a.Ah&&(d=new pM(h.Ah,a.Di,h.mh*a.mh),b.push(d),0!=c))for(g=0;g<qM.length;g++)h=qM[g],d.Di==h.Ah&&b.push(new pM(d.Ah,h.Di,d.mh*h.mh))}}rM("MILLIMETERS",25.4);rM("PIXELS",96);rM("CENTIMETERS",2.54);function iM(){}
iM=dM.extend({className:"dropdownPane magicResizePane",template:_.template('\x3cheader\x3e\x3ch3\x3e\x3c%- data.copyAndResize %\x3e\x3c/h3\x3e\x3c/header\x3e\x3csection class\x3d"scrollParent"\x3e\x3cdiv class\x3d"scrollContent"\x3e\x3c% if (data.fetchFailed) { %\x3e\x3cdiv class\x3d"notification error message"\x3e\x3c%- data.couldNotBeLoaded %\x3e.\x3cbr\x3e\x3cbutton class\x3d"button retry"\x3e\x3c%- data.tryLoadingAgain %\x3e\x3c/button\x3e\x3c/div\x3e\x3c% } else if (Object.keys(data.documentTypes).length \x3d\x3d\x3d 0) { %\x3e\x3cp class\x3d"documentTypeLoading"\x3e\x3c%- data.fetchingDesignTypes %\x3e\x3c/p\x3e\x3c% } else { %\x3e\x3c% for (var sectionName in data.documentTypes) { %\x3e\x3ch4\x3e\x3c%- sectionName %\x3e\x3c/h4\x3e\x3cul class\x3d"menuOptionsList"\x3e\x3c% data.documentTypes[sectionName].forEach(function (documentType) { %\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" value\x3d"\x3c%- documentType.id %\x3e"\x3e \x3c%- documentType.displayName %\x3e \x3c% if (documentType.id \x3d\x3d data.currentDocumentTypeId) { %\x3e\x3cspan class\x3d"documentTypeCurrentDesign menuOptionsListSubLabel"\x3e\x3c%- data.currentDesignSize %\x3e\x3c/span\x3e\x3c% } else { %\x3e\x3cspan class\x3d"documentTypeDimensions menuOptionsListSubLabel"\x3e\x3c%- documentType.displayDimensions %\x3e\x3c/span\x3e\x3c% } %\x3e\x3c/label\x3e\x3c% }); %\x3e\x3c/ul\x3e\x3c% } %\x3e\x3c% } %\x3e\x3c/div\x3e\x3c/section\x3e\x3cfooter\x3e\x3cbutton class\x3d"button magicResizeButton disabled" disabled\x3e\x3cimg class\x3d"iconWand" src\x3d"https://static.canva.com/static/images/icon_wand.svg" alt\x3d"Magic wand" /\x3e\x3cimg class\x3d"iconWand black" src\x3d"https://static.canva.com/static/images/icon_wand_black.svg" alt\x3d"Magic wand" /\x3e \x3c%- data.abracadabraResize %\x3e\x3c/button\x3e\x3c/footer\x3e',{variable:"data"}),
mQ:_.template('\x3cp class\x3d"errorMessage"\x3e\x3cstrong\x3e\x3c%- data.ohSnap %\x3e\x3c/strong\x3e \x3c%- data.multipleTabs %\x3e\x3c/p\x3e',{variable:"data"})});e=iM.prototype;e.initialize=function(a){dM.prototype.initialize.call(this);this.lg=a.lg;this.wp={};this.Fk=!1;this.fe=a.fe};
e.render=function(){this.$el.html(this.template({documentTypes:this.wp,currentDocumentTypeId:this.lg,fetchFailed:this.Fk,copyAndResize:this.fe.YK(),couldNotBeLoaded:this.fe.sx(),tryLoadingAgain:this.fe.XB(),fetchingDesignTypes:this.fe.Fy(),currentDesignSize:this.fe.hL(),abracadabraResize:this.fe.GJ(),ohSnap:this.fe.sN(),multipleTabs:this.fe.nN()}));this.$('input:not([value\x3d"'+this.lg+'"])').slice(0,3).prop("checked",!0);this.$('input[value\x3d"'+this.lg+'"]').prop("disabled",!0).parent("label").addClass("menuOptionsListDisabled");
return this};e.rB=function(a){this.Fk=!1;this.wp=a};e.sB=function(){this.Fk=!0};e.yB=function(){this.$("footer").prepend(this.mQ())};function tM(a){soy.asserts.assertType(a.message instanceof soydata.SanitizedHtml||a.message instanceof soydata.UnsanitizedText||goog.isString(a.message),"message",a.message,"soydata.SanitizedHtml");var b=a.message;soy.asserts.assertType(goog.isString(a.bk)||a.bk instanceof goog.soy.data.SanitizedContent,"alertClass",a.bk,"string|goog.soy.data.SanitizedContent");var c=a.bk;soy.asserts.assertType(a.icon instanceof soydata.SanitizedHtml||a.icon instanceof soydata.UnsanitizedText||goog.isString(a.icon),
"icon",a.icon,"soydata.SanitizedHtml");var d=a.icon;soy.asserts.assertType(null==a.title||a.title instanceof soydata.SanitizedHtml||a.title instanceof soydata.UnsanitizedText||goog.isString(a.title),"title",a.title,"?soydata.SanitizedHtml|string|undefined");var f=a.title;soy.asserts.assertType(null==a.ka||a.ka instanceof goog.soy.data.SanitizedContent||goog.isString(a.ka),"classes",a.ka,"null|string|undefined");var g=a.ka;soy.asserts.assertType(null==a.Lb||goog.isBoolean(a.Lb)||1===a.Lb||0===a.Lb,
"dismissible",a.Lb,"boolean|null|undefined");var h=a.Lb;soy.asserts.assertType(null==a.global||goog.isBoolean(a.global)||1===a.global||0===a.global,"global",a.global,"boolean|null|undefined");var k=a.global;soy.asserts.assertType(null==a.vb||goog.isBoolean(a.vb)||1===a.vb||0===a.vb,"withIcon",a.vb,"boolean|null|undefined");var l=a.vb;soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,"small",a.small,"boolean|null|undefined");a=a.small;l=null==l?!0:l;b=""+('\x3cdiv class\x3d"feedbackAlert '+
soy.$$escapeHtmlAttribute(c)+(k?" feedbackAlert--global":"")+(l?" feedbackAlert--withIcon":"")+(h?" feedbackAlert--dismissible":"")+(a?" feedbackAlert--small":"")+(g?" "+soy.$$escapeHtmlAttribute(g):"")+'"\x3e\x3cdiv class\x3d"feedbackAlert__message"\x3e'+(l?soy.$$escapeHtml(d):"")+(f?'\x3cstrong class\x3d"feedbackAlert__title"\x3e'+soy.$$escapeHtml(f)+"\x3c/strong\x3e ":"")+soy.$$escapeHtml(b)+"\x3c/div\x3e"+(h?'\x3cbutton type\x3d"button" class\x3d"feedbackAlert__closeButton"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"24" height\x3d"24" viewBox\x3d"0 0 24 24"\x3e\x3cpolygon points\x3d"19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12"/\x3e\x3c/svg\x3e')+
"\x3c/button\x3e":"")+"\x3c/div\x3e");return soydata.VERY_UNSAFE.ordainSanitizedHtml(b)}
function uM(){return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg class\x3d"feedbackAlert__icon" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 24 24"\x3e\x3cpath d\x3d"M12,2 C17.52,2 22,6.48 22,12 C22,17.52 17.52,22 12,22 C6.48,22 2,17.52 2,12 C2,6.48 6.48,2 12,2 Z M12,3.33333333 C7.21637967,3.33333333 3.33333333,7.21637967 3.33333333,12 C3.33333333,16.7836203 7.21637967,20.6666667 12,20.6666667 C16.7836203,20.6666667 20.6666667,16.7836203 20.6666667,12 C20.6666667,7.21637967 16.7836203,3.33333333 12,3.33333333 Z M13,17 L11,17 L11,11 L13,11 L13,17 Z M13,9 L11,9 L11,7 L13,7 L13,9 Z" transform\x3d"rotate(180 12 12)"/\x3e\x3c/svg\x3e')};function vM(a,b){this.$el=a;this.bm=b}t(vM,Jb);
function wM(a){za(!(a.global^0),"$globalContainer is required for global alerts");switch(a.type){case xM:soy.asserts.assertType(a.message instanceof soydata.SanitizedHtml||a.message instanceof soydata.UnsanitizedText||goog.isString(a.message),"message",a.message,"soydata.SanitizedHtml");soy.asserts.assertType(null==a.title||a.title instanceof soydata.SanitizedHtml||a.title instanceof soydata.UnsanitizedText||goog.isString(a.title),"title",a.title,"?soydata.SanitizedHtml|string|undefined");soy.asserts.assertType(null==
a.ka||a.ka instanceof goog.soy.data.SanitizedContent||goog.isString(a.ka),"classes",a.ka,"null|string|undefined");soy.asserts.assertType(null==a.Lb||goog.isBoolean(a.Lb)||1===a.Lb||0===a.Lb,"dismissible",a.Lb,"boolean|null|undefined");soy.asserts.assertType(null==a.global||goog.isBoolean(a.global)||1===a.global||0===a.global,"global",a.global,"boolean|null|undefined");soy.asserts.assertType(null==a.vb||goog.isBoolean(a.vb)||1===a.vb||0===a.vb,"withIcon",a.vb,"boolean|null|undefined");soy.asserts.assertType(null==
a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,"small",a.small,"boolean|null|undefined");a=soydata.VERY_UNSAFE.ordainSanitizedHtml(tM(soy.$$augmentMap(a,{bk:"feedbackAlert--success",icon:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg class\x3d"feedbackAlert__icon" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 24 24"\x3e\x3cpath d\x3d"M10,0 C15.52,0 20,4.48 20,10 C20,15.52 15.52,20 10,20 C4.48,20 0,15.52 0,10 C0,4.48 4.48,0 10,0 Z M10,1.33333333 C5.21637967,1.33333333 1.33333333,5.21637967 1.33333333,10 C1.33333333,14.7836203 5.21637967,18.6666667 10,18.6666667 C14.7836203,18.6666667 18.6666667,14.7836203 18.6666667,10 C18.6666667,5.21637967 14.7836203,1.33333333 10,1.33333333 Z M6,10 L5,11 L8,14 L15,7 L14,6 L8,12 L6,10 Z" transform\x3d"translate(2,2)"/\x3e\x3c/svg\x3e'))})));
break;case yM:soy.asserts.assertType(a.message instanceof soydata.SanitizedHtml||a.message instanceof soydata.UnsanitizedText||goog.isString(a.message),"message",a.message,"soydata.SanitizedHtml");soy.asserts.assertType(null==a.title||a.title instanceof soydata.SanitizedHtml||a.title instanceof soydata.UnsanitizedText||goog.isString(a.title),"title",a.title,"?soydata.SanitizedHtml|string|undefined");soy.asserts.assertType(null==a.ka||a.ka instanceof goog.soy.data.SanitizedContent||goog.isString(a.ka),
"classes",a.ka,"null|string|undefined");soy.asserts.assertType(null==a.Lb||goog.isBoolean(a.Lb)||1===a.Lb||0===a.Lb,"dismissible",a.Lb,"boolean|null|undefined");soy.asserts.assertType(null==a.global||goog.isBoolean(a.global)||1===a.global||0===a.global,"global",a.global,"boolean|null|undefined");soy.asserts.assertType(null==a.vb||goog.isBoolean(a.vb)||1===a.vb||0===a.vb,"withIcon",a.vb,"boolean|null|undefined");soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,
"small",a.small,"boolean|null|undefined");a=soydata.VERY_UNSAFE.ordainSanitizedHtml(tM(soy.$$augmentMap(a,{bk:"feedbackAlert--info",icon:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg class\x3d"feedbackAlert__icon" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 24 24"\x3e\x3cpath d\x3d"M12,2 C17.52,2 22,6.48 22,12 C22,17.52 17.52,22 12,22 C6.48,22 2,17.52 2,12 C2,6.48 6.48,2 12,2 Z M12,3.33333333 C7.21637967,3.33333333 3.33333333,7.21637967 3.33333333,12 C3.33333333,16.7836203 7.21637967,20.6666667 12,20.6666667 C16.7836203,20.6666667 20.6666667,16.7836203 20.6666667,12 C20.6666667,7.21637967 16.7836203,3.33333333 12,3.33333333 Z M13,17 L11,17 L11,11 L13,11 L13,17 Z M13,9 L11,9 L11,7 L13,7 L13,9 Z"/\x3e\x3c/svg\x3e'))})));
break;case zM:soy.asserts.assertType(a.message instanceof soydata.SanitizedHtml||a.message instanceof soydata.UnsanitizedText||goog.isString(a.message),"message",a.message,"soydata.SanitizedHtml");soy.asserts.assertType(null==a.title||a.title instanceof soydata.SanitizedHtml||a.title instanceof soydata.UnsanitizedText||goog.isString(a.title),"title",a.title,"?soydata.SanitizedHtml|string|undefined");soy.asserts.assertType(null==a.ka||a.ka instanceof goog.soy.data.SanitizedContent||goog.isString(a.ka),
"classes",a.ka,"null|string|undefined");soy.asserts.assertType(null==a.Lb||goog.isBoolean(a.Lb)||1===a.Lb||0===a.Lb,"dismissible",a.Lb,"boolean|null|undefined");soy.asserts.assertType(null==a.global||goog.isBoolean(a.global)||1===a.global||0===a.global,"global",a.global,"boolean|null|undefined");soy.asserts.assertType(null==a.vb||goog.isBoolean(a.vb)||1===a.vb||0===a.vb,"withIcon",a.vb,"boolean|null|undefined");soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,
"small",a.small,"boolean|null|undefined");a=soydata.VERY_UNSAFE.ordainSanitizedHtml(tM(soy.$$augmentMap(a,{bk:"feedbackAlert--warning",icon:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+uM())})));break;case AM:soy.asserts.assertType(a.message instanceof soydata.SanitizedHtml||a.message instanceof soydata.UnsanitizedText||goog.isString(a.message),"message",a.message,"soydata.SanitizedHtml");soy.asserts.assertType(null==a.title||a.title instanceof soydata.SanitizedHtml||a.title instanceof
soydata.UnsanitizedText||goog.isString(a.title),"title",a.title,"?soydata.SanitizedHtml|string|undefined");soy.asserts.assertType(null==a.ka||a.ka instanceof goog.soy.data.SanitizedContent||goog.isString(a.ka),"classes",a.ka,"null|string|undefined");soy.asserts.assertType(null==a.Lb||goog.isBoolean(a.Lb)||1===a.Lb||0===a.Lb,"dismissible",a.Lb,"boolean|null|undefined");soy.asserts.assertType(null==a.global||goog.isBoolean(a.global)||1===a.global||0===a.global,"global",a.global,"boolean|null|undefined");
soy.asserts.assertType(null==a.vb||goog.isBoolean(a.vb)||1===a.vb||0===a.vb,"withIcon",a.vb,"boolean|null|undefined");soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,"small",a.small,"boolean|null|undefined");a=soydata.VERY_UNSAFE.ordainSanitizedHtml(tM(soy.$$augmentMap(a,{bk:"feedbackAlert--danger",icon:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+uM())})));break;default:throw Error("unknown AlertView.Type: "+a.type);}a=$(a.toString());za(a.hasClass("feedbackAlert"),
'$el must have "feedbackAlert" in its classList');za(!a.hasClass("feedbackAlert--global")||!1,"$globalContainer must only be used with global alerts");return new vM(a,void 0)}vM.prototype.remove=function(){if(this.bm){this.bm.removeClass("globalFeedbackAlertContainer");this.bm.css("padding-top","");var a=parseFloat(this.bm.data("gcpt"));a&&this.bm.css("padding-top",a);this.bm.removeData("gcpt")}Jb.prototype.remove.call(this)};var xM="SUCCESS",yM="INFO",zM="WARNING",AM="DANGER";function BM(a){a=a||{};return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"fileTypesDialog__icon"\x3e'+RK(a)+"\x3c/div\x3e")};function CM(a){X.call(this,{ba:a.ba,title:a.Pm.title(),content:DM(a.Pm)})}t(CM,X);
function DM(a){var b=$,c;c=a.rv();var d=a.kQ(),f=a.Bu(),g=a.QM(),h=a.dQ(),k=soydata.VERY_UNSAFE.ordainSanitizedHtml(a.eQ()),l=a.bQ(),m=soydata.VERY_UNSAFE.ordainSanitizedHtml(a.cQ());a=a.dz();soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"png",c,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"pngDescription",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(f)||
f instanceof goog.soy.data.SanitizedContent,"jpg",f,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(g)||g instanceof goog.soy.data.SanitizedContent,"jpgDescription",g,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(h)||h instanceof goog.soy.data.SanitizedContent,"pdfStandard",h,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(k instanceof soydata.SanitizedHtml||k instanceof soydata.UnsanitizedText||goog.isString(k),"pdfStandardDescription",
k,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString(l)||l instanceof goog.soy.data.SanitizedContent,"pdfPrint",l,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(m instanceof soydata.SanitizedHtml||m instanceof soydata.UnsanitizedText||goog.isString(m),"pdfPrintDescription",m,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString(a)||a instanceof goog.soy.data.SanitizedContent,"gotIt",a,"string|goog.soy.data.SanitizedContent");c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csection\x3e\x3csection class\x3d"fileTypesDialog__typeSection"\x3e'+
BM({zh:"PNG",color:"#3F6BD1"})+'\x3cp class\x3d"fileTypesDialog__description"\x3e\x3cstrong\x3e'+soy.$$escapeHtml(c)+"\x3c/strong\x3e "+soy.$$escapeHtml(d)+'\x3c/p\x3e\x3c/section\x3e\x3csection class\x3d"fileTypesDialog__typeSection"\x3e'+BM({zh:"JPG",color:"#399BE6"})+'\x3cp class\x3d"fileTypesDialog__description"\x3e\x3cstrong\x3e'+soy.$$escapeHtml(f)+"\x3c/strong\x3e "+soy.$$escapeHtml(g)+'\x3c/p\x3e\x3c/section\x3e\x3csection class\x3d"fileTypesDialog__typeSection"\x3e'+BM({zh:"PDF",color:"#00C4CC"})+
'\x3cp class\x3d"fileTypesDialog__description"\x3e\x3cstrong\x3e'+soy.$$escapeHtml(h)+"\x3c/strong\x3e "+soy.$$escapeHtml(k)+'\x3c/p\x3e\x3c/section\x3e\x3csection class\x3d"fileTypesDialog__typeSection"\x3e'+BM({zh:"PDF",color:"#26B45A"})+'\x3cp class\x3d"fileTypesDialog__description"\x3e\x3cstrong\x3e'+soy.$$escapeHtml(l)+"\x3c/strong\x3e "+soy.$$escapeHtml(m)+'\x3c/p\x3e\x3c/section\x3e\x3cfooter class\x3d"fileTypesDialog__footer"\x3e\x3cbutton class\x3d"button close fileTypesDialog__gotItButton"\x3e'+
soy.$$escapeHtml(a)+"\x3c/button\x3e\x3c/footer\x3e\x3c/section\x3e");return b(c.toString())}CM.prototype.render=function(){X.prototype.render.call(this);this.$(".dialog").addClass("fileTypesDialog");return this};function EM(a){X.call(this,{ba:a.ba,content:FM(a.rp),Qd:!1})}t(EM,X);
function FM(a){var b=$,c;c=a.title();var d=a.Bi(),f=soydata.VERY_UNSAFE.ordainSanitizedHtml(a.gL()),g=soydata.VERY_UNSAFE.ordainSanitizedHtml(a.cK());a=a.dz();soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"title",c,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"subtitle",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(f instanceof soydata.SanitizedHtml||f instanceof
soydata.UnsanitizedText||goog.isString(f),"cropMarksDescription",f,"soydata.SanitizedHtml");soy.asserts.assertType(g instanceof soydata.SanitizedHtml||g instanceof soydata.UnsanitizedText||goog.isString(g),"bleedAreaDescription",g,"soydata.SanitizedHtml");soy.asserts.assertType(goog.isString(a)||a instanceof goog.soy.data.SanitizedContent,"gotIt",a,"string|goog.soy.data.SanitizedContent");c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cimg class\x3d"cropAndBleedDialog__headerImage" src\x3d"https://static.canva.com/static/images/crop_and_bleed_dialog_header.png"\x3e\x3csection class\x3d"cropAndBleedDialog__content"\x3e\x3cheader class\x3d"cropAndBleedDialog__header"\x3e\x3ch2\x3e'+
soy.$$escapeHtml(c)+"\x3c/h2\x3e\x3cp\x3e"+soy.$$escapeHtml(d)+'\x3c/p\x3e\x3c/header\x3e\x3csection class\x3d"cropAndBleedDialog__section"\x3e\x3cdiv class\x3d"cropAndBleedDialog__icon"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"64" height\x3d"64" viewBox\x3d"0 0 64 64" xmlns\x3d"http://www.w3.org/2000/svg" xmlns:xlink\x3d"http://www.w3.org/1999/xlink"\x3e\x3ctitle\x3eIcon\x3c/title\x3e\x3cdefs\x3e\x3crect id\x3d"path-1" width\x3d"64" height\x3d"64" rx\x3d"4"/\x3e\x3cpath id\x3d"path-3" d\x3d"M32 32h32v32H32z"/\x3e\x3cmask id\x3d"mask-4" x\x3d"-8" y\x3d"-8" width\x3d"48" height\x3d"48"\x3e\x3cpath fill\x3d"#fff" d\x3d"M24 24h48v48H24z"/\x3e\x3cuse xlink:href\x3d"#path-3"/\x3e\x3c/mask\x3e\x3c/defs\x3e\x3cg id\x3d"Page-1" fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cg id\x3d"On-boarding-Dialog---Bleed" transform\x3d"translate(-444 -506)"\x3e\x3cg id\x3d"Message" transform\x3d"translate(404 162)"\x3e\x3cg id\x3d"Group" transform\x3d"translate(40 344)"\x3e\x3cg id\x3d"Icon"\x3e\x3cmask id\x3d"mask-2" fill\x3d"#fff"\x3e\x3cuse xlink:href\x3d"#path-1"/\x3e\x3c/mask\x3e\x3cuse id\x3d"Rectangle-214" fill\x3d"#EBECED" xlink:href\x3d"#path-1"/\x3e\x3cg id\x3d"Rectangle-214" mask\x3d"url(#mask-2)"\x3e\x3cuse fill\x3d"#F5F5F5" xlink:href\x3d"#path-3"/\x3e\x3cuse stroke\x3d"#D9D9D9" mask\x3d"url(#mask-4)" stroke-width\x3d"16" xlink:href\x3d"#path-3"/\x3e\x3c/g\x3e\x3cpath id\x3d"Rectangle-214" fill\x3d"#00C4CC" mask\x3d"url(#mask-2)" d\x3d"M32 4h2v16h-2z"/\x3e\x3cpath id\x3d"Rectangle-214" fill\x3d"#00C4CC" mask\x3d"url(#mask-2)" d\x3d"M4 32h16v2H4z"/\x3e\x3c/g\x3e\x3c/g\x3e\x3c/g\x3e\x3c/g\x3e\x3c/g\x3e\x3c/svg\x3e')+
'\x3c/div\x3e\x3cp class\x3d"cropAndBleedDialog__description"\x3e'+soy.$$escapeHtml(f)+'\x3c/p\x3e\x3c/section\x3e\x3csection class\x3d"cropAndBleedDialog__section"\x3e\x3cdiv class\x3d"cropAndBleedDialog__icon"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"64" height\x3d"64" viewBox\x3d"0 0 64 64" xmlns\x3d"http://www.w3.org/2000/svg" xmlns:xlink\x3d"http://www.w3.org/1999/xlink"\x3e\x3cdefs\x3e\x3crect id\x3d"path-1" width\x3d"64" height\x3d"64" rx\x3d"4"/\x3e\x3c/defs\x3e\x3cg id\x3d"Page-1" fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cg id\x3d"On-boarding-Dialog---Bleed" transform\x3d"translate(-444 -590)"\x3e\x3cg id\x3d"Message" transform\x3d"translate(404 162)"\x3e\x3cg id\x3d"Group" transform\x3d"translate(40 428)"\x3e\x3cg id\x3d"Icon"\x3e\x3cmask id\x3d"mask-2" fill\x3d"#fff"\x3e\x3cuse xlink:href\x3d"#path-1"/\x3e\x3c/mask\x3e\x3cuse id\x3d"Rectangle-214" fill\x3d"#EBECED" xlink:href\x3d"#path-1"/\x3e\x3cpath id\x3d"Rectangle-214" fill\x3d"#00C4CC" mask\x3d"url(#mask-2)" d\x3d"M24 24h40v40H24z"/\x3e\x3cpath id\x3d"Rectangle-214" fill\x3d"#F5F5F5" mask\x3d"url(#mask-2)" d\x3d"M32 32h32v32H32z"/\x3e\x3cpath id\x3d"Rectangle-214" fill\x3d"#D9D9D9" mask\x3d"url(#mask-2)" d\x3d"M32 4h2v16h-2z"/\x3e\x3cpath id\x3d"Rectangle-214" fill\x3d"#D9D9D9" mask\x3d"url(#mask-2)" d\x3d"M4 32h16v2H4z"/\x3e\x3c/g\x3e\x3c/g\x3e\x3c/g\x3e\x3c/g\x3e\x3c/g\x3e\x3c/svg\x3e')+
'\x3c/div\x3e\x3cp class\x3d"cropAndBleedDialog__description"\x3e'+soy.$$escapeHtml(g)+'\x3c/p\x3e\x3c/section\x3e\x3cfooter class\x3d"cropAndBleedDialog__footer"\x3e\x3cbutton class\x3d"button close cropAndBleedDialog__gotItButton"\x3e'+soy.$$escapeHtml(a)+"\x3c/button\x3e\x3c/footer\x3e\x3c/section\x3e");return b(c.toString())}EM.prototype.render=function(){X.prototype.render.call(this);this.$(".dialog").addClass("cropAndBleedDialog");return this};function GM(a){this.analytics=a.analytics}function HM(a,b){a.track("download_page_range_change",{pageRange:b})}GM.prototype.ls=function(a){this.track("close",{type:a})};GM.prototype.track=function(a,b){this.analytics.track(a,_.extend(this.Py(),b))};GM.prototype.Py=function(){return{section:"editor",subsection:"download_menu",version:"2016-09"}};function IM(a){soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,"string|goog.soy.data.SanitizedContent");var b=a.title;soy.asserts.assertType(goog.isString(a.Om)||a.Om instanceof goog.soy.data.SanitizedContent,"fileTypeInfoLinkTitle",a.Om,"string|goog.soy.data.SanitizedContent");var c=a.Om;soy.asserts.assertType(goog.isString(a.mm)||a.mm instanceof goog.soy.data.SanitizedContent,"allPages",a.mm,"string|goog.soy.data.SanitizedContent");
var d=a.mm;soy.asserts.assertType(goog.isString(a.pv)||a.pv instanceof goog.soy.data.SanitizedContent,"pageRangePlaceholder",a.pv,"string|goog.soy.data.SanitizedContent");var f=a.pv;soy.asserts.assertType(goog.isString(a.ym)||a.ym instanceof goog.soy.data.SanitizedContent,"cropMarksAndBleed",a.ym,"string|goog.soy.data.SanitizedContent");var g=a.ym;soy.asserts.assertType(goog.isString(a.Ko)||a.Ko instanceof goog.soy.data.SanitizedContent,"transparentBackground",a.Ko,"string|goog.soy.data.SanitizedContent");
var h=a.Ko;soy.asserts.assertType(goog.isString(a.Eu)||a.Eu instanceof goog.soy.data.SanitizedContent,"learnMore",a.Eu,"string|goog.soy.data.SanitizedContent");var k=a.Eu;soy.asserts.assertType(goog.isString(a.download)||a.download instanceof goog.soy.data.SanitizedContent,"download",a.download,"string|goog.soy.data.SanitizedContent");var l=a.download;soy.asserts.assertType(goog.isNumber(a.nl),"pageCount",a.nl,"number");var m=a.nl;soy.asserts.assertType(goog.isBoolean(a.vp)||1===a.vp||0===a.vp,"displayRemoveCanvasOption",
a.vp,"boolean");var n=!!a.vp;soy.asserts.assertType(goog.isBoolean(a.wi)||1===a.wi||0===a.wi,"showUpgradeCta",a.wi,"boolean");var p=!!a.wi;soy.asserts.assertType(goog.isString(a.wu)||a.wu instanceof goog.soy.data.SanitizedContent,"invalidPageRange",a.wu,"string|goog.soy.data.SanitizedContent");var r=a.wu,q=a.Ey;soy.asserts.assertType(goog.isString(a.xm)||a.xm instanceof goog.soy.data.SanitizedContent,"cropAndBleedInfoLinkTitle",a.xm,"string|goog.soy.data.SanitizedContent");var v=a.xm;soy.asserts.assertType(goog.isString(a.Qi)||
a.Qi instanceof goog.soy.data.SanitizedContent,"defaultExportOption",a.Qi,"string|goog.soy.data.SanitizedContent");a=a.Qi;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cheader class\x3d"exportPopOver__header"\x3e\x3ch2 class\x3d"exportPopOver__title"\x3e'+soy.$$escapeHtml(b)+'\x3c/h2\x3e\x3ca href\x3d"#" class\x3d"exportPopOver__infoLink" title\x3d"'+soy.$$escapeHtmlAttribute(c)+'"\x3e'+QK()+'\x3c/a\x3e\x3c/header\x3e\x3csection class\x3d"exportPopOver__container"\x3e\x3csection class\x3d"exportPopOver__option"\x3e'+
JM({options:q,block:!0,ka:"exportPopOver__fileTypeSelect"})+'\x3c/section\x3e\x3csection class\x3d"exportPopOver__settingsContainer exportPopOver__settingsContainer--expanded exportPopOver__settingsContainer--notransitions" data-export-type\x3d"'+soy.$$escapeHtmlAttribute(a)+'" data-design-pages\x3d"'+soy.$$escapeHtmlAttribute(m)+'" style\x3d"height: 0"\x3e\x3csection class\x3d"exportPopOver__section exportPopOver__pageSettings"\x3e\x3clabel class\x3d"exportPopOver__option"\x3e\x3cinput type\x3d"radio" name\x3d"pageRangeOption" class\x3d"exportPopOver__allPagesOption" checked\x3e'+
soy.$$escapeHtml(d)+'\x3c/label\x3e\x3cdiv class\x3d"exportPopOver__option exportPopOver__pageRangeOption"\x3e\x3cinput type\x3d"radio" name\x3d"pageRangeOption" class\x3d"exportPopOver__radio"\x3e\x3cinput type\x3d"text" class\x3d"textInput exportPopOver__input" placeholder\x3d"'+soy.$$escapeHtmlAttribute(f)+'"\x3e\x3c/div\x3e\x3c/section\x3e\x3csection class\x3d"exportPopOver__section exportPopOver__option exportPopOver__printSettings"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" name\x3d"cropsAndBleed" class\x3d"exportPopOver__cropMarksAndBleedInput"\x3e'+
soy.$$escapeHtml(g)+'\x3c/label\x3e\x3ca href\x3d"#" class\x3d"exportPopOver__questionMarkIcon exportPopOver__cropAndBleedQuestionIcon" title\x3d"'+soy.$$escapeHtmlAttribute(v)+'"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"18" height\x3d"18" viewBox\x3d"0 0 18 18" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cg fill-rule\x3d"evenodd"\x3e\x3cpath d\x3d"M15.5 9a6.5 6.5 0 1 0-13 0 6.5 6.5 0 0 0 13 0zm-14 0a7.5 7.5 0 1 1 15 0 7.5 7.5 0 0 1-15 0z"/\x3e\x3cpath d\x3d"M9.75 12.75h-1.5v-1.5h1.5v1.5zm-1.5-2.25c0-.466.065-.948.178-1.224.113-.277.32-.549.622-.817.301-.268.502-.486.602-.654.1-.168.15-.346.15-.532 0-.563-.26-.844-.78-.844-.246 0-.443.075-.591.227-.149.151-.226.36-.233.627H6.75c.007-.636.212-1.134.617-1.494.404-.36.956-.539 1.655-.539.706 0 1.254.17 1.644.512.39.341.584.823.584 1.446 0 .283-.063.55-.19.801-.126.252-.348.53-.664.837l-.405.385c-.132.15-.241.301-.241.925v.344h-1.5z"/\x3e\x3c/g\x3e\x3c/svg\x3e')+
"\x3c/a\x3e\x3c/section\x3e"+(n||p?'\x3csection class\x3d"exportPopOver__section exportPopOver__option exportPopOver__pngSettings"\x3e\x3clabel class\x3d"exportPopOver__transparentBackgroundCheckbox '+(p?"disabled":"")+'"\x3e\x3cinput type\x3d"checkbox" name\x3d"removeCanvas" class\x3d"exportPopOver__transparentBackgroundCheckbox__input" '+(p?"disabled":"")+"\x3e"+soy.$$escapeHtml(h)+"\x3c/label\x3e"+(p?KM({tagName:"a",ka:"exportPopOver__questionMarkIcon exportPopOver__transparentBackgroundLearnMoreButton",
small:!0,href:"#",text:k}):"")+"\x3c/section\x3e":"")+'\x3c/section\x3e\x3cdiv class\x3d"exportPopOver__pageRangeError"\x3e'+soy.$$escapeHtml(r)+'\x3c/div\x3e\x3c/section\x3e\x3cfooter\x3e\x3cbutton class\x3d"button buttonBlock exportPopOver__downloadButton"\x3e'+soy.$$escapeHtml(l)+"\x3c/button\x3e\x3c/footer\x3e")};function LM(){}LM=Uq.extend();e=LM.prototype;
e.events=function(){var a=Uq.prototype.events.call(this);a["input .exportPopOver__pageRangeOption .exportPopOver__input"]=this.HO;a["change input[name\x3dpageRangeOption]"]=this.DN;a["focus .exportPopOver__pageRangeOption .exportPopOver__input"]=this.vO;a["blur .exportPopOver__pageRangeOption .exportPopOver__input"]=this.uN;a["change .exportPopOver__pageRangeOption .exportPopOver__input"]=this.CN;a["change .exportPopOver__fileTypeSelect \x3e select"]=this.zN;a["click .exportPopOver__downloadButton"]=
this.NN;a["click .exportPopOver__transparentBackgroundLearnMoreButton"]=this.eO;a["change .exportPopOver__transparentBackgroundCheckbox__input"]=this.EN;a["click .exportPopOver__cropAndBleedQuestionIcon"]=this.HN;a["change .exportPopOver__cropMarksAndBleedInput"]=this.xN;a["click .exportPopOver__header .exportPopOver__infoLink"]=this.RN;return a};
e.initialize=function(a){this.fa=a.fa;this.model=a.model;this.yd=a.yd;this.Mb=a.Mb;this.Kb=a.Kb;this.hd=a.hd;this.kb=a.kb;this.ia=a.ia;this.Nb=a.Nb;this.jd=a.jd;this.pc=a.pc;this.analytics=a.analytics;this.ob=a.ob;this.ba=a.ba;var b=this.C=a.C;b.Hb||(b.Hb=new ud(b.Ha));this.Hb=b.Hb;this.lb=a.lb;this.$e=a.$e;this.yG=!0;this.Ey=[{value:MM,text:this.Hb.Bu()},{value:NM,text:this.Hb.rv()},{value:OM,text:this.Hb.format("exportPopOverStandardPdf")},{value:PM,text:this.Hb.format("exportPopOverPrintPdf")}];
var c,b=this.model.Sa().defaultExportSettings;c=NM;"IMAGE"===b?(b=this.model.Sa().cu(),c="JPG"===b.fileType?MM:NM):"PDF"===b&&(b=this.model.Sa().Zy(),c=96>=b.Jk()?OM:PM);this.WG=this.Qi=c;a=_.defaults(a,{Yc:"",dd:{top:-4},content:$(IM({title:this.Hb.zh(),Om:this.Hb.Om(),mm:this.Hb.mm(),pv:this.Hb.format("exportPopOverInRangePagesPlaceholder"),ym:this.Hb.ym(),Ko:this.Hb.Ko(),Eu:this.Hb.format("exportPopOverLearnMoreButton"),download:this.Hb.download(),nl:this.model.Ae(),vp:!!this.fa.ta.get(fe),wi:!this.fa.ta.get(fe)&&
!!this.fa.ta.get(ie),wu:this.Hb.format("exportPopOverInvalidPageRangeInput"),Ey:QM(this),xm:this.Hb.xm(),Qi:this.Qi}).toString())});Uq.prototype.initialize.call(this,a)};
e.render=function(){function a(){Cl(this.model)||(this.$el.removeClass("exportPopOver--disabled"),this.$(".exportPopOver__downloadButton").prop("disabled",!1),this.$(".exportPopOver__message").remove(),this.stopListening(this.model,"change",a))}Uq.prototype.render.call(this);this.$(".dialog \x3e h2").remove();this.$(".buttonContainer").remove();this.$(".dialog").addClass("exportPopOver");$h(function(){RM(this,this.$(".exportPopOver__settingsContainer"))}.bind(this));var b="";this.model.isEmpty()?
b=this.Hb.format("exportPopOverEmptyDesignError"):Cl(this.model)?(b=this.Hb.format("exportPopOverDownloadsInProgressError"),this.listenTo(this.model,"change",a)):(SM(this),TM(this),UM(this));b&&(wM({type:zM,ka:"exportPopOver__message",message:b,vb:!1}).$el.appendTo(this.$(".exportPopOver__header")),this.$el.addClass("exportPopOver--disabled"),this.$(".exportPopOver__downloadButton").prop("disabled",!0));return this};function SM(a){a.$(".exportPopOver__warning").remove()}
e.cancel=_.debounce(function(){Uq.prototype.cancel.call(this);this.$e.ls("pressed_esc")},10,!0);e.blur=function(a){Uq.prototype.blur.call(this,a);this.$e.ls("clicked_mask")};
function VM(a){function b(){this.$el.removeClass("exportPopOver--withPageRangeError")}var c,d;c=a.$(".exportPopOver__pageRangeOption .exportPopOver__input");d=c.val().trim();if(""===d||LM.OC.test(d))return b.call(a),c.removeClass("exportPopOver__input--withError"),!0;d=a.$(".exportPopOver__pageRangeError");a.$el.addClass("exportPopOver--withPageRangeError");c.addClass("exportPopOver__input--withError");d.css("top",c.position().top-c.outerHeight()-6+"px");c.one("blur",b.bind(a));return!1}
e.NN=function(a){a.preventDefault();var b;if(!this.$(".exportPopOver__pageRangeOption .exportPopOver__radio").prop("checked")||VM(this)){this.$(".exportPopOver__cropMarksAndBleedInput").not(":visible").prop("checked",!1);this.$(".exportPopOver__transparentBackgroundCheckbox__input").not(":visible").prop("checked",!1);b=this.$(".exportPopOver__fileTypeSelect \x3e select").val();a=[];var c=this.$(".exportPopOver__pageRangeOption .exportPopOver__input").val(),d=rl(this.model).length;if(LM.OC.test(c))for(var c=
c.split(","),f=0;f<c.length;f++){var g=c[f].split("-"),h=parseInt(g[0],10);if(!isNaN(h)){var k=h=Math.max(1,Math.min(h,d));1<g.length&&(k=parseInt(g[1],10),k=isNaN(k)?d:Math.max(1,Math.min(k,d)));var g=h,l=k;l<g&&(g=k,l=h);for(h=0;a[h]<g;)h++;for(;g<=l;)a[h]!==g&&a.splice(h,0,g),h++,g++}}d=rl(this.model).length;c=!!this.$(".exportPopOver__cropMarksAndBleedInput").prop("checked");f=b!=MM?!!this.$(".exportPopOver__transparentBackgroundCheckbox \x3e input").prop("checked"):!1;k=this.model.Sa();h=k.cu();
k=k.Zy();g=96;l=null;switch(b){case MM:b="JPG";g=h&&h.Jk()||g;l=h&&h.jpgTargetFileSizeKb||l;break;case NM:b="PNG";g=h&&h.Jk()||g;break;case OM:b="PDF";g=k&&k.Jk()||g;break;case PM:b="PDF";g=300;break;default:throw Error("Unknown export option",b);}a={outputType:b,pageCount:d,pageRange:a,includeCrops:c,includeBleed:c,removeCanvas:f,targetImageSizeKb:l,mediaDpi:g};WM({yd:this.yd,C:this.C,Kb:this.Kb,hd:this.hd,kb:this.kb,ia:this.ia,Nb:this.Nb,jd:this.jd,fa:this.fa,pc:this.pc,analytics:this.analytics,
document:this.model,ob:this.ob,ba:this.ba,lb:this.lb}).start(a);this.ok();this.$e.track("download_button_click",{filetype:a.outputType})}};function XM(a,b){b.val().trim().length&&HM(a.$e,b.val().toString())}e.zN=function(a){var b;b=$(a.currentTarget).val().toString();a=this.$(".exportPopOver__settingsContainer");a.attr("data-export-type",b);SM(this);TM(this);UM(this);RM(this,a);this.$e.track("download_file_type_change",{from_filetype:this.WG,to_filetype:b});this.WG=b};
function RM(a,b){var c=0,d;b.removeClass("exportPopOver__settingsContainer--expanded");b.children(":visible").each(function(a,b){c+=$(b).outerHeight(!0)});d=parseInt(b.css("height"),10);a.yG?(a.yG=!1,b.css("height",c),b.addClass("exportPopOver__settingsContainer--expanded"),b.css("height"),b.removeClass("exportPopOver__settingsContainer--notransitions")):d===c?b.addClass("exportPopOver__settingsContainer--expanded"):(b.css("height",c),b.one("transitionend",function(){b.addClass("exportPopOver__settingsContainer--expanded")}))}
e.HO=function(){this.$(".exportPopOver__pageRangeOption .exportPopOver__radio").prop("checked",!0);VM(this)};e.vO=function(){VM(this)};e.uN=function(a){a=$(a.currentTarget);0===a.val().trim().length&&(a.val(""),this.$(".exportPopOver__allPagesOption").prop("checked",!0))};e.CN=function(a){XM(this,$(a.currentTarget))};
e.DN=function(){var a=this.$(".exportPopOver__pageRangeOption .exportPopOver__radio"),b=this.$(".exportPopOver__pageRangeOption .exportPopOver__input");a.prop("checked")?(b.focus().select(),VM(this),XM(this,b)):(b.removeClass("exportPopOver__input--withError"),HM(this.$e,"all"))};e.eO=function(){var a=this.Mb;a.analytics.kd(Ai("export_pop_over","png_export_options","transparent_background"));Dk(a,YM)};e.EN=function(){this.$e.track("transparent_bg_click")};
e.HN=function(){(new EM({ba:this.ba,rp:lc(this.C)})).render().show();this.$e.track("tooltip_click",{type:"crop_marks_info",location:"pdf_print_hover"})};e.xN=function(){this.$e.track("crop_marks_click")};e.RN=function(){(new CM({ba:this.ba,Pm:jc(this.C)})).render().show();this.$e.track("tooltip_click",{type:"file_type_info"})};
function QM(a){var b;return a.Ey.map(function(a){b=a.value===this.Qi;return{value:a.value,text:b?this.Hb.format("exportPopOverRecommended",a.text):a.text,selected:b}}.bind(a))}
function TM(a){function b(){return this.model.za().some(function(a){return a.zg()})}(function(){var a=this.$(".exportPopOver__fileTypeSelect \x3e select").val();return a===MM||a==NM}).call(a)&&b.call(a)&&wM({message:soydata.VERY_UNSAFE.ordainSanitizedHtml(ZM(a)),type:zM,vb:!1,ka:"exportPopOver__warning"}).$el.prependTo(a.$(".exportPopOver__settingsContainer"))}
function UM(a){function b(){switch(d){case MM:return this.Hb.Bu();case NM:return this.Hb.rv();default:throw Error("Unknown export value",d);}}function c(){return 1<this.model.Ae()}var d=a.$(".exportPopOver__fileTypeSelect \x3e select").val();(function(){return d===MM||d==NM}).call(a)&&c.call(a)&&wM({message:soydata.VERY_UNSAFE.ordainSanitizedHtml(vd(a.Hb,b.call(a))),type:zM,vb:!1,ka:"exportPopOver__warning"}).$el.prependTo(a.$(".exportPopOver__settingsContainer"))}
function ZM(a){var b=["KABpChgmirA","KABpCl3wNm4"],c=a.model.Sa().au();return c&&0<=b.indexOf(c)?a.Hb.format("exportPopOverSocialMediaLinksExportWarningHtml","https://support.canva.com/creating-your-design/page-setup/hyperlinks/"):a.Hb.format("exportPopOverLinksExportWarning")}LM.OC=/^\s*\d+\s*(?:-\s*(?:\d+\s*)?)?(?:,\s*(?:\d+\s*(?:-\s*(?:\d+\s*)?)?)?)*$/;var MM="jpg",NM="png",OM="standardPdf",PM="printPdf";function $M(){}$M=Uq.extend();$M.prototype.events=function(){var a=Uq.prototype.events.call(this);a["click .resubmitLayout"]=this.bO;return a};$M.prototype.initialize=function(a){this.SQ=a.resubmit;var b="in layout review";this.options.forSale&&(b="for sale as a layout");b={title:b.charAt(0).toUpperCase()+b.slice(1),content:$($M.xw({status:b})),Yc:""};Uq.prototype.initialize.call(this,_.extend({},b,a))};
$M.prototype.render=function(){Uq.prototype.render.call(this);this.$(".buttonContainer").remove();return this};$M.prototype.bO=function(){this.SQ();this.remove()};$M.xw=_.template('\x3cp\x3eThis design is \x3c%- status %\x3e.\x3c/p\x3e\x3cbr\x3e\x3cdiv class\x3d"layoutThumbnail"\x3e\x3c/div\x3e\x3cdiv class\x3d"exportButtons"\x3e\x3cbutton class\x3d"button buttonBlock resubmitLayout"\x3eResubmit\x3c/button\x3e\x3c/div\x3e');function aN(){}aN=Backbone.View.extend({className:"shareViaEmailForm",tagName:"form"});aN.prototype.events=function(){return{"click button":this.send,submit:this.send}};aN.prototype.initialize=function(a){this.mode=a.mode;this.xf=a.xf;this.qc=a.qc};aN.prototype.render=function(){this.$el.html(aN.template({sendLabel:this.qc.send(),placeholder:this.qc.format("shareViewEmailInputPlaceholder")}));return this};
aN.prototype.send=function(a){a.preventDefault();a=this.$("input").val().replace(/[ ,;]+/g,",").split(",").map(qx).filter(Boolean);0===a.length?alert("Enter some email addresses!"):(this.$("button").prop("disabled",!0),this.trigger("sendClicked",{ML:a,mode:this.mode,xf:this.xf}))};aN.template=_.template('\x3cdiv data-input-placeholder\x3d"\x3c%- placeholder %\x3e"\x3e\x3cinput class\x3d"textInput" placeholder\x3d"\x3c%- placeholder %\x3e" type\x3d"text"\x3e\x3c/div\x3e\x3cbutton class\x3d"button"\x3e\x3c%- sendLabel %\x3e\x3c/button\x3e');function bN(){}bN=Uq.extend({className:"descriptionPopOver"});e=bN.prototype;e.initialize=function(a){var b={title:dc(a.C).format("editorControlsPopoverHeadingDesignTitle"),Yc:dc(a.C).format("editorControlsPopoverDoneButton"),content:$("\x3ctextarea\x3e").addClass("textInput")};a=_.extend({},b,a);Uq.prototype.initialize.call(this,a);this.on("hide",this.kO)};e.events=function(){var a=Uq.prototype.events.apply(this,arguments);a["keydown textarea"]=this.OO;return a};
e.render=function(){Uq.prototype.render.call(this);var a=this.model.Za();SH(a)?this.$("textarea").val(""):this.$("textarea").val(a.$p());return this};e.Tf=function(a){Uq.prototype.Tf.call(this,a);this.$("textarea").autosize({append:""}).focus().select();return this};e.kO=function(a){var b=this.$("textarea"),c=this.model.Za(),b=b.val().trim();2!==a&&0!==a||b===c.$p()||(De&&(a=De,a.track("design",{title:b,source:"typed",template:a.Ze})),TH(c,b))};
e.OO=function(a){var b=a.altKey||a.shiftKey;13!=a.which||b||(a.preventDefault(),this.ok())};function cN(){}cN=X.extend({id:"exportDialog"});e=cN.prototype;e.events=function(){var a=X.prototype.events.call(this);a["click .startExport"]=this.Xr;return a};e.initialize=function(a){a=_.defaults({},a,{Yu:$.noop,Zu:$.noop});X.prototype.initialize.call(this,_.extend(a,{ba:Zh}));this.Nb=fb;this.Yu=this.Yu||a.Yu;this.Zu=this.Zu||a.Zu;this.Lm=a.Lm;this.wf=null};e.remove=function(){X.prototype.remove.call(this);this.wf&&this.wf.cancel()};
e.render=function(){X.prototype.render.call(this);this.$(".content").append('\x3cdiv class\x3d"exporting"\x3e');return this};e.show=function(){X.prototype.show.call(this);this.Xr();return this};
e.vR=function(){this.JH(this.Lm.NU());this.$(".content").append(this.gx({buttonClass:"startExport",buttonText:this.Lm.uT()}));this.$(".exporting").html(this.ZL({messagePleaseRetry:this.Lm.OT(),htmlReportError:this.Lm.PT("mailto:support@canva.com?subject\x3dPublishing%20Error\x26body\x3d"+encodeURIComponent("I ran into trouble emailing the following design: "+dJ(A.va(),"view",void 0)))}))};
function dN(a){var b=a.$(".exporting"),c=0,d=$('\x3cdiv class\x3d"progress"\x3e\x3c/div\x3e'),f=$('\x3cdiv class\x3d"progressValue"\x3e\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e\x3c/div\x3e');f.css("width","2%");d.append(f);b.empty();a.Yu();b.prepend(d);a.$(".buttonContainer").remove();var g=window.setInterval(function(){c++;50<Math.floor(100*Math.random())&&f.css("width",10*c+"%");10===c&&(f.css("width","100%"),window.clearInterval(g))},400)}
e.Xr=function(){Ba(null==this.wf);this.wf=this.Nb.tm(new Ro({ng:A.va(),Em:A.Rc(),Sr:new Vo({type:"PREVIEW",format:"PNG",Kq:96,Lq:"SCREEN"})})).bind(this).tap(this.Zu).catch(P.CancellationError,function(){}).finally(function(){this.wf=null}).catch(this.vR);dN(this)};e.gx=_.template('\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button \x3c%- buttonClass %\x3e"\x3e\x3c%- buttonText %\x3e\x3c/button\x3e\x3c/p\x3e');e.ZL=_.template("\x3cp\x3e\x3c%- messagePleaseRetry %\x3e\x3c/p\x3e\x3cp\x3e\x3c%\x3d htmlReportError %\x3e\x3c/p\x3e");function eN(){}eN=Backbone.View.extend({className:"shareView"});e=eN.prototype;e.events=function(){return{"click .buttonFacebook":this.QN,"click .buttonTwitter":this.fO,"click .shareButtonEmail":this.PN,"click .shareButtonPinterest":this.aO,"click .shareButtonLinkedIn":this.VN}};
e.initialize=function(a){this.location=a.location;this.ob=a.ob;this.YQ=dJ(this.ob.va(),"screen",Un(this.ob));this.py=new aN({mode:"default",xf:Un(this.ob),qc:a.qc});this.fa=a.fa;this.qc=a.qc;this.Tl=["Take a look at my new @Canva creation!","Check out my new @Canva design!","I just made this fantastic design with @Canva!","How great does my new @Canva design look?"]};function fN(a,b){return eJ(a.ob.va(),Un(a.ob),a.location,b)}
e.render=function(){Backbone.View.prototype.render.call(this);var a=eN.xw;this.$el.append(a({showFacebook:!!this.fa.ta.get(Wd),showTwitter:!!this.fa.ta.get(Xd),showEmail:!!this.fa.ta.get(Yd),showLinkedIn:!!this.fa.ta.get($d),showPinterest:!!this.fa.ta.get(Zd),shareOnFacebookTitle:this.qc.format("shareViewShareOnFacebook"),shareOnTwitterTitle:this.qc.format("shareViewShareOnTwitter"),shareOnPinterestTitle:this.qc.format("shareViewShareOnPinterest"),shareOnLinkedInTitle:this.qc.format("shareViewShareOnLinkedIn"),
postLabel:this.qc.post(),tweetLabel:this.qc.format("shareViewTweet"),pinItLabel:this.qc.format("shareViewPinIt"),shareLabel:this.qc.vB(),emailLabel:this.qc.email()}));this.$(".shareEmail").append(this.py.render().el);this.listenTo(this.py,"sendClicked",this.ON);this.listenTo(this,"emailSendingError",this.sL);return this};e.so=function(a,b,c,d){this.trigger("shareClicked",{type:a,url:b,height:c,width:d})};
e.QN=function(a){a.preventDefault();a="https://www.facebook.com/sharer/sharer.php?u\x3d"+encodeURIComponent(fN(this,"facebook"));this.so("facebook",a,550,420)};e.fO=function(a){a.preventDefault();a=this.Tl[Math.floor(Math.random()*this.Tl.length)];a="https://twitter.com/intent/tweet?url\x3d"+encodeURIComponent(fN(this,"twitter"))+"\x26text\x3d"+encodeURIComponent(a);this.so("twitter",a,550,420)};
e.aO=function(a){a.preventDefault();a="http://pinterest.com/pin/create/button/?url\x3d"+encodeURIComponent(fN(this,"pinterest"))+"\x26media\x3d"+encodeURIComponent(this.YQ);this.so("pinterest",a,316,744)};e.VN=function(a){a.preventDefault();a="https://www.linkedin.com/shareArticle?mini\x3dtrue\x26url\x3d"+encodeURIComponent(fN(this,"linkedin"));this.so("linkedin",a,606,445)};e.PN=function(a){a.preventDefault();this.$(".shareEmail").show();this.trigger("shareViewResize")};
e.ON=function(a){this.trigger("emailSend",a)};e.sL=function(a){var b=this.py.$("button");b.prop("disabled",!1);b.attr("class","");this.$(".shareEmail h2").append('\x3cp class\x3d"error"\x3e'+a+"\x3c/p\x3e");this.trigger("shareViewResize")};eN.xw=_.template('\x3cdiv class\x3d"shareButtons"\x3e\x3c% if (showFacebook) { %\x3e\x3cbutton class\x3d"button buttonFacebook" title\x3d"\x3c%- shareOnFacebookTitle %\x3e"\x3e\x3c%- postLabel %\x3e\x3c/button\x3e\x3c% } %\x3e\x3c% if (showTwitter) { %\x3e\x3cbutton class\x3d"button buttonTwitter" title\x3d"\x3c%- shareOnTwitterTitle %\x3e"\x3e\x3c%- tweetLabel %\x3e\x3c/button\x3e\x3c% } %\x3e\x3c% if (showPinterest) { %\x3e\x3cbutton class\x3d"button shareButtonPinterest" title\x3d"\x3c%- shareOnPinterestTitle %\x3e"\x3e\x3c%- pinItLabel %\x3e\x3c/button\x3e\x3c% } %\x3e\x3c% if (showLinkedIn) { %\x3e\x3cbutton class\x3d"button shareButtonLinkedIn" title\x3d"\x3c%- shareOnLinkedInTitle %\x3e"\x3e\x3c%- shareLabel %\x3e\x3c/button\x3e\x3c% } %\x3e\x3c% if (showEmail) { %\x3e\x3cbutton class\x3d"button shareButtonEmail"\x3e\x3c%- emailLabel %\x3e\x3c/button\x3e\x3c% } %\x3e\x3c/div\x3e\x3cdiv class\x3d"shareEmail"\x3e\x3ch2\x3e\x3c%- emailLabel %\x3e\x3c/h2\x3e\x3c/div\x3e');
eN.openWindow=function(a,b,c){window.open(a,"","scrollbars\x3dyes,resizable\x3dyes,toolbar\x3dno,location\x3dyes,width\x3d"+b+",height\x3d"+c+",left\x3d445,top\x3d240")};function qI(){}var qI=Backbone.View.extend({el:"#canvaDocument"}),rI="fit",dr={"10%":"10%","25%":"25%","50%":"50%","75%":"75%","100%":"100%","125%":"125%","150%":"150%","175%":"175%","200%":"200%","300%":"300%","400%":"400%","500%":"500%",TS:"fill",US:rI};qI.pL=function(){$("#addNewPage").remove();qI.RJ=!0};e=qI.prototype;
e.events=function(){return{"click #addNewPage .addPage":this.oK,"click #addNewPage .makeNewDesign":this.CK,"click #addNewPage .copyDesign":this.sK,"click \x3e .inner \x3e .page":function(){return!1},"mousedown \x3e .inner \x3e .page":this.cA,mousemove:this.mousemove,mouseout:this.mouseout,scroll:this.$Q}};e.remove=function(){this.undelegateEvents();this.stopListening();this.Oa.forEach(function(a){a.remove()})};
e.initialize=function(a){this.listenTo(this.model,{"page:add":this.QP,"page:move":this.SP,"page:remove":this.TP,resize:this.Ku});this.listenTo(K,{"pageView:copyButton:click":this.HG,"pageView:deleteButton:click":this.HG,"pageView:toolbar:mouseout":this.WP});this.Oa=[];var b=this;this.model.aa.forEach(function(c){b.Oa.push(new gN({model:c,ml:fc(a.C)}))});this.C=a.C;this.Wc=_.object(_.values(dr),_.map(dr,function(a){return parseInt(a,10)/100}));this.tw=rI;this.qd=!1;this.Jf=this.nq=this.ad=this.JA=
this.uk=this.Zd=0;this.Nw=!1;this.dN=ff(this);this.Ti=function(){var a=b.model.aa[0],a=Math.max(a.w(),a.D());return Math.max(1,Math.min(a/G.hJ))}();this.render()};
e.render=function(){var a=this.$el.children(".inner"),b=this;this.Oa.forEach(function(c,d){c.render();a.append(c.$el);c.Ug(hN(b,d));c.$el.addClass("on")});var c=this.Oa[this.Oa.length-1].$el,d=this.$("#addNewPage");qI.RJ?(d.hide(),this.$el.removeClass("multiPage")):(d.css("top",hN(this,this.Oa.length)),d.insertAfter(c),this.$el.removeClass("multiPage"),this.model.Sa().Wy()&&(this.$el.addClass("multiPage"),1<this.model.aa.length&&this.model.aa.length>=G.Xo&&(this.$("#addNewPage").addClass("off"),iN(this))));
var c=hN(this,0),d=jN(this),f=sH();a.css("height",c+d+($(window).height()-f.Ga()));this.Ku(!0);return this};e.oK=function(a){a=$(a.currentTarget);if(!a.is(":animated")&&!a.is(".off")){a=sl(this.model);var b=VC(a.serialize());b.pageIndex=T(this.model,a);C.register(new XC(1,b))}kN(this);return!1};
e.CK=function(){var a={type:this.model.Sa().G()},b="/design?create";null!=a.type&&(b+="\x26type\x3d"+encodeURIComponent(a.type));null!=a.width&&(b+="\x26width\x3d"+encodeURIComponent(String(a.width)));null!=a.height&&(b+="\x26height\x3d"+encodeURIComponent(String(a.height)));null!=a.rS&&(b+="\x26units\x3d"+encodeURIComponent(String(a.rS)));window.open(b,"");return!1};e.sK=function(){K.trigger("documentView:copyDocument");return!1};
e.$Q=function(){var a=this.$el.scrollTop()||0,b=hN(this,0),c=sH(),d=ql(this.model),f=this.Oa[d].$el.offset(),g=this.JA<a?"down":"up",h=-1;K.trigger("documentView:scroll",a);this.JA=1*a;lN(this);window.clearTimeout(this.nq);if(!this.$el.hasClass("modifying")){d=$(window).height();if(this.Zd>d/2)for(c=0;c<this.Oa.length-1;c++){h=b+c*(this.Zd+this.uk);if(h<a){if(f=h+this.Zd-a,0>=f){h=c+1;continue}}else f=a+d-h;h=f>a+d-(h+this.Zd)?c:c+1;break}else"up"==g&&f.top+this.Zd>c.Ga()?h=Math.floor((a+$(window).height()-
(b-this.uk))/(this.Zd+this.uk))-1:"down"==g&&0>f.top&&(h=Math.ceil((a-b)/(this.Zd+this.uk)));0==a?h=0:a>=this.$el.children(".inner").height()-this.$el.prop("clientHeight")&&(h=this.model.aa.length-1);0<=h&&(h=Math.min(this.model.aa.length-1,h),h=Math.max(0,h),nl(this.model,h))}};
e.mousemove=function(a){this.dN.read(function(){var b=(void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY)+this.$el.scrollTop();this.Oa.forEach(function(a){var d=a.ya();ff().write(function(){b>d.N()&&b<d.Ga()?a.$el.addClass("pseudoHover"):a.$el.removeClass("pseudoHover")})})})};e.mouseout=function(a){-1<$(a.relatedTarget||a.toElement).parents().addBack().index(this.$el.children(".inner"))||this.Oa.forEach(function(a){a.$el.removeClass("pseudoHover")})};
e.cA=function(a){function b(a){var b=(void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX)-f;a=(void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY)-g;if(k||Math.abs(b)>G.xb||Math.abs(a)>G.xb){k||(k=!0,d.$el.addClass("dragging doNotAnimate"),nl(p,T(p,r)));for(var b=-1,c=0;c<m.length&&!(h+a<m[c]);c++)b++;0>b&&(b=0);vl(p,r,b);b=a=h+a;a<y?(b=(y-a)/(y-x),b=2>=b?y-(y-a)*(1-b/4):x):a>B&&(b=(a-B)/(w-B),b=2>=b?B+(a-B)*(1-b/4):w);d.Ug(b)}return!1}function c(){l.off("mousemove|touchmove",
b).off("mouseup|touchend",c);if(k){d.$el.removeClass("doNotAnimate");var a=r.ea(),f=hN(v,a);d.$el.animate({top:f},G.sa.GG,"easeOutBack",function(){d.Ug(f);d.$el.removeClass("dragging")});C.register(new XC(5,{pageIndex:a,oldPageIndex:q}))}}if(!(0===$(a.target).closest(".pageToolbar").length||0<$(a.target).closest("a").length)){var d=null;this.Oa.forEach(function(b){b.$el.get(0)==a.currentTarget&&(d=b)});var f=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,g=void 0!==a.clientY?a.clientY:
a.originalEvent.touches[0].clientY,h=d.vc(),k=!1,l=new Uk($(document));l.on("mousemove|touchmove",b).on("mouseup|touchend",c);for(var m=[],n=0;n<this.Oa.length;n++)m.push(hN(this,n)-this.Zd/2);var p=this.model,r=d.model,q=T(p,r),v=this,x=hN(this,-1),w=hN(this,this.Oa.length),y=hN(this,0),B=hN(this,this.Oa.length-1);return!1}};
e.TP=function(a,b,c){S();var d=this,f=this.Oa[c];window.clearTimeout(this.nq);this.ad&&nl(a,Math.min(a.aa.length-1,c));b={height:0,top:hN(this,c)+this.Jf*(this.Zd+this.uk)};this.ad&&c==a.aa.length&&(b.top+=this.Zd);this.$el.addClass("modifying");f.$el.addClass("removing").animate(b,{duration:G.sa.Of,sg:"easeOutSine",queue:!1,complete:function(){f.remove();d.$el.removeClass("modifying");d.ad?zC&&(d.nq=window.setTimeout(function(){lN(d)},G.IC)):iN(d)}});this.Oa.splice(c,1);mN(this,c);this.$el.hasClass("holding")||
nN(this,c)};
e.QP=function(a,b,c,d){S();this.model.aa.length>=G.Xo&&(this.$("#addNewPage").addClass("off"),iN(this));a=!0;!1===d&&(a=!1);d=T(this.model,b);c=b.D()*N;var f=this.Oa[0];this.Oa.splice(d,0,new gN({model:b,ml:fc(this.C)}));var g=this.Oa[d];b=f.uc();var h=this,k=hN(this,d,this.model.aa.length-1);oN(g,b,k+this.Jf*(this.Zd+this.uk));g.$el.addClass("on").css("height",0);window.clearTimeout(this.nq);this.ad?nl(this.model,d-1):a&&nl(this.model,d);0==d?g.$el.insertBefore(f.$el):g.$el.insertAfter(this.Oa[d-1].$el);
h.$el.addClass("modifying");var l=hN(this,d);g.$el.addClass("newPage");g.$el.animate({height:c,top:l},{duration:G.sa.Of,sg:"easeOutSine",queue:!1,complete:function(){g.$el.removeClass("newPage");g.Ug(l);h.$el.removeClass("modifying");h.ad&&zC&&(h.nq=window.setTimeout(function(){lN(h)},G.IC))}}).css("overflow","");mN(this,d);a&&!this.$el.hasClass("holding")&&nN(this,d)};
e.SP=function(a,b,c,d){function f(a,b){return function(){a.Ug(b)}}S();a=this.Oa[c];b=this.Oa[d];c<d?a.$el.insertAfter(b.$el):c>d&&a.$el.insertBefore(b.$el);this.Oa.splice(d,0,this.Oa.splice(c,1)[0]);c>d&&(a=c,c=d,d=a);for(;c<=d;c++)a=this.Oa[c],a.$el.hasClass("dragging")||(b=hN(this,c),a.$el.animate({top:b},G.sa.GG,f(a,b)));nN(this,d)};e.HG=function(){S();this.ad=this.ad||this.model.aa.length;this.$el.addClass("holding");this.model.aa.length<=G.Xo&&(this.$("#addNewPage").removeClass("off"),iN(this))};
e.WP=function(){lN(this)};function lN(a){a.ad&&!a.$el.hasClass("modifying")&&(a.ad=0,a.Jf=0,mN(a,0,!0),a.$el.removeClass("holding"))}
function iN(a){if(!Ar){var b=sH(),c=a.Oa[0],d=pN(c),f=qN(c),g;d.w()<=b.w()?(g=b.W()+Math.round((b.w()-d.w())/2),a.$el.children(".inner").css("width","")):(g=50,a.$el.children(".inner").css("width",g+f.w()+g));var h=Math.abs(xo(a.model.Sa()))*N;a.Oa.forEach(function(b,c){c=hN(a,c);oN(b,g+h,c)});var f=qN(c),c=a.$("#addNewPage"),k=c.is(".off")?450:220,k=Math.max(f.w(),k),f=f.W()-h;k>d.w()&&(f=(b.w()+2*b.W()-k)/2);c.css("top",hN(a,a.Oa.length)).css("left",f).css("width",k)}}
function hN(a,b,c){var d=zo(a.model.Sa())*N;void 0===c&&(c=a.model.aa.length);a.ad&&(c=a.ad);var f=sH(),g=Math.round(G.em*N);c=jN(a,c);var h=f.N();Ar||a.qd?h=0:c<=f.D()&&(h+=(f.D()-c)/2);return h+(d+g)*b}function jN(a,b){var c=zo(a.model.Sa())*N;void 0===b&&(b=a.model.aa.length);a.ad&&(b=Math.max(a.ad,b));var d=N,f=a.$("#addNewPage");b=b*c+(b-1)*G.em*d;a.model.Kc.Wy()&&!$("body").hasClass("blockDocument")&&(b+=G.em*d+f.outerHeight());return Math.round(b)}
function rN(a,b){var c=sH(),d=jN(a);if(d>c.D()){var f=a.$el.prop("clientHeight"),d=hN(a,0)+d+(f-c.Ga());a.Zd>c.D()&&(d+=c.w()/6)}else d=a.$el.prop("clientHeight");b?a.$el.children(".inner").animate({height:d},{duration:G.sa.Of,sg:"easeOutSine",queue:!1}):a.$el.children(".inner").css("height",d)}
function mN(a,b,c){var d=zo(a.model.Sa());void 0===b&&(b=0);void 0===c&&(c=0<a.ad);rN(a,c);var f=0;a.ad&&b==a.model.aa.length?(c=(a.Jf||a.ad)-b,a.Jf!=c-1&&(c=a.Jf+1,a.Jf=b),f+=(d+G.em*N)*c,a.Jf=c):a.Jf&&(c=a.Jf,f+=(d+G.em*N)*c);a.$("#addNewPage").animate({top:hN(a,a.Oa.length)+f},{duration:G.sa.Of,sg:"easeOutSine",queue:!1});var g=a.$el.scrollTop()||0,h=g+a.$el.prop("clientHeight");a.Oa.forEach(function(a,b){var c=hN(this,b)+f;b=c+d;!this.ad&&!this.Jf||b>g&&c<h?a.$el.addClass("transitioning").animate({top:c},
{duration:G.sa.Of,sg:"easeOutSine",queue:!1,complete:function(){a.Ug(c)}}):a.Ug(c)},a);window.setTimeout(function(){for(var b=0;b<a.Oa.length;b++)a.Oa[b].$el.removeClass("transitioning")},G.sa.Of)}
function nN(a,b){b=Math.max(0,Math.min(a.Oa.length-1,b));var c=a.$el.scrollTop()||0;if(b==a.Oa.length-1)c=sH(),c=hN(a,a.model.aa.length)+a.$("#addNewPage").height()-c.Ga();else{b=hN(a,b);var d=b+a.Zd,f=a.$el.prop("clientHeight"),f=c+f,g=G.Fs;f<d?c+=d-f+g:c>d&&(c-=c-b+g)}a.Nw||c==a.$el.scrollTop()||(a.Nw=!0,a.$el.animate({scrollTop:c},G.sa.Of,"easeOutSine",function(){a.Nw=!1}))}
e.Ku=function(a){var b;b=b||L(this.model);var c=sH(),d=qN(this.Oa[b.ea()]).scale(1/N);b=d.w();d=d.D();this.Wc.fill=Math.max(c.w()/b,this.Wc["10%"]);this.Wc[rI]=d*this.Wc.fill>c.D()?Math.max(c.D()/d,this.Wc["10%"]):this.Wc.fill;c=this.qd?rI:this.tw;b=L(this.model);var f=qN(this.Oa[b.ea()]).scale(1/N),d=f.w(),f=f.D();a=a&&"PIXELS"!==this.model.Eg();if(Ar||0===d||0===f)c=dr["100%"];or(this,c,b,a)};function jr(a,b){a.qd=b;a.Ku()}
function xv(a){for(var b=ab,c=0;c<b.Oa.length;c++)if(b.Oa[c].model==a)return b.Oa[c].ya();return null}
function or(a,b,c,d){c=c||L(a.model);a.$el.addClass("zooming");c=a.Oa[c.ea()];a.tw=a.qd?a.tw:b;var f=N=a.Wc[b];a.uk=Math.round(G.em*f);a.Zd=Math.round(pN(c).D());XE();K.trigger("documentView:zoom",b,f);iN(a);rN(a,!1);b=sH();f=a.$el.children(".inner").width();c=sN(c);f>b.w()&&(f=Math.round(c.W()+c.w()/2),f=Math.round(f-b.W()-b.w()/2),c.w()<b.w()&&(f+=(b.w()-c.w())/2),a.$el.scrollLeft(f));!d&&jN(a)>b.D()&&(d=Math.round(c.N()+c.D()/2),a.JA=1*(a.$el.scrollTop()||0),a.$el.scrollTop(Math.round(d-b.Ga()/
2)));a.model.za().forEach(function(a){a.Ia()});qz($b(a.C),bc(a.C));a.$el.removeClass("zooming")}function mr(a){return tN(a,function(a){return a[1]},function(a){return a[1]>N})}function nr(a){return tN(a,function(a){return-1*a[1]},function(a){return a[1]<N})}function tN(a,b,c){if(b=_.chain(a.Wc).pairs().sortBy(b).find(c).value())return or(a,b[0]),b[0]}function kN(a){a.$el.focus().blur();window.getSelection().removeAllRanges()}
function kr(a,b){a.$el.find(".inner").scrollTop(a.$el.find(".inner").scrollTop()+a.$el.find(".page").eq(b).position().top);nl(a.model,b)};function el(){}el=Uq.extend();el.prototype.initialize=function(a){this.analytics=a.analytics;this.ck=a.ck;this.wd=a.wd;this.anchor=a.anchor;this.Ls=a.Ls;this.ds=a.ds;this.fI=0;a=_.extend({},{Qj:!0,position:"topLeft",dd:{left:10,top:-14}},a);Uq.prototype.initialize.call(this,a);0<this.ds?(this.listenTo(this.wd,"session:sync",this.fF),this.analytics&&this.analytics.track("experiment_enroll",{type:this.ck,section:"editor",subsection:"header",location:"publish_pop_over"})):uN(this)};
el.prototype.fF=function(a){2==a&&(a=0===$(".modalContent").length,this.fI++,a&&this.fI>=this.ds&&(uN(this),this.stopListening(this.wd,"session:sync",this.fF)))};function uN(a){a.Tf(a.anchor);vN(a);a.analytics&&a.analytics.track("dialog_show",{type:a.ck,section:"editor",subsection:"header",location:"publish_pop_over"})}function vN(a){a.anchor.one("click",function(){a.analytics&&ti(a.analytics,a.Ls,"header",a.ck+"_dialog")})}el.prototype.Nk=function(){return wN};
el.prototype.remove=function(){this.analytics&&ui(this.analytics,this.ck,"header","publish_pop_over");X.prototype.remove.call(this)};function xN(a,b,c){this.context=a;this.active=!!c;this.zb=b}xN.prototype.getContext=function(){return this.context};
function yN(a){switch(a.context){case "PUBLIC_STREAM":return a.zb.format("editorControlsPublicationPublic");case "TEAM_STREAM":return a.zb.format("editorControlsPublicationShowing");case "TEAM_TEMPLATE":return a.zb.format("editorControlsPublicationTemplated");case "MARKETPLACE_LAYOUT":return a.zb.format("editorControlsPublicationMarketplace");default:throw Error("Unknown EditorConfig.PublicationContext "+a.context);}}
function zN(a){switch(a.context){case "PUBLIC_STREAM":return a.zb.format("editorControlsPublicationMakeActivePublic");case "TEAM_STREAM":return a.zb.format("editorControlsPublicationMakeActiveShowTeam");case "TEAM_TEMPLATE":return a.zb.format("editorControlsPublicationMakeActivePublishAsTemplate");case "MARKETPLACE_LAYOUT":return a.zb.format("editorControlsPublicationMakeActivePublishAsLayout");default:throw Error("Unknown EditorConfig.PublicationContext "+a.context);}}
xN.prototype.toggle=function(a){return new xN(this.context,this.zb,void 0!==a?a:!this.active)};var AN={PUBLIC_STREAM:2,TEAM_STREAM:0,TEAM_TEMPLATE:1},BN={PUBLIC_STREAM:"switchMakePublic",TEAM_STREAM:"switchShowTeam",TEAM_TEMPLATE:"switchPublishTemplate",MARKETPLACE_LAYOUT:"switchPublishLayout"};function CN(){}CN=Uq.extend({className:"docPublisherPopOver"});CN.prototype.initialize=function(a){Uq.prototype.initialize.call(this,_.defaults(a,{dd:{top:-4}}));this.zb=a.zb};
function DN(a,b){function c(a,c){return new xN(b[c].getContext(),d.zb,hJ(a))}var d=a,f=b.map(function(a){return new gJ({on:a.active})}),g=f.map(function(a,c){var f=$(d.XR({label:zN(b[c])}));f.addClass(BN[b[c].context]);a.render().$el.appendTo(f);return f}),h=a.$(".buttonContainer");g.forEach(function(a){a.insertBefore(h)});return new P(function(a,b){d.once("hide",function(d){return 2===d?a(f.map(c)):b(new EN)})})}CN.prototype.Im=_.template('\x3cp class\x3d"error"\x3e\x3c%- message %\x3e\x3c/p\x3e');
CN.prototype.XR=_.template('\x3cdiv class\x3d"switchContainer"\x3e\x3clabel\x3e\x3c%- label %\x3e\x3c/label\x3e\x3c/div\x3e');function FN(a){this.analytics=a.analytics;this.document=a.document;this.Ea=a.getSession();this.Oc=a.Oc;this.Nb=a.Nb;this.Wn=[];var b={};b.PUBLIC_STREAM=this.rl.bind(this);b.TEAM_STREAM=this.bx.bind(this);b.TEAM_TEMPLATE=this.es.bind(this);b.MARKETPLACE_LAYOUT=this.zQ.bind(this);this.yQ=b;b={};b.PUBLIC_STREAM=this.Mo.bind(this);b.TEAM_STREAM=this.ex.bind(this);b.TEAM_TEMPLATE=this.ns.bind(this);this.sS=b;this.cp=this.Hs=null;this.zb=a.zb;this.pm=a.pm;this.Oo=a.Oo}e=FN.prototype;e.on=Backbone.Events.on;
e.once=Backbone.Events.once;e.trigger=Backbone.Events.trigger;e.listenTo=Backbone.Events.listenTo;e.stopListening=Backbone.Events.stopListening;e.hx=function(a){return 0<a.filter(function(a){return a.active}).length&&this.document.isEmpty()?P.reject(Error(this.zb.format("editorControlsPublishErrorNoContent"))):P.resolve(a)};
function GN(a,b){var c=a.zb;a.cp=b.Zf.get("associatedMedia",null);a.Wn=sf(b).map(function(a){return new xN(a,c,0<=b.Zf.get("activePublicationContexts",[]).indexOf(a))});return a}function HN(a){return[].concat(a.Wn).map(Object.freeze)}
e.cC=function(a){function b(){return a.some(function(a){return a.active})}var c=this,d=function(){return a.map(function(a,b){var d=a.active?c.yQ:c.sS;return a.active!==c.Wn[b].active&&d[a.getContext()]})}();if(0===d.filter(function(a){return!!a}).length)return P.resolve(a);this.trigger("processingStateChange",!0);return Fr(1E3).then(function(){var f=d.map(function(a){return a?a():P.resolve(null)});return P.settle(f).then(function(d){var f=d.filter(function(a){return a.isRejected()});c.Wn=d.map(function(b,
d){return(b.isFulfilled()?a:c.Wn)[d]});if(0<f.length)throw f[0].reason();b()&&IN(c);return c.Wn})}).finally(function(){c.trigger("processingStateChange",!1)})};function JN(a){var b=(new lu).Ro(!0);return a.cp?Jv(gb,a.cp,b).then(function(a){return a.Aa().Pk()}):null!==a.cp?P.resolve("PENDING_REVIEW"):P.resolve(null)}e.bx=function(){return this.Ea.rl("BRAND")};e.rl=function(){return this.Ea.rl("GLOBAL").tap(function(){var a=this.analytics;a.track("design_public",{design:this.Ea.va(),template:a.Ze})}.bind(this))};
e.es=function(){return this.Ea.es().tap(function(){var a=this.analytics;a.track("design_templatify",{design:this.Ea.va(),template:a.Ze})}.bind(this))};e.ex=function(){return this.Ea.Mo("BRAND")};e.Mo=function(){return this.Ea.Mo("GLOBAL").tap(function(){var a=this.analytics;a.track("design_private",{design:this.Ea.va(),template:a.Ze})}.bind(this))};e.ns=function(){return this.Ea.ns().tap(function(){var a=this.analytics;a.track("design_untemplatify",{design:this.Ea.va(),template:a.Ze})}.bind(this))};
e.zQ=function(){var a=this;return SH(this.document.Za())?P.reject(Error("You cannot publish an untitled design as a layout - please title your design.")):new P(function(b,c){function d(c,d){"submitted"==d&&(HC(),b(new xN("MARKETPLACE_LAYOUT",a.zb,!0)))}var f=new KN(a.Ea,a.Oc),g=new LN({workflow:f,document:a.document,availableLocales:a.pm,userLocale:a.Oo});f.on("change:state",d);g.on("remove",function(){f.off("change:state",d);c(Error("No action specified"))});g.show()})};
function MN(a){var b=new Ro({ng:a.Ea.va(),Em:a.Ea.Rc(),Sr:new Vo({type:"THUMBNAIL",format:"PNG",Lq:"SCREEN",Kq:96})});return a.Nb.tm(b)}function IN(a){function b(){c.Hs=null}var c=a;a.Hs||(a.Hs=MN(a),a.Hs.finally(b))}function EN(){Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);this.message="Cancelled document publication"}EN.prototype=Object.create(Error.prototype);EN.prototype.constructor=EN;function NN(a,b){return a.Zf.get("editorActions",[]).map(function(a){return(a=ON[a]||null)?a(b):null})}
var ON={UPGRADE:function(a){var b=new PN({zb:dc(a.C)});b.on("click",function(){var b=a.ai,d=Fq(a.pc).na(),b=QN({kb:eb,ia:ib,analytics:a.analytics,ca:d,Sn:RN(b),hd:a.hd,zo:!1,pk:!1,fg:!!a.fg,Ni:!!a.Ni,C:a.C,fa:a.fa});b.on("signup",function(){window.location="/brand/onboarding/upgrader"});SN(b)});return b},SHARE:function(a){var b=dc(a.C),c=new Backbone.View({tagName:"button",className:"button editorActionShare",events:{click:function(){var b=nc(a.C).format("shareDesignDialogInvitePlaceholder"),c=a.ia,
g=Fq(a.pc).na(),h=a.C;h.vg||(h.vg=new Xc(h.Ha));var b={Rn:b,ia:c,ca:g,vj:!0,vg:h.vg},c=b.vg,c=new TN({el:$(UN({inputPlaceholder:b.Rn}))[0],vg:c}),b=new VN({ia:b.ia,ca:b.ca,Ju:b.Ju,vj:b.vj,view:c}),c=a.ba,g=a.fa,h="\x3cdiv\x3eAn embed code for design "+a.document.id+".\x3c/div\x3e",k=b.view,l=nc(a.C),c=new WN({ba:c,UH:!!g.ta.get(Xd),PH:!!g.ta.get(Wd),Pt:k,wh:!!g.ta.get(ue),uf:h,HB:!!g.ta.get(Ae),wa:l}),g=a.getSession().va(),m=a.pc,n=a.Ha.eK(),p=!!a.fa.ta.get(Be),h=a.fa.ta.get(he),k=a.analytics,l=a.eb,
r=a.ia,q=a.Ml,v=a.Nb,x=a.Rf,w=Un(a.getSession()),y=a.getSession().context.Sp().Rk(),B=a.getSession().context.Sp().RE(),F=nc(a.C),D=a.Il,E=eJ(g,w,"sharebutton","link"),y=y?dJ(g,"share")+"?role\x3dVIEWER\x26token\x3d"+encodeURIComponent(y)+"\x26"+fJ(g,"sharebutton","link"):null,H=B?dJ(g,"share")+"?role\x3dEDITOR\x26token\x3d"+encodeURIComponent(B)+"\x26"+fJ(g,"sharebutton","link"):null,V=[F.format("shareDesignDialogTweet1"),F.format("shareDesignDialogTweet2"),F.format("shareDesignDialogTweet3"),F.format("shareDesignDialogTweet4")],
R=Gq(m),m=Fq(m),O=m.brandMembersCount+m.brandInvitationsCount,n=n&&p&&null===m.getSubscription()&&O<h;(new XN({Lc:g,jb:R.G(),Wl:R.gb(),ca:m.na(),analytics:k,eb:l,ia:r,Ml:q,Nb:v,Rf:x,Ot:b,AB:n,Vz:h,qs:w,my:B,Pv:E,Kw:y,ap:H,Tl:V,wa:F,view:c,Il:D})).show()}}});c.$el.text(b.vB());return c},EXPORT:function(a){var b,c;b=dc(a.C);c=new Backbone.View({tagName:"button",className:"button editorActionExport",events:{click:function(b){var c={model:a.document,fa:a.fa,yd:-1!==["DESIGN_TUTORIAL","FREE_NEW_USER",
"OTHER_ONBOARDING"].indexOf(a.Ha.Fe()),analytics:a.analytics,Mb:a.Am,Kb:a.Kb,ob:a.getSession(),kb:a.kb,Nb:a.Nb,hd:a.hd,ia:a.ia,jd:a.jd,pc:a.pc,C:a.C,ba:a.ba,lb:a.lb,$e:new GM({analytics:a.analytics})};(new LM(c)).Tf($(b.target));a.analytics.track("download_button_click",{section:"editor",location:"menu_bar"})}}});b=b.download();c.$el.text(b);return c}};ON.PUBLISH_TO_STREAM=function(a){function b(){return HN(l).filter(function(a){return a.active}).sort(function(a,b){a=AN[a.getContext()]||0;b=AN[b.getContext()]||0;return a===b?0:a>b?-1:1})[0]}function c(a){null!==a&&(a===Qv?m.$el.addClass("publishToStreamSwitchForSale"):(m.$el.addClass("publishToStreamSwitchInReview"),HC()))}function d(b){var c=dc(a.C);b instanceof Error||(b=Error(c.format("editorControlsErrorFlippingSwitch")));(new Sq({title:c.format("editorControlsPublishErrorTitle"),content:$("\x3cp\x3e"+
b.message+"\x3c/p\x3e")})).show().$el.addClass("docPublisherError")}function f(b){var c=dc(a.C),f=HN(l).map(function(a,d){return new xN(a.getContext(),c,b&&0===d?b:a.active)}),h=new CN({Yc:c.format("editorControlsPublicationSaveChanges"),zb:c}),k=h.remove.bind(h);return DN(h.Tf(m.$el),f).then(l.hx.bind(l)).then(l.cC.bind(l)).finally(g).tap(k).catch(EN,k).catch(d)}function g(){var a=b()||HN(l)[0];if(a){n=!0;try{var c=m,d=yN(a);c.Nf=d;c.$(".switchLabelOn").text(d);m.toggle(a.active)}finally{n=!1}}}
function h(a){var b=HN(l).map(function(b){return b.toggle(a)});return l.hx(b).then(l.cC.bind(l)).finally(g).catch(d)}var k=sf(a.Ha),l=GN(new FN({analytics:a.analytics,getSession:a.getSession,document:a.document,Oc:a.Oc,Nb:a.Nb,zb:dc(a.C),pm:a.pm,Oo:Gq(a.pc).Ag()}),a.Ha),m=function(){var a=HN(l),c=a[0],d=b()||c;(a=d?new gJ({on:d.active,Nf:yN(d),Lg:zN(c),om:1===a.length||!d.active}):null)&&a.$el.addClass("publishToStreamSwitch");return a}(),n=!1;if(!m)return null;0<=k.indexOf("MARKETPLACE_LAYOUT")&&
JN(l).then(c);m.on("toggle",function(a){var b=HN(l),c=1<b.length?f:h;m.om=1===b.length||!a;if(!n)return c(a)});m.on("click",function(){A&&A.save();m.om||f()});l.on("processingStateChange",function(a){m.$el.toggleClass("switchProcessing",a)});a.Il.on(YN,function(){var a=HN(l).map(function(a){return"PUBLIC_STREAM"===a.getContext()?a.toggle(!0):a});return l.hx(a).then(l.cC.bind(l)).finally(g).catch(d)});return m};function PN(){}PN=Backbone.View.extend({tagName:"button",className:"button buttonUpgrade"});PN.prototype.initialize=function(a){this.zb=a.zb};PN.prototype.events=function(){return{click:this.trigger.bind(this,"click")}};PN.prototype.render=function(){this.$el.html(this.template({upgrade:this.zb.dw()}));return this};PN.prototype.template=_.template('\x3cdiv class\x3d"buttonUpgradeSparkle"\x3e\x26starf;\x3c% _.times(5, function() { %\x3e\x3cspan\x3e\x3c/span\x3e\x3c% }); %\x3e\x3c/div\x3e\x3c%- upgrade %\x3e');function DD(){}DD=Backbone.View.extend({el:"#editorControls"});
DD.prototype.initialize=function(a){this.listenTo(this.model,"change:title",this.UB);this.listenTo(this.model,"resize",this.UB);this.listenTo(this.model,"change",this.vL);this.listenTo(K,"documentView:scroll",this.wL);this.listenTo(K,"documentView:copyDocument",this.ED);this.listenTo(K,"session:sync",this.nB);this.listenTo(K,"documentSaveRequested",this.wH);this.fa=a.fa;this.Si=a.Si;this.Ea=a.Ea;this.Vx=2;this.Wx=!1;this.Yk=Date.now();this.bw=a.bw;this.Iw=a.Iw;this.ux=a.ux;this.C=a.C;this.render()};
DD.prototype.events=function(){return{"click #documentFileMenuButton":this.tK,"click #documentTitle .content":this.xK,"mousedown #documentTitle .content":function(a){a.stopPropagation();a.preventDefault();return!1},"click #documentFileMenuUndoButton":this.wK,"click #documentFileMenuRedoButton":this.vK,"click #editorLogo":this.uK}};DD.QD=function(){$(".helpMenuButton").remove();DD.yM=!0};DD.rL=function(){$("#yourDesigns").remove();DD.LS=!0};
DD.rR=function(a){$("#documentTitle").addClass("nonInteractive");$("#documentTitle .content").text(a);DD.ZH=a};DD.nz=function(){return void 0!==DD.ZH};e=DD.prototype;e.remove=function(){this.undelegateEvents();this.stopListening();return this};
e.render=function(){this.UB();DD.yM&&this.$(".helpMenuButton").remove();DD.nz()&&(this.$("#documentTitle").addClass("nonInteractive"),this.$("#documentTitle .content").text(DD.ZH));DD.LS&&this.$("#yourDesigns").remove();this.Iw.forEach(function(a,b){var c=a&&$("\x3cli\x3e\x3c/li\x3e");a&&(a.render().$el.addClass("prerollAnimation prerollDelay"+(b+3)).appendTo(c),$("#documentMenu").append(c))});return this};
e.tK=function(a){a=$(a.target);var b=this.ux();b.Tf(a);this.listenTo(b,"documentSaveRequested",this.wH);this.listenTo(b,"documentResizeRequested",this.Dv);this.listenTo(b,"documentCopyRequested",this.ED)};e.xK=function(a){DD.nz()||(new bN({model:this.model,C:this.C})).Tf($(a.currentTarget))};e.wK=function(){$("#documentBlocker").hasClass("on")||Dz()};e.vK=function(){$("#documentBlocker").hasClass("on")||Cz()};
e.uK=function(){-1!=qf.indexOf(this.Si.Fe())&&De&&De.track("minichallenge_leave");this.$el.off("mouseout","#documentMenu li")};function II(a){a.$("#primaryNavigation").removeClass("undoDisabled")}function JI(a){a.$("#primaryNavigation").removeClass("redoDisabled")}
function MI(a){0<C.zc.length?II(a):(a.$("#primaryNavigation").addClass("undoDisabled"),a.$("#documentFileMenuUndoButton").blur());0<C.$n.length?JI(a):(a.$("#primaryNavigation").addClass("redoDisabled"),a.$("#documentFileMenuRedoButton").blur())}e.vL=function(){MI(this)};e.wL=function(a){var b=this.$("#documentMenu");a?b.addClass("dark"):b.removeClass("dark")};e.UB=function(){var a=this.model.Za();DD.nz()||(this.$("#documentTitle .content").text(GD(a)),this.bw&&this.bw(GD(a,{FM:!0})))};
e.nB=function(a){function b(a){var b=dc(c.C),g=$("#documentSyncStatus");0===a&&null!=c.Ea.Gi?g.text(b.format("editorControlsUnsavedChanges")):1===a?g.text(b.format("editorControlsSaving")):2===a?g.text(b.format("editorControlsAllChangesSaved")):g.text("")}var c=this;2===a&&(this.Yk=Date.now());this.Vx=a;this.Wx||(b(a),window.setTimeout(function(){c.Vx!==a&&b(c.Vx);c.Wx=!1},600),this.Wx=!0)};e.wH=function(){this.Ea.save();null==this.Ea.Gi||this.Ea.Fg()||(this.nB(1),this.nB(2))};
e.Dv=function(a){var b=new aD(1,{"new":{docType:a},old:{docType:this.model.Sa(),model:this.model.serialize()}}),c=this.model.Za();c.Dm=a.getName();c.trigger("change");S();C.register(b);b.Yh()};e.ED=function(){var a=this.Ea.va(),b=Un(this.Ea),c=GD(this.model.Za()),c=Sb(this.C).format("documentCopyDesignTitle",c);c.length>G.Bw&&(c=c.substring(0,G.Bw));window.open(dJ(a,"remix",b)+"?title\x3d"+encodeURIComponent(c),"")};function sI(){}sI=Backbone.View.extend({tagName:"div",id:"overlays",template:_.template('\x3cdiv class\x3d"mask"\x3e\x3c/div\x3e\x3cdiv class\x3d"vertical align"\x3e\x3c/div\x3e\x3cdiv class\x3d"vertical align"\x3e\x3c/div\x3e\x3cdiv class\x3d"vertical align"\x3e\x3c/div\x3e\x3cdiv class\x3d"horizontal align"\x3e\x3c/div\x3e\x3cdiv class\x3d"horizontal align"\x3e\x3c/div\x3e\x3cdiv class\x3d"horizontal align"\x3e\x3c/div\x3e\x3cdiv class\x3d"rotation align"\x3e\x3c/div\x3e\x3cdiv class\x3d"rotationGuide"\x3e\x3c/div\x3e')});
e=sI.prototype;e.initialize=function(a){this.og=a.og;this.C=a.C;this.listenTo(this.model,{"page:change:selected":this.render});this.Qq=this.Qq.bind(this);this.lt=this.lt.bind(this);this.Bt=this.Bt.bind(this);this.og.$el.on("mousedown",this.Qq);this.og.$el.on("touchstart",this.lt);this.og.$el.on("touchend",this.Bt);this.$el.html(this.template());this.render();this.$el.prependTo(this.og.$el.children(".inner"))};e.fz=function(a){(a=$(a.target).parents(".element").last().data("toolbar"))&&Yu(a)};
e.events=function(){this.fz=_.debounce(this.fz,100);return{'keydown [contenteditable\x3d"true"]':this.fz}};e.remove=function(){Backbone.View.prototype.remove.call(this);this.og.$el.off("mousedown",this.Qq);this.og.$el.off("touchstart",this.lt);this.og.$el.off("touchend",this.Bt)};e.render=function(){this.model.za().forEach(function(a){a.mc&&a.Ra()});return this};e.lt=function(){this.CF=!0};e.Bt=function(){this.CF=!1};
e.Qq=function(a,b){function c(a){m||a.shiftKey||S();m=!0;var b=f(a)-p;a=g(a)-r;0>b&&w.css("left",q+b);0>a&&w.css("top",v+a);w.css("display","").css("width",Math.abs(b)).css("height",Math.abs(a));$(B).each(function(a,b){TI.call(b)});return!1}function d(a){y.off("mousemove|touchmove",c).off("mouseup|touchend",d);$("#marquee").remove();a.shiftKey&&x.forEach(QI);m&&(a=z.Ja(),0===a.length?S():1==a.length?(S(),Ke(a[0])):qz($b(h.C),bc(h.C)))}function f(a){a=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX;
return a-=n.left}function g(a){a=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY;return a-=n.top}var h=this;if(h.CF||a.which==G.oe||a.ctrlKey)return!0;var k=$(a.target).is("#content, #canvaDocument, #canvaDocument \x3e .inner, .bg, .elements"),l=$(a.target).is(".elements .background.image.element, .elements .background.image.element img");if(!(k||l||b))return!0;if($(".toolbar__item--submenuExpanded, .colorPalette.on.toolbar--overlay").length)return K.trigger("hideContextualControlsRequested"),
!0;var m=!1,n=$("#canvaDocument").offset(),p=f(a),r=g(a);b=document.getElementById("canvaDocument");var q=p+b.scrollLeft,v=r+b.scrollTop,x=z.Ja();$(a.target).is("input")||$("*:focus").blur();a.shiftKey||S();var w=$('\x3cdiv id\x3d"marquee"\x3e\x3c/div\x3e');w.css("display","none").css("left",q).css("top",v).appendTo(this.$el);var y=new Uk($(document));y.on("mousemove|touchmove",c).on("mouseup|touchend",d);var B=$("#content .element");kN(h.og);a.preventDefault()};function gN(){}gN=Backbone.View.extend({tagName:"section",className:"page"});gN.qL=function(){$(".pageToolbar").addClass("disabled").hide();$(".pageToolbarCopy").removeClass("enabled").addClass("disabled");gN.VP=!0};e=gN.prototype;e.events=function(){return{"mousedown \x3e .elements":this.cA,"mouseout .pageToolbar":this.eN,"click .pageToolbarCopy.enabled":this.MK,"click .pageToolbarDelete.enabled":this.NK,"click .pageToolbarDown.enabled":this.OK,"click .pageToolbarUp.enabled":this.PK,click:this.EK}};
e.initialize=function(a){this.Dj="";this.ml=a.ml;this.listenTo(K,"documentView:zoom",this.Xx);this.listenTo(this.model,{change:this.WK,"change:background":this.eD,"change:selected":this.CH,"change:preview":this.tQ,"element:add":this.GL,"element:move":this.JL,"element:remove":this.LL,resize:this.QQ,willchange:this.XK});this.listenTo(this.model.yb,{"page:add":this.Ux,"page:move":this.Ux,"page:remove":this.Ux});this.render()};
e.render=function(){var a=this.model.yb,b=this.model.ea();this.$el.html(this.template({pageNumber:b+1,isFirst:a&&0==b,isLast:a&&b==a.aa.length-1,isPageNumMax:a&&a.aa.length>=G.Xo,pageToolbarClass:gN.VP?"disabled":"",actionMoveUp:this.ml.NJ(),actionMoveDown:this.ml.MJ(),actionCopy:this.ml.KJ(),actionDelete:this.ml.LJ()}));this.Xx();this.CH(0,ql(a)===b);this.model.xa=this.$el;this.eD();return this};e.uc=function(){return this.model.uc()};e.qB=function(a){this.model.qB(a);this.$el.css("left",a)};
e.vc=function(){return this.model.vc()};e.Ug=function(a){this.model.Ug(a);this.$el.css("top",a)};function oN(a,b,c){a.qB(b);a.Ug(c)}
e.cA=function(a){function b(a){var b=(void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX)-f;a=(void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY)-g;!h&&(Math.abs(b)>G.xb||Math.abs(a)>G.xb)&&(h=!0)}function c(){k.off("mousemove|touchmove",b).off("mouseup|touchend",c);h||0<d.Ja().length||Iz(tl(d))}if(a.target===a.currentTarget||0!==$(a.target).closest(".element.background.image").length){var d=this.model;if(!(0<d.Ja().length)){var f=void 0!==a.clientX?a.clientX:a.originalEvent.touches[0].clientX,
g=void 0!==a.clientY?a.clientY:a.originalEvent.touches[0].clientY,h=!1,k=new Uk($(document));k.on("mousemove|touchmove",b).on("mouseup|touchend",c)}}};e.EK=function(a){if(!(0<$(a.target).parents(".pageToolbar").length)){a=this.model.yb;var b=T(a,this.model);nl(a,b)}};e.PK=function(){var a=this.model.yb;if(a){var b=this.model.ea();1>b||(vl(a,this.model,b-1),C.register(new XC(5,{pageIndex:b-1,oldPageIndex:b})),kN(ab))}};
e.OK=function(){var a=this.model.yb;if(a){var b=this.model.ea();b>=a.aa.length-1||(vl(a,this.model,b+1),C.register(new XC(5,{pageIndex:b+1,oldPageIndex:b})),kN(ab))}};e.MK=function(){K.trigger("pageView:copyButton:click");var a=this.model.ea(),b=this.model.clone();vl(this.model.yb,b,a+1);b=VC(this.model.serialize());b.pageIndex=a+1;C.register(new XC(1,b));kN(ab)};
e.NK=function(){K.trigger("pageView:deleteButton:click");var a=this.model.ea(),b=VC(this.model.serialize());b.pageIndex=a;this.model.remove();C.register(new XC(2,b));kN(ab)};e.eN=function(a){0==$(a.relatedTarget||a.toElement).closest(".pageToolbar").length&&K.trigger("pageView:toolbar:mouseout")};e.XK=function(){this.ol&&this.ol.remove();this.ol=this.$el.clone();this.ol.addClass("doNotAnimate").insertAfter(this.$el)};
e.WK=function(){var a=this;window.setTimeout(function(){a.$el.addClass("on").css("opacity","");a.ol.remove()},800);this.ol&&0<this.ol.parents().length&&this.$el.css("opacity",1).removeClass("on").insertAfter(this.ol)};e.eD=function(){this.model.xu()?this.$el.addClass("dark"):this.$el.removeClass("dark")};e.CH=function(a,b){this.$el.toggleClass("selected",b)};
e.GL=function(a,b,c,d){function f(){S();g.removeClass("dropping");Ke(b);g.hasClass("text")&&xz(g,!0)}var g=b.F(),h=ZN(this,b),h=h&&h.F();c&&(g.one("animationend",f),b.setPosition((a.w()-b.w())/2,(a.D()-b.D())/2),g.addClass("dropping"));d&&g.addClass("appearing");b instanceof lt?g.appendTo(this.$el):h&&h.closest(".page").length?g.insertBefore(h):g.appendTo(this.$el.children(".elements"));b.mc=this.$el;b.Ia()};
function ZN(a,b){b=a.model.elements.indexOf(b);return a.model.za().slice(b+1).filter(function(a){return!(a instanceof lt)&&!Ct(a)})[0]}e.LL=function(a,b,c,d){var f=b.F();b.ff();d?f.addClass("disappearing").delay(G.sa.ny,function(){f.remove()}):f.remove()};e.JL=function(a,b){Ct(b)||(a=b.F(),(b=ZN(this,b))?a.insertBefore(b.F()):a.appendTo(this.$el.children(".elements")))};
e.Ux=function(){this.$(".pageNumber").text((this.model.ea()+1).toString());this.$("li").removeClass("disabled").addClass("enabled");var a=this.model.yb,b=this.model.ea(),c=a&&0==b,a=a&&b==a.aa.length-1;c&&this.$(".pageToolbarUp").removeClass("enabled").addClass("disabled");a&&this.$(".pageToolbarDown").removeClass("enabled").addClass("disabled");c&&a&&this.$(".pageToolbarDelete").removeClass("enabled").addClass("disabled");ab.model.aa.length>=G.Xo&&this.$(".pageToolbarCopy").removeClass("enabled").addClass("disabled")};
e.Xx=function(){var a=this.model.D()*N,b=this.$(".pageToolbar");this.$el.css("width",this.model.w()*N).css("height",a);if(a>G.DJ){b.addClass("vertical");var c=a/2+ub+G.CJ;c>a?b.css("margin-top",+ub-(c-a)):b.css("margin-top","")}else b.removeClass("vertical").css("margin-top","");b.data("leftOffset")||(a=this.model.Sa(),a=xo(a)+Ao(a)-this.model.w(),b.data("leftOffset",a));a=b.data("leftOffset");0<a&&b.css("margin-left",a*N)};
e.ya=function(){var a=this.$(".pageToolbar"),a=a.is(":visible")?Math.round(a.outerWidth(!0)):0;return Mi(sN(this),a,0)};function pN(a){var b=a.$(".pageToolbar"),b=b.is(":visible")?Math.round(b.outerWidth(!0)):0;return Mi(qN(a),b,0)}function sN(a){return new M(a.uc(),a.vc(),parseInt(a.$el.css("width"),10),parseInt(a.$el.css("height"),10))}
function qN(a){if(!a.model||!a.model.Sa())return new M(0,0,0,0);var b=a.model.Sa(),c=$e(b.dc()),d=Ao(b)-c.w(),b=zo(b)-c.D(),d=parseInt(a.$el.css("width"),10)+Math.round(d*N),b=parseInt(a.$el.css("height"),10)+Math.round(b*N);if(isNaN(d)||!isFinite(d)||0>=d)d=c.w();if(isNaN(b)||!isFinite(b)||0>=b)b=c.D();return new M(a.uc(),a.vc(),d,b)}e.QQ=function(){this.Xx();this.model.za().forEach(function(a){a.Ia()})};
e.tQ=function(){var a=this,b=this.Dj;(this.Dj=this.model.Dj)?this.$el.css("background-image","url("+this.Dj+")").css("background-size","cover"):b?window.setTimeout(function(){a.$el.css("background-image","none").css("background-size","")},300):this.$el.css("background-image","none").css("background-size","")};e.template=_.template('\x3cdiv class\x3d"crops"\x3e\x3cdiv class\x3d"tlcrop"\x3e\x3c/div\x3e\x3cdiv class\x3d"trcrop"\x3e\x3c/div\x3e\x3cdiv class\x3d"brcrop"\x3e\x3c/div\x3e\x3cdiv class\x3d"blcrop"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"elements"\x3e\x3c/div\x3e\x3cmenu class\x3d"pageToolbar \x3c%\x3d pageToolbarClass %\x3e"\x3e\x3cli class\x3d"pageToolbarUp \x3c%\x3d isFirst ? "disabled" : "enabled" %\x3e"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- actionMoveUp %\x3e"\x3e\x3c%- actionMoveUp %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"pageToolbarDown \x3c%\x3d isLast ? "disabled" : "enabled" %\x3e"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- actionMoveDown %\x3e"\x3e\x3c%- actionMoveDown %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"pageToolbarCopy \x3c%\x3d isPageNumMax ? "disabled" : "enabled" %\x3e"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- actionCopy %\x3e"\x3e\x3c%- actionCopy %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"pageToolbarDelete \x3c%\x3d isFirst \x26\x26 isLast ? "disabled" : "enabled" %\x3e"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- actionDelete %\x3e"\x3e\x3c%- actionDelete %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"pageNumber"\x3e\x3c%\x3d pageNumber %\x3e\x3c/li\x3e\x3c/menu\x3e');function oM(){}oM=X.extend({className:"popupBlocked"});oM.xJ={Chrome:!0,IE:!0};oM.VR=function(a){return a in oM.xJ};e=oM.prototype;e.initialize=function(a){X.prototype.initialize.call(this,{ba:Zh,Qd:!1,Qj:!1});this.eg=a.eg};e.events=function(){return{"click .popupBlockedFileMenuLink":this.ok}};
e.render=function(){X.prototype.render.call(this);this.$(".content").html(this.zM());var a=this.$(".popupBlockedStepDirections").eq(0);if("Chrome"===this.eg)a.append(this.mK),this.$el.addClass("popupBlockedChrome");else if("IE"===this.eg)a.append(this.DM),this.$el.addClass("popupBlockedIE");else throw Error('Unsupported browser "'+this.eg+'"');return this};
e.show=function(){X.prototype.show.call(this);var a=this.$el.parent().prevAll(".modalContent:not(.modalContentPreviousSibling)");a.addClass("modalContentPreviousSibling");this.once("remove",function(){a.removeClass("modalContentPreviousSibling")});return this};e.zM=_.template('\x3cheader class\x3d"popupBlockedHeader"\x3e\x3ch1 class\x3d"popupBlockedTitle"\x3eYou\x26rsquo;re almost there!\x3c/h1\x3e\x3ch2 class\x3d"popupBlockedSubTitle"\x3eCanva just needs permission to open multiple tabs in your browser.\x3c/h2\x3e\x3c/header\x3e\x3col class\x3d"popupBlockedSteps"\x3e\x3cli class\x3d"popupBlockedStep"\x3e\x3ch3 class\x3d"popupBlockedStepLabel"\x3eStep 1\x3c/h3\x3e\x3cp class\x3d"popupBlockedStepDirections"\x3e\x3c/p\x3e\x3c/li\x3e\x3cli class\x3d"popupBlockedStep"\x3e\x3ch3 class\x3d"popupBlockedStepLabel"\x3eStep 2\x3c/h3\x3e\x3cp class\x3d"popupBlockedStepDirections"\x3eTry resizing again by hitting the magic button in the \x3cbutton class\x3d"buttonLink button popupBlockedFileMenuLink"\x3eFile menu\x3c/button\x3e\x3c/p\x3e\x3c/li\x3e\x3c/ol\x3e');
e.mK=_.template("\x3cspan\x3eClick the pop-up blocker icon at the top of your browser and allow pop-ups.\x3c/span\x3e");e.DM=_.template("\x3cspan\x3eClick \x3cstrong\x3e\x26lsquo;Options for this site\x26rsquo;\x3c/strong\x3e and then \x3cstrong\x3e\x26lsquo;Always allow\x26rsquo;\x3c/strong\x3e in the Internet Explorer alert below.\x3c/span\x3e");function LN(){}
LN=Backbone.View.extend({id:"submitLayoutDialog",template:_.template('\x3cdiv class\x3d"dialog preparing"\x3e\x3ch2 class\x3d"dialogTitle"\x3e\x3c%\x3d title %\x3e\x3c/h2\x3e\x3cdiv class\x3d"flowProgress"\x3e\x3c/div\x3e\x3cdiv class\x3d"content"\x3e\x3c/div\x3e\x3c/div\x3e'),WM:_.template('\x3cfieldset class\x3d"appears layoutMetadata"\x3e\x3clabel\x3eTitle of your layout\x3c/label\x3e\x3cinput class\x3d"layoutMetadataTitle textInput" name\x3d"layoutTitle" value\x3d"\x3c%\x3d title %\x3e"\x3e\x3clabel\x3eKeywords (comma separated)\x3c/label\x3e\x3ctextarea class\x3d"layoutMetadataKeywords textInput" name\x3d"layoutKeywords" rows\x3d"3" placeholder\x3d"Help your layout to be found when searching"\x3e\x3c%\x3d keywords %\x3e\x3c/textarea\x3e\x3clabel\x3eLocale\x3c/label\x3e\x3cdiv class\x3d"submitLayoutClear"\x3e\x3c/div\x3e\x3cspan class\x3d"select"\x3e\x3cselect class\x3d"layoutMetadataLocale"\x3e\x3c% locales.forEach(function(locale) { %\x3e\x3coption data-locale\x3d"\x3c%- locale.key %\x3e" \x3c%- locale.key \x3d\x3d\x3d documentLocale ? "selected" : "" %\x3e\x3e\x3c%- locale.description %\x3e\x3c/option\x3e\x3c% }); %\x3e\x3c/select\x3e\x3c/span\x3e\x3c/fieldset\x3e'),IL:_.template('\x3cfieldset class\x3d"appears elementMetadata"\x3e\x3cdiv class\x3d"thumb"\x3e\x3c%\x3d thumb %\x3e\x3c/div\x3e\x3cdiv class\x3d"labels"\x3e\x3clabel for\x3d"elementTitle\x3c%\x3d index %\x3e"\x3eTitle\x3c/label\x3e\x3clabel for\x3d"elementDescription\x3c%\x3d index %\x3e"\x3eDescription\x3c/label\x3e\x3clabel for\x3d"elementKeywords\x3c%\x3d index %\x3e"\x3eKeywords\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"inputs"\x3e\x3cinput type\x3d"hidden" class\x3d"elementMetadataMedia" name\x3d"elementMedia\x3c%\x3d index %\x3e" value\x3d"\x3c%\x3d media %\x3e" /\x3e\x3cinput type\x3d"hidden" class\x3d"elementMetadataVersion" name\x3d"elementVersion\x3c%\x3d index %\x3e" value\x3d"\x3c%\x3d version %\x3e" /\x3e\x3cinput class\x3d"elementMetadataTitle" name\x3d"elementTitle\x3c%\x3d index %\x3e" /\x3e\x3cinput class\x3d"elementMetadataDescription" name\x3d"elementDescription\x3c%\x3d index %\x3e" /\x3e\x3cinput class\x3d"elementMetadataKeywords" name\x3d"elementKeywords\x3c%\x3d index %\x3e" /\x3e\x3c/div\x3e\x3cspan class\x3d"select"\x3e\x3cselect class\x3d"elementMetadataPrice" name\x3d"elementPrice\x3c%\x3d index %\x3e" id\x3d"elementPriceSelect"\x3e\x3coption value\x3d"FREE"\x3eFREE\x3c/option\x3e\x3coption value\x3d"PAID"\x3ePAID\x3c/option\x3e\x3c/select\x3e\x3c/span\x3e\x3c/fieldset\x3e')});
e=LN.prototype;e.events=function(){return{"click .button.ok":this.ok,"click .button.reviewElements":this.eB,"click .button.submitElementsMetadata":this.RR,"click .button.submitLayoutMetadata":this.SR,"click .close":this.cancel}};e.remove=function(){var a=this;this.$(".dialog").addClass("disappearing");this.Dc.hide();this.trigger("hide");window.setTimeout(function(){a.trigger("remove",a);Backbone.View.prototype.remove.call(a)},300)};
e.initialize=function(a){function b(){c.Pe.cancel();c.off("hide",b)}var c=this;this.Dc=new Iq({style:Jq,ba:Zh});this.listenTo(this.Dc,"maskClick",this.cancel);this.document=a.document;this.Pe=a.workflow;this.on("hide",b);this.UF=new $N({NR:Object.freeze([{ka:["pricingLayout"],label:"Layout"},{ka:["pricingElements"],label:"Elements"},{ka:["complete"],label:"Complete"}])});this.listenTo(this.Pe,"change:state",this.CP);var d=a.availableLocales||{};this.R=Object.keys(d).sort().map(function(a){return{key:a,
description:d[a]}});this.Oo=a.userLocale};e.render=function(){this.$el.html(this.template({title:"Submit your design as a layout"}));return this};function aO(a,b,c){b=$('\x3cform class\x3d"metadataForm"\x3e'+b+"\x3c/form\x3e");a.$(".content").empty().append(b);bO(a);cO(a,c)}
function dO(a){var b=a.document.Za(),c=a.document.cj(),d=a.document.Ag();0===c.length&&(c=RH(b));d||(d=a.Oo?a.Oo:a.R[0].key);b=a.WM({title:b.$p(),keywords:c.join(", "),locales:a.R,documentLocale:d});window.setTimeout(function(){a.$(".dialog").removeClass("preparing")},300);aO(a,b,"submitLayoutMetadata")}
function eO(a){function b(a,b){var c=a.Aa(),l=c.ec()[eu],m=new M(0,0,l.w(),l.D());nf(m,f);m="width:"+m.w()+"px;height:"+m.D()+"px;margin-top:"+m.N()+"px;margin-left:"+m.W()+"px;";m=$('\x3cimg class\x3d"thumbImage" style\x3d"'+m+'"\x3e');m.attr("src",l.ma());return d.IL({media:a.G(),version:c.getVersion(),index:b,thumb:m.clone().wrap("\x3cdiv\x3e\x3c/div\x3e").parent().html()})}function c(){window.setTimeout(function(){d.$(".thumbImage").addClass("appeared")},1E3)}var d=a,f=new M(0,0,118,118);fO(a.Pe,
function(a){a&&0!==a.length?(d.$(".dialog").css("width","45em"),aO(d,a.map(b).join(""),"submitElementsMetadata"),2<a.length&&(d.$(".metadataForm").css("height","24em").addClass("scrolling"),d.$(".content").prepend('\x3cp class\x3d"elementCount"\x3ePlease provide information for these '+a.length+" elements. Scroll down.\x3c/p\x3e")),c()):(a=d.Pe,a.oy=[],a.gd.transition("price"))})}function bO(a){window.setTimeout(function(){a.$(".appears").addClass("appeared")},300)}
function gO(a){a.$(".dialog").css("width","30em");a.$(".content").html('\x3cdiv class\x3d"reviewNotice"\x3e\x3cp\x3e\x3cstrong\x3eYour design is in the hands our reviewers!\x3c/strong\x3e\x3cbr\x3e\x3c/p\x3e\x3c/div\x3e');window.setTimeout(function(){var b=$('\x3cdiv class\x3d"appears button ok awesome"\x3eAwesome!\x3c/div\x3e');a.$(".content").append(b);bO(a)},300)}
function cO(a,b){var c=$('\x3cdiv class\x3d"appears button forward '+b+'"\x3eNext \x26rarr;\x3c/div\x3e');window.setTimeout(function(){a.$(".content").append(c);bO(a)},300)}
e.CP=function(a,b){switch(b){case "pricingLayout":dO(this);break;case "pricingElements":eO(this);break;case "reviewingSubmission":hO(this.Pe);break;case "submitted":this.$(".dialog").css("width","30em");this.$(".content").html('\x3cdiv class\x3d"reviewNotice"\x3e\x3cp\x3e\x3cstrong\x3eYour design is being packaged up for our reviewers.\x3c/strong\x3e\x3cbr\x3e\x3c/p\x3e\x3c/div\x3e');break;case "completed":gO(this);break;case "failed":this.$(".dialog").css("width","30em"),a=this.$(".content"),a.html('\x3cdiv class\x3d"reviewNotice"\x3e\x3cp\x3eSomething went wrong submitting your layout.\x3cbr\x3e\x3cbr\x3ePlease try again later.\x3c/p\x3e\x3c/div\x3e'),
a.find(".reviewNotice").css("text-align","center")}this.UF.render(b)};e.show=function(){this.render();this.Dc.show(this.el);this.UF.show(this.$el.find(".flowProgress"));this.Pe.start()};e.cancel=function(){this.remove()};e.ok=function(){this.remove()};e.SR=function(){var a=this;iO(this.$(".layoutMetadata"),function(b){jO(a.Pe,b)})};e.eB=function(){this.Pe.eB()};
e.RR=function(){var a=[],b=this,c=this.$(".elementMetadata"),d=_.after(c.length,function(){var c=b.Pe;c.oy=a;c.gd.transition("price")});c.each(function(){var b=$(this);kO(b,function(b){a.push(b);d()})})};
function kO(a,b){var c=""+a.find(".elementMetadataMedia").val(),d=parseFloat(""+a.find(".elementMetadataVersion").val()),f=""+a.find(".elementMetadataTitle").val(),g=""+a.find(".elementMetadataDescription").val(),h=lO(""+a.find(".elementMetadataKeywords").val());a=a.find(".elementMetadataPrice").val();b({media:c,version:d,title:f,description:g,keywords:h,price:a})}
function iO(a,b){var c=a.find(".layoutMetadataTitle").val(),d=lO(""+a.find(".layoutMetadataKeywords").val());a=a.find(".layoutMetadataLocale :selected").data("locale");b({title:c,keywords:d,locale:a})}function lO(a){return a?a.split(/[,;]+/g).filter(Boolean).map(function(a){return a.trim()}):[]};function mO(a){this.qm=a.qm;this.ca=a.ca;this.Xc=a.Xc;this.Hd=a.Hd;this.element=$('\x3cdiv class\x3d"creditCardEditor"\x3e');this.gf=a.gf;this.view=a.view;this.listenTo(this.view,"input",this.Yq);this.listenTo(this.view,"requestSubmit",function(){this.trigger("requestSubmit")})}function nO(a){var b=new oO({Os:!1!==a.Os,kc:a.kc});return new mO({qm:a.qm,ca:a.ca,Xc:a.Xc,Hd:a.Hd,gf:a.gf,view:b})}e=mO.prototype;e.listenTo=Backbone.Events.listenTo;e.off=Backbone.Events.off;e.on=Backbone.Events.on;
e.once=Backbone.Events.once;e.stopListening=Backbone.Events.stopListening;e.trigger=Backbone.Events.trigger;e.render=function(){this.view.render().$el.appendTo(this.element);this.ko(this.Hd);this.Xc&&this.Jj(this.Xc);return this};e.getElement=function(){return this.element};e.remove=function(){this.stopListening();this.view.remove()};e.Jj=function(a){this.Xc=a;this.view.Jj(a);return this};e.ko=function(a){this.Hd=a;this.view.ko(a);return this};
e.gu=P.method(function(a){function b(a){return a.Vm()}return!this.Xc||this.view.xt||a?(a=pO(this.view),qO(a),this.vS(a).then(b).tap(this.Jj.bind(this))):this.Xc});e.Yq=function(){this.Xc&&!pO(this.view)&&this.Jj(this.Xc);this.trigger("input",this.view.xt)};e.vS=P.method(function(a){var b=this;return this.gf.createToken({xk:a.xk,nE:a.Gt,oE:a.Ht,fl:a.fl}).then(function(a){return b.qm.ZK(b.ca,a)})});
function qO(a){if(!a)throw new NH;if(!(a.xk&&3<=a.xk.length&&4>=a.xk.length))throw new FH;if(!function(){var b=a.Gt&&parseInt(a.Gt,10);return b&&1<=b&&12>=b}())throw new GH;if(!a.Ht||!parseInt(a.Ht,10))throw new HH;if(!function(){var b=a.fl&&a.fl.replace(/[\s-]+/g,"");return b&&13<=b.length&&19>=b.length}())throw new IH;};function oO(a){Backbone.View.call(this,{className:"creditCardEditView"});this.xt=!1;this.kc=a.kc;this.Os=a.Os}t(oO,Backbone.View);e=oO.prototype;e.events=function(){return{"input #ccNumber":this.vN,"keydown #expMonth":this.VO,"input #expMonth":this.UO,input:this.Yq,"keydown input":this.lA,"focus input:not([readonly])":this.iA,"blur input":this.hl}};
function pO(a){a={xk:a.$("#cvc").val().trim(),Gt:a.$("#expMonth").val().trim(),Ht:a.$("#expYear").val().trim(),fl:a.$("#ccNumber").val().trim()};return a.xk.length||a.Gt.length||a.Ht.length||a.fl.length?a:null}e.Jj=function(a){this.$el.addClass("prefilled");this.$("#ccNumber").val("").attr("placeholder","••••••••••••"+a.last4);this.$("#expMonth").val("").attr("placeholder","••");this.$("#expYear").val("").attr("placeholder","••");this.$("#cvc").val("").attr("placeholder","•••");this.xt=!1;this.$("#ccNumber").removeAttr("autofocus")};
e.ko=function(a){this.$("input").prop("readonly",!a);rO(this)};
e.render=function(){var a;a=this.kc.pD();var b=this.kc.eG(),c=this.kc.QI(),d=this.kc.JD();soy.asserts.assertType(goog.isString(a)||a instanceof goog.soy.data.SanitizedContent,"cardNumberPlaceholder",a,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(b)||b instanceof goog.soy.data.SanitizedContent,"monthPlaceholder",b,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"yearPlaceholder",c,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"cvcPlaceholder",d,"string|goog.soy.data.SanitizedContent");a=soydata.VERY_UNSAFE.ordainSanitizedHtml(sO({id:"ccNumber",name:"ccNumber",type:"text",placeholder:a,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('pattern\x3d"[0-9]{4}([ -]+[0-9]{1,4}){3,5} ?" maxlength\x3d"23" autocomplete\x3d"cc-number" required')})+"\x3cspan class\x3d'creditCardExpiry'\x3e"+sO({id:"expMonth",name:"expMonth",
type:"text",placeholder:b,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('pattern\x3d"[01]?[0-9]" maxlength\x3d"2" autocomplete\x3d"cc-exp-month" required')})+sO({id:"expYear",name:"expYear",type:"text",placeholder:c,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('pattern\x3d"[0-3][0-9]" maxlength\x3d"2" autocomplete\x3d"cc-exp-year" required')})+"\x3c/span\x3e"+sO({id:"cvc",name:"cvc",type:"text",placeholder:d,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('pattern\x3d"[0-9]{3,4}" maxlength\x3d"4" autocomplete\x3d"cc-csc" required')}));
this.$el.html(a.toString());rO(this);return this};function rO(a){var b=0===a.$("input").filter(function(){return this.readOnly}).length,c=a.$("#ccNumber");a.Os&&b?c.prop("autofocus",!0):c.removeAttr("autofocus")}function tO(a){a.$("#ccNumber").attr("placeholder",a.kc.pD());a.$("#expMonth").attr("placeholder",a.kc.eG());a.$("#expYear").attr("placeholder",a.kc.QI());a.$("#cvc").attr("placeholder",a.kc.JD())}
e.Yq=function(a){a=$(a.target);var b=a.data("oldValue"),c=a.val();b!==c?(a.data("oldValue",c),a=!0):a=!1;a&&(this.$el.hasClass("prefilled")&&tO(this),this.$el.removeClass("prefilled"),this.xt=!0,this.trigger("input"))};e.lA=function(a){13===a.keyCode&&(this.trigger("requestSubmit"),a.preventDefault())};e.iA=function(){this.$el.addClass("focused");tO(this)};e.hl=function(){this.$el.removeClass("focused")};
e.vN=function(a){if("IE"!=UAParser().browser.name){a=a.target;var b=a.selectionEnd,c=a.value.length;a.value=a.value.replace(/[^\d]/g,"").replace(/(.{4})/g,"$1 ").trim();var d=c!==a.value.length,c=" "===a.value.charAt(c-1);a.selectionEnd=b+(" "===a.value.charAt(b-1)&&c&&d?1:0)}};
e.VO=function(a){var b=this.$("#expMonth"),c=b.val(),d=this.$("#expYear"),f=String.fromCharCode(a.which);""===c&&f.match(/[2-9]/)?(a.preventDefault(),b.val("0"+f),d.focus()):-1<[191,32,9].indexOf(a.which)&&(a.preventDefault(),1===c.length&&b.val("0"+c),d.focus())};e.UO=function(){2===this.$("#expMonth").val().length&&this.$("#expYear").focus()};function JM(a){soy.asserts.assertType(null==a.block||goog.isBoolean(a.block)||1===a.block||0===a.block,"block",a.block,"boolean|null|undefined");var b=a.block;soy.asserts.assertType(null==a.ka||a.ka instanceof goog.soy.data.SanitizedContent||goog.isString(a.ka),"classes",a.ka,"null|string|undefined");var c=a.ka;soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");var d=a.disabled;soy.asserts.assertType(null==
a.id||a.id instanceof goog.soy.data.SanitizedContent||goog.isString(a.id),"id",a.id,"null|string|undefined");var f=a.id;soy.asserts.assertType(null==a.name||a.name instanceof goog.soy.data.SanitizedContent||goog.isString(a.name),"name",a.name,"null|string|undefined");var g=a.name;a=a.options;d='\x3cspan class\x3d"select'+(b?" selectBlock":"")+(c?" "+soy.$$escapeHtmlAttribute(c):"")+'"\x3e\x3cselect '+(d?" disabled":"")+(f?' id\x3d"'+soy.$$escapeHtmlAttribute(f)+'"':"")+(g?' name\x3d"'+soy.$$escapeHtmlAttribute(g)+
'"':"")+"\x3e";b=a.length;for(c=0;c<b;c++){var h=a[c];soy.asserts.assertType(null==h.disabled||goog.isBoolean(h.disabled)||1===h.disabled||0===h.disabled,"disabled",h.disabled,"boolean|null|undefined");f=h.disabled;soy.asserts.assertType(null==h.selected||goog.isBoolean(h.selected)||1===h.selected||0===h.selected,"selected",h.selected,"boolean|null|undefined");g=h.selected;soy.asserts.assertType(goog.isString(h.text)||h.text instanceof goog.soy.data.SanitizedContent,"text",h.text,"string|goog.soy.data.SanitizedContent");
var k=h.text;soy.asserts.assertType(null==h.value||h.value instanceof goog.soy.data.SanitizedContent||goog.isString(h.value),"value",h.value,"null|string|undefined");h=h.value;f=soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3coption "+(f?" disabled":"")+(g?" selected":"")+(h?' value\x3d"'+soy.$$escapeHtmlAttribute(h)+'"':"")+"\x3e"+soy.$$escapeHtml(k)+"\x3c/option\x3e");d+=f}return soydata.VERY_UNSAFE.ordainSanitizedHtml(d+"\x3c/select\x3e\x3c/span\x3e")};function uO(a){soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$escapeHtml(a.title))}
function vO(a){soy.asserts.assertType(goog.isString(a.fm)||a.fm instanceof goog.soy.data.SanitizedContent,"actionCloseHint",a.fm,"string|goog.soy.data.SanitizedContent");var b=a.fm;soy.asserts.assertType(goog.isString(a.Se)||a.Se instanceof goog.soy.data.SanitizedContent,"actionClose",a.Se,"string|goog.soy.data.SanitizedContent");a=a.Se;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"dialog fluidDialog preparing"\x3e\x3ch2 class\x3d"center"\x3e\x3c/h2\x3e\x3cdiv class\x3d"content"\x3e\x3c/div\x3e\x3cdiv class\x3d"dialog__footer" style\x3d"display: none;"\x3e\x3cdiv class\x3d"dialog__footer__content"\x3e\x3c/div\x3e\x3c/div\x3e\x3ca class\x3d"close" href\x3d"#" title\x3d"'+
soy.$$escapeHtmlAttribute(b)+'"\x3e'+soy.$$escapeHtml(a)+"\x3c/a\x3e\x3c/div\x3e")};function wO(a){var b=this;Backbone.View.call(this,{id:a.id,className:a.className,events:{"click .close":function(){b.trigger("cancel")}}});this.Dc=a.Dc;this.ba=a.ba;this.Cx=this.Gd=null;this.bH=0;this.Dc.on("maskClick",function(){b.trigger("cancel")})}t(wO,Backbone.View);e=wO.prototype;e.ZN=function(){this.trigger("ok")};e.gA=function(){this.trigger("retry")};
function xO(a,b){var c=b.Rk?b.Rk():b;if(c===a.Gd)return P.resolve(!1);a.Gd&&a.stopListening(a.Gd);a.Gd=c;a.Cx=b;a.listenTo(a.Gd,"contentResize",a.sm);a.listenTo(a.Gd,"done",a.ZN);a.listenTo(a.Gd,"retry",a.gA);return a.Cx.refresh().return(!0)}e.render=function(a){this.$el.html(vO(a).toString());return this};
function yO(a,b){return new P(function(c){var d=a.$(".dialog");d.hasClass("preparing")&&(a.Dc.show(a.el),a.ba.requestAnimationFrame(function(){d.removeClass("preparing")}));a.$el.queue("pageQueue",function(f){xO(a,b).then(function(b){zO(a);var h=d.find(".content"),k=null;h.is(":empty")?h.append(a.Gd.$el):b&&(k=$('\x3cdiv class\x3d"content new"\x3e').append(a.Gd.$el));a.sm(k).then(c);a.ba.setTimeout(function(){a.bH--;f()},1E3)})});1==++a.bH&&a.$el.dequeue("pageQueue")})}
function zO(a){var b=a.Gd.um(a.Cx.aq());a.$(".dialog \x3e h2").html(b)}e.ru=function(){this.$(".dialog__footer").addClass("dialog__footer--hide").removeClass("dialog__footer--appear");this.sm()};e.xo=function(){this.$(".dialog__footer").show().removeClass("dialog__footer--hide").addClass("dialog__footer--appear");this.sm()};
e.sm=function(a){var b=this.$(".dialog__footer"),c=!1;b.hasClass("dialog__footer--appear")?b.hasClass("dialog__footer--pinned")&&(c=!0,b.removeClass("dialog__footer--pinned")):b.addClass("dialog__footer--pinned");a=AO(this,a).then(function(){b.hasClass("dialog__footer--appear")&&b.addClass("dialog__footer--pinned")});b.hasClass("dialog__footer--appear")?c&&b.addClass("dialog__footer--pinned"):b.removeClass("dialog__footer--pinned");return a};
function AO(a,b){return new P(function(c){function d(a){a.target===this&&(f.off("transitionend",d),c())}var f=a.$(".dialog");if(!(0<f.find(".content.replacing").length)||b){var g=f.outerHeight();f.css({transition:"none",height:"auto"});var h;h=b?BO(a,b):f.outerHeight();f.on("transitionend",d).css({height:g});f.width();f.css({transition:"",height:h})}})}
function BO(a,b){function c(a){a.target===this&&(g.off("transitionend",c),f.remove(),g.remove(),b.removeClass("onTop"))}var d=a.$(".dialog"),f=d.find(".content");a=f.outerHeight();var g=$('\x3cdiv class\x3d"content new"\x3e');b.insertBefore(f);f.addClass("onTop beingReplaced");var d=d.outerHeight(),h=b.outerHeight(!0);b.addClass("onTop");g.insertAfter(f).css("height",a);g.width();g.on("transitionend",c).css("height",h);$h(function(){b.removeClass("new");g.removeClass("new")});return d}
e.remove=function(){var a=this;return new P(function(b){a.Dc.hide();a.$el.children(".dialog").addClass("disappearing");a.ba.setTimeout(function(){Backbone.View.prototype.remove.call(a);b()},X.AC)})};function CO(a){Backbone.View.apply(this,arguments)}t(CO,Backbone.View);CO.prototype.um=function(){return""};Object.defineProperties(CO,{extend:{configurable:!0,enumerable:!0,get:function(){return Backbone.View.extend.bind(CO)}}});function DO(a){this.analytics=a.analytics;this.Gy=a.Gy}DO.prototype.ls=function(a){this.track("close",{action:a})};DO.prototype.track=function(a,b){this.analytics.track("publish_flow_"+a,_.extend(this.Py(),b))};DO.prototype.Py=function(){return{fileFormat:this.Gy}};function EO(a){soy.asserts.assertType(goog.isBoolean(a.zd)||1===a.zd||0===a.zd,"showOneTimeUse",a.zd,"boolean");var b=!!a.zd;soy.asserts.assertType(null==a.Pc||a.Pc instanceof goog.soy.data.SanitizedContent||goog.isString(a.Pc),"oneTimeUse",a.Pc,"null|string|undefined");var c=a.Pc;soy.asserts.assertType(null==a.fc||a.fc instanceof goog.soy.data.SanitizedContent||goog.isString(a.fc),"oneTimeUseDescription",a.fc,"null|string|undefined");var d=a.fc;soy.asserts.assertType(goog.isBoolean(a.Ad)||1===a.Ad||
0===a.Ad,"showRoyaltyFree",a.Ad,"boolean");var f=!!a.Ad;soy.asserts.assertType(null==a.gc||a.gc instanceof goog.soy.data.SanitizedContent||goog.isString(a.gc),"royaltyFree",a.gc,"null|string|undefined");var g=a.gc;soy.asserts.assertType(null==a.hc||a.hc instanceof goog.soy.data.SanitizedContent||goog.isString(a.hc),"royaltyFreeDescription",a.hc,"null|string|undefined");var h=a.hc;soy.asserts.assertType(goog.isBoolean(a.Wg)||1===a.Wg||0===a.Wg,"showExtended",a.Wg,"boolean");var k=!!a.Wg;soy.asserts.assertType(null==
a.od||a.od instanceof goog.soy.data.SanitizedContent||goog.isString(a.od),"extended",a.od,"null|string|undefined");var l=a.od;soy.asserts.assertType(null==a.pd||a.pd instanceof goog.soy.data.SanitizedContent||goog.isString(a.pd),"extendedDescription",a.pd,"null|string|undefined");var m=a.pd;soy.asserts.assertType(goog.isString(a.vd)||a.vd instanceof goog.soy.data.SanitizedContent,"noLicenseOptionDescription",a.vd,"string|goog.soy.data.SanitizedContent");a=a.vd;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"licensesDescription"\x3e\x3cdiv class\x3d"licensesDescription__options"\x3e'+
(b||f||k?(b?'\x3cdiv class\x3d"licensesDescription__option licensesDescription__option--oneTime"\x3e\x3ch3\x3e'+soy.$$escapeHtml(c)+"\x3c/h3\x3e\x3cp\x3e"+soy.$$escapeHtml(d)+"\x3c/p\x3e\x3c/div\x3e":"")+(f?'\x3cdiv class\x3d"licensesDescription__option licensesDescription__option--royaltyFree"\x3e\x3ch3\x3e'+soy.$$escapeHtml(g)+"\x3c/h3\x3e\x3cp\x3e"+soy.$$escapeHtml(h)+"\x3c/p\x3e\x3c/div\x3e":"")+(k?'\x3cdiv class\x3d"licensesDescription__option licensesDescription__option--extended"\x3e\x3ch3\x3e'+
soy.$$escapeHtml(l)+"\x3c/h3\x3e\x3cp\x3e"+soy.$$escapeHtml(m)+"\x3c/p\x3e\x3c/div\x3e":""):'\x3cdiv class\x3d"licensesDescription__noOption"\x3e'+soy.$$escapeHtml(a)+"\x3c/div\x3e")+"\x3c/div\x3e\x3c/div\x3e")};function FO(a){this.$el=a}t(FO,Jb);function GO(a){var b=a.$el;return new P(function(a){function d(f){f.target===b[0]&&(b.off("transitionend",d),a())}b.on("transitionend",d)})}FO.prototype.show=function(){if(this.Aq())return P.resolve();var a=GO(this);this.$el.addClass("paymentRestrictedOverlay--visible");return a};FO.prototype.hide=function(){if(this.Aq()){var a=GO(this);this.$el.removeClass("paymentRestrictedOverlay--visible");return a}return P.resolve()};FO.prototype.Aq=function(){return this.$el.hasClass("paymentRestrictedOverlay--visible")};function HO(a){this.ee=a.ee;this.TB=a.TB;this.Mh=a.Mh;this.Jv=null}e=HO.prototype;e.init=function(){var a=IO(this);0<a.length&&!this.pn()&&!this.Dh()&&(this.Jv=a[0].$k);return this};e.Dh=function(){return 0<this.ee.df.length};function JO(a){return a.Dh()?a.ee.df[0].type:null}e.yu=function(){return"DESIGN"==this.ee.media.hb()};e.pn=function(){var a=cw(this.ee.media.Aa());return a?Object.keys(a).every(function(b){return 0==a[b]}):!0};
e.dn=function(){var a=this.ee.media.Aa().ec()[eu];return a?a.ma():null};function KO(a){a=vg(a.ee.df,a.TB);if(!a||Infinity==a)return null;a=moment.duration(a);return{hours:Math.floor(a.asHours()),minutes:a.minutes()}}e.Hh=function(a){return 0<=this.Mh.indexOf(a)};
function IO(a){var b=cw(a.ee.media.Aa());if(!b||a.pn())return[];var c=Object.keys(b).filter(function(b){return 0<=a.Mh.indexOf(b)&&0>LO(a).indexOf(b)}).map(function(c){return{$k:c,he:b[c],Ce:a.Jv==c}});return _.sortBy(c,function(a){return a.he})}function LO(a){return a.ee.df.map(function(a){return a.type})}e.Za=function(){return this.ee.media.Aa().Za()};e.VE=function(){return this.ee.media.G()};e.WE=function(){return this.ee.media.Aa().getVersion()};e.OE=function(){return this.ee.ct};
function MO(a){if(a.Dh())return 0;a=IO(a).filter(function(a){return a.Ce}).map(function(a){return a.he});return 0<a.length?a[0]:0}function NO(a,b){function c(a){return a.yu()?0:a.pn()?a.Dh()?2:1:a.Dh()?(a=LO(a),0<=a.indexOf("ONE_USE")?5:0<=a.indexOf("ROYALTY_FREE")?4:3):6}return c(b)-c(a)}function OO(a){this.items=a;this.bi=[]}OO.prototype.init=function(a,b){this.bi=this.items.map(function(c){return(new HO({ee:c,Mh:a,TB:b})).init()});this.bi.sort(NO);return this};OO.prototype.Hh=function(a){return this.bi.some(function(b){return b.Hh(a)})};
OO.prototype.UE=function(){return this.bi};function PO(a){return a.bi.reduce(function(a,c){return a+MO(c)},0)}function QO(a,b){var c=a.bi.filter(function(a){return!a.Dh()}).map(function(a){return new rg({media:a.VE(),version:a.WE(),$k:a.Jv||"ONE_USE"})});return new Cg({ng:b,df:c,ks:PO(a)})}function RO(a){this.view=a.view;this.model=a.model;this.analytics=a.analytics;this.jb=a.jb;this.Fd=a.Fd;this.iD=null;this.kb=a.kb;this.ia=a.ia;this.lb=a.lb;this.qp=[];this.Z=a.Z;this.kc=a.kc}e=RO.prototype;
e.init=function(){var a=this;this.view.on("creditPackChange",function(b,c){a.model.creditPack=b?c:!1});this.view.on("creditPackSelect",function(b){a.model.creditPack=b;SO(a.view)});this.view.on("priceChange",function(b,c){a.model.purchaseLicenseList.bi[b].Jv=c;TO(a)});this.view.on("licensesMore",function(){var b=a.model.purchaseLicenseList,b={confirm:a.Z.format("publishViewLicensesDetailsConfirm"),zd:b.Hh("ONE_USE"),Pc:a.Z.Pc(),fc:a.Z.fc(),Ad:b.Hh("ROYALTY_FREE"),gc:a.Z.gc(),hc:a.Z.hc(),Wg:b.Hh("EXTENDED"),
od:a.Z.od(),pd:a.Z.pd(),vd:a.Z.vd(),Np:soydata.VERY_UNSAFE.ordainSanitizedHtml(a.Z.format("publishViewLicensesDetailsFullInformation",'\x3ca href\x3d"https://about.canva.com/license-agreements/" target\x3d"_blank"\x3eabout.canva.com/license-agreements\x3c/a\x3e'))},b=new UO({CI:b}),c=a.view.$(".licensesMore");b.Tf(c)});this.view.on("submitPayment",function(){return VO(a)});this.view.on("clickDraft",function(){a.trigger("clickDraft")});this.view.on("clickOverlayDraftButton",function(){a.analytics.kd(si(si(si(new vi("publish_restricted_download_draft"),
"section","editor"),"subsection","publish_dialog"),"location","payment_page"));a.trigger("clickDraft")});this.lb&&IB(this.lb,"contextTipRoyaltyFreePaymentOption",function(){var b=a.model.purchaseLicenseList;b&&b.Hh("ROYALTY_FREE")?(b=a.view.$el.find(".license .select").first(),1!==b.length?b=null:(b=b.get(0).getBoundingClientRect(),b={x:Number(b.right)+10,y:Number(b.top)})):b=null;return b});return this};e.Rk=function(){return this.view};e.remove=function(){this.view.remove()};
e.refresh=function(){var a=this,b=rp(this.ia,this.jb),c=P.resolve([{he:10,nh:11,name:"PACK_10"},{he:20,nh:22,name:"PACK_20"},{he:50,nh:55,name:"PACK_50"},{he:100,nh:110,name:"PACK_100"}]);return P.all([c,b]).then(function(b){var c=ia(b);b=c.next().value;c=c.next().value;a.iD=c.brands[a.Fd]||null;a.qp=b;a.view.render(a.Ch());TO(a)})};
e.Ch=function(){var a=this,b=this.model.purchaseLicenseList,c=this.model.account,c=c&&c.credit||0,d=PO(b);return{wm:this.Z.wm(c),js:soydata.VERY_UNSAFE.ordainSanitizedHtml(this.Z.total(d)),Aj:soydata.VERY_UNSAFE.ordainSanitizedHtml(this.Z.Aj(d)),bc:this.Z.bc(),Yn:this.Z.Yn(),wn:this.Z.wn(),Sv:this.Z.format("publishViewSpecialOfferLabel"),uq:soydata.VERY_UNSAFE.ordainSanitizedHtml(this.Z.format("publishViewLicensingIntro")),Ej:this.Z.Ej(),bi:b.UE().map(function(b){return WO(a,b)}),qp:this.qp.map(function(b){return{text:a.Z.format("publishViewCreditPackOffer",
b.he,b.nh,parseInt(100*(b.nh/b.he-1),10)),value:b.name}}),ii:this.Z.ii(),ji:this.Z.ji(),hi:this.Z.hi(),gi:this.Z.gi()}};function WO(a,b){return{Dh:b.Dh(),yu:b.yu(),pn:b.pn(),RB:b.dn(),cS:/\.png$/.test(b.dn())?"contain":"cover",title:b.Za(),qx:a.Z.qx(b.OE()),YP:XO(a,JO(b)),qE:YO(a,KO(b)),vv:IO(b).map(function(b){var d=a.Z.Lh(b.he),f=XO(a,b.$k);return{selected:b.Ce,text:f+" - "+d,value:b.$k}})}}
function YO(a,b){return b?b.hours?a.Z.format("publishViewLicenseRemainingHours",b.hours):a.Z.format("publishViewLicenseRemainingMinutes",b.minutes):null}function XO(a,b){switch(b){case "ONE_USE":return a.Z.Pc();case "ROYALTY_FREE":return a.Z.gc();case "EXTENDED":return a.Z.od();default:return null}}
function ZO(a){var b=a.model.account;return(b=b&&b.purchaseRoles)&&0<b.length&&!b.some(function(b){return b===a.iD})?(a.analytics.kd(si(si(si(new vi("publish_download_restricted"),"section","editor"),"subsection","publish_dialog"),"location","payment_page")),$O(a.view).then(function(){return!0})):P.resolve(!1)}
function TO(a){var b=a.model.account,c=a.model.purchaseLicenseList,d=a.model.creditPack,f=aP(a),g=PO(c),c=a.model.isPersonalBrand;bP(a.view,a.Z.total(g));cP(a.view,a.Z.Aj(g));dP(a.view,f.map(function(a){return a.name}));eP(a)?(fP(a.view),gP(a.view),0<f.length?(f.some(function(a){return a.name==d})||hP(a.view,f[0].name),d?SO(a.view):a.view.$("input[name\x3dpurchaseCreditPack][value\x3dno]").prop("checked",!0)):iP(a.view),jP(a)?(b=b.Vm(),a.view.Jc.Jj(b),c?(a.view.Jc.ko(!1),kP(a.view)):(lP(a.view),b=
a.Z.format("publishViewSavedTeamCard",b.last4),mP(a.view,b))):(a.view.Jc.ko(!0),c?kP(a.view):mP(a.view,a.Z.xH()))):(iP(a.view),lP(a.view),kP(a.view))}function aP(a){var b=PO(a.model.purchaseLicenseList);return a.qp.filter(function(a){return a.nh>b})}
function VO(a){nP(a.view,a.Z.format("publishViewPurchaseButtonPaying"));oP(a.view);eP(a)&&!jP(a)?a.view.gu().then(function(){return pP(a)}).catch(LH,function(){return qP(a)}).catch(AH,function(b){return a.Sk(b)}).catch(function(){return qP(a)}):pP(a)}function pP(a){rP(a).then(function(){return a.trigger("paymentComplete")}).catch(function(){return a.trigger("paymentError")})}
function rP(a){var b=a.model.creditPack,c=QO(a.model.purchaseLicenseList,a.model.docId);return P.resolve(b).bind(a).then(function(a){return a?vf(this.kb.da,"/billing/brand/account?buycredit",{creditPack:encodeURIComponent(a)}).get(0).then(Qf):P.resolve()}).then(function(){return vf(this.kb.da,"/billing/brand/licenses",c.serialize()).get(0).then(Ia).then(Eg)}).then(function(a){var b=a.RA;a=vg(b,a.fi);this.model.soonestTimeToExpiration=Math.min(a,this.model.soonestTimeToExpiration);this.model.madeRoyaltyFreePurchase=
b.some(function(a){return"ROYALTY_FREE"===a.type});this.model.madeExtendedPurchase=b.some(function(a){return"EXTENDED"===a.type})}).catch(function(a){this.model.errorMessage=a[0].error;throw a;})}function jP(a){if(a=a.model.account){a=a.Vm();var b;if(!(b=null==a))if(null==a.expMonth||null==a.expYear)b=!1;else{var c=new Date;b=c.getUTCMonth()+1;c=c.getUTCFullYear();b=!!(a.expYear<c||a.expYear==c&&a.expMonth<b)}a=!b}else a=!1;return a}
function eP(a){var b=a.model.account;a=a.model.purchaseLicenseList;return!b||PO(a)>(b.credit||0)}function qP(a){var b=a.view,c;c=a.Z.format("publishViewErrorGenericHtml","https://support.canva.com/hc/requests/new");sP(b,c);tP(a.view,a.Z.Ej())}e.Sk=function(a){sP(this.view,MH(this.kc,a));tP(this.view,this.Z.Ej())};e.aq=function(){return{title:this.Z.format("publishViewPurchaseTitle")}};e.on=Backbone.Events.on;e.once=Backbone.Events.once;e.off=Backbone.Events.off;e.trigger=Backbone.Events.trigger;
function uP(a){var b=this;CO.call(this,{className:"payment",events:{"change input[name\x3dpurchaseCreditPack]":function(a){a="yes"==$(a.target).val();var d=b.$(".creditPackOptions option:selected").val();b.trigger("creditPackChange",a,d)},"change .price select":function(a){a=$(a.target);var d=a.closest(".license").index();b.trigger("priceChange",d,a.val())},"click .licensesMore":function(){b.trigger("licensesMore")},"click .creditPackOptions select":function(a){return vP(b,a)},"change .creditPackOptions select":function(a){return vP(b,
a)},"submit .publishPagePaymentForm":function(a){a.preventDefault();b.trigger("submitPayment")},"click .draft":function(){b.trigger("clickDraft")},"click .paymentRestrictedOverlay__cancelButton":function(){b.trigger("done")},"click .paymentRestrictedOverlay__downloadDraftButton":function(){b.trigger("clickOverlayDraftButton")}}});this.Jc=a.Jc;this.gr=null}t(uP,CO);uP.prototype.gu=function(){return this.Jc.gu()};
uP.prototype.render=function(a){var b=this.el,c;soy.asserts.assertType(goog.isString(a.wm)||a.wm instanceof goog.soy.data.SanitizedContent,"creditAvailable",a.wm,"string|goog.soy.data.SanitizedContent");c=a.wm;soy.asserts.assertType(a.js instanceof soydata.SanitizedHtml||a.js instanceof soydata.UnsanitizedText||goog.isString(a.js),"totalCost",a.js,"soydata.SanitizedHtml");var d=a.js;soy.asserts.assertType(a.Aj instanceof soydata.SanitizedHtml||a.Aj instanceof soydata.UnsanitizedText||goog.isString(a.Aj),
"payOption",a.Aj,"soydata.SanitizedHtml");var f=a.Aj;soy.asserts.assertType(goog.isString(a.bc)||a.bc instanceof goog.soy.data.SanitizedContent,"free",a.bc,"string|goog.soy.data.SanitizedContent");var g=a.bc;soy.asserts.assertType(goog.isString(a.Yn)||a.Yn instanceof goog.soy.data.SanitizedContent,"purchased",a.Yn,"string|goog.soy.data.SanitizedContent");var h=a.Yn;soy.asserts.assertType(goog.isString(a.wn)||a.wn instanceof goog.soy.data.SanitizedContent,"layoutTitle",a.wn,"string|goog.soy.data.SanitizedContent");
var k=a.wn;soy.asserts.assertType(goog.isString(a.Sv)||a.Sv instanceof goog.soy.data.SanitizedContent,"specialOffer",a.Sv,"string|goog.soy.data.SanitizedContent");var l=a.Sv;soy.asserts.assertType(a.uq instanceof soydata.SanitizedHtml||a.uq instanceof soydata.UnsanitizedText||goog.isString(a.uq),"introHtml",a.uq,"soydata.SanitizedHtml");var m=a.uq;soy.asserts.assertType(goog.isString(a.Ej)||a.Ej instanceof goog.soy.data.SanitizedContent,"purchaseButton",a.Ej,"string|goog.soy.data.SanitizedContent");
var n=a.Ej;soy.asserts.assertType(goog.isString(a.ii)||a.ii instanceof goog.soy.data.SanitizedContent,"restrictedOverlayHeading",a.ii,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.ji)||a.ji instanceof goog.soy.data.SanitizedContent,"restrictedOverlayMessage",a.ji,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.hi)||a.hi instanceof goog.soy.data.SanitizedContent,"restrictedOverlayDraftButton",a.hi,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(goog.isString(a.gi)||a.gi instanceof goog.soy.data.SanitizedContent,"restrictedOverlayCancelButton",a.gi,"string|goog.soy.data.SanitizedContent");var p=a.bi,r=a.qp;soy.asserts.assertType(goog.isString(a.ii)||a.ii instanceof goog.soy.data.SanitizedContent,"restrictedOverlayHeading",a.ii,"string|goog.soy.data.SanitizedContent");var q=a.ii;soy.asserts.assertType(goog.isString(a.ji)||a.ji instanceof goog.soy.data.SanitizedContent,"restrictedOverlayMessage",a.ji,"string|goog.soy.data.SanitizedContent");
var v=a.ji;soy.asserts.assertType(goog.isString(a.hi)||a.hi instanceof goog.soy.data.SanitizedContent,"restrictedOverlayDraftButton",a.hi,"string|goog.soy.data.SanitizedContent");var x=a.hi;soy.asserts.assertType(goog.isString(a.gi)||a.gi instanceof goog.soy.data.SanitizedContent,"restrictedOverlayCancelButton",a.gi,"string|goog.soy.data.SanitizedContent");a=a.gi;m=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"paymentRestrictedOverlay"\x3e\x3csection class\x3d"paymentRestrictedOverlay__inner"\x3e\x3cspan class\x3d"paymentRestrictedOverlay__icon"\x3e'+
QK()+"\x3c/span\x3e\x3ch2\x3e"+soy.$$escapeHtml(q)+"\x3c/h2\x3e\x3cp\x3e"+soy.$$escapeHtml(v)+'\x3c/p\x3e\x3cdiv class\x3d"paymentRestrictedOverlay__buttons"\x3e'+KM({ka:"paymentRestrictedOverlay__downloadDraftButton",text:x})+KM({ka:"lightGreyButton paymentRestrictedOverlay__cancelButton",text:a})+"\x3c/div\x3e\x3c/section\x3e\x3c/div\x3e")+'\x3csection class\x3d"info"\x3e\x3cp class\x3d"intro"\x3e'+soy.$$escapeHtml(m)+'\x3c/p\x3e\x3c/section\x3e\x3csection class\x3d"itemList"\x3e\x3ctable id\x3d"itemList"\x3e';
q=p.length;for(v=0;v<q;v++)x=p[v],m+='\x3ctr class\x3d"license"\x3e\x3ctd class\x3d"thumbnail"\x3e\x3cdiv class\x3d"inner '+soy.$$escapeHtmlAttribute(x.cS)+'" style\x3d"background-image: url(\''+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(x.RB))+'\');"\x3e\x3c/div\x3e\x3c/td\x3e\x3ctd class\x3d"info"\x3e'+(x.yu?'\x3cdiv class\x3d"title"\x3e'+soy.$$escapeHtml(k)+"\x3c/span\x3e\x3c/div\x3e":'\x3cdiv class\x3d"title"\x3e'+soy.$$escapeHtml(x.title)+'\x3c/div\x3e\x3cdiv class\x3d"by"\x3e'+
soy.$$escapeHtml(x.qx)+"\x3c/div\x3e")+'\x3c/td\x3e\x3ctd class\x3d"price"\x3e'+(x.pn?soy.$$escapeHtml(g):x.Dh?'\x3cdiv class\x3d"state"\x3e'+soy.$$escapeHtml(h)+'\x3c/div\x3e\x3cdiv class\x3d"type"\x3e'+soy.$$escapeHtml(x.YP)+(x.qE?" - "+soy.$$escapeHtml(x.qE):"")+"\x3c/div\x3e":1==x.vv.length?soy.$$escapeHtml(x.vv[0].text):1<x.vv.length?'\x3cdiv class\x3d"select"\x3e'+JM({options:x.vv})+"\x3c/div\x3e":"")+"\x3c/tr\x3e";m+='\x3c/table\x3e\x3c/section\x3e\x3csection class\x3d"total"\x3e\x3cp class\x3d"creditRemaining"\x3e'+
soy.$$escapeHtml(c)+'\x3c/p\x3e\x3cp class\x3d"amount"\x3e\x3cspan class\x3d"totalCost"\x3e'+soy.$$escapeHtml(d)+'\x3c/span\x3e\x3c/p\x3e\x3c/section\x3e\x3csection class\x3d"creditPacks"\x3e\x3cform\x3e\x3cdiv class\x3d"prepay"\x3e\x3clabel\x3e\x3cinput type\x3d"radio" name\x3d"purchaseCreditPack" value\x3d"yes"\x3e '+soy.$$escapeHtml(l)+':\x3c/label\x3e\x3cdiv class\x3d"creditPackOptions"\x3e'+JM({options:r})+'\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"prepay"\x3e\x3clabel\x3e\x3cinput type\x3d"radio" name\x3d"purchaseCreditPack" value\x3d"no" checked\x3d"checked"\x3e \x3cspan class\x3d"payOption"\x3e'+
soy.$$escapeHtml(f)+'\x3c/span\x3e\x3c/label\x3e\x3c/div\x3e\x3c/form\x3e\x3c/section\x3e\x3cform class\x3d"publishPagePaymentForm"\x3e\x3cdiv class\x3d"creditCardContainer"\x3e\x3c/div\x3e\x3cdiv class\x3d"savedTeamCard"\x3e\x3c/div\x3e\x3cdiv class\x3d"actions"\x3e'+KM({ka:"paymentPageSubmitButton",type:"submit",text:n})+"\x3c/div\x3e\x3c/div\x3e";c=soydata.VERY_UNSAFE.ordainSanitizedHtml(m);b.innerHTML=c;this.$(".creditCardContainer").html(this.Jc.render().getElement());this.gr=this.$(".publishPagePaymentForm");
return this};uP.prototype.remove=function(){this.Jc.remove()};function vP(a,b){a.trigger("creditPackSelect",$(b.target).val())}function iP(a){a.$(".creditPacks").hide();a.trigger("contentResize")}function fP(a){a.$(".creditPacks").show();a.trigger("contentResize")}function lP(a){a.$(".creditCardContainer").hide();a.trigger("contentResize")}function gP(a){a.$(".creditCardContainer").show();a.trigger("contentResize")}function $O(a){a=a.$(".paymentRestrictedOverlay");return(new FO(a)).show()}
function bP(a,b){a.$(".totalCost").html(b)}function cP(a,b){a.$(".payOption").text(b)}function dP(a,b){a.$(".creditPackOptions option").each(function(a,d){a=$(d);d=a.val();a.toggle(0<=b.indexOf(d))})}function hP(a,b){a.$(".creditPackOptions select").val(b)}function SO(a){a.$("input[name\x3dpurchaseCreditPack][value\x3dyes]").prop("checked",!0)}function sP(a,b){$('\x3cp class\x3d"errorMessage"\x3e').html(b).insertBefore(a.gr);a.trigger("contentResize")}
function mP(a,b){a.$(".savedTeamCard").text(b).show();a.trigger("contentResize")}function kP(a){a.$(".savedTeamCard").hide();a.trigger("contentResize")}function tP(a,b){a.gr.find("button[type\x3dsubmit]").text(b).removeClass("disabled")}function nP(a,b){a.gr.find("button[type\x3dsubmit]").text(b).addClass("disabled")}function oP(a){a.gr.prev(".errorMessage").remove();a.trigger("contentResize")}uP.prototype.um=function(a){return uO(a).toString()};
function UO(a){var b=a.CI;soy.asserts.assertType(goog.isBoolean(b.zd)||1===b.zd||0===b.zd,"showOneTimeUse",b.zd,"boolean");soy.asserts.assertType(goog.isString(b.Pc)||b.Pc instanceof goog.soy.data.SanitizedContent,"oneTimeUse",b.Pc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(b.fc)||b.fc instanceof goog.soy.data.SanitizedContent,"oneTimeUseDescription",b.fc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(b.Ad)||1===b.Ad||0===b.Ad,"showRoyaltyFree",
b.Ad,"boolean");soy.asserts.assertType(goog.isString(b.gc)||b.gc instanceof goog.soy.data.SanitizedContent,"royaltyFree",b.gc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(b.hc)||b.hc instanceof goog.soy.data.SanitizedContent,"royaltyFreeDescription",b.hc,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(b.Wg)||1===b.Wg||0===b.Wg,"showExtended",b.Wg,"boolean");soy.asserts.assertType(goog.isString(b.od)||b.od instanceof goog.soy.data.SanitizedContent,
"extended",b.od,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(b.pd)||b.pd instanceof goog.soy.data.SanitizedContent,"extendedDescription",b.pd,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(b.vd)||b.vd instanceof goog.soy.data.SanitizedContent,"noLicenseOptionDescription",b.vd,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(b.Np instanceof soydata.SanitizedHtml||b.Np instanceof soydata.UnsanitizedText||goog.isString(b.Np),
"fullInformationHtml",b.Np,"soydata.SanitizedHtml");var c=b.Np,b=soydata.VERY_UNSAFE.ordainSanitizedHtml(EO(b)+'\x3cp class\x3d"licensesDetails__fullInformation outro"\x3e'+soy.$$escapeHtml(c)+"\x3c/p\x3e"),b=$(b.toString());Uq.call(this,{className:"licensesPopOver",content:b,Yc:a.CI.confirm,position:dl})}t(UO,Uq);function wP(a){this.view=a.view;this.Z=a.Z;this.Jt="EXPORTING";this.ba=a.ba;this.Vr=0;this.KB=-1}wP.prototype.Rk=function(){return this.view};wP.prototype.remove=function(){this.view.remove();this.ba.clearTimeout(this.KB)};wP.prototype.refresh=function(){this.view.render();this.ba.clearTimeout(this.KB);this.Vr=0;var a=this.view,b=a.$(".progressValue");b.css("transition","none");a.ps(0);b.width();b.css("transition","");xP(this);return P.resolve()};
wP.prototype.aq=function(){switch(this.Jt){case "EXPORTING":return{title:this.Z.format("publishViewTitlePreparingDesign")};case "SAVING":return{title:this.Z.format("publishViewSavingTitle")};default:throw Error("unexpected exporting state: "+this.Jt);}};function xP(a){a.Vr+=33*(99-a.Vr)/99;yP(a.view,a.Vr);a.KB=a.ba.setTimeout(function(){return xP(a)},1.1*3E3)}function zP(){CO.call(this,{className:"exporting"})}t(zP,CO);
zP.prototype.render=function(){this.el.innerHTML=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"progress"\x3e\x3cspan class\x3d"progressValue"\x3e\x3cspan class\x3d"text"\x3e\x3c/span\x3e\x3c/span\x3e\x3c/div\x3e');return this};function yP(a,b){a.$(".progressValue").delay().queue(function(c){a.ps(b);c()})}zP.prototype.ps=function(a){this.$(".progressValue").width(a+"%").children(".text").text(a+"%")};zP.prototype.um=function(a){return uO(a).toString()};function KM(a){var b;soy.asserts.assertType(null==a.attributes||a.attributes instanceof soydata.SanitizedHtmlAttribute||a.attributes instanceof soydata.UnsanitizedText||goog.isString(a.attributes),"attributes",a.attributes,"?soydata.SanitizedHtmlAttribute|string|undefined");var c=a.attributes;soy.asserts.assertType(null==a.block||goog.isBoolean(a.block)||1===a.block||0===a.block,"block",a.block,"boolean|null|undefined");var d=a.block;soy.asserts.assertType(null==a.type||a.type instanceof goog.soy.data.SanitizedContent||
goog.isString(a.type),"type",a.type,"null|string|undefined");var f=a.type;soy.asserts.assertType(null==a.ka||a.ka instanceof goog.soy.data.SanitizedContent||goog.isString(a.ka),"classes",a.ka,"null|string|undefined");var g=a.ka;soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");var h=a.disabled;soy.asserts.assertType(null==a.href||a.href instanceof goog.soy.data.SanitizedContent||goog.isString(a.href),
"href",a.href,"null|string|undefined");var k=a.href;soy.asserts.assertType(null==a.id||a.id instanceof goog.soy.data.SanitizedContent||goog.isString(a.id),"id",a.id,"null|string|undefined");var l=a.id;soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,"small",a.small,"boolean|null|undefined");var m=a.small;soy.asserts.assertType(null==a.tagName||a.tagName instanceof goog.soy.data.SanitizedContent||goog.isString(a.tagName),"tagName",a.tagName,"null|string|undefined");
var n=a.tagName;soy.asserts.assertType(goog.isString(a.text)||a.text instanceof goog.soy.data.SanitizedContent,"text",a.text,"string|goog.soy.data.SanitizedContent");a=a.text;var p=null==(b=n)?"button":b,c=""+("\x3c"+soy.$$filterHtmlElementName(p)+" "+(c?" "+soy.$$filterHtmlAttributes(c):"")+' type\x3d"'+soy.$$escapeHtmlAttribute(null==(b=f)?"button":b)+'" class\x3d"button'+(d?" buttonBlock":"")+(g?" "+soy.$$escapeHtmlAttribute(g):"")+(h&&"a"==n?" disabled":"")+(m?" buttonSmall":"")+'"'+(k?' href\x3d"'+
soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(k))+'"':"")+(l?' id\x3d"'+soy.$$escapeHtmlAttribute(l)+'"':"")+(h&&"a"!=n?" disabled":"")+"\x3e"+soy.$$escapeHtml(a)+"\x3c/"+soy.$$filterHtmlElementName(p)+"\x3e");return soydata.VERY_UNSAFE.ordainSanitizedHtml(c)};function sO(a){a=a||{};soy.asserts.assertType(null==a.attributes||a.attributes instanceof soydata.SanitizedHtmlAttribute||a.attributes instanceof soydata.UnsanitizedText||goog.isString(a.attributes),"attributes",a.attributes,"?soydata.SanitizedHtmlAttribute|string|undefined");soy.asserts.assertType(null==a.block||goog.isBoolean(a.block)||1===a.block||0===a.block,"block",a.block,"boolean|null|undefined");soy.asserts.assertType(null==a.ka||a.ka instanceof goog.soy.data.SanitizedContent||goog.isString(a.ka),
"classes",a.ka,"null|string|undefined");soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");soy.asserts.assertType(null==a.id||a.id instanceof goog.soy.data.SanitizedContent||goog.isString(a.id),"id",a.id,"null|string|undefined");soy.asserts.assertType(null==a.name||a.name instanceof goog.soy.data.SanitizedContent||goog.isString(a.name),"name",a.name,"null|string|undefined");soy.asserts.assertType(null==
a.placeholder||a.placeholder instanceof goog.soy.data.SanitizedContent||goog.isString(a.placeholder),"placeholder",a.placeholder,"null|string|undefined");soy.asserts.assertType(null==a.tagName||a.tagName instanceof goog.soy.data.SanitizedContent||goog.isString(a.tagName),"tagName",a.tagName,"null|string|undefined");var b=a.tagName;soy.asserts.assertType(null==a.type||a.type instanceof goog.soy.data.SanitizedContent||goog.isString(a.type),"type",a.type,"null|string|undefined");soy.asserts.assertType(null==
a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,"small",a.small,"boolean|null|undefined");soy.asserts.assertType(null==a.value||a.value instanceof goog.soy.data.SanitizedContent||goog.isString(a.value),"value",a.value,"null|string|undefined");var c=a.value,b=null==b?"input":b;a=""+("textarea"==b?"\x3ctextarea "+AP(a)+"\x3e"+(c?soy.$$escapeHtmlRcdata(c):"")+"\x3c/textarea\x3e":"\x3c"+soy.$$filterHtmlElementName(b)+" "+AP(a)+"\x3e");return soydata.VERY_UNSAFE.ordainSanitizedHtml(a)}
function AP(a){a=a||{};soy.asserts.assertType(null==a.attributes||a.attributes instanceof soydata.SanitizedHtmlAttribute||a.attributes instanceof soydata.UnsanitizedText||goog.isString(a.attributes),"attributes",a.attributes,"?soydata.SanitizedHtmlAttribute|string|undefined");var b=a.attributes;soy.asserts.assertType(null==a.block||goog.isBoolean(a.block)||1===a.block||0===a.block,"block",a.block,"boolean|null|undefined");var c=a.block;soy.asserts.assertType(null==a.ka||a.ka instanceof goog.soy.data.SanitizedContent||
goog.isString(a.ka),"classes",a.ka,"null|string|undefined");var d=a.ka;soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");var f=a.disabled;soy.asserts.assertType(null==a.id||a.id instanceof goog.soy.data.SanitizedContent||goog.isString(a.id),"id",a.id,"null|string|undefined");var g=a.id;soy.asserts.assertType(null==a.name||a.name instanceof goog.soy.data.SanitizedContent||goog.isString(a.name),"name",
a.name,"null|string|undefined");var h=a.name;soy.asserts.assertType(null==a.placeholder||a.placeholder instanceof goog.soy.data.SanitizedContent||goog.isString(a.placeholder),"placeholder",a.placeholder,"null|string|undefined");var k=a.placeholder;soy.asserts.assertType(null==a.tagName||a.tagName instanceof goog.soy.data.SanitizedContent||goog.isString(a.tagName),"tagName",a.tagName,"null|string|undefined");var l=a.tagName;soy.asserts.assertType(null==a.type||a.type instanceof goog.soy.data.SanitizedContent||
goog.isString(a.type),"type",a.type,"null|string|undefined");var m=a.type;soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,"small",a.small,"boolean|null|undefined");var n=a.small;soy.asserts.assertType(null==a.value||a.value instanceof goog.soy.data.SanitizedContent||goog.isString(a.value),"value",a.value,"null|string|undefined");a=a.value;return soydata.VERY_UNSAFE.ordainSanitizedHtmlAttribute((b?" "+soy.$$filterHtmlAttributes(b):"")+' class\x3d"textInput'+
(c?" textInputBlock":"")+(d?" "+soy.$$escapeHtmlAttribute(d):"")+(n?" textInputSmall":"")+'"'+(f?" disabled":"")+(g?' id\x3d"'+soy.$$escapeHtmlAttribute(g)+'"':"")+(h?' name\x3d"'+soy.$$escapeHtmlAttribute(h)+'"':"")+(k?' placeholder\x3d"'+soy.$$escapeHtmlAttribute(k)+'"':"")+("textarea"!=l?' type\x3d"'+soy.$$escapeHtmlAttribute(null==m?"text":m)+'"'+(a?' value\x3d"'+soy.$$escapeHtmlAttribute(a)+'"':""):""))};function VN(a){this.ia=a.ia;this.view=a.view;this.uj=null;this.ca=a.ca;this.Ju=a.Ju||4;this.vj=!!a.vj;this.ss=[];this.Kh=[];this.Bq=0;this.ir=this.qj=null;this.listenTo(this.view,{requestAutocomplete:this.tG,select:this.rP})}e=VN.prototype;e.remove=function(){this.stopListening();this.view.remove()};e.lu=function(){var a=this;Ba(this.vj,"getUsers() only valid in multi user mode");return this.ss.filter(function(a){return""!==a}).map(function(b){return BP(a,b)})};
function FP(a){var b=lq(kq((new jq).me(a.ca.G()))).jf(100);a.ia.Kp(b).then(function(c){a.uj=c.fu();if(c.Rb())return a.ia.Kp(b.dh(c.Rb()))}).then(function(b){b&&a.uj.push.apply(a.uj,[].concat(ka(b.fu())));b=a.ir;a.ir=null;a.tG(b.hI,b.pos)}).catch(function(){return a.view.vi()})}
e.tG=function(a,b){this.trigger("input");if(this.ir)this.ir={hI:a,pos:b};else if(null===this.uj)this.ir={hI:a,pos:b},FP(this);else{var c=GP(this,a,b);""===c?HP(this.view):(this.qj=this.uj.filter(function(a){return IP(c,a.Ca().Cf())||IP(c,a.Ca().gb())||IP(c,a.ze())}).slice(0,this.Ju),this.vj&&0==this.qj.length?HP(this.view):JP(this.view,this.qj))}};
function GP(a,b,c){if(!a.vj)return b;c=b.lastIndexOf(",",c-1);c=0>=c?0:c+1;var d=b.indexOf(",",c),d=-1==d?b.length:d;a.Kh=[b.slice(0,c),b.slice(c,d),b.slice(d)];a.Bq=a.Kh[0].split(",").length-1;a.ss[a.Bq]=a.Kh[1];b=a.ss.length-a.Bq-1;c=a.Kh[2].split(",");d=c.length-1;0<d&&!c[c.length-1].trim()&&d--;a.ss.splice(a.Bq+1,b-d);return a.Kh[1]}function BP(a,b){if(b instanceof hq||!a.uj)return b;a=a.uj.filter(function(a){return a.ze()===b.trim()});return a.length?a[0]:b}
function IP(a,b){return!!b&&-1!==b.toLowerCase().replace(/ |@/g,"").indexOf(a.toLowerCase().replace(/ |@/g,""))}e.rP=function(a){if(this.vj){this.ss[this.Bq]=this.qj[a];var b=this.view,c=this.Kh[0]+(this.Kh[0]?" ":"");a=this.qj[a];a=a.ze()||a.Ca().gb()||a.Ca().Cf();c=c+a+(this.Kh[2]?"":", ")+this.Kh[2];b.$("input").val(c)}else this.trigger("select",this.qj[a]),this.view.$("input").val("")};e.listenTo=Backbone.Events.listenTo;e.stopListening=Backbone.Events.stopListening;e.trigger=Backbone.Events.trigger;
e.off=Backbone.Events.off;e.on=Backbone.Events.on;function TN(a){var b=this;Backbone.View.call(this,{el:a.el,events:{"input input":function(a){return KP(b,a)},"focus input":function(a){return KP(b,a)},"blur input":function(){return b.hl()}}});this.vg=a.vg;this.ef=this.qj=null}t(TN,Backbone.View);function KP(a,b){var c=$(b.target);b=c[0].selectionEnd;c=c.val();a.trigger("requestAutocomplete",c,b)}TN.prototype.hl=function(){this.ef&&!this.ef.view.$("li").hasClass("hovering")&&HP(this)};
function JP(a,b){function c(a){a=$(LP({lead:a.Ca().gb(),desc:a.ze(),avatarURL:a.Ca().Um()&&Yp(a.Ca().Um(),50).ma()}));return new vF(a,!0,!1)}var d=MP.bind(a,{message:a.vg.format("findUserInputNoResults",Di())});a.qj=b;a.ef&&HP(a);a.ef=zF({elements:b.length?b.map(c):[new vF($(d()),!1,!1)],Cm:b.length?0:void 0});a.$el.append(a.ef.view.$el);a.listenTo(a.ef,{select:function(b){a.trigger("select",b);HP(a)},cancel:function(){HP(a)}})}
TN.prototype.vi=function(){this.ef=zF({elements:[new vF($(MP({message:this.vg.error()})),!1,!1)]});this.$el.append(this.ef.view.$el)};function HP(a){a.ef&&(a.stopListening(a.ef),a.ef.view.remove(),a.ef=null)}
var UN=_.template('\n  \x3cspan class\x3d"findUserInput"\x3e\x3cinput type\x3d"text" class\x3d"textInput" placeholder\x3d"\x3c%- inputPlaceholder %\x3e" /\x3e\x3c/span\x3e\n'),LP=_.template('\n  \x3cimg class\x3d"avatar" src\x3d"\x3c%- avatarURL %\x3e" /\x3e\n  \x3cdiv class\x3d"findUser__right"\x3e\n    \x3cspan class\x3d"lead"\x3e\x3c%- lead %\x3e\x3c/span\x3e\n    \x3cspan class\x3d"desc"\x3e\x3c%- desc %\x3e\x3c/span\x3e\n  \x3c/div\x3e\n'),MP=_.template('\n  \x3cspan class\x3d"desc"\x3e\x3c%\x3d message %\x3e\x3c/span\x3e\n');function NP(a){this.view=a.view;this.Z=a.Z;this.NB=a.NB}e=NP.prototype;e.init=function(){var a=this;this.view.on("remove",function(){a.trigger("complete")});this.view.on("clickConfirm",function(){a.view.$(".paymentOnboarding__button").addClass("disabled");a.view.remove()});return this};e.Hh=function(a){return 0<=this.NB.indexOf(a)};
e.show=function(){var a=this.Ch(),b=this.view,c=$,d;soy.asserts.assertType(goog.isString(a.before)||a.before instanceof goog.soy.data.SanitizedContent,"before",a.before,"string|goog.soy.data.SanitizedContent");d=a.before;soy.asserts.assertType(goog.isString(a.after)||a.after instanceof goog.soy.data.SanitizedContent,"after",a.after,"string|goog.soy.data.SanitizedContent");var f=a.after;soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,
"string|goog.soy.data.SanitizedContent");var g=a.title;soy.asserts.assertType(goog.isString(a.qu)||a.qu instanceof goog.soy.data.SanitizedContent,"headline",a.qu,"string|goog.soy.data.SanitizedContent");var h=a.qu;soy.asserts.assertType(goog.isBoolean(a.zd)||1===a.zd||0===a.zd,"showOneTimeUse",a.zd,"boolean");var k=!!a.zd;soy.asserts.assertType(goog.isString(a.Pc)||a.Pc instanceof goog.soy.data.SanitizedContent,"oneTimeUse",a.Pc,"string|goog.soy.data.SanitizedContent");var l=a.Pc;soy.asserts.assertType(goog.isString(a.fc)||
a.fc instanceof goog.soy.data.SanitizedContent,"oneTimeUseDescription",a.fc,"string|goog.soy.data.SanitizedContent");var m=a.fc;soy.asserts.assertType(goog.isBoolean(a.Ad)||1===a.Ad||0===a.Ad,"showRoyaltyFree",a.Ad,"boolean");var n=!!a.Ad;soy.asserts.assertType(goog.isString(a.gc)||a.gc instanceof goog.soy.data.SanitizedContent,"royaltyFree",a.gc,"string|goog.soy.data.SanitizedContent");var p=a.gc;soy.asserts.assertType(goog.isString(a.hc)||a.hc instanceof goog.soy.data.SanitizedContent,"royaltyFreeDescription",
a.hc,"string|goog.soy.data.SanitizedContent");var r=a.hc;soy.asserts.assertType(goog.isString(a.vd)||a.vd instanceof goog.soy.data.SanitizedContent,"noLicenseOptionDescription",a.vd,"string|goog.soy.data.SanitizedContent");var q=a.vd;soy.asserts.assertType(goog.isString(a.Gc)||a.Gc instanceof goog.soy.data.SanitizedContent,"buttonText",a.Gc,"string|goog.soy.data.SanitizedContent");a=a.Gc;d=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"paymentOnboarding__header"\x3e\x3cdiv class\x3d"paymentOnboarding__headerState" data-title\x3d"'+
soy.$$escapeHtmlAttribute(d)+'"\x3e\x3c/div\x3e\x3cdiv class\x3d"paymentOnboarding__headerState" data-title\x3d"'+soy.$$escapeHtmlAttribute(f)+'"\x3e\x3c/div\x3e\x3c/div\x3e\x3ch2 class\x3d"center"\x3e'+soy.$$escapeHtml(g)+'\x3c/h2\x3e\x3cp class\x3d"paymentOnboarding__headline"\x3e'+soy.$$escapeHtml(h)+"\x3c/p\x3e"+EO({zd:k,Pc:l,fc:m,Ad:n,gc:p,hc:r,Wg:!1,od:null,pd:null,vd:q})+'\x3cdiv class\x3d"paymentOnboarding__footer"\x3e'+KM({ka:"paymentOnboarding__button",text:a})+"\x3c/div\x3e");b.content=
c(d.toString());this.view.show()};e.remove=function(){this.view.remove()};e.Ch=function(){return{before:this.Z.format("publishViewOnboardingBefore"),after:this.Z.format("publishViewOnboardingAfter"),title:this.Z.format("publishViewOnboardingTitle"),qu:this.Z.format("publishViewOnboardingHeadline"),zd:this.Hh("ONE_USE"),Pc:this.Z.Pc(),fc:this.Z.fc(),Ad:this.Hh("ROYALTY_FREE"),gc:this.Z.gc(),hc:this.Z.hc(),vd:this.Z.vd(),Gc:this.Z.format("publishViewOnboardingConfirm")}};e.on=Backbone.Events.on;
e.once=Backbone.Events.once;e.off=Backbone.Events.off;e.trigger=Backbone.Events.trigger;function OP(a){X.call(this,{className:"paymentOnboarding",ba:a.ba,Qd:!1,nk:!0,Sc:!0})}t(OP,X);OP.prototype.events=function(){var a=this;return _.extend(X.prototype.events.call(this),{"click .paymentOnboarding__button":function(){a.trigger("clickConfirm")}})};OP.prototype.Nk=function(){return BK};
OP.prototype.render=function(){X.prototype.render.call(this);this.$(".dialog .content").html(this.content);this.delegateEvents();return this};function PP(a){this.view=a.view;this.model=a.model;this.Z=a.Z;this.Xn=null}e=PP.prototype;e.init=function(){var a=this;this.view.on("done",function(){a.trigger("done")});this.view.on("retry",function(){a.view.$(".button").prop("disabled",!0);a.trigger("retry")});return this};e.Rk=function(){return this.view};e.remove=function(){this.view.remove()};
e.refresh=function(){Ca(this.Xn);this.view.render(this.Ch());this.view.delegateEvents();var a=this.model.errorMessage;if(a){var b=this.view;$('\x3cp class\x3d"errorMessage"\x3e'+a+"\x3c/p\x3e").insertBefore(b.$(".buttonContainer"))}return P.resolve()};e.Ch=function(){return{message:soydata.VERY_UNSAFE.ordainSanitizedHtml(this.Xn.message),gm:this.Z.gm(),hm:this.Z.hm(),le:this.Xn.le||!1,Vl:this.Xn.Vl||!1}};e.aq=function(){return{title:this.Xn.title}};
function QP(a,b){switch(b){case "EMPTY_DOC":return{message:a.Z.format("publishViewErrorEmptyDesign"),title:a.Z.format("publishViewErrorEmptyDesignTitle"),le:!0};case "SAVING":return{message:a.Z.format("publishViewErrorSavingDesign"),title:a.Z.format("publishViewErrorSavingDesignTitle"),Vl:!0};case "VERSION_CONFLICT":return{message:a.Z.format("publishViewErrorVersionConflict"),title:a.Z.format("publishViewErrorVersionConflictTitle"),le:!0};case "UPLOADING":return{message:a.Z.format("publishViewErrorUploading"),
title:a.Z.format("publishViewErrorUploadingTitle"),le:!0};case "EXPORTING":return{message:a.Z.format("publishViewErrorPageHtml","http://status.canva.com"),title:a.Z.format("publishViewTitleErrorPage"),le:!0};case "PAYMENT":return{message:a.Z.format("publishViewErrorPayment"),title:a.Z.format("publishViewErrorPaymentTitle"),le:!0};case "BACKGROUND":return{message:a.Z.format("publishViewErrorBackgroundTaskHtml","http://status.canva.com"),title:a.Z.format("publishViewErrorBackgroundTaskTitle"),le:!0};
case "LICENSE_NO_OPTIONS":return{message:a.Z.format("publishViewErrorLicenseNoOptionsHtml","http://status.canva.com"),title:a.Z.format("publishViewErrorLicenseNoOptionsTitle"),le:!0};case "URL_MINTING":return{message:a.Z.format("publishViewerrorUrlMinting","http://status.canva.com"),title:a.Z.format("publishViewerrorUrlMintingTitle"),le:!0};default:throw Error("unexpected publish error type: "+b);}}e.on=Backbone.Events.on;e.off=Backbone.Events.off;e.trigger=Backbone.Events.trigger;
function RP(){var a=this;CO.call(this,{className:"error",events:{"click .done":function(){a.trigger("done")},"click .retry":function(){return a.gA()}}})}t(RP,CO);RP.prototype.gA=function(){this.trigger("retry")};
RP.prototype.render=function(a){var b=this.el,c;soy.asserts.assertType(a.message instanceof soydata.SanitizedHtml||a.message instanceof soydata.UnsanitizedText||goog.isString(a.message),"message",a.message,"soydata.SanitizedHtml");c=a.message;soy.asserts.assertType(goog.isBoolean(a.le)||1===a.le||0===a.le,"useOK",a.le,"boolean");var d=!!a.le;soy.asserts.assertType(goog.isBoolean(a.Vl)||1===a.Vl||0===a.Vl,"useRetry",a.Vl,"boolean");var f=!!a.Vl;soy.asserts.assertType(goog.isString(a.gm)||a.gm instanceof
goog.soy.data.SanitizedContent,"actionOK",a.gm,"string|goog.soy.data.SanitizedContent");var g=a.gm;soy.asserts.assertType(goog.isString(a.hm)||a.hm instanceof goog.soy.data.SanitizedContent,"actionRetry",a.hm,"string|goog.soy.data.SanitizedContent");a=a.hm;c=soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3cp\x3e"+soy.$$escapeHtml(c)+'\x3c/p\x3e\x3cp class\x3d"buttonContainer"\x3e'+(d?'\x3cbutton class\x3d"button done"\x3e'+soy.$$escapeHtml(g)+"\x3c/button\x3e":"")+(f?'\x3cbutton class\x3d"button retry"\x3e'+
soy.$$escapeHtml(a)+"\x3c/button\x3e":"")+"\x3c/p\x3e");b.innerHTML=c;return this};RP.prototype.um=function(a){return uO(a).toString()};function SP(a){soy.asserts.assertType(goog.isString(a.message)||a.message instanceof goog.soy.data.SanitizedContent,"message",a.message,"string|goog.soy.data.SanitizedContent");var b=a.message;soy.asserts.assertType(goog.isString(a.Se)||a.Se instanceof goog.soy.data.SanitizedContent,"actionClose",a.Se,"string|goog.soy.data.SanitizedContent");a=a.Se;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3cp\x3e"+soy.$$escapeHtml(b)+'\x3c/p\x3e\x3cp class\x3d"useExportButton"\x3e\x3ca class\x3d"button" tabindex\x3d"0"\x3e'+
soy.$$escapeHtml(a)+"\x3c/a\x3e\x3c/p\x3e")};function TP(a,b){var c=this;Kb.call(this,a);this.className=b.className;this.options=b.options;a.on("click",function(){return c.Mf()})}t(TP,Kb);function UP(a){var b=a.options.find(function(a){return a.selected}).text;za(!!b,"options must have a selected element");b=$(VP({text:b,disabled:a.disabled}).toString());return new TP(b,a)}TP.prototype.Mf=function(){var a=this,b=new WP({className:this.className,options:this.options});b.on(XP,function(b){return a.qA(b)});b.Tf(this.$el)};
TP.prototype.qA=function(a){this.options.find(function(a){return a.selected}).selected=!1;var b=this.options.find(function(b){return b.value===a});b.selected=!0;this.$el.text(b.text);this.trigger(YP,a)};var YP="SELECT";function VP(a){soy.asserts.assertType(goog.isString(a.text)||a.text instanceof goog.soy.data.SanitizedContent,"text",a.text,"string|goog.soy.data.SanitizedContent");var b=a.text;soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cbutton type\x3d"button" class\x3d"selectView" '+(a.disabled?'disabled\x3d"disabled"':"")+"\x3e"+soy.$$escapeHtml(b)+"\x3c/button\x3e")}
;function WP(a){Uq.call(this,a)}t(WP,Uq);e=WP.prototype;e.initialize=function(a){this.options=a.options;Uq.prototype.initialize.call(this,{content:this.$A(),Mr:!1,Mn:!0,Qj:!1})};e.events=function(){return{"click .selectView__option":this.qA}};e.Nk=function(){return BK};
e.$A=function(){var a=$,b;b='\x3cdiv class\x3d"selectView__menu"\x3e';for(var c=this.options,d=c.length,f=0;f<d;f++){var g=c[f];b+='\x3cdiv class\x3d"selectView__option'+(g.selected?" selected":"")+'" data-value\x3d"'+soy.$$escapeHtmlAttribute(g.value)+'"\x3e'+soy.$$escapeHtml(g.text)+"\x3c/div\x3e"}b=soydata.VERY_UNSAFE.ordainSanitizedHtml(b+"\x3c/div\x3e");return a(b.toString())};e.qA=function(a){this.trigger(XP,$(a.target).data("value"));this.remove()};var XP="SELECT";function XN(a){var b=this;this.Lc=a.Lc;this.jb=a.jb;this.Wl=a.Wl;this.ca=a.ca;this.analytics=a.analytics;this.Il=a.Il;this.wa=a.wa;this.eb=a.eb;this.ia=a.ia;this.Ml=a.Ml;this.Nb=a.Nb;this.Rf=a.Rf;this.Ot=a.Ot;this.AB=a.AB;this.Vz=a.Vz;this.qs=a.qs;this.my=a.my;this.Pv=a.Pv;this.Kw=a.Kw;this.ap=a.ap;this.BG=null;this.Dx={};this.WF="VIEWER";this.xr={};this.Tl=a.Tl;this.view=a.view;this.listenTo(this.view,{roleChange:this.pP,linkRoleChange:this.mA,linkCopy:this.SO,submit:this.fv,social:this.vP,makePublic:this.TO});
this.listenTo(this.Ot,{input:function(){var a=b.view;a.dG||a.$(".shareDialog__inviteButton").text(a.wa.format("shareDesignDialogSendInvites"))}})}e=XN.prototype;e.show=function(){this.view.show();ZP(this.view,this.Pv,this.Kw,!this.ap);$P(this)};
function $P(a){Rl(a.eb,a.Lc).then(function(b){aQ(a,b);var c=bQ(b);if(c.Cg().na()===a.ca.G())return a.BG=c.Cg().Ca(),cQ(a).then(function(c){if(1!=c)return dQ(a,b).then(function(c){return eQ(a,c,b.Kd().Yp())})})}).catch(function(){var b=a.view;b.$(".shareDialog__error").text(b.wa.format("shareDesignDialogLoadError"))})}function aQ(a,b){b=b.Kd().Yp().some(function(a){if("DEFAULT"===a.hb())return"NONE"!==a.Bf()});fQ(a.view,b)}
function bQ(a){var b=null;a.Kd().Yp().some(function(a){if(a.Bf()===im)return b=a,!0});Ca(b,"document acl must specify an owner");return b}function cQ(a){var b=mq((new jq).me(a.ca.G()));return a.ia.Kp(b).then(function(a){return a.getCount()})}
function dQ(a,b){b=b.Kd().Yp().reduce(function(b,d){"USER"!==d.hb()||d.Cg().na()!==a.ca.G()||null!=d.Mc()&&"MANUAL"!==d.Mc().hb()||b.push(d.Cg().Ca());return b},[]);return 0<b.length?(b=lq(kq(nq((new jq).me(a.ca.G()),b.slice(0,100)).jf(100))),a.ia.Kp(b).then(function(a){return a.fu()})):P.resolve([])}
function eQ(a,b,c){var d={},f,g=[],h={};b.forEach(function(a){return d[a.Ca().G()]=a});c.forEach(function(b){b.Mc()&&"FOLDER"===b.Mc().hb()?"NONE"!==b.Bf()&&(h[b.Mc().G()]=!0):"BRAND"===b.hb()&&b.Cg().na()==a.ca.G()?(f={ca:a.ca,Ms:b},a.Dx[a.ca.G()]=b.Bf()):"USER"===b.hb()&&d.hasOwnProperty(b.Cg().Ca())&&(g.push({Mq:d[b.Cg().Ca()],Ms:b,disabled:!gQ(a,b)}),a.Dx[b.Cg().Ca()]=b.Bf())});f||(f={ca:a.ca,Ms:ym({role:"NONE"})});hQ(a.view,f,g,Object.keys(h).length)}
function gQ(a,b){return b.Cg().Ca()!=a.jb&&b.Bf()!=im}e.pP=function(a,b){this.xr[a]=b};e.mA=function(a){"VIEWER"===a?ZP(this.view,this.Pv):this.ap&&ZP(this.view,this.ap);this.WF=a};e.SO=function(){var a=si(si(si(new vi("design_shared"),"location","sharebutton"),"medium","link"),"access_level",iQ(this.WF));ri(this.analytics,a)};function iQ(a){return a===im||"EDITOR"===a?"edit":"REMIXER"===a||"VIEWER"===a?"view":"none"}
e.vP=function(a){var b=si(si(new vi("design_shared"),"location","sharebutton"),"access_level","view");a===jQ?(si(b,"medium","twitter"),a=this.Tl[Math.floor(Math.random()*this.Tl.length)],a="https://twitter.com/intent/tweet?url\x3d"+encodeURIComponent(eJ(this.Lc,this.qs,"sharebutton","twitter"))+"\x26text\x3d"+encodeURIComponent(a),this.view.openWindow(a)):a===kQ&&(si(b,"medium","facebook"),a="https://www.facebook.com/sharer/sharer.php?u\x3d"+encodeURIComponent(eJ(this.Lc,this.qs,"sharebutton","facebook")),
this.view.openWindow(a));ri(this.analytics,b);lQ(this)};e.TO=function(){var a=this;this.eb.rl(this.Lc).then(function(){fQ(a.view,!0);a.Il.trigger(YN)}).catch(function(){var b=a.view;b.$(".shareDialog__embedError").text(b.wa.format("shareDesignDialogEmbedError"))})};
e.fv=function(a){var b=this,c=[],d=[],f=[];this.Ot.lu().forEach(function(g){if(g instanceof hq){var h=g.Ca().G();h!=b.BG&&h!=b.jb&&c.push(Dm(h,b.ca.G(),a));g.ze()&&d.push(g.ze())}else f=f.concat(g.split(",").map(function(a){return a.trim()}).filter(function(a){return""!==a}))});mQ(this,f)&&(Object.keys(this.xr).forEach(function(a){a===b.ca.G()?c.push(Dm(null,a,b.xr[a])):c.push(Dm(a,b.ca.G(),b.xr[a]));a=si(si(si(si(new vi("access_level_change"),"location","sharebutton"),"medium","share_dialog"),"from_access_level",
iQ(b.Dx[a])),"to_access_level",iQ(b.xr[a]));ri(b.analytics,a)}),P.all([nQ(this,c),oQ(this,d,f,a)]).then(function(){if(0<f.length&&b.AB){var a=pQ(b.view,f,b.Vz);new qQ({ca:b.ca,ia:b.ia,Rf:b.Rf,Wl:b.Wl,Qu:f.length,wa:b.wa},a)}else b.view.ok()}).catch(function(){var a=b.view;a.$(".shareDialog__error").text(a.wa.format("shareDesignDialogUpdateError"));a.$(".buttonSubmittable").toggleClass("submitting",!1)}))};
function mQ(a,b){b=b.filter(function(a){return!rx(a)});return b.length?(rQ(a.view,b),!1):!0}function nQ(a,b){if(0<b.length){var c=new lm;c.document=a.Lc;c.principalRoleChanges=b;a=a.eb;return vf(a.da,a.path+"/"+encodeURIComponent(c.document)+"/acl",c).get(0).tap(a.kk("UpdateDocumentAclResponseProto",Wm)).then(nm)}return P.resolve()}
function oQ(a,b,c,d){var f=[];0<b.length&&f.push(vq(a.Ml,new zq({Lc:a.Lc,Fd:a.ca.G(),mode:"VIEWER"===d?"viewer":"editor",Bk:b,ts:"sharebutton"})));0<c.length&&f.push(vq(a.Ml,new zq({Lc:a.Lc,mode:"VIEWER"===d?"default":"editor",xf:"VIEWER"===d?a.qs:a.my,Bk:c,ts:"shareButton"})));if(f.length){d=iQ(d);for(var g=0;g<b.length;g++)sQ(a,d,!0);for(b=0;b<c.length;b++)sQ(a,d,!1);return P.all(f).tap(function(){return lQ(a)})}return P.resolve()}
function sQ(a,b,c){b=si(si(si(si(new vi("design_shared"),"location","sharebutton"),"medium","share_dialog"),"access_level",b),"on_team",c);ri(a.analytics,b)}function lQ(a){lp(a.Nb,new Ro({dk:!0,ng:a.Lc,Em:-1,kind:"IMAGESETS",KA:"MEDIUM"}))}e.listenTo=Backbone.Events.listenTo;e.off=Backbone.Events.off;e.on=Backbone.Events.on;e.stopListening=Backbone.Events.stopListening;e.trigger=Backbone.Events.trigger;function tQ(a){soy.asserts.assertType(goog.isString(a.qv)||a.qv instanceof goog.soy.data.SanitizedContent,"peopleTabLabel",a.qv,"string|goog.soy.data.SanitizedContent");var b=a.qv;soy.asserts.assertType(goog.isString(a.Rv)||a.Rv instanceof goog.soy.data.SanitizedContent,"socialTabLabel",a.Rv,"string|goog.soy.data.SanitizedContent");var c=a.Rv;soy.asserts.assertType(goog.isString(a.Fu)||a.Fu instanceof goog.soy.data.SanitizedContent,"linkTabLabel",a.Fu,"string|goog.soy.data.SanitizedContent");var d=
a.Fu;soy.asserts.assertType(goog.isString(a.At)||a.At instanceof goog.soy.data.SanitizedContent,"embedTabLabel",a.At,"string|goog.soy.data.SanitizedContent");var f=a.At;soy.asserts.assertType(goog.isString(a.vh)||a.vh instanceof goog.soy.data.SanitizedContent,"embedDescription",a.vh,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(a.wh)||1===a.wh||0===a.wh,"embedEnabled",a.wh,"boolean");var g=!!a.wh;soy.asserts.assertType(goog.isString(a.uf)||a.uf instanceof goog.soy.data.SanitizedContent,
"embedCode",a.uf,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.yh)||a.yh instanceof goog.soy.data.SanitizedContent,"embedPublic",a.yh,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.xh)||a.xh instanceof goog.soy.data.SanitizedContent,"embedMakePublic",a.xh,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Gh)||a.Gh instanceof goog.soy.data.SanitizedContent,"inviteLabel",a.Gh,"string|goog.soy.data.SanitizedContent");
soy.asserts.assertType(goog.isString(a.Fh)||a.Fh instanceof goog.soy.data.SanitizedContent,"inviteButton",a.Fh,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(a.Yg)||1===a.Yg||0===a.Yg,"socialTabEnabled",a.Yg,"boolean");var h=!!a.Yg;soy.asserts.assertType(goog.isString(a.ti)||a.ti instanceof goog.soy.data.SanitizedContent,"shareLabel",a.ti,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Sh)||a.Sh instanceof goog.soy.data.SanitizedContent,
"messagePlaceholder",a.Sh,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.si)||a.si instanceof goog.soy.data.SanitizedContent,"shareButton",a.si,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Nh)||a.Nh instanceof goog.soy.data.SanitizedContent,"linkLabel",a.Nh,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.Yd)||a.Yd instanceof goog.soy.data.SanitizedContent,"copyButton",a.Yd,"string|goog.soy.data.SanitizedContent");
return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"shareDialog__tabWrapper"\x3e\x3cdiv class\x3d"shareDialog__tab shareDialog__tab--on" data-id\x3d"peopleTab"\x3e'+soy.$$escapeHtml(b)+"\x3c/div\x3e"+(h?'\x3cdiv class\x3d"shareDialog__tab" data-id\x3d"socialTab"\x3e'+soy.$$escapeHtml(c)+"\x3c/div\x3e":"")+'\x3cdiv class\x3d"shareDialog__tab" data-id\x3d"linkTab"\x3e'+soy.$$escapeHtml(d)+"\x3c/div\x3e"+(g?'\x3cdiv class\x3d"shareDialog__tab" data-id\x3d"embedTab"\x3e'+soy.$$escapeHtml(f)+
"\x3c/div\x3e":"")+'\x3c/div\x3e\x3cdiv class\x3d"shareDialog__tabContainer"\x3e'+uQ(a)+(h?vQ(a):"")+wQ(a)+(g?xQ(a):"")+"\x3c/div\x3e")}
function uQ(a){soy.asserts.assertType(goog.isString(a.Gh)||a.Gh instanceof goog.soy.data.SanitizedContent,"inviteLabel",a.Gh,"string|goog.soy.data.SanitizedContent");var b=a.Gh;soy.asserts.assertType(goog.isString(a.Fh)||a.Fh instanceof goog.soy.data.SanitizedContent,"inviteButton",a.Fh,"string|goog.soy.data.SanitizedContent");var c=a.Fh;soy.asserts.assertType(goog.isBoolean(a.Yg)||1===a.Yg||0===a.Yg,"socialTabEnabled",a.Yg,"boolean");var d=!!a.Yg;a=a.Rr;b='\x3cdiv class\x3d"shareDialog__tabContent shareDialog__tabContent--on" data-id\x3d"peopleTab"\x3e\x3cdiv class\x3d"shareDialog__acl"\x3e\x3c/div\x3e\x3cdiv\x3e'+
soy.$$escapeHtml(b)+'\x3c/div\x3e\x3cdiv class\x3d"shareDialog__inviteRole"\x3e\x3c/div\x3e\x3cdiv class\x3d"shareDialog__folders"\x3e\x3c/div\x3e\x3cdiv class\x3d"shareDialog__error"\x3e\x3c/div\x3e\x3cdiv class\x3d"shareDialog__buttons"\x3e'+KM({ka:"shareDialog__inviteButton buttonSubmittable",text:c});if(!d){for(var b=b+'\x3cspan class\x3d"shareDialog__socialButtons"\x3e',d=soy.$$getMapKeys(a),c=d.length,f=0;f<c;f++)var g=d[f],b=b+KM({ka:g,text:a[g]});b+="\x3c/span\x3e"}return soydata.VERY_UNSAFE.ordainSanitizedHtml(b+
"\x3c/div\x3e\x3c/div\x3e")}
function yQ(a){var b;a=a||{};soy.asserts.assertType(null==a.email||a.email instanceof goog.soy.data.SanitizedContent||goog.isString(a.email),"email",a.email,"null|string|undefined");var c=a.email;soy.asserts.assertType(null==a.name||a.name instanceof goog.soy.data.SanitizedContent||goog.isString(a.name),"name",a.name,"null|string|undefined");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"shareDialog__aclMember"\x3e\x3cdiv class\x3d"shareDialog__aclMemberAvatar"\x3e\x3c/div\x3e\x3cdiv class\x3d"shareDialog__aclMemberNameEmail"\x3e\x3cspan class\x3d"shareDialog__aclMemberName"\x3e'+soy.$$escapeHtml(null==
(b=a.name)?"":b)+'\x3c/span\x3e\x3cspan class\x3d"shareDialog__aclMemberEmail"\x3e'+soy.$$escapeHtml(null==(b=c)?"":b)+'\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"shareDialog__aclMemberRole"\x3e\x3c/div\x3e\x3c/div\x3e')}
function wQ(a){soy.asserts.assertType(goog.isString(a.Nh)||a.Nh instanceof goog.soy.data.SanitizedContent,"linkLabel",a.Nh,"string|goog.soy.data.SanitizedContent");var b=a.Nh;soy.asserts.assertType(goog.isString(a.Yd)||a.Yd instanceof goog.soy.data.SanitizedContent,"copyButton",a.Yd,"string|goog.soy.data.SanitizedContent");a=a.Yd;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"shareDialog__tabContent" data-id\x3d"linkTab"\x3e\x3cdiv\x3e'+soy.$$escapeHtml(b)+"\x3c/div\x3e"+sO({ka:"shareDialog__link",
id:"shareDialog__shareLink",attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks("readonly")})+sO({ka:"shareDialog__hiddenViewLink",type:"hidden",attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('readonly tabindex\x3d"-1"')})+'\x3cdiv class\x3d"shareDialog__linkRole"\x3e\x3c/div\x3e\x3cdiv class\x3d"shareDialog__buttons"\x3e'+KM({ka:"shareDialog__copyButton shareDialog__linkCopy",text:a,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('data-clipboard-target\x3d"shareDialog__shareLink" data-event\x3d"linkCopy"')})+
"\x3c/div\x3e\x3c/div\x3e")}
function xQ(a){soy.asserts.assertType(goog.isString(a.vh)||a.vh instanceof goog.soy.data.SanitizedContent,"embedDescription",a.vh,"string|goog.soy.data.SanitizedContent");var b=a.vh;soy.asserts.assertType(goog.isString(a.Yd)||a.Yd instanceof goog.soy.data.SanitizedContent,"copyButton",a.Yd,"string|goog.soy.data.SanitizedContent");var c=a.Yd;soy.asserts.assertType(goog.isString(a.uf)||a.uf instanceof goog.soy.data.SanitizedContent,"embedCode",a.uf,"string|goog.soy.data.SanitizedContent");var d=a.uf;
soy.asserts.assertType(goog.isString(a.yh)||a.yh instanceof goog.soy.data.SanitizedContent,"embedPublic",a.yh,"string|goog.soy.data.SanitizedContent");var f=a.yh;soy.asserts.assertType(goog.isString(a.xh)||a.xh instanceof goog.soy.data.SanitizedContent,"embedMakePublic",a.xh,"string|goog.soy.data.SanitizedContent");a=a.xh;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"shareDialog__tabContent" data-id\x3d"embedTab"\x3e\x3cdiv class\x3d"shareDialog__embeddable"\x3e'+soy.$$escapeHtml(b)+
'\x3cdiv class\x3d"shareDialog__embedOverlayContainer"\x3e\x3ctextarea id\x3d"shareDialog__shareEmbed" class\x3d"shareDialog__shareEmbed"\x3e'+soy.$$escapeHtmlRcdata(d)+'\x3c/textarea\x3e\x3cdiv class\x3d"shareDialog__embedOverlay"\x3e\x3cp\x3e'+soy.$$escapeHtml(f)+"\x3c/p\x3e"+KM({ka:"shareDialog__publicButton",text:a})+'\x3c/div\x3e\x3cdiv class\x3d"shareDialog__buttons"\x3e'+KM({ka:"shareDialog__copyButton",text:c,attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('data-clipboard-target\x3d"shareDialog__shareEmbed"')})+
'\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"shareDialog__embedError"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')}
function vQ(a){soy.asserts.assertType(goog.isString(a.ti)||a.ti instanceof goog.soy.data.SanitizedContent,"shareLabel",a.ti,"string|goog.soy.data.SanitizedContent");var b=a.ti,c=a.Rq;soy.asserts.assertType(goog.isString(a.Sh)||a.Sh instanceof goog.soy.data.SanitizedContent,"messagePlaceholder",a.Sh,"string|goog.soy.data.SanitizedContent");var d=a.Sh;soy.asserts.assertType(goog.isString(a.si)||a.si instanceof goog.soy.data.SanitizedContent,"shareButton",a.si,"string|goog.soy.data.SanitizedContent");
a=a.si;for(var b='\x3cdiv class\x3d"shareDialog__tabContent" data-id\x3d"socialTab"\x3e\x3cdiv\x3e\x3cdiv class\x3d"shareDialog__social"\x3e\x3cspan class\x3d"shareDialog__shareLabel"\x3e'+soy.$$escapeHtml(b)+"\x3c/span\x3e",f=soy.$$getMapKeys(c),g=f.length,h=0;h<g;h++)var k=f[h],b=b+('\x3cdiv class\x3d"shareDialog__nativeSocialButton '+soy.$$escapeHtmlAttribute(k)+'"\x3e\x3cspan class\x3d"shareDialog__tooltip"\x3e'+soy.$$escapeHtml(c[k])+"\x3c/span\x3e\x3c/div\x3e");b+='\x3c/div\x3e\x3ctextarea class\x3d"shareDialog__shareMessage" placeholder\x3d"'+
soy.$$escapeHtmlAttribute(d)+'"\x3e\x3c/textarea\x3e\x3cdiv class\x3d"shareDialog__socialFooter"\x3e\x3cdiv class\x3d"shareDialog__buttons"\x3e'+KM({ka:"shareDialog__shareButton",text:a})+'\x3c/div\x3e\x3cspan class\x3d"shareDialog__characterCount"\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e';return soydata.VERY_UNSAFE.ordainSanitizedHtml(b)};function WN(a){X.call(this,{className:"shareDialog",ba:a.ba,title:a.wa.title()});this.Pt=a.Pt;this.wh=a.wh;this.uf=a.uf;this.HB=a.HB;this.wa=a.wa;this.dG=!1;this.zF="VIEWER";this.Rr={};a.UH&&(this.Rr[jQ]=this.wa.format("shareDesignDialogTwitterLabel"));a.PH&&(this.Rr[kQ]=this.wa.format("shareDesignDialogFacebookLabel"));this.Rq={};a.UH&&(this.Rq.shareDialog__twitter=this.wa.format("shareDesignDialogTwitterTooltip"));a.PH&&(this.Rq.shareDialog__facebook=this.wa.format("shareDesignDialogFacebookTooltip"));
this.uH=[{value:"EDITOR",text:this.wa.format("shareDesignDialogEditRole"),selected:!1},{value:"VIEWER",text:this.wa.format("shareDesignDialogViewRole"),selected:!0}]}t(WN,X);e=WN.prototype;
e.events=function(){var a=this;return _.extend(X.prototype.events.call(this),{"click .shareDialog__tab":this.FP,"click .shareDialog__inviteButton":this.IO,"click .shareDialog__link":function(a){return $(a.target).select()},"click .shareDialog__publicButton":function(){return a.trigger("makePublic")},"click .buttonTwitter":function(){return a.trigger("social",jQ)},"click .buttonFacebook":function(){return a.trigger("social",kQ)}})};
e.FP=function(a){var b=this.$(".dialog");b.css("top",b.offset().top+"px");b.addClass("shareDialog--fixed");this.$(".shareDialog__tab").removeClass("shareDialog__tab--on");a=$(a.target);a.addClass("shareDialog__tab--on");this.$(".shareDialog__tabContent").removeClass("shareDialog__tabContent--on").find(".selectView, input:not(:hidden), button").prop("tabIndex",-1);a=a.data("id");this.$('.shareDialog__tabContent[data-id\x3d"'+a+'"]').addClass("shareDialog__tabContent--on").find(".selectView, input:not(:hidden), button").prop("tabIndex",
0)};function ZP(a,b,c,d){a.$(".shareDialog__link").val(b);a.$(".shareDialog__hiddenViewLink").val(c);a.$(".shareDialog__linkRole select").prop("disabled",d)}function zQ(a,b,c){a.$(".shareDialog__inviteButton").text(a.wa.format("shareDesignDialogSaveChanges"));a.dG=!0;a.trigger("roleChange",b,c)}e.mA=function(a){this.trigger("linkRoleChange",a);this.$(".shareDialog__tabContent--on").find(".textInput").focus().select();this.$(".shareDialog__linkCopy").text(this.wa.Yd())};
e.IO=function(a){$(a.target).toggleClass("submitting",!0);this.trigger("submit",this.zF)};e.openWindow=function(a){this.ok();window.open(a,"","scrollbars\x3dyes,resizable\x3dyes,toolbar\x3dno,location\x3dyes,width\x3d420,height\x3d550,left\x3d445,top\x3d240")};
function AQ(a){var b=document.queryCommandSupported("copy");if(b)try{document.execCommand("copy")}catch(c){b=!1}a.$(".shareDialog__copyButton").each(function(c,d){if(b)$(d).on("click",function(b){try{document.execCommand("copy",!1,a.$("#"+$(b.target).attr("data-clipboard-target")).select()),BQ(a,b)}catch(c){}});else new ZeroClipboard(d),$(d).on("click",function(b){return BQ(a,b)})})}
function BQ(a,b){b=$(b.target);b.text(a.wa.format("shareDesignDialogCopiedButton"));(b=b.data("event"))&&a.trigger(b)}
e.render=function(){var a=this;X.prototype.render.call(this);this.$(".content").html(tQ({qv:this.wa.format("shareDesignDialogPeople"),Rv:this.wa.GB(),Fu:this.wa.link(),At:this.wa.format("shareDesignDialogEmbed"),vh:this.wa.vh(),uf:this.uf,wh:this.wh,yh:this.wa.yh(),xh:this.wa.xh(),Gh:this.wa.Gh(),Fh:this.wa.Fh(),Rr:this.Rr,Yg:this.HB,ti:this.wa.ti(),Rq:this.Rq,Sh:this.wa.Sh(),si:this.wa.si(),Nh:this.wa.Nh(),Yd:this.wa.Yd()}).toString());var b=UP({className:"shareDialog",options:this.uH});b.on(YP,
function(b){a.zF=b;a.$(".shareDialog__tabContent--on").find(".textInput").focus();HP(a.Pt)});var c=this.$(".shareDialog__inviteRole");c.append(b.$el);c.before(this.Pt.$el);b=UP({className:"shareDialog",options:this.uH});b.on(YP,function(b){return a.mA(b)});this.$(".shareDialog__linkRole").append(b.$el);this.$(".shareDialog__tabContent").not("[data-id\x3dpeopleTab]").find("select, input, button").prop("tabIndex",-1);AQ(this);return this};
function hQ(a,b,c,d){var f=a.$(".shareDialog__acl"),g=$(yQ({email:a.wa.format("shareDesignDialogAllMembers"),name:b.ca.gb()||a.wa.format("shareDesignDialogDefaultBrandName")}).toString()),h=CQ({ca:b.ca,size:40});g.find(".shareDialog__aclMemberAvatar").append(h.render().$el);h=UP({className:"shareDialog",options:DQ(a,b.Ms.Bf())});h.on(YP,function(c){return zQ(a,b.ca.G(),c)});g.find(".shareDialog__aclMemberRole").append(h.$el);f.append(g);c.forEach(function(b){var c=$(yQ({email:b.Mq.ze(),name:b.Mq.Ca().gb()||
b.Mq.Ca().Cf()}).toString()),d=EQ({Pa:b.Mq.Ca(),size:40});c.find(".shareDialog__aclMemberAvatar").append(d.render().$el);d=UP({className:"shareDialog",options:DQ(a,b.Ms.Bf()),disabled:b.disabled});d.on(YP,function(c){return zQ(a,b.Mq.Ca().G(),c)});c.find(".shareDialog__aclMemberRole").append(d.$el);f.append(c)});0<d&&a.$(".shareDialog__folders").text(a.wa.Pb(d))}
function fQ(a,b){b?a.$(".shareDialog__embedOverlay").removeClass("shareDialog__embedOverlay--visible"):a.$(".shareDialog__embedOverlay").addClass("shareDialog__embedOverlay--visible")}function pQ(a,b,c){X.prototype.JH.call(a,a.wa.format("shareDesignDialogInviteMembersTitle"));b=FQ({Vk:soydata.VERY_UNSAFE.ordainSanitizedHtml(a.wa.Vk(c,Di())),mn:a.wa.mn(),nn:a.wa.nn(),mf:Yp(cq,50).ma(),Bk:b});b.on(GQ,function(){return a.ok()});a.$(".content").html(b.$el);return b}
function rQ(a,b){a.$(".shareDialog__error").text(wd(a.wa,b.length,b.join(", ")));a.$(".buttonSubmittable").toggleClass("submitting",!1)}
function DQ(a,b){return b===im?[{value:im,text:a.wa.format("shareDesignDialogOwnerRole"),selected:!0}]:[{value:"EDITOR",text:a.wa.format("shareDesignDialogEditRole"),selected:"EDITOR"===b},{value:"VIEWER",text:a.wa.format("shareDesignDialogViewRole"),selected:Gm[b]>=Gm.VIEWER&&Gm[b]<Gm.EDITOR},{value:"NONE",text:a.wa.format("shareDesignDialogNoneRole"),selected:"NONE"===b}]}var jQ="buttonTwitter",kQ="buttonFacebook";function HQ(){}e=HQ.prototype;e.listenTo=Backbone.Events.listenTo;e.off=Backbone.Events.off;e.on=Backbone.Events.on;e.stopListening=Backbone.Events.stopListening;e.trigger=Backbone.Events.trigger;var YN="UPDATE_PUBLIC_PERMISSIONS";function IQ(a){var b=this;Kb.call(this,a);a.on("click",".shareDialog__inviteMemberButton",function(a){a=$(a.target).closest(".shareDialog__inviteMemberContainer");a=(new JQ(a)).ze();b.trigger(KQ,a)})}t(IQ,Kb);
function FQ(a){var b=$,c;soy.asserts.assertType(a.Vk instanceof soydata.SanitizedHtml||a.Vk instanceof soydata.UnsanitizedText||goog.isString(a.Vk),"inviteMembersHtml",a.Vk,"soydata.SanitizedHtml");var d=a.Vk;soy.asserts.assertType(goog.isString(a.mn)||a.mn instanceof goog.soy.data.SanitizedContent,"inviteMemberButton",a.mn,"string|goog.soy.data.SanitizedContent");c=a.mn;soy.asserts.assertType(goog.isString(a.nn)||a.nn instanceof goog.soy.data.SanitizedContent,"inviteMemberError",a.nn,"string|goog.soy.data.SanitizedContent");
var f=a.nn;soy.asserts.assertType(goog.isString(a.mf)||a.mf instanceof goog.soy.data.SanitizedContent,"avatarUrl",a.mf,"string|goog.soy.data.SanitizedContent");var g=a.mf;a=a.Bk;for(var d='\x3cdiv class\x3d"shareDialog__inviteMembersView"\x3e\x3cdiv class\x3d"shareDialog__inviteMembersLabel"\x3e'+soy.$$escapeHtml(d)+'\x3c/div\x3e\x3cdiv class\x3d"shareDialog__inviteMembers"\x3e',h=a.length,k=0;k<h;k++)var l=a[k],d=d+('\x3cdiv class\x3d"shareDialog__inviteMemberContainer" data-email\x3d"'+soy.$$escapeHtmlAttribute(l)+
'"\x3e\x3cdiv class\x3d"shareDialog__inviteMember"\x3e\x3cimg class\x3d"avatar" src\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(g))+'"/\x3e\x3cspan class\x3d"shareDialog__inviteMemberEmail"\x3e'+soy.$$escapeHtml(l)+"\x3c/span\x3e"+KM({ka:"shareDialog__inviteMemberButton buttonSubmittable",text:c})+'\x3c/div\x3e\x3cdiv class\x3d"shareDialog__inviteMemberError" data-error\x3d'+soy.$$escapeHtmlAttributeNospace(f)+"\x3e\x3c/div\x3e\x3c/div\x3e");c=soydata.VERY_UNSAFE.ordainSanitizedHtml(d+
"\x3c/div\x3e\x3c/div\x3e");b=b(c.toString());return new IQ(b)}function LQ(a,b,c){a=MQ(a,b);a.vw.empty();NQ(a,!0,c);a.xs.prop("disabled",!0)}function OQ(a,b,c,d){NQ(MQ(a,b),!1,c);d&&window.setTimeout(function(){return a.trigger(GQ)},1E3)}function MQ(a,b){a=a.$el.find('.shareDialog__inviteMemberContainer[data-email\x3d"'+b+'"]');return new JQ(a)}var KQ="INVITE_MEMBER",GQ="OK";
function JQ(a){this.$el=a;this.xs=a.find(".shareDialog__inviteMemberButton");this.vw=a.find(".shareDialog__inviteMemberError")}t(JQ,Jb);JQ.prototype.ze=function(){return this.$el.data("email")};function NQ(a,b,c){c&&a.xs.text(c);a.xs.toggleClass("submitting",b)}JQ.prototype.vi=function(){this.vw.text(this.vw.data("error").toString())};function qQ(a,b){var c=this;this.ca=a.ca;this.ia=a.ia;this.Rf=a.Rf;this.Wl=a.Wl;this.wa=a.wa;this.Qu=a.Qu;this.view=b;this.view.on(KQ,function(a){return PQ(c,a)})}
function PQ(a,b){LQ(a.view,b,a.wa.format("shareDesignDialogiInviteMemberInvitingButton"));QQ(a).then(function(){var c=(new eq).me(a.ca.G()),d=[Object.freeze(J(dq,{email:b,role:"MEMBER"}))];c.invitees=d;c.resend=!0;return a.ia.jR(c)}).then(function(){a.Qu--;OQ(a.view,b,a.wa.format("shareDesignDialogInviteMemberSentButton"),0===a.Qu)}).catch(function(){var c=MQ(a.view,b);c.vi();NQ(c,!1);c.xs.prop("disabled",!1)})}
function QQ(a){if(!a.ca.nj())return P.resolve();var b=Vp((new Up).eh(a.ca.G()));a.ca.gb()||(b.displayName=a.Wl+"′s team");return vp(a.ia,b).tap(function(){var b=a.Rf;return vf(b.da,b.url+"/brand?invalidateCache",null)}).tap(function(){var b=a.Rf;return vf(b.da,b.url+"/user?invalidateCache",null)})};function RQ(a){this.view=a.view;this.ba=a.ba;this.Sz=a.Sz;this.C=a.C;this.Z=qc(this.C);var b=[this.Z.format("publishViewQuoteAlbertEinstein"),this.Z.format("publishViewQuoteRobertGreene"),this.Z.format("publishViewQuoteHenriMatisse"),this.Z.format("publishViewQuoteSteveJobs"),this.Z.format("publishViewQuoteAndyWarhol"),this.Z.format("publishViewQuoteEleanorRoosevelt"),this.Z.format("publishViewQuoteAbrahamLincoln"),this.Z.format("publishViewQuoteThomasWatsonJr"),this.Z.format("publishViewQuotePaulRand"),
this.Z.format("publishViewQuoteNelsonMandela"),this.Z.format("publishViewQuotePabloPicasso"),this.Z.format("publishViewQuoteMiltonGlaser"),this.Z.format("publishViewQuoteMaryLouCook"),this.Z.format("publishViewQuoteDrEdwinLand"),this.Z.format("publishViewQuoteAlexanderIsley"),this.Z.format("publishViewQuoteJoeMansueto"),this.Z.format("publishViewQuoteCharlesEames"),this.Z.format("publishViewQuoteMihnDTran"),this.Z.format("publishViewQuoteAntoineDeSaintExupery")];this.quote=b[Math.floor(Math.random()*
b.length)];this.Nu=P.resolve();this.lb=a.lb;this.YG=!1;this.yd=a.yd;this.pc=a.pc;this.Kb=a.Kb;this.ca=Fq(this.pc).na().G();this.document=a.document;this.ob=a.ob;this.state={purchaseLicenseList:null,account:null,isPersonalBrand:!1,docId:this.ob.va(),soonestTimeToExpiration:null,madeRoyaltyFreePurchase:!1,madeExtendedPurchase:!1,exportUrl:null,outputType:null,includeCrops:!1,includeBleed:!1,pageRange:null,pageCount:null,creditPack:null,errorMessage:null,showHomepageHints:a.yd};this.Nb=a.Nb;this.analytics=
a.analytics;this.PA=a.PA;this.Qg=null;this.ia=a.ia;this.kb=a.kb;this.jd=a.jd;this.fa=a.fa;this.hd=a.hd;this.Mh=a.Mh;this.aa={error:(new PP({model:this.state,Z:this.Z,view:new RP})).init(),Pn:(new RO({analytics:this.analytics,model:this.state,kb:this.kb,ia:this.ia,lb:this.lb,Z:this.Z,kc:sc(this.C),jb:Gq(a.pc).G(),Fd:this.ca,view:new uP({Jc:nO({ca:this.ca,qm:this.kb,Hd:!1,gf:this.hd,kc:sc(this.C)})})})).init(),Mm:new wP({ba:this.ba,Z:this.Z,view:new zP}),rE:new SQ({model:this.state,analytics:this.analytics,
fa:this.fa,ob:this.ob,C:this.C})};this.wf=null;this.view.on("cancel",this.cancel.bind(this));this.view.on("ok",this.ok.bind(this));this.view.on("retry",this.vF.bind(this))}
function WM(a){var b=qc(a.C),b=(new wO({Dc:new Iq({style:Jq,ba:a.ba}),ba:a.ba,id:"exportDialog"})).render({fm:b.fm(),Se:b.Se()}),c=["ONE_USE"];a.fa.ta.get(le)&&c.push("ROYALTY_FREE");a.fa.ta.get(ve)&&c.push("EXTENDED");return new RQ({view:b,C:a.C,fa:a.fa,analytics:a.analytics,ob:a.ob,document:a.document,pc:a.pc,Nb:a.Nb,kb:a.kb,ia:a.ia,jd:a.jd,hd:a.hd,ba:a.ba,Kb:a.Kb,yd:a.yd,Sz:function(){return new NP({Z:qc(a.C),view:new OP({ba:a.ba}),NB:c})},lb:a.lb,PA:function(b){return new DO({analytics:a.analytics,
Gy:b})},Mh:c})}e=RQ.prototype;e.remove=function(){this.wf&&this.wf.cancel();this.view.remove().bind(this).then(function(){_.values(this.aa).forEach(function(a){a.remove()})})};e.Bh=function(){return this.state};e.hu=function(){return this.aa};
e.xo=function(){var a=this.state.soonestTimeToExpiration;if(null!==a&&Infinity>a){var b=moment.duration(a),a=Math.floor(b.asHours()),b=b.minutes(),a=0<a?this.Z.format("publishViewExportingHoursRemainingLicenseHeader",a,b):this.Z.format("publishViewExportingMinutesRemainingLicenseHeader",b),b=this.Z.format("publishViewExportingLicensePurchaseDetails");soy.asserts.assertType(goog.isString(a)||a instanceof goog.soy.data.SanitizedContent,"title",a,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(b)||
b instanceof goog.soy.data.SanitizedContent,"message",b,"string|goog.soy.data.SanitizedContent");a=soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3ch3\x3e"+soy.$$escapeHtml(a)+"\x3c/h3\x3e\x3cp\x3e"+soy.$$escapeHtml(b)+"\x3c/p\x3e").toString()}else a=soydata.VERY_UNSAFE.ordainSanitizedHtml(this.quote),soy.asserts.assertType(a instanceof soydata.SanitizedHtml||a instanceof soydata.UnsanitizedText||goog.isString(a),"quote",a,"soydata.SanitizedHtml"),a=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cp class\x3d"designQuote"\x3e'+
soy.$$escapeHtml(a)+"\x3c/p\x3e").toString();this.view.$(".dialog__footer__content").html(a);this.Nu.then(this.view.xo.bind(this.view))};e.ru=function(){this.Nu.then(this.view.ru.bind(this.view))};e.start=function(a){TQ(this,a);this.Qg=this.PA(this.state.outputType);this.Nu=new P(function(a){this.ba.setTimeout(a,650)}.bind(this));this.vF()};function TQ(a,b){for(var c in b)a.state[c]=b[c]}
e.vF=function(){UQ(this).bind(this).then(this.uM).then(this.JM).then(this.kK).then(this.pM).then(this.Xr.bind(this,"PRINT")).catch(this.OH)};function UQ(a){if(a.document.isEmpty())return P.reject("EMPTY_DOC");if(!a.ob.tn())return P.reject("SAVING");if(0<a.jd.Jo.length)return P.reject("UPLOADING");if(0===a.Mh.length)return P.reject("LICENSE_NO_OPTIONS");var b=!0;a.ob.Fg()&&(a.ob.save(),b=!1);return P.resolve(b)}
e.uM=function(a){if(a)return P.resolve(!0);this.aa.Mm.Jt="SAVING";yO(this.view,this.aa.Mm);this.Qg.track("save");return Fr(G.Es).bind(this).catch(function(){throw this.ob.tn()?"SAVING":"VERSION_CONFLICT";})};e.JM=function(){this.aa.Mm.Jt="EXPORTING";yO(this.view,this.aa.Mm);this.Qg.track("prepare")};e.OH=function(a){this.ru();var b=this.aa.error;b.Xn=QP(b,a);yO(this.view,this.aa.error);this.Qg.track("error",{errorType:a})};
e.yK=function(){this.state.soonestTimeToExpiration=Infinity;this.xo();yO(this.view,this.aa.Mm);this.Xr("SCREEN").bind(this).catch(this.OH)};
e.kK=function(){var a=this.ob.Rc(),b=Af(this.kb,new Ag({document:this.ob.va(),Ri:a,aa:this.state.pageRange,sz:!0,wz:!0})).catch(function(a){if(409===a[1])throw"VERSION_CONFLICT";throw"BACKGROUND";}),c=yf(this.kb,this.ca).catch(function(a){if(404===a)return null;throw"BACKGROUND";});return P.all([b,c]).bind(this).spread(function(b,c){if(b.Ri!==a)throw"VERSION_CONFLICT";this.state.soonestTimeToExpiration=zg(b.items,b.fi);this.state.isPersonalBrand=Fq(this.pc).na().nj();this.state.account=c;b.Cv&&(this.state.purchaseLicenseList=
(new OO(b.items)).init(this.Mh,b.fi));return b.Cv})};e.pM=function(a){return a?0===PO(this.state.purchaseLicenseList)?(this.xo(),rP(this.aa.Pn).catch(function(){throw"PAYMENT";})):VQ(this).bind(this).then(this.zR):(this.xo(),P.resolve())};
function VQ(a){return new P(function(a,c){ZL(this.lb,"contextTipRoyaltyFreePaymentOption");this.ru();WQ(this).bind(this).then(function(){yO(this.view,this.aa.Pn).bind(this).then(function(){return ZO(this.aa.Pn)}).then(function(a){a||WL(this.lb,"contextTipRoyaltyFreePaymentOption")});this.Qg.track("payment");this.aa.Pn.once("clickDraft",this.yK.bind(this));this.aa.Pn.once("paymentComplete",a);this.aa.Pn.once("paymentError",c.bind(null,"PAYMENT"))})}.bind(a))}
e.zR=function(){this.xo();yO(this.view,this.aa.Mm)};function WQ(a){return XQ(a).bind(a).then(function(a){if(a)return YQ(this).bind(this).then(this.ZM)})}function ZQ(a){return"hasSeenPublishPaymentLicensesOnboarding:"+Gq(a.pc).G()}function XQ(a){var b=ZQ(a),c=!!Gq(a.pc).aF().hasSeenPublishPaymentLicensesOnboarding,d;if(d=a.Kb){var f;try{var g=a.Kb.getItem(b);f=null!==g?JSON.parse(g):null}catch(h){f=null}d=!!f}return P.resolve(!c&&!d)}
e.ZM=function(){var a=ZQ(this);if(this.Kb){var b=this.Kb;try{var c=JSON.stringify(!0);b.setItem(a,c)}catch(d){}}up(this.ia,"hasSeenPublishPaymentLicensesOnboarding",!0)};function YQ(a){return new P(function(a){this.Qg.track("onboard_licenses");this.Nu.bind(this).then(function(){var c=this.Sz().init();c.show();c.on("complete",a)})}.bind(a))}
e.Xr=function(a){var b=this.ob.va(),c=this.ob.Rc(),d=this.state.outputType,f=this.state.pageRange,g=!!this.state.includeCrops,h=!!this.state.removeCanvas;this.Qg.track("export",{exportType:a});if(0===f.length)for(var k=0,l=this.state.pageCount;k!==l;k++)f.push(k+1);var m;switch(a){case "PREVIEW":case "SCREEN":case "CUSTOM":m="SCREEN";break;case "THUMBNAIL":m="THUMBNAIL";case "PRINT":m="PRINT";break;default:throw Error("unknown export type: "+a);}a=new Ro({ng:b,Em:c,Sr:new Vo({type:a,format:d,Kq:this.state.mediaDpi,
Lq:m,Yw:!!this.state.includeBleed,Ax:g,XA:h,PB:this.state.targetImageSizeKb,aa:f})});Ba(null==this.wf);return this.wf=this.Nb.tm(a).bind(this).tap(function(a){if(0<a.er.It.length){var b=a.er.It[0].url;a=m===Ue;this.state.exportUrl=b;yO(this.view,this.aa.rE);this.Qg.track("complete");this.YG||(1>$("#canvaDownloadIframe").length&&$("\x3ciframe /\x3e",{id:"canvaDownloadIframe"}).appendTo("body"),$("#canvaDownloadIframe").attr("src",b),this.yd&&ti(this.analytics,"download","export_dialog","first_time_publish"));
b=this.analytics;b.track("design_publish",{format:d,watermark:a,destination:"download",design:b.Ye,template:b.Ze,transparent_background:h,crop_marks:g})}}).catch(P.CancellationError,function(){}).finally(function(){this.wf=null}).catch(function(){return P.reject("EXPORTING")})};e.Or=function(){var a=!0===this.state.madeExtendedPurchase;(!0===this.state.madeRoyaltyFreePurchase||a)&&YL(this.lb)};e.cancel=function(){this.Qg.ls("cancel");this.Or();this.remove()};
e.ok=function(){this.Qg.ls("ok");this.Or();this.remove()};function SQ(){}SQ=CO.extend({className:"exporting complete"});e=SQ.prototype;e.events=function(){return{"click .openUploadsTab":this.$N,"click .button--homepageHint":this.UN}};
e.initialize=function(a){this.GB=sq(a.fa,lv());this.C=a.C;this.Z=qc(a.C);this.analytics=a.analytics;var b=eN,c=a.fa,d=a.ob;a=a.C;a.qc||(a.qc=new td(a.Ha));this.wB=new b({location:"publish",fa:c,ob:d,qc:a.qc});this.listenTo(this.wB,{shareClicked:this.so,emailSend:this.NL,shareViewResize:this.sm})};e.refresh=function(){this.render();return P.resolve()};
e.render=function(){var a=this.el,b,c=this.Ch();soy.asserts.assertType(c.xp instanceof soydata.SanitizedHtml||c.xp instanceof soydata.UnsanitizedText||goog.isString(c.xp),"downloadStartedHtml",c.xp,"soydata.SanitizedHtml");b=c.xp;soy.asserts.assertType(goog.isBoolean(c.Nr)||1===c.Nr||0===c.Nr,"showLicenseHint",c.Nr,"boolean");var d=!!c.Nr;soy.asserts.assertType(c.Fq instanceof soydata.SanitizedHtml||c.Fq instanceof soydata.UnsanitizedText||goog.isString(c.Fq),"licenseHint",c.Fq,"soydata.SanitizedHtml");
var f=c.Fq;soy.asserts.assertType(goog.isBoolean(c.yd)||1===c.yd||0===c.yd,"showHomepageHints",c.yd,"boolean");var g=!!c.yd;soy.asserts.assertType(goog.isString(c.kn)||c.kn instanceof goog.soy.data.SanitizedContent,"hintSeeAllDesigns",c.kn,"string|goog.soy.data.SanitizedContent");c=c.kn;b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cp class\x3d"intro"\x3e'+soy.$$escapeHtml(b)+"\x3c/p\x3e"+(g?"":'\x3cdiv class\x3d"socialShare"\x3e\x3c/div\x3e')+(d?'\x3cp class\x3d"feedback feedback--success"\x3e'+
soy.$$escapeHtml(f)+"\x3c/p\x3e":"")+(g?KM({tagName:"a",href:"/",ka:"button--homepageHint",text:c}):""));a.innerHTML=b;this.$(".socialShare").html(this.wB.render().el);return this};e.$N=function(){qB.call($("#objectPanel .uploads a"),this.C);this.close()};e.UN=function(){ti(this.analytics,"see_your_designs","export_complete_dialog","first_time_publish")};e.sm=function(){this.trigger("contentResize")};
e.close=function(){this.trigger("ok");this.model.showHomepageHints&&ui(this.analytics,"export_complete","export_dialog","first_time_publish")};e.so=function(a){this.close();eN.openWindow(a.url,a.width,a.height);qi(this.analytics,a.type,this.model.showHomepageHints?"first_time_publish":"publish")};
e.NL=function(a){var b=this;this.$(".shareViaEmailForm button").addClass("sending");qi(this.analytics,"email","publish");vq(this.GB,new zq({Lc:A.va(),mode:a.mode,xf:a.xf,Bk:a.ML,ts:"publish"})).bind(this).finally(function(){this.$(".shareViaEmailForm button").removeClass("sending")}).then(function(){this.$(".shareViaEmailForm button").addClass("sent");setTimeout(function(){this.trigger("ok")}.bind(this),600)}).catch(function(){this.wB.trigger("emailSendingError",b.Z.format("publishViewEmailSendingError"))})};
e.um=function(a){return uO(a).toString()};e.aq=function(){return{title:this.Z.format("publishViewDesignReady")}};
e.Ch=function(){var a=!0===this.model.madeRoyaltyFreePurchase,b=!0===this.model.madeExtendedPurchase,c="";a&&b?(a=this.Z.od(),b=this.Z.gc(),c=this.Z.format("publishViewUnlimitedUseCombinedHint",a,b)):a?c=xd(this.Z,this.Z.gc()):b&&(c=xd(this.Z,this.Z.od()));return{xp:soydata.VERY_UNSAFE.ordainSanitizedHtml(this.Z.format("publishViewDownloadStarted",this.model.exportUrl)),Nr:!!c,Fq:soydata.VERY_UNSAFE.ordainSanitizedHtml(c),yd:this.model.showHomepageHints,kn:this.Z.kn()}};
function $Q(){this.listener=null}$Q=CO.extend({className:"exporting complete"});e=$Q.prototype;e.initialize=function(a){this.Z=a.Z};e.refresh=function(){this.render();return P.resolve()};e.render=function(){this.el.innerHTML=SP(this.Ch());var a=this;window.setTimeout(function(){a.remove&&a.remove();a.listener&&a.listener()},1E3);return this};e.events=function(){return{"click .useExportButton":function(){this.remove&&this.remove();this.listener&&this.listener()}}};
e.Ch=function(){return{message:this.Z.format("publishViewExportCompleteEmbedded"),Se:this.Z.Se()}};e.um=function(a){return uO(a).toString()};e.aq=function(){var a=this.model.outputType;return{title:null==a||"PNG"==a||"JPG"==a?this.Z.format("publishViewExportCompleteImage"):this.Z.format("publishViewExportCompletePdf")}};function xK(a,b){this.uA=a.uA;this.ia=a.ia;this.C=a.C;this.view=b}
xK.prototype.confirm=function(){var a=this;return new P(function(b,c){if(!a.uA)return b(!0);tp(a.ia).then(function(d){if(d.neverShowReplacePageContentWarning)return b(!0);Kq(a.view).then(function(c){if(a.view.Ou){up(a.ia,"neverShowReplacePageContentWarning",!0);var d=$("#documentFileMenuUndoButton"),h=d.offset();(new TL({Nc:$(document),Fc:$("body"),mp:a.C.format("editorReplaceContentContextTipText"),Gc:a.C.format("editorReplaceContentContextTipButtonText"),width:265,style:"contextTipOnboarding topArrow"})).vo(h.left-
4,h.top+ +d.height()+4,!1)}b(2===c)}).catch(function(a){return c(a)})})})};function wK(a){X.call(this,{className:"replaceContentDialog",ba:a.ba,Qd:!1,title:a.oC});this.Ou=!1;var b=$,c;c=a.uL;var d=a.oN,f=a.LQ;a=a.nC;soy.asserts.assertType(goog.isString(c)||c instanceof goog.soy.data.SanitizedContent,"doNotReplaceButton",c,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(d)||d instanceof goog.soy.data.SanitizedContent,"neverShowAgainLabel",d,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(f)||f instanceof goog.soy.data.SanitizedContent,
"replaceButton",f,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a)||a instanceof goog.soy.data.SanitizedContent,"warningText",a,"string|goog.soy.data.SanitizedContent");c=soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3cp\x3e"+soy.$$escapeHtml(a)+"\x3c/p\x3e"+KM({ka:"replaceContentDialog__cancelButton buttonSecondary",text:c})+KM({ka:"replaceContentDialog__replaceButton",text:f})+'\x3cdiv\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" /\x3e'+soy.$$escapeHtml(d)+"\x3c/label\x3e\x3c/div\x3e");
this.content=b(c.toString())}t(wK,X);wK.prototype.events=function(){return _.extend(X.prototype.events.call(this),{"click .replaceContentDialog__replaceButton":this.ok,"click .replaceContentDialog__cancelButton":this.cancel,'click input[type\x3d"checkbox"]':this.gS})};wK.prototype.render=function(){X.prototype.render.call(this);return this};wK.prototype.gS=function(a){this.Ou=a.target.checked};function $N(){}$N=Backbone.View.extend({className:"linearProgress"});
function aR(a,b){a.WH=(100/b.length).toFixed(4)+"%";return $("\x3cul\x3e"+b.map(function(a){return'\x3cli class\x3d"stage '+a.ka.join(" ")+'"\x3e\x3cspan class\x3d"label"\x3e\x3cspan class\x3d"text"\x3e'+a.label+'\x3c/span\x3e\x3c/span\x3e\x3cspan class\x3d"wipe"\x3e\x3cspan class\x3d"inner"\x3e\x3c/span\x3e\x3c/span\x3e\x3cspan class\x3d"bar"\x3e\x3c/span\x3e\x3cspan class\x3d"light"\x3e\x3c/span\x3e\x3c/li\x3e'}).join("")+"\x3c/ul\x3e")}
$N.prototype.initialize=function(a){this.WH="0%";this.$el.html(aR(this,a.NR))};$N.prototype.render=function(a){if("error"===a)return this.$el.addClass("out"),this.$el.addClass("error"),this;var b=this.$el.find(".stage."+a);if(b.hasClass("active"))return this;b.addClass("preparing");window.setTimeout(function(){b.addClass("active").removeClass("preparing")},800);b.prevAll().addClass("past").removeClass("active");return this};
$N.prototype.show=function(a){a.append(this.$el);var b=this;this.$(".stage:first-child").addClass("appear").addClass("preparing");window.setTimeout(function(){b.$(".stage:first-child").addClass("active").removeClass("preparing")},1E3);this.$(".stage:not(:first-child)").each(function(a){var d=$(this);d.css("width",b.WH);window.setTimeout(function(){d.addClass("appear")},100*a)})};$N.prototype.remove=function(){};function aH(){}aH=Backbone.View.extend({tagName:"div",className:"fxPanel"});e=aH.prototype;e.events=function(){var a={};a["click .preset"]=this.GK;a["click .presets .scrollLeft"]=this.aR;a["click .presets .scrollRight"]=this.bR;a["input .range .trackContainer \x3e input[type\x3drange]"]=this.rG;a["change .range .trackContainer \x3e input[type\x3drange]"]=this.rG;a["click .hex"]=this.AK;a["click .toggleAdvanced"]=this.fS;return a};
e.initialize=function(a){this.GA=a.GA;this.Gs=this.model.filter.name;this.Bv=null;this.Bz=!1;this.VG={};this.pC=this.$h=0;this.Id=a.Id;this.listenTo(this.model,"change",this.refresh);this.listenTo(C,"beforeOperationStackPop",this.qr);this.listenTo(K,"hideContextualControlsRequested",this.remove);this.render()};
e.render=function(){var a=this;$("#editorLogo").addClass("noAnimate");$(".imageToolbarCrop").removeClass("enabled").addClass("disabled");this.$el.html(this.template({advancedOptionsMsg:bd(this.Id),filterCodeMsg:this.Id.format("editorToolbarFilterCode")}));this.$el.addClass("toolbar--fx");jy(this.model);window.setTimeout(function(){bR(a);cR(a);dR(a);a.refresh()},300);this.Bv=this.model.EB;return this};
e.remove=function(){$("#editorLogo").removeClass("noAnimate");this.qr();$(".imageToolbarCrop").removeClass("disabled").addClass("enabled");this.model&&hu(this.model);Backbone.View.prototype.remove.call(this)};function bH(a,b){a.$el.css("top",b.bottom+23).css("left",b.left)}
e.refresh=function(){this.Gs=this.model.filter.name;this.HT||eR(this);fR(this);gR(this);var a="Normal"==this.model.filter.name,b=!this.model.Fz();this.$el.toggleClass("hideIntensity",a);this.$el.toggleClass("disableIntensity",b);this.$el.find(".range_intensity .sliderInput").prop("disabled",b||a);dR(this)};function hR(){return"intensity brightness contrast saturation tint blur x-process vignette".split(" ")}
function bR(a){var b=a.$el.find(".presets .presetsButtons");b.empty();$("#editorLogo").addClass("noAnimate");var c=a.model.Ub();if(c){var c=c[eu].ma(),d=$(_.template('\x3cli class\x3d"preset preset_Normal"\x3e\x3cdiv class\x3d"image"\x3e\x3cdiv class\x3d"inner"\x3e\x3cimg\x3e\x3c/div\x3e\x3c/div\x3e\x3cspan class\x3d"title"\x3e\x3c%- label %\x3e\x3c/span\x3e\x3c/li\x3e')({label:cd(a.Id,"Normal")})),f=d.find("img");f.css("opacity",0);f.one("load",function(){var a=$(f).get(0).naturalWidth,b=$(f).get(0).naturalHeight,
a=new M(0,0,a,b);Oi(a,new M(0,0,52,52));f.css(a.serialize());f.css("opacity",1)});Rt(St,f,c);b.append(d);b.find("."+iR(a.Gs)).addClass("active")}a.GA.sort(function(b,c){b=cd(a.Id,b.name);c=cd(a.Id,c.name);return b<c?-1:1}).forEach(function(c,d){var f=$('\x3cli class\x3d"preset '+jR(a,c)+'"\x3e\x3c/li\x3e');b.append(f);window.setTimeout(function(){kR(a,f,c)},300*d)})}
function kR(a,b,c){a.model.ey(c,!0,function(d){var f=$('\x3cimg src\x3d"'+d.src+'" /\x3e');f.css("opacity",0);f.one("load",function(){var a=$(f).get(0).naturalWidth,b=$(f).get(0).naturalHeight,a=new M(0,0,a,b);Oi(a,new M(0,0,52,52));f.css(a.serialize());f.css("opacity",1)});var g=$('\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e'),h=$('\x3cdiv class\x3d"vignette"\x3e\x3c/div\x3e'),k=$('\x3cdiv class\x3d"image"\x3e\x3c/div\x3e');h.css("background-image","radial-gradient("+d.FS+")");k.append(g);g.append(f);
g.append(h);b.append(k);b.append($('\x3cspan class\x3d"title"\x3e\x3c/span\x3e').text(cd(a.Id,c.name)));c.name===a.Gs&&b.addClass("active")})}
function gR(a){var b=a.$el.find(".presets .presetsButtons");b.find(".preset").removeClass("active");b.find("."+iR(a.Gs)).addClass("active");0===a.$h?a.$el.find(".scrollLeft").addClass("disabled"):a.$el.find(".scrollLeft").removeClass("disabled");a.$h===a.$el.find(".preset").length-5?a.$el.find(".scrollRight").addClass("disabled"):a.$el.find(".scrollRight").removeClass("disabled")}
function cR(a){function b(a){var b=0,c=100;"vignette"!==a&&"intensity"!==a&&(b=-100,c=100);return $('\x3cinput class\x3d"sliderInput" type\x3d"range" step\x3d"1" min\x3d"'+b+'" max\x3d"'+c+'" value\x3d"0" /\x3e')}var c=a.$el.find(".ranges");c.empty();hR().forEach(function(d){var f=dd(a.Id,d),f=$(_.template('\x3cli class\x3d"range \x3c%- rangeClass %\x3e"\x3e\x3clabel\x3e\x3c%- rangeName %\x3e\x3c/label\x3e\x3c/li\x3e')({rangeClass:lR(d),rangeName:f})),g=b(d),h=$("\x3cspan\x3e").addClass("rangeTrack"),
k=$('\x3cspan class\x3d"valueDisplay"\x3e0\x3c/span\x3e'),l=$('\x3cdiv class\x3d"trackContainer"\x3e\x3c/div\x3e');l.append(g);l.append(h);("vignette"!=d?[0]:[]).forEach(function(a){var b=$('\x3cspan class\x3d"snapGuide"\x3e\x3c/span\x3e');b.css("margin-left",a);l.append(b)});f.append(l);f.append(k);c.append(f)})}function eR(a){var b=a.$el.find(".ranges");hR().forEach(function(c){b.find("."+lR(c)+" input").val(a.model.getByName(c.replace(/[^a-z]/gi,""))||0)})}
function fR(a){var b=a.$el.find(".ranges");hR().forEach(function(c){var d=b.find("."+lR(c)+" .valueDisplay");c=parseInt(a.model.getByName(c.replace(/[^a-z]/gi,"")),10);isNaN(c)&&(c=0);d.html(0<c?"+"+c:""+c)})}function dR(a){a.$el.find("input.hex").val(a.model.filter.qa())}function jR(a,b){var c=iR(b.name);a.VG[c]=b;return c}function iR(a){return"preset_"+a.replace(/[^a-z0-9]/gi,"")}function lR(a){return"range_"+a.replace(/[^a-z0-9]/gi,"")}
e.GK=function(a){var b=this,c=$(a.target);c.hasClass("preset")||(c=c.parents(".preset").first());c.hasClass("active")||(c.addClass("transitioning"),window.setTimeout(function(){c.removeClass("transitioning").addClass("active")},50));a=c.attr("class").split(/\s+/).filter(function(a){return/preset_[a-z0-9]+/gi.test(a)});if(1===a.length){a=a[0];if("preset_Normal"==a)ny(this.model);else{var d=this.VG[a];window.setTimeout(function(){my(b.model,d)},150)}window.clearTimeout(this.pC)}};
e.rG=function(a){function b(){$.data(d,"FxPanelView:snapRange",0);$.data(d,"FxPanelView:snapReset",0)}var c=this,d=a.target;a=d.valueAsNumber;var f=/(?:^|\s)range_(\S+)/.exec(d.parentNode.parentNode.className),g=$.data(d,"FxPanelView:snapRange")||0,h=$.data(d,"FxPanelView:snapReset")||0;0<a*g&&14>=a*g?(a=0,d.value=a,0==h&&(h=window.setTimeout(b,750),$.data(d,"FxPanelView:snapReset",h))):0!=a&&$.data(d,"FxPanelView:snapRange",0>a?1:-1);f&&(this.model.Lv(f[1],a),window.clearTimeout(this.pC),this.pC=
window.setTimeout(function(){c.model.update(!0)},400))};e.AK=function(){function a(){d.off("blur");d.off("keypress");var a=d.val().replace(/[^a-z0-9]/gi,"");d.val(a).blur();var b=c.model,a=Yx(a);isNaN(a.blur*a.brightness*a.contrast*a.saturation*a.Rd*a.vignette*a.ne)||(b.filter=a,b.sf=!0,b.update(!0));c.Bz=!1}function b(b){13==b.which&&a()}if(!this.Bz){this.Bz=!0;var c=this,d=this.$el.find("input.hex");d.val(this.model.qa()).select().focus();d.on("blur",a);d.on("keypress",b)}};
e.aR=function(){0!==this.$h&&(this.$h-=3,mR(this))};e.bR=function(){var a=parseInt($(".preset").length,10);this.$h<a-5&&(this.$h+=3,mR(this))};function mR(a){var b=-63*a.$h;a.$el.find(".preset").css("-webkit-transform","translateX("+b+"px)").css("transform","translateX("+b+"px)");gR(a)}
e.fS=function(){this.$el.hasClass("showAdvanced")?(this.$el.find(".toggleAdvanced .text").text(bd(this.Id)),this.$el.find(".filterCode").removeClass("big").addClass("compact"),this.$el.removeClass("in").removeClass("showAdvanced")):(this.$el.find(".toggleAdvanced .text").text(this.Id.format("editorToolbarFilterOptionSimpler")),this.$el.addClass("showAdvanced").delay(300,function(){$(this).addClass("in")}),this.$el.find(".filterCode").removeClass("compact").addClass("big"))};
e.qr=function(){var a=L(z).Ja()[0],b=this.model.EB,c=!a,d=_.isEqual(b,this.Bv);c||d||(a={placeholderIndex:a.Ab(),elementIndex:a.ea(),pageIndex:T(z,a.ha()),"new":{filter:b},old:{filter:this.Bv}},C.register(new U(11,a)),this.Bv=b)};e.template=_.template('\x3cul class\x3d"presets"\x3e\x3cli class\x3d"scrollLeft"\x3e\x26#xe000;\x3c/li\x3e\x3cli class\x3d"scrollRight"\x3e\x26#xe000;\x3c/li\x3e\x3cli\x3e\x3cul class\x3d"presetsButtons"\x3e\x3c/ul\x3e\x3c/li\x3e\x3c/ul\x3e\x3cdiv class\x3d"rangesContainer"\x3e\x3cul class\x3d"ranges"\x3e\x3c/ul\x3e\x3cdiv\x3e\x3cdiv class\x3d"toggleAdvanced"\x3e\x3cspan class\x3d"text"\x3e\x3c%- advancedOptionsMsg %\x3e\x3c/span\x3e \x3cspan class\x3d"arrow"\x3e\x26#xe000;\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"filterCode compact"\x3e\x3cspan class\x3d"text"\x3e\x3c%- filterCodeMsg %\x3e #\x3c/span\x3e\x3cinput name\x3d"hex" class\x3d"hex" maxlength\x3d"16"/\x3e\x3c/div\x3e');function KN(a,b){uH.call(this,[{name:"start",from:"none",to:"pricingLayout"},{name:"price",from:"pricingLayout",to:"pricingElements"},{name:"price",from:"pricingElements",to:"reviewingSubmission"},{name:"submit",from:"reviewingSubmission",to:"submitted"},{name:"submit",from:"submitted",to:"submitted"},{name:"success",from:"submitted",to:"completed"},{name:"error",from:"pricingLayout",to:"failed"},{name:"error",from:"reviewingSubmission",to:"failed"},{name:"error",from:"submitted",to:"failed"}]);this.document=
z;this.Lf=bb;this.Ea=a;this.Oc=b;this.oy=[]}KN.prototype=new uH;KN.prototype.start=function(){this.gd.start()};function jO(a,b){b.title&&TH(a.document.Za(),b.title);b.keywords&&pl(a.document,b.keywords);b.locale&&a.document.setLocale(b.locale);Fr(G.Es).then(function(){a.gd.transition("price")},function(){a.gd.transition("error")})}KN.prototype.eB=function(){this.gd.transition("review")};
function hO(a){function b(a){var b="PAID"===a.price?iz:hz,d=(a.keywords||[]).map(c).filter(Boolean),f=new lz;f.media=a.media;f=f.ag(a.version);f.title=a.title;a=f.FI(a.description).lw(d).qC(b);h.publicifyMediaRequests.push(a)}function c(a){return new $v(g,a)}function d(a){200!=a?f.gd.transition("error"):f.gd.transition("success")}if(a.document.Ag()){var f=a,g=a.document.Ag(),h=kz().mw(g);a.oy.forEach(b);az(a.Oc,a.Ea.va(),a.Ea.Rc(),h,d,a.document.Sa().G());f.gd.transition("submit")}else a.gd.transition("error")}
function fO(a,b){function c(a,c){200===a&&c&&c.media&&0!==c.media.length?b(c.media):b&&b([])}a=Al(a.document).map(function(a){return a.id});0===a.length?b&&b([]):(a=fw(gw((new ew).$l(!0).Yl(!1),[Oe,Qe]).HI()).ws(a),Fv(gb,a,c))};function nR(){this.ai=window.pricingPlans}function RN(a){return[Object.freeze(J(ag,a.ai.paidMonthly)),Object.freeze(J(ag,a.ai.paidYearly))]};function oR(a){this.plan=a.jQ;this.title=a.title;this.pricePerMonthText=a.uQ;this.summaryText=a.UR;this.billingCycleText=a.aK}
function pR(a,b){function c(a,c){if("MONTHLY"===c)return b.format("canvaForWorkUpgradePlanSummaryMonthlyPerUser",a);if("YEARLY"===c)return b.format("canvaForWorkUpgradePlanSummaryYearlyPerUser",a);throw Error("unrecognised BillingInterval");}var d=a.slice(0).sort(function(a,b){return cg(b)-cg(a)})[0];return a.map(function(a){var g;if("MONTHLY"===bg(a))g=b.format("canvaForWorkUpgradePlanMonthly");else if("YEARLY"===bg(a))g=b.format("canvaForWorkUpgradePlanYearly");else throw Error("unrecognised plan billing interval");
var h=c(Math.round(a.an()/("YEARLY"===bg(a)?12:1)*100)/100,"MONTHLY"),k;k="YEARLY"===bg(a)?b.format("canvaForWorkUpgradePlanPercentSaving",((cg(d)-cg(a))/cg(d)*100).toFixed(0)/100):c(cg(a),"YEARLY");return new oR({jQ:a,title:g,uQ:h,UR:k,aK:"YEARLY"===bg(a)?b.format("canvaForWorkUpgradePlanBilledYearly",a.an()):""})})};function qR(){}qR=Backbone.View.extend({tagName:"ul",className:"textIconList"});qR.prototype.initialize=function(a){this.items=a.items};qR.prototype.render=function(){this.$el.html(this.items.map(this.Mz).join(""));return this};qR.prototype.Mz=_.template('\x3cli class\x3d"textIconItem"\x3c% if (icon) { %\x3e data-icon\x3d"\x3c%- icon %\x3e"\x3c% } %\x3e\x3e\x3ch3\x3e\x3c%- title %\x3e\x3c/h3\x3e\x3c% if (isHtml) { %\x3e\x3c%\x3d content %\x3e\x3c% } else { %\x3e\x3cp\x3e\x3c%- content %\x3e\x3c/p\x3e\x3c% } %\x3e\x3c/li\x3e');
qR.FD=function(a){return new qR({items:[{title:pd(a),content:a.format("canvaForWorkUpgradeTeamBrandKitsDescription"),icon:"teamBrandKits",isHtml:!1},{title:rd(a),content:a.format("canvaForWorkUpgradeMagicallyResizeDescription"),icon:"magicResize",isHtml:!1},{title:qd(a),content:a.format("canvaForWorkUpgradeLayoutCreatorsDescription"),icon:"layoutCreators",isHtml:!1},{title:sd(a),content:a.format("canvaForWorkUpgradePhotoFoldersDescription"),icon:"photoFolders",isHtml:!1}]})};
qR.aL=function(a){return new qR({items:[{title:pd(a),content:a.format("canvaForWorkUpgradeTeamBrandKitsShortDescription"),icon:"teamBrandKits",isHtml:!1},{title:rd(a),content:a.format("canvaForWorkUpgradeMagicallyResizeShortDescription"),icon:"magicResize",isHtml:!1},{title:qd(a),content:a.format("canvaForWorkUpgradeLayoutCreatorsShortDescription"),icon:"layoutCreators",isHtml:!1},{title:sd(a),content:a.format("canvaForWorkUpgradePhotoFoldersShortDescription"),icon:"photoFolders",isHtml:!1}]})};function rR(){}rR=Backbone.View.extend({className:"priceOptions",tagName:"ul"});e=rR.prototype;e.initialize=function(a){this.pl=a.pl};e.events=function(){return{click:this.BK}};e.render=function(){this.$el.html(this.pl.map(this.vQ).join(""));return this};e.BK=function(a){a=$(a.target).closest("li");sR(this,a.index())};
function sR(a,b){a.$(".priceOption--selected").removeClass("priceOption--selected");0<=b&&b<a.pl.length&&(a.$("li").eq(b).addClass("priceOption--selected"),a.$("li").eq(b).find("input").prop("checked",!0),a.trigger("selectPlan",a.pl[b].plan))}e.lB=function(){function a(a){switch(bg(a)){case "MONTHLY":return a.an();case "YEARLY":return cg(a);default:throw Error("unknown billing interval");}}var b=[].concat(this.pl).sort(function(b,d){return a(b.plan)-a(d.plan)}),b=this.pl.indexOf(b[0]);sR(this,b)};
e.vQ=_.template('\x3cli class\x3d"priceOption"\x3e\x3cinput name\x3d"priceOptionPlan" type\x3d"radio"\x3e\x3cspan class\x3d"priceOptionTitle"\x3e\x3c%- title %\x3e\x3c/span\x3e\x3cspan class\x3d"priceOptionPricePerMonth"\x3e\x3c%- pricePerMonthText %\x3e\x3c/span\x3e\x3cspan class\x3d"priceOptionSummary"\x3e\x3c%- summaryText %\x3e\x3c/span\x3e\x3cspan class\x3d"priceOptionBillingCycle"\x3e\x3c%- billingCycleText %\x3e\x3c/span\x3e\x3c/li\x3e');function tR(a){this.kM=a.jM;this.VM=a.UM;this.Sj=a.XH.map(function(a){return new uR(a)});this.Sj.forEach(function(a){this.listenTo(a,{willAdvance:this.jF,advance:this.xP,finish:this.zP,reset:this.AP,die:this.yP})},this);this.CA=a.CA.map(function(a){return _.defaults({},a,{position:"leftTop",Ge:0})});this.aH=!1;this.Tv=new vR({fA:a.XH.length,Ac:a.Ac})}e=tR.prototype;e.on=Backbone.Events.on;e.once=Backbone.Events.once;e.off=Backbone.Events.off;e.listenTo=Backbone.Events.listenTo;e.listenToOnce=Backbone.Events.listenToOnce;
e.stopListening=Backbone.Events.stopListening;e.trigger=Backbone.Events.trigger;
function hl(a){var b=[],c=[],d=a.Ac;b.push([{rc:"#documentFileMenuButton",Vd:10},{rc:".dropdownMenuPopoverContainer .documentResizePaneButton",RD:!0,Ge:500,ih:305,Vd:18}]);c.push({rc:".documentResizeButton[value\x3dpinterest]",Ks:-170,Ge:500,text:d.format("starOnboardingStepResizingText"),title:d.format("starOnboardingStepResizingTitle"),Yc:Id(d)});b.push([{rc:"#objectPanel menu .uploads a",ek:"#objectPanel.stage6",ih:15,Vd:15},{rc:"#resultsUpload .newUploadsFolder",Uk:"#objectPanel:not(.stage6)",
HA:function(){$("#objectPanel").find(".uploadsFolder[data-system-folder\x3dUNFOLDERED].uploadsFolderOpen .uploadsFolderThumbnail").first().click()},Ge:500}]);c.push({rc:"#resultsUpload .newUploadsFolderThumbnail",Ge:500,text:d.format("starOnboardingStepPhotoFoldersText"),title:d.format("starOnboardingStepPhotoFoldersTitle"),Yc:Id(d)});a.up&&(b.push([{rc:"#objectPanel menu .layout a",ek:"#objectPanel.stage2",ih:15,Vd:15},{rc:"#resultsLayout .layoutsControls .tabDropdown",Vd:10,Uk:"#objectPanel:not(.stage2)",
Ge:500},{rc:".layoutsTabMenu__item--teamTemplates",Uk:"#objectPanel:not(.stage2)",ih:22,Vd:16,Ge:100}]),c.push({rc:".layoutsTabMenu__item--teamTemplates",oU:100,text:d.format("starOnboardingStepTeamTemplatesText"),title:d.format("starOnboardingStepTeamTemplatesTitle"),Yc:Id(d)}));b.push([{rc:"#objectPanel menu .backgrounds a",ek:"#objectPanel.stage5",ih:15,Vd:15},{rc:"#resultsBackground .pinnedPalette .colorPaletteEntry:eq(0)",Ny:!0,Uk:"#objectPanel:not(.stage5)",Tz:!0,Ge:500}]);c.push({rc:"#resultsBackground .pinnedPalette .colorPaletteEntry",
text:d.format("starOnboardingStepBrandKitText"),title:d.format("starOnboardingStepBrandKitTitle"),Yc:Id(d)});b.push([{rc:"#objectPanel menu .uploads a",ek:"#objectPanel.stage6",ih:15,Vd:15},{rc:"#resultsUpload .uploadsFolder[data-system-folder\x3dLOGOS] .uploadsFolderThumbnail",Uk:"#objectPanel:not(.stage6)",HA:function(){$("#objectPanel").find(".uploadsFolder[data-system-folder\x3dUNFOLDERED].uploadsFolderOpen .uploadsFolderThumbnail").first().click()},Ge:500}]);c.push({rc:"#resultsUpload .uploadsFolder[data-system-folder\x3dLOGOS] .uploadsFolderThumbnail",
Ge:500,text:d.format("starOnboardingStepLogoText"),title:d.format("starOnboardingStepLogoTitle"),Yc:Id(d)});a.AQ&&(b.push([{rc:".publishToStreamSwitch",ih:5,Vd:5,Ny:!0},{rc:".switchPublishTemplate",Ge:500}]),c.push({rc:".docPublisherPopOver .switchPublishTemplate",position:"rightTop",text:d.format("starOnboardingStepTemplatifyText"),title:d.format("starOnboardingStepTemplatifyTitle"),Yc:Id(d)}));var f="C4W_UPGRADED_USER"===a.Fe;a=f?[d.format("starOnboardingActionSetupTeam"),Hd(d)]:[d.format("starOnboardingActionGotoTeamSpace"),
Hd(d)];b=new tR({jM:{mD:[d.format("starOnboardingActionFindTheStars")],Bi:d.format("starOnboardingFirstScreenSubtitle"),title:d.format("starOnboardingFirstScreenTitle"),hB:"",Ac:d},UM:{mD:a,Bi:d.format("starOnboardingLastScreenSubtitle"),title:d.format("starOnboardingLastScreenTitle"),hB:f?"starFinderSplashScreenNewUser":void 0,Ac:d},XH:b,CA:c,Ac:d});b.once("finish",function(a){"solo"===a?(null!=De&&De.track("upgrade_onboarding_finish_solo"),window.location="/brand/create/featuredoc"):"team"===a?
(null!=De&&De.track("upgrade_onboarding_finish_team"),window.location=Di()):"stream"===a?(null!=De&&De.track("upgrade_onboarding_finish_invited"),window.location="/team-stream"):"play"===a&&null!=De&&De.track("upgrade_onboarding_finish_invited")});return b}e.start=function(){var a=this;wR(this).then(function(){a.Tv.render().$el.appendTo(document.body);xR(a)})};e.remove=function(){this.stopListening();this.Tv.remove();this.Sj.forEach(function(a){a.remove()})};
e.jF=function(a){this.Sj.forEach(function(b){b!==a&&b.toggle(!1)})};e.xP=function(a){this.jF(a);this.aH||(this.aH=!0,yR(a.$d))};e.zP=function(a){function b(){a.toggle(!1);zR(d.Tv)}function c(){AR(d)}var d=this,f=this.Sj.indexOf(a),g=this.CA[f];P.delay(g.Ge).then(function(){var a=new BR(g);a.Tf($(g.rc));d.listenToOnce(a,"hide",b);d.listenToOnce(a,"remove",c)});CR(this)};function AR(a){a.Sj.every(function(a){return DR(a)})?ER(a).then(a.remove.bind(a)):FR(a)}e.AP=function(){FR(this)};
e.yP=function(){zR(this.Tv);AR(this)};function FR(a){a.Sj.forEach(function(a){DR(a)||a.toggle(!0)})}function CR(a){a.Sj.filter(function(a){return!DR(a)}).forEach(function(a,c){a.Kr(2*c+1)})}function xR(a){CR(a);a.Sj.forEach(function(a){a.start()})}function wR(a){var b=new GR(a.kM);b.render().show();a.listenToOnce(b,"next",function(){b.remove()});return new P(function(c){a.listenToOnce(b,"remove",function(){null!=De&&De.track("upgrade_onboarding_start_stars");c()})})}
function ER(a){var b,c=new GR(a.VM);c.render().show();a.listenToOnce(c,"next",function(a){b=a;c.remove()});return new P(function(d){a.listenToOnce(c,"remove",function(){a.trigger("finish",b);d()})})};function BR(){}BR=Uq.extend({className:"starFinderPopOver"});BR.prototype.initialize=function(a){a=_.defaults({},a,{Ks:0,ih:0,Yc:a.Yc});Uq.prototype.initialize.call(this,a);this.options=a};BR.prototype.Nk=function(){return BK};BR.prototype.render=function(){Uq.prototype.render.call(this);this.$(".buttonContainer .buttonBlock").removeClass("buttonBlock");this.$(".content").prepend($("\x3cp\x3e").text(this.options.text));return this};
BR.prototype.bh=function(){Uq.prototype.bh.call(this);var a=this.$(".dialog");a.css("left",parseInt(a.css("left"),10)+this.options.Ks).css("top",parseInt(a.css("top"),10)+this.options.Vd);return this};function vR(){}vR=Backbone.View.extend({className:"starFinderProgress"});vR.prototype.initialize=function(a){this.fA=a.fA;this.Ac=a.Ac};vR.prototype.render=function(){this.$el.html(this.template({progressTitle:this.Ac.wQ()}));for(var a=0;a<this.fA;a++)this.$(".starFinderProgressList").append(this.Mz());return this};function zR(a){a.$("li:not(.starFinderProgressItemOn)").first().addClass("starFinderProgressItemOn")}vR.prototype.Mz=_.template('\x3cli class\x3d"starFinderProgressItem"\x3e\x26starf;\x3c/li\x3e');
vR.prototype.template=_.template('\x3ch2 class\x3d"starFinderProgressTitle"\x3e\x3c%- progressTitle %\x3e\x3c/h2\x3e\x3col class\x3d"starFinderProgressList"\x3e\x3c/ol\x3e');function GR(){}GR=Backbone.View.extend({className:"starFinderSplashScreen"});e=GR.prototype;e.events=function(){return{"click .buttonNext":this.YN}};e.initialize=function(a){this.ba=Zh;this.options=a;this.Dc=new Iq({ba:this.ba,style:Jq});this.Bi=a.Bi;this.title=a.title;this.Ac=a.Ac};
e.render=function(){var a=$(this.UJ());this.$el.html(this.template(this.Qf()));this.$(".starFinderAstronautPlaceholder").replaceWith(a);this.options.mD.forEach(function(a,c){a=$(this.gx({text:a}));a.toggleClass("buttonSecondary",0<c);this.$(".starFinderButtonWrapper").append(a)},this);this.options.hB&&this.$el.addClass(this.options.hB);return this};
e.show=function(){var a=this,b=fu(St,this.$(".starFinderStarImage img").prop("src")),c=fu(St,this.$(".starFinderAstronaut img").prop("src"));this.Dc.show(this.$el);P.all([b,c]).then(function(){a.$(".starFinderStarAndAstronaut").addClass("loaded")})};e.remove=function(){var a=this;this.$el.addClass("starFinderSplashScreenDisappearing");this.Dc.hide();this.ba.setTimeout(function(){a.trigger("remove");Backbone.View.prototype.remove.call(a)},300)};
e.Qf=function(){return{subtitle:this.options.Bi,title:this.options.title,specialInstructionsTitle:this.Ac.KR(),specialInstructionsHtml:this.Ac.IR(),specialInstructionsQuestionText:this.Ac.JR(),responseSolo:this.Ac.format("starOnboardingSpecialInstructionsResponseSolo"),responseTeam:this.Ac.format("starOnboardingSpecialInstructionsResponseTeam"),brandMembersPath:Di()}};
e.YN=function(a){var b=$(a.target),c;b.hasClass("starFinderSplashScreenButton")&&b.hasClass("buttonSecondary")?c="play":b.hasClass("starFinderSplashScreenButton")?c="stream":b.hasClass("starOnboardingUserSoloButton")?c="solo":b.hasClass("starOnboardingUserTeamButton")&&(c="team");this.trigger("next",c);a.preventDefault()};e.UJ=_.template('\x3cdiv class\x3d"starFinderStarAndAstronaut"\x3e\x3cdiv class\x3d"starFinderStarOuter"\x3e\x3cdiv class\x3d"starFinderStarInner"\x3e\x3cdiv class\x3d"sparkle"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"sparkle"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"sparkle"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"sparkle"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"sparkle"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"starFinderStarImage"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding/star.png"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"starFinderAstronaut"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding/astronaut.png"\x3e\x3c/div\x3e\x3c/div\x3e');
e.gx=_.template('\x3cbutton class\x3d"button buttonNext starFinderSplashScreenButton"\x3e\x3c%- text %\x3e\x3c/button\x3e');e.template=_.template('\x3cdiv class\x3d"starFinderBackground"\x3e\x3c/div\x3e\x3cdiv class\x3d"starFinderContent"\x3e\x3cdiv class\x3d"starFinderAstronautPlaceholder"\x3e\x3c/div\x3e\x3ch2 class\x3d"starFinderTitle"\x3e\x3c%- title %\x3e\x3c/h2\x3e\x3cp class\x3d"starFinderSubtitle"\x3e\x3c%- subtitle %\x3e\x3c/p\x3e\x3cdiv class\x3d"starFinderButtonWrapper"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"starFinderSpecialInstructions"\x3e\x3ch2\x3e\x3c%- specialInstructionsTitle %\x3e\x3c/h2\x3e\x3cp\x3e\x3c%\x3d specialInstructionsHtml %\x3e\x3c/p\x3e\x3cdiv class\x3d"starFinderSpecialInstructionsUserSelect"\x3e\x3ch3\x3e\x3c%- specialInstructionsQuestionText %\x3e\x3c/h3\x3e\x3cul\x3e\x3cli class\x3d"starOnboardingUserSolo"\x3e\x3ca href\x3d"/brand/create/featuredoc" class\x3d"button buttonNext starOnboardingUserSoloButton"\x3e\x3c%- responseSolo %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"starOnboardingUserTeam"\x3e\x3ca href\x3d"\x3c%- brandMembersPath %\x3e" class\x3d"button buttonNext starOnboardingUserTeamButton"\x3e\x3c%- responseTeam %\x3e\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e');function uR(a){this.active=!1;this.ph=0;this.$d=new HR(a[0]);IR(this);this.QA=0;this.Wr=a;this.rg=new TD({attributes:!0,attributeFilter:["class","style"],childList:!0,characterData:!1,subtree:!0});a=_.throttle(this.lO.bind(this),100,{trailing:!1});this.rg.on("attrModified",a);this.rg.on("subtreeModified",a)}e=uR.prototype;e.on=Backbone.Events.on;e.off=Backbone.Events.off;e.listenTo=Backbone.Events.listenTo;e.listenToOnce=Backbone.Events.listenTo;e.stopListening=Backbone.Events.stopListening;
e.trigger=Backbone.Events.trigger;e.start=function(){this.$d.show();this.active=!0};e.remove=function(){this.stopListening();VD(this.rg);this.$d.remove();this.active=!1};function DR(a){return a.ph===a.Wr.length}e.Kr=function(a){this.QA=a;0===this.ph&&this.$d.Kr(a)};function IR(a){a.listenTo(a.$d,"advance",a.wP);a.listenTo(a.$d,"die",a.BP)}e.toggle=function(a){DR(this)||(this.active=a,this.$d.toggle(a))};
e.wP=function(){function a(){c.rg.observe(document.body)}function b(){c.active?c.trigger("advance",c):c.reset(!0)}if(this.active){var c=this;VD(this.rg);this.ph++;this.$d.remove();DR(this)?this.trigger("finish",this):(this.trigger("willAdvance",this),JR(this).then(b).then(a).catch(function(){}))}};e.BP=function(){this.active&&(VD(this.rg),this.$d.remove(),this.toggle(!1),this.ph=this.Wr.length,this.trigger("die",this))};
e.lO=function(){var a;if(a=this.active&&0<this.ph){var b=KR(this.$d);if(DR(this)||!b.is(":visible"))a=!1;else if(a=this.Wr[this.ph].Uk)a=0<$(a).length?!1:!0;else{a=b.get(0);var b=b.offset(),b=document.elementFromPoint(b.left,b.top),c=this.$d.el;a=a===b||c===b||b&&$.contains(a,b)||b&&$.contains(c,b)}a=!a}a&&this.reset()};e.reset=function(a){VD(this.rg);this.ph=0;this.$d.remove();JR(this);a||this.trigger("reset",this)};
function JR(a){var b=_.extend({},a.Wr[a.ph],{filled:a.ph===a.Wr.length-1});a.$d=new HR(b);IR(a);a.QA&&a.Kr(a.QA);return a.$d.show()};function HR(){}HR=Backbone.View.extend({className:"starFinderStarContainer starFinderStarHidden starFinderStarInactive"});HR.prototype.events=function(){return{"click .starFinderStar":this.Mf}};HR.prototype.initialize=function(a){a=_.defaults({},a,{Ks:0,ih:0,Vd:0,RD:!1,filled:!1,Ny:!1,Tz:!1,position:3,Ge:0});this.Gz=!1;this.options=a;this.uv=0;this.gl=this.gl.bind(this);this.Vq=this.Vq.bind(this);this.Jn=_.throttle(this.Jn.bind(this),100);$(document).on("click",this.Jn);$(window).on("resize",this.Jn)};
HR.HC=1600;HR.Ew=500;e=HR.prototype;e.render=function(){this.$el.toggleClass("starFinderStarInert",this.options.RD);this.$el.toggleClass("starFinderStarFilled",this.options.filled);this.$el.html(this.template({filled:this.options.filled}));return this};
e.pH=function(){function a(){var a=d.outerWidth();if(-1<[2,0].indexOf(c.options.position))return Math.round(f.left-a+c.options.Ks);if(-1<[3,1].indexOf(c.options.position))return Math.round(f.left+d.outerWidth()-c.options.ih)}function b(){var a=d.outerHeight();if(-1<[2,3].indexOf(c.options.position))return Math.round(f.top+c.options.Vd);if(-1<[0,1].indexOf(c.options.position))return Math.round(f.top+a/2+c.options.Vd)}var c=this,d=KR(this),f=d.offset();0<d.length&&this.$(".starFinderStar").css("left",
a()).css("top",b())};e.remove=function(){$(document).off("click",this.Jn);$(window).off("resize",this.Jn);KR(this).off("click",this.gl).off("mousedown",this.Vq);window.clearInterval(this.uv);Backbone.View.prototype.remove.call(this)};
e.show=function(){this.render().$el.appendTo(document.body);if(this.options.Uk&&0<$(this.options.Uk).length)return P.resolve();this.$el.toggleClass("starFinderStarInactive",!1);return P.delay(this.options.Ge).then(function(){this.options.HA&&this.options.HA();if(0===KR(this).length)return this.trigger("die",this),P.reject();this.Io(!0);this.pH();if(this.options.Tz)KR(this).off("mousedown",this.Vq).on("mousedown",this.Vq);else KR(this).off("click",this.gl).on("click",this.gl);this.options.ek&&0<$(this.options.ek).length&&
this.trigger("advance",this)}.bind(this))};e.Kr=function(a,b){function c(){yR(f)}function d(){yR(f);f.Kr(a,f.Gz)}var f=this,g=0!==this.uv,h=1E3*a;this.Gz=!!b;window.clearInterval(this.uv);this.uv=g?window.setInterval(c,h+(HR.HC+(b?2*HR.Ew:0))):window.setTimeout(d,h)};
function yR(a){function b(){d.$el.addClass("starFinderPulsate");return P.delay(HR.HC).then(function(){d.$el.removeClass("starFinderPulsate")})}function c(){d.Io(!1);return P.delay(HR.Ew)}var d=a;a.Gz?(d.Io(!0),P.delay(HR.Ew).then(b).then(c)):b()}e.toggle=function(a){this.$el.toggleClass("starFinderStarInactive",!a);this.Io(a);this.options.ek&&0<$(this.options.ek).length&&this.trigger("advance",this)};function KR(a){return $(a.options.rc)}
e.Io=function(a){this.$el.toggleClass("starFinderStarHidden",!a)};e.gl=function(){this.trigger("advance",this)};e.Vq=function(){var a=this;KR(this).one("mouseup",function(){a.gl()})};e.Mf=function(){function a(a){var d=KR(b).offset();a=new jQuery.Event(a);a.clientX=d.left;a.clientY=d.top;return a}var b=this;this.options.Ny?(KR(b).trigger(a("mousedown")).trigger(a("mouseup")),b.options.Tz||b.gl()):KR(this).click()};e.Jn=function(){P.delay(300).bind(this).then(this.pH)};e.template=_.template('\x3cdiv class\x3d"starFinderStar"\x3e\x3c%\x3d filled ? "\x26starf;" : "\x26star;" %\x3e\x3c/div\x3e');function LR(){}LR=Backbone.View.extend({className:"teamBillingSignup"});e=LR.prototype;e.events=function(){return{"click .teamBillingCreditCardRevert":this.trigger.bind(this,"revert"),"click .teamBillingCreditCardSubmit":this.trigger.bind(this,"submit"),"click .teamBillingRetryButton":this.trigger.bind(this,"retry")}};
e.initialize=function(a){this.compact=a.compact;this.jr=a.jr;this.listenTo(this.jr,"selectPlan",this.trigger.bind(this,"selectPlan"));this.xQ=qR.FD(hc(a.C));this.je=a.je;this.C=a.C;this.hf=uc(a.C)};
e.render=function(){var a=moment().add(this.je,"days").format("LL"),b;b=this.C;b.Uf||(b.Uf=new Dd(b.Ha));b=b.Uf;this.$el.html(this.template({compact:this.compact,claimHtml:this.hf.dw(this.je),createTrialPeriodPoint1Html:Ed(b),createTrialPeriodPoint2Html:Fd(b,a),createTrialPeriodPoint3Html:Gd(b),encryption:this.hf.QL(),itemsTitle:this.hf.PM(),revertCard:this.hf.WQ(),startTrial:this.hf.QR()}));this.compact||this.xQ.render().$el.appendTo(this.$(".teamBillingPromoItems"));this.jr.render().$el.appendTo(this.$(".teamBillingPriceOptions"));
return this};e.lB=function(){this.jr.lB()};e.vi=function(a){this.$(".teamBillingCreditCardSubmit").removeClass("buttonSpinner");alert(a)};e.yo=function(a){a=void 0===a?"":a;this.$(".teamBillingTotalText").html(a)};function MR(a,b){a=a.$(".teamBillingCreditCardRevert");b?a.show():a.hide()}e.lo=function(a){this.$el.toggleClass("enabled",a)};e.template=_.template('\x3cdiv class\x3d"teamBillingOptionsContainer"\x3e\x3cdiv class\x3d"teamBillingOptions"\x3e\x3cdiv class\x3d"teamBillingInformation"\x3e\x3ch2\x3e\x3c%\x3d claimHtml %\x3e\x3c/h2\x3e\x3cul\x3e\x3cli\x3e\x3c%\x3d createTrialPeriodPoint1Html %\x3e\x3c/li\x3e\x3cli\x3e\x3c%\x3d createTrialPeriodPoint2Html %\x3e\x3c/li\x3e\x3cli\x3e\x3c%\x3d createTrialPeriodPoint3Html %\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"teamBillingPriceOptions"\x3e\x3c/div\x3e\x3cdiv class\x3d"teamBillingForm"\x3e\x3cdiv class\x3d"teamBillingCreditCardContainer"\x3e\x3cdiv class\x3d"teamBillingTotalText"\x3e\x3c/div\x3e\x3cbutton class\x3d"button buttonBlock teamBillingCreditCardSubmit"\x3e\x3cspan class\x3d"spinner"\x3e\x3c/span\x3e\x3c%- startTrial %\x3e\x3c/button\x3e\x3cbutton class\x3d"button buttonBlock buttonPlain teamBillingCreditCardRevert"\x3e\x3c%- revertCard %\x3e\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cp class\x3d"teamBillingSecurityMessage"\x3e\x3c%- encryption %\x3e\x3c/p\x3e\x3c/div\x3e\x3c% if (!compact) { %\x3e\x3cdiv class\x3d"teamBillingPromoItems"\x3e\x3ch4\x3e\x3c%- itemsTitle %\x3e\x3c/h4\x3e\x3c/div\x3e\x3c% } %\x3e');
e.UQ=_.template('\x3cp class\x3d"teamBillingRetry"\x3e\x3c%- billingError %\x3e\x3cbr/\x3e\x3cbutton class\x3d"button teamBillingRetryButton"\x3e\x3c%- tryAgain %\x3e\x3c/button\x3e\x3c/p\x3e');function NR(a){this.analytics=a.analytics;this.kb=a.kb;this.ia=a.ia;this.ca=a.ca;this.Nq=null;this.cG=!1;this.Xc=null;this.Jc=a.Jc;this.listenTo(this.Jc,{input:this.iO,requestSubmit:this.fv});this.Ni=a.Ni;this.io=null;this.zo=a.zo;this.Hw=a.Hw||null;this.C=a.C;this.view=a.view;this.listenTo(this.view,{selectPlan:this.wS,retry:this.mP,revert:this.oP,submit:this.fv})}e=NR.prototype;e.listenTo=Backbone.Events.listenTo;e.on=Backbone.Events.on;e.once=Backbone.Events.once;e.off=Backbone.Events.off;
e.stopListening=Backbone.Events.stopListening;e.trigger=Backbone.Events.trigger;function OR(a){var b=a.Sn.slice(0).sort(function(a,b){return cg(b)-cg(a)}),b=new rR({pl:pR(b,hc(a.C))});return new LR({compact:a.compact,jr:b,C:a.C,je:a.je||0<a.Sn.length&&a.Sn[0].cq()||30})}e.appendTo=function(a){this.view.render().$el.appendTo(a);this.view.lB();MR(this.view,!1);this.Jc.render();this.Jc.getElement().prependTo(this.view.$(".teamBillingCreditCardContainer"))};
e.remove=function(){this.stopListening();this.Jc.remove();this.view.remove()};e.lo=function(a){this.view.lo(a)};function PR(a){function b(a){return 404===a}var c=a.ca.G();a.lo(!1);(function(){return a.Hw?P.resolve(a.Hw):yf(a.kb,c).catch(b,function(){return wf({})})})().bind(a).then(function(a){a.Vm()&&(this.Xc=a.Vm(),this.Jc.ko(this.Ni).Jj(this.Xc))}).catch(function(){var a=this.view;a.$el.html(a.UQ({billingError:a.hf.bK(),tryAgain:a.hf.nS()}))}).finally(function(){this.lo(!0)})}
function QR(a){var b=mq(new jq).me(a.ca.G());a.ia.Kp(b).bind(a).then(function(a){this.Nq=a.getCount();this.yo()}).catch(function(){this.cG=!0;this.yo()})}
e.yo=function(){Ba(null!=this.io,"A plan must be selected");var a=uc(this.C);if(this.cG)a=this.view,a.$(".teamBillingTotalText").text(a.hf.format("teamBillingSignupTotalPriceError"));else if(null!==this.Nq)if(1===this.Nq)this.view.yo();else{var b=this.io.an()*this.Nq;if("YEARLY"===bg(this.io))b=a.format("teamBillingSignupPerYear",b);else if("MONTHLY"===bg(this.io))b=a.format("teamBillingSignupPerMonth",b);else throw Error("unrecognised billing interval");a=a.ks(this.Nq,b);this.view.yo(a)}};
e.iO=function(a){this.Xc&&MR(this.view,a)};e.mP=function(){PR(this)};e.oP=function(){this.Xc&&(this.Jc.Jj(this.Xc),MR(this.view,!1))};
e.fv=function(){this.lo(!1);this.view.$(".teamBillingCreditCardSubmit").toggleClass("buttonSpinner",!0);this.Jc.gu().bind(this).then(function(){if(!this.zo){var a=(new dg).me(this.ca.G());a.plan=this.io.G();return this.kb.xS(a)}}).then(function(a){var b=this.analytics;b.ga&&b.ga("send","event",{eventCategory:"Subscription",eventAction:"Upgraded"});this.trigger("signup",a)}).catch(AH,function(a){this.analytics.track("upgrade_onboarding_card_error",{message:a.message});a=MH(sc(this.C),a);this.view.vi(a)}).catch(function(){this.view.vi("An error occured while trying to subscribe")}).finally(function(){this.lo(!0)});
this.analytics.track("upgrade_onboarding_card_submit")};e.wS=function(a){this.io=a;this.yo()};function RR(){}RR=Backbone.View.extend({className:"promotion"});e=RR.prototype;e.initialize=function(a){this.analytics=a.analytics;this.lr=a.lr;this.NA=a.NA||"";this.tv=a.tv||"";this.Gc=a.Gc||""};e.events=function(){return{"click .promoActions button":this.kP}};e.render=function(){this.$el.html(this.template({promoHeaderHtml:this.tv,promoIntroHtml:this.NA,buttonText:this.Gc}));this.lr&&this.lr.render().$el.appendTo(this.$(".promoContent"));return this};
e.kP=function(){this.trigger.call(this,"next");/\/design\//.test(location.pathname)?this.analytics.kd(Bi("editor")):this.analytics.kd(Bi("homepage"))};e.template=_.template('\x3c% if (promoHeaderHtml) { %\x3e\x3cdiv class\x3d"promoHeader"\x3e\x3c%\x3d promoHeaderHtml %\x3e\x3c/div\x3e\x3c% } %\x3e\x3cdiv class\x3d"promoBody"\x3e\x3c% if (promoIntroHtml) { %\x3e\x3cdiv class\x3d"promoIntro"\x3e\x3c%\x3d promoIntroHtml %\x3e\x3c/div\x3e\x3c% } %\x3e\x3cdiv class\x3d"promoContent"\x3e\x3c/div\x3e\x3c% if (buttonText) { %\x3e\x3cdiv class\x3d"promoActions"\x3e\x3cbutton class\x3d"button"\x3e\x3c%- buttonText %\x3e\x3c/button\x3e\x3c% } %\x3e\x3c/div\x3e');function SR(){}SR=Backbone.View.extend({className:"promotionVideo promotion"});SR.prototype.initialize=function(a){this.Xl=a.Xl;this.ZG=a.ZG||"";this.Gc=a.Gc||""};SR.prototype.events=function(){return{"click .promoActions button":this.trigger.bind(this,"next")}};SR.prototype.render=function(){this.$el.html(this.template({promoHeaderHtml:this.ZG,buttonText:this.Gc,videoId:this.Xl}));return this};SR.prototype.template=_.template('\x3c% if (promoHeaderHtml) { %\x3e\x3cdiv class\x3d"promoHeader"\x3e\x3c%\x3d promoHeaderHtml %\x3e\x3c/div\x3e\x3c% } %\x3e\x3cdiv class\x3d"promoBody"\x3e\x3cdiv class\x3d"promoContent"\x3e\x3ciframe class\x3d"promoVideo" type\x3d"text/html" width\x3d"650" height\x3d"369" src\x3d"https://www.youtube.com/embed/\x3c%- videoId %\x3e?autoplay\x3d1\x26modestbranding\x3d1\x26controls\x3d2\x26rel\x3d0\x26loop\x3d1" frameborder\x3d"0" allowfullscreen\x3d"false"/\x3e\x3c/div\x3e\x3c% if (buttonText) { %\x3e\x3cdiv class\x3d"promoActions"\x3e\x3cbutton class\x3d"button"\x3e\x3c%- buttonText %\x3e\x3c/button\x3e\x3c% } %\x3e\x3c/div\x3e');function TR(a){this.Jl=a.Jl;this.Tb=null;this.je=a.je||0;this.Xe=void 0===a.Xe||a.Xe;this.pk=void 0===a.pk||a.pk;this.Sc=void 0===a.Sc||a.Sc;this.analytics=a.analytics;this.RL=_.once(function(){PR(a.Jl);QR(a.Jl)});this.Jl.once("signup",this.uP.bind(this));this.Ed=a.gp;this.fg=a.fg}var xG=0,zL=1,lM=2,YM=3,AK=4;
function QN(a){var b=nO({qm:a.kb,ca:a.ca.G(),gf:a.hd,Hd:!0,kc:sc(a.C)}),b=new NR({analytics:a.analytics,kb:a.kb,ia:a.ia,ca:a.ca,Jc:b,Ni:a.Ni,zo:a.zo,C:a.C,view:OR({compact:!0,C:a.C,Sn:a.Sn,je:a.je})});return new TR({analytics:a.analytics,pk:a.pk,Xe:a.Xe,gp:hc(a.C),Sc:a.Sc,je:a.je,Jl:b,fg:a.fg})}e=TR.prototype;e.listenTo=Backbone.Events.listenTo;e.listenToOnce=Backbone.Events.listenToOnce;e.on=Backbone.Events.on;e.once=Backbone.Events.once;e.off=Backbone.Events.off;e.stopListening=Backbone.Events.stopListening;
e.trigger=Backbone.Events.trigger;e.remove=function(){this.Tb&&this.Tb.remove()};e.show=function(){UR(this,[])};function SN(a){var b=[],c=a.Ed,d=_.template("\x3ch2\x3e\x3c%- title %\x3e\x3c/h2\x3e\x3cp\x3e\x3c%- subtitle %\x3e\x3c/p\x3e");b.push(new RR({analytics:a.analytics,Gc:VR(a),tv:d({title:c.format("canvaForWorkUpgradeWelcomeTitle"),subtitle:c.format("canvaForWorkUpgradeWelcomeSubTitle")}),lr:qR.FD(c)}));UR(a,b)}
function Ek(a,b){var c=[],d=a.Ed;c.push(new RR({analytics:a.analytics,Gc:VR(a),tv:_.template("\x3ch2\x3e\x3c%- title %\x3e\x3c/h2\x3e")({title:d.format("canvaForWorkUpgradeIntroducingCanvaForWork")}),NA:function(){switch(b){case zL:return d.format("canvaForWorkUpgradeHighlightPhotoFolders");case xG:return d.format("canvaForWorkUpgradeHighlightFontUpload");case lM:return d.format("canvaForWorkUpgradeHighlightDocumentResize");case YM:return d.format("canvaForWorkUpgradeHighlightExportTransparentBackground");
case AK:return d.format("canvaForWorkUpgradeHighlightDesignsInEditor");default:return""}}(),lr:qR.aL(d)}));UR(a,c)}
function UR(a,b){if(a.fg){var c=new Backbone.View({className:"upgradeDialogSignup"});b.push(c);a.Tb=new Oq({Kt:["upgradeDialog"],Xe:a.Xe,Sc:a.Sc,aa:b});a.Tb.on("hide",function(){a.Tb.remove();a.Tb=null;a.Jl.remove();a.trigger("hide")});a.RL();a.Tb.show();WR(a);a.Jl.appendTo(c.$el);c.$el.append(a.BQ({meganKelleyQuote:a.Ed.format("canvaForWorkUpgradeQuoteMeganKelleyContent"),meganKelleyCite:a.Ed.format("canvaForWorkUpgradeQuoteMeganKelleyCite"),donnaMoritzQuote:a.Ed.format("canvaForWorkUpgradeQuoteDonnaMoritzContent"),
donnaMoritzCite:a.Ed.format("canvaForWorkUpgradeQuoteDonnaMoritzCite"),travisBernardQuote:a.Ed.format("canvaForWorkUpgradeQuoteTravisBernardContent"),travisBernardCite:a.Ed.format("canvaForWorkUpgradeQuoteTravisBernardCite")}))}else XR(a)}function XR(a){var b=new YR({Ed:a.Ed});a.Tb=new Oq({Kt:["upgradeDialog"],Xe:a.Xe,Sc:a.Sc,aa:[b]});a.Tb.on("hide",function(){a.Tb.remove();a.Tb=null;a.trigger("hide")});a.Tb.show();WR(a)}
function VR(a){var b=a.Ed;return 0===a.je?b.format("canvaForWorkUpgradeGetCanvaForWork"):b.format("canvaForWorkUpgradeStartYourTrial",a.je)}e.uP=function(){this.pk&&this.Tb&&this.Tb.remove();this.trigger("signup")};function WR(a){/\/design\//.test(location.pathname)?a.analytics&&a.analytics.kd(Ci("editor",a.fg)):a.analytics&&a.analytics.kd(Ci("homepage",a.fg))}e.BQ=_.template('\x3cdiv class\x3d"upgradeDialogQuotes"\x3e\x3cblockquote\x3e\x3c%- meganKelleyQuote %\x3e\x3ccite\x3e\x3c%- meganKelleyCite %\x3e\x3c/cite\x3e\x3c/blockquote\x3e\x3cblockquote\x3e\x3c%- donnaMoritzQuote %\x3e\x3ccite\x3e\x3c%- donnaMoritzCite %\x3e\x3c/cite\x3e\x3c/blockquote\x3e\x3cblockquote\x3e\x3c%- travisBernardQuote %\x3e\x3ccite\x3e\x3c%- travisBernardCite %\x3e\x3c/cite\x3e\x3c/blockquote\x3e\x3c/div\x3e');
_.template('\x3cdiv class\x3d"upgradeDialogSpecific"\x3e\x3cdiv class\x3d"upgradeDialogSpecific__image upgradeDialogSpecific__image--\x3c%- splashImageClass %\x3e"\x3e\x3c/div\x3e\x3ch2 class\x3d"upgradeDialogSpecific__primaryText"\x3e\x3c%- primaryText %\x3e\x3c/h1\x3e\x3cp class\x3d"upgradeDialogSpecific__secondaryHtml"\x3e\x3c%\x3d secondaryHtml %\x3e\x3c/p\x3e\x3c/div\x3e');function YR(a){Backbone.View.call(this,{className:"upgradeDialogMember"});this.Ed=a.Ed}t(YR,Backbone.View);YR.prototype.events=function(){return{"click .upgradeDialogMember__button":this.trigger.bind(this,"next")}};YR.prototype.render=function(){this.$el.html(ZR({hs:soydata.VERY_UNSAFE.ordainSanitizedHtml(this.Ed.format("canvaForWorkUpgradeMemberTitleHtml")),Bn:this.Ed.Bn(),Ru:this.Ed.format("canvaForWorkUpgradeMemberOkButton")}).toString());return this};function ZR(a){soy.asserts.assertType(a.hs instanceof soydata.SanitizedHtml||a.hs instanceof soydata.UnsanitizedText||goog.isString(a.hs),"titleHtml",a.hs,"soydata.SanitizedHtml");var b=a.hs;soy.asserts.assertType(goog.isString(a.Bn)||a.Bn instanceof goog.soy.data.SanitizedContent,"memberLabel",a.Bn,"string|goog.soy.data.SanitizedContent");var c=a.Bn;soy.asserts.assertType(goog.isString(a.Ru)||a.Ru instanceof goog.soy.data.SanitizedContent,"okButton",a.Ru,"string|goog.soy.data.SanitizedContent");
a=a.Ru;return soydata.VERY_UNSAFE.ordainSanitizedHtml("\x3ch2\x3e"+soy.$$escapeHtml(b)+'\x3c/h2\x3e\x3cp class\x3d"upgradeDialogMember__label"\x3e'+soy.$$escapeHtml(c)+"\x3c/p\x3e"+KM({ka:"upgradeDialogMember__button",text:a}))};function $R(){}function iB(a){return Object.freeze(J($R,a))}function qC(a){if(a.magic)return Object.freeze(J(aS,a.magic))}function aS(){}aS.prototype.rd=function(){return this.color};aS.prototype.lc=function(){return this.thumbnail};function LJ(a,b,c){function d(){return b.map(function(b){return LJ(a,b,c)})}function f(){return Object.keys(b).reduce(function(a,d){a[d]=LJ(d,b[d],c);return a},{})}return Array.isArray(b)?d():"object"===typeof b&&null!==b?f():a&&-1<a.toLowerCase().indexOf("color")&&"string"===typeof b?c[b]||b:b};function ZI(a,b){(b=b.serialize())&&bS(a,b)}function bS(a,b){_.each(a,function(a){"object"===typeof a&&null!==a&&bS(a,b)});"mediaId"in a&&"mediaVersion"in a&&(a.origin=b)};function cS(){}cS=X.extend({className:"createTeamDialog"});cS.prototype.events=function(){return _.extend(X.prototype.events.call(this),{"click .createTeamDialogCreate":this.trigger.bind(this,"createTeam")})};cS.prototype.initialize=function(a){this.ai=a.ai;this.tC=Object.freeze(J(ag,this.ai.ai.paidYearly));this.Uf=a.Uf;X.prototype.initialize.call(this,{ba:Zh,Qd:!0,nk:!0,Sc:!0})};
cS.prototype.render=function(){X.prototype.render.call(this);var a=moment().add(this.tC.cq(),"days").format("LL"),b=(cg(this.tC)/12).toFixed(2),c=this.tC.cq();this.$(".dialog").html(this.ox({createTeamWelcomeDescription:this.Uf.dL(b),createTeamWelcomeTitleHtml:this.Uf.eL(c),createTrialPeriodPoint1Html:Ed(this.Uf),createTrialPeriodPoint2Html:Fd(this.Uf,a),createTrialPeriodPoint3Html:Gd(this.Uf),createYourTeam:this.Uf.fL()}));return this};cS.prototype.ox=_.template('\x3cdiv class\x3d"createTeamContent"\x3e\x3ch2\x3e\x3c%\x3d createTeamWelcomeTitleHtml %\x3e\x3c/h2\x3e\x3cp\x3e\x3c%- createTeamWelcomeDescription %\x3e\x3c/p\x3e\x3cul\x3e\x3cli\x3e\x3c%\x3d createTrialPeriodPoint1Html %\x3e\x3c/li\x3e\x3cli\x3e\x3c%- createTrialPeriodPoint2Html %\x3e\x3c/li\x3e\x3cli\x3e\x3c%\x3d createTrialPeriodPoint3Html %\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"createTeamActions"\x3e\x3cbutton class\x3d"button createTeamDialogCreate"\x3e\x3c%- createYourTeam %\x3e\x3c/button\x3e\x3c/div\x3e');function dS(a){za(0<a.size,"invalid avatar size {}",a.size);Backbone.View.call(this,{className:"avatar"});this.mf=a.mf||null;this.Zk=a.Zk||null;this.bb=a.bb||null;this.size=a.size;this.kj=!!a.kj;this.Cj=!!a.Cj;this.Ei=!!a.Ei;this.Pi=!!a.Pi}t(dS,Backbone.View);
dS.prototype.render=function(){var a=this.mf&&this.Zk,b=!!this.Zk;this.$el.css({width:this.size+"px",height:this.size+"px",lineHeight:this.size/2+"px"});this.mf&&this.$el.css("backgroundImage","url("+this.mf+")");a?(this.$el.addClass("avatar--composite"),this.$el.css("fontSize",this.size/4+"px")):b&&(this.$el.addClass("avatar--brand"),this.$el.css("fontSize",this.size/2+"px"));this.Zk&&this.$el.attr("data-letter",this.Zk);this.bb&&(this.$el.css("backgroundColor",this.bb.qa()),208<Dj(this.bb)&&this.$el.addClass("avatar--light"));
this.$el.toggleClass("avatar--whiteBorder",this.Ei);this.$el.toggleClass("avatar--darkBorder",this.Pi);this.$el.toggleClass("avatar--glow",this.kj);this.$el.toggleClass("avatar--pointer",this.Cj);return this};function eS(a){return(a.gb()||"Brand").toUpperCase().trim().replace(/^THE\s+/,"").charAt(0)}function fS(a){a=a.Gk();return Hj(a?"#"+a:"#b0b0b0")}
function gS(a,b){a=a.Um().NE();Ba(0<Object.keys(a).length,"avatar bundle is empty");var c=b*(window.devicePixelRatio||1);return _.chain(a).values().sortBy(function(a){return Math.abs(a.size-c)}).sortBy(function(a){return a.size<c}).first().value().ma()}function EQ(a){var b=gS(a.Pa,a.size);a=new dS({mf:b,size:a.size,kj:a.kj,Cj:a.Cj,Ei:a.Ei,Pi:a.Pi});a.render();return a}function CQ(a){var b=eS(a.ca),c=fS(a.ca);a=new dS({Zk:b,bb:c,size:a.size,kj:a.kj,Cj:a.Cj,Ei:a.Ei,Pi:a.Pi});a.render();return a};function hS(a){this.tu=a.tu;this.ia=a.ia;this.xy=a.xy;this.kL=a.kL||"#cc0000"}hS.prototype.create=function(a){return vf(this.tu,"/teams",{displayName:a}).spread(function(a){return xp(a.brand)})};function iS(a){Backbone.View.call(this,{className:"active brand"});this.ic=a.ic;var b;b={ca:a.ca,Pa:a.Pa,size:60,Ei:!0};if(b.ca.nj())b=EQ(b);else{var c=gS(b.Pa,b.size),d=eS(b.ca),f=fS(b.ca);b=new dS({mf:c,Zk:d,bb:f,size:b.size,kj:b.kj,Cj:b.Cj,Ei:b.Ei,Pi:b.Pi});b.render()}this.Tw=b;this.ca=a.ca;this.Pa=a.Pa;this.iv=!!a.iv}t(iS,Backbone.View);
iS.prototype.render=function(){var a=this.el,b;b=this.ca.nj()?this.ic.vA():this.ca.gb();var c=this.Pa.gb(),d="/"+this.Pa.Cf(),f=this.ic.AU(),g=this.ic.RU(),h=this.iv;soy.asserts.assertType(null==d||d instanceof goog.soy.data.SanitizedContent||goog.isString(d),"profilePageUrl",d,"null|string|undefined");soy.asserts.assertType(null==c||c instanceof goog.soy.data.SanitizedContent||goog.isString(c),"displayName",c,"null|string|undefined");soy.asserts.assertType(null==b||b instanceof goog.soy.data.SanitizedContent||
goog.isString(b),"brandName",b,"null|string|undefined");soy.asserts.assertType(goog.isString(f)||f instanceof goog.soy.data.SanitizedContent,"settings",f,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(g)||g instanceof goog.soy.data.SanitizedContent,"viewProfile",g,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(h)||1===h||0===h,"openInNewTab",h,"boolean");h=!!h;b=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"activeUser"\x3e\x3cdiv class\x3d"userDisplayName"\x3e'+
soy.$$escapeHtml(c)+'\x3c/div\x3e\x3cdiv class\x3d"teamDisplayName"\x3e'+soy.$$escapeHtml(b)+'\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"userMenuBrandActions"\x3e\x3ca href\x3d"/account"'+(h?' target\x3d"_blank"':"")+"\x3e"+soy.$$escapeHtml(f)+"\x3c/a\x3e"+(d?'\x3ca href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(d))+'"'+(h?' target\x3d"_blank"':"")+"\x3e"+soy.$$escapeHtml(g)+"\x3c/a\x3e":"")+"\x3c/div\x3e");a.innerHTML=b;this.$el.children().first().append(this.Tw.$el);return this};function jS(){}jS=Backbone.View.extend({tagName:"li",className:"brand"});jS.prototype.initialize=function(a){this.Tw=a.fk.ca.nj()?EQ({Pa:a.Pa,size:36}):CQ({ca:a.fk.ca,size:36});this.fk=a.fk;this.ic=a.ic};jS.prototype.render=function(){this.$el.html(this.template({personal:this.fk.ca.nj(),personalLabel:this.ic.mU(),displayName:this.fk.ca.gb(),url:this.fk.url}));this.$(".left").append(this.Tw.$el);return this};jS.prototype.template=_.template('\x3ca href\x3d"\x3c%- url %\x3e"\x3e\x3cdiv class\x3d"left"\x3e\x3c/div\x3e\x3cdiv class\x3d"right"\x3e\x3c% if (personal) { %\x3e\x3c%- personalLabel %\x3e\x3c% } else { %\x3e\x3c%- displayName %\x3e\x3c% } %\x3e\x3c/div\x3e\x3c/a\x3e');function kS(){}kS=Backbone.View.extend({className:"brandListWrapper"});kS.prototype.initialize=function(a){this.jD=a.jD;this.Pa=a.Pa;this.ic=a.ic};kS.prototype.render=function(){var a=$('\x3cul class\x3d"brandList"\x3e');this.$el.html(a);this.jD.forEach(function(b){(new jS({fk:b,Pa:this.Pa,ic:this.ic})).render().$el.appendTo(a)}.bind(this));return this};function lS(){}lS=Backbone.View.extend({className:"actions",tagName:"ul"});lS.prototype.initialize=function(a){this.ic=a.ic;this.Pr=!!a.Pr};lS.prototype.render=function(){this.$el.toggleClass("singleAction",!this.Pr);this.$el.html(this.template({showUpgradeButton:this.Pr,upgrade:this.ic.dw(),signOut:this.ic.signOut()}));return this};lS.prototype.events=function(){return{"click #upgrade":this.trigger.bind(this,"upgrade")}};lS.prototype.template=_.template('\x3c% if (showUpgradeButton) { %\x3e\x3ca class\x3d"button buttonSmall" id\x3d"upgrade"\x3e\x3c%- upgrade %\x3e\x3c/a\x3e\x3c% } %\x3e\x3ca class\x3d"button buttonLink" href\x3d"/logout"\x3e\x3c%- signOut %\x3e\x3c/a\x3e');function mS(){}mS=Uq.extend({className:"userMenuContainer"});
mS.prototype.initialize=function(a){this.se=a.se;this.Pa=a.Pa;this.ic=a.ic;this.TC=a.TC;this.NH=a.NH;this.QJ=new iS({ic:a.ic,ca:this.TC.ca,Pa:a.Pa,iv:a.iv});this.fD=null;var b=$("\x3cdiv\x3e\x3c/div\x3e");b.append(this.QJ.render().$el);var c=new lS({ic:a.ic,Pr:a.Pr});this.listenTo(c,{remove:this.remove,upgrade:this.trigger.bind(this,"upgrade")});this.NH&&(this.fD=$('\x3cspan class\x3d"brandListLoadingSpinner"\x3e'),b.append(this.fD));b.append(c.render().$el);Uq.prototype.initialize.call(this,{content:b,
position:["leftTop",dl],dd:a.dd})};mS.prototype.show=function(){this.se.now();return Uq.prototype.show.call(this)};function nS(a,b){this.$P=(this.dD="PUBLIC"!==a)?a:"*";this.ZR=b}nS.prototype.init=function(a){window.addEventListener("message",function(b){b=b.data;b.isCanvaApi&&(a[b.type]||$.noop)(b)},!1);this.sendMessage({type:"Init",authenticated:this.dD})};nS.prototype.sendMessage=function(a){a.isCanvaApi=!0;this.ZR.postMessage(a,this.$P)};function oS(a,b){function c(a){a.preventDefault();D?(B.sendMessage({type:"PublishRequested",designId:A.va(),untouched:k()}),l()):(S(),h())}var d=window.CANVA_EMBED,f=nb,g=pb;function h(){var a=!1,b=new X({ba:Zh,nk:!1,content:$('\x3cdiv class\x3d"progress"\x3e\x3cspan class\x3d"progressValue autoIncrement"\x3e\x3cspan class\x3d"text"\x3e5%\x3c/span\x3e\x3cspan class\x3d"inner"\x3e\x3c/span\x3e\x3c/span\x3e\x3c/div\x3e'),Qd:!1,Sc:!1,title:"Saving your design..."});!D&&A.Fg()&&(b.show(),a=!0);Fr(2E4).then(function(){a&&
b.remove();B.sendMessage({type:"Close",designId:A.va(),untouched:k()})},function(){var c=new X({ba:Zh,title:"Saving failed",content:$('\x3cp\x3eSorry, but we had some trouble saving your design. You may still be in the middle of uploading some images, someone else might be editing your design at the moment, or our servers might be having issues. Please try again.\x3c/p\x3e\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button done"\x3eOk\x3c/button\x3e\x3c/p\x3e')});a&&b.remove();c.show()})}
function k(){return 1===A.Rc()&&z.isEmpty()}function l(){$(document.body).addClass("modalContentVisible modalContentBlurAndDarkenVisible")}function m(){$(document.body).removeClass("modalContentVisible modalContentBlurAndDarkenVisible")}function n(a){var c=a.layout;return c?b.Sa((new Bo).eh(c)).then(function(a){a=a.docType?$k(a.docType):void 0;return a},function(){return p(a)}):p(a)}function p(a){a=a.pages&&a.pages[0];return vo(a?a.width:0,a?a.height:0)}function r(a){return new P(function(b){var c=
(Array.isArray(a)&&a||[]).map(Ia).map(fj),c=JA(lb,c);iA(c,b)})}function q(){var b=new nR,c=new hS({tu:mb,ia:ib,xy:!!nb.ta.get(ce)});return NN(a,{Ha:a,Am:qb,fa:nb,analytics:De,document:z,getSession:function(){return A},pc:w,Oc:wb,Nb:fb,kb:eb,ia:ib,eb:db,Ml:jb,Rf:kb,jd:lb,hd:y,C:pb,ba:Zh,ai:b,$R:c,Kb:x,lb:H,pm:E,Il:new HQ})}function v(){var a=WM({C:g,fa:nb,analytics:De,ob:A,document:z,pc:w,Nb:fb,kb:eb,ia:ib,jd:lb,hd:y,ba:Zh,Kb:x,lb:H});a.YG=!0;var b=new $Q({model:a.Bh(),Z:qc(g)});b.listener=function(){B.sendMessage({type:"Published",
designId:A.va(),exportUrl:a.Bh().exportUrl,thumbnailUrl:a.Bh().thumbnailUrl,untouched:k()});a.remove()};a.aa.rE=b;b={pageRange:[],pageCount:z.Ae(),outputType:"PNG",mediaDpi:96};F&&(b.outputType="PDF");a.start(b)}var x=null;try{x=Yk()}catch(V){}var w=Cq(),y=OH(),B=new nS(d.embedDomain,window.parent),F=!1,D=!0,E=window.availableLocales||{};B.init({setDoneButtonText:function(a){var b=$(".editorActionExport");0!==b.length&&b.text(a.text)},blur:l,close:h,focus:m,publish:function(){try{v()}catch(a){m()}},
loadDocumentFromJson:function(b){var c;try{c=JSON.parse(b.text)}catch(d){return}var h="object"===typeof c&&c||{},k=Hk(),l=new pp(mb);P.all([n(h),r(h.media)]).spread(function(c){var d=Gq(w).VB();(new Zk({Ui:k,Mb:qb,lb:H,ia:l,fa:f,C:g,analytics:De,wd:K,Kb:x,wk:d,vm:br})).go(h,c,a,null,q,null);!0===b.killInterface&&(Br=!0,$("#objectPanel").css("display","none"),$("#editorControls").css("display","none"),$("#canvaDocument").css("left","0"))})},setExportEnabled:function(a){D=!!a.enabled},setMultipagePdf:function(a){a.enabled?
F=!0:(gN.qL(),qI.pL())},setStaticTitle:function(a){DD.rR(a.title)},upload:function(a){qB.call($("#objectPanel .uploads a"),g);xA(new tA({source:"third_party_editor",Y:Qb(g),gv:function(a){var d=L(z).w(),f=L(z).D(),g=b,h=c,k=g/h;f<h&&(h=f,g*=k);d<g&&(g=d,h*=k);a={type:"image",isBackground:!1,isRecolorable:!1,mediaId:a.G(),mediaVersion:a.Aa().getVersion(),isCutout:!1,width:g,height:h};a=He(a);L(z).addElement(a,!0);B.sendMessage({type:"Upload",status:"done"})},progress:(new pA).eh("third_party_editor")}),
a.dataUri);var b=a.width,c=a.height}});A?B.sendMessage({type:"Editor",designId:A.va()}):B.sendMessage({type:"Editor"});$(".homeLink").click(function(a){a.preventDefault();h()});$("#editorLogo").click(function(a){window.open("https://www.canva.com/about");a.preventDefault();a.stopPropagation();return!1});DD.QD();DD.rL();$("#documentMenuUpgrade").remove();var H=function(){return new VL({ia:ib,C:g,ig:["contextTipRoyaltyFreePaymentOption"],dt:function(a){return UL({key:a,C:Fc(g),Nc:$(document),Fc:$("body")})},
root:$("body")})}();ON.EXPORT=function(){var a=new Backbone.View({tagName:"button",className:"button editorActionExport",events:{click:c}});a.$el.text("Publish");return a}};function pS(a){soy.asserts.assertType(goog.isString(a.Xl)||a.Xl instanceof goog.soy.data.SanitizedContent,"videoId",a.Xl,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca class\x3d"presentationLightbox__close" title\x3d"Close" alt\x3d"Close"\x3eClose\x3c/a\x3e\x3ciframe class\x3d"presentationLightbox__video" src\x3d"//www.youtube.com/embed/'+soy.$$escapeHtmlAttribute(a.Xl)+'?rel\x3d0\x26autoplay\x3d1\x26modestbranding\x3d1\x26fs\x3d0\x26showinfo\x3d0" frameborder\x3d"0"\x3e\x3c/iframe\x3e')}
function qS(a){soy.asserts.assertType(goog.isString(a.Zh)||a.Zh instanceof goog.soy.data.SanitizedContent,"postUrl",a.Zh,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca class\x3d"presentationLightbox__close" title\x3d"Close" alt\x3d"Close"\x3eClose\x3c/a\x3e\x3cdiv class\x3d"presentationLightbox__facebookPost presentationLightbox__social"\x3e\x3cdiv class\x3d"presentationLightbox__inner"\x3e\x3cdiv class\x3d"fb-post" data-href\x3d"'+soy.$$escapeHtmlAttribute(a.Zh)+
'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')}
function rS(a){soy.asserts.assertType(goog.isString(a.Zh)||a.Zh instanceof goog.soy.data.SanitizedContent,"postUrl",a.Zh,"string|goog.soy.data.SanitizedContent");var b=a.Zh;soy.asserts.assertType(goog.isNumber(a.width),"width",a.width,"number");a=a.width;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca class\x3d"presentationLightbox__close" title\x3d"Close" alt\x3d"Close"\x3eClose\x3c/a\x3e\x3ciframe class\x3d"presentationLightbox__video" src\x3d"https://www.facebook.com/plugins/video.php?href\x3d'+soy.$$escapeUri(b)+
"\x26show_text\x3d0\x26width\x3d"+soy.$$escapeUri(a)+'" style\x3d"border:none;overflow:hidden" scrolling\x3d"yes" frameborder\x3d"0" allowTransparency\x3d"true"\x3e\x3c/iframe\x3e')};function sS(a){a=void 0===a?$("body"):a;Backbone.View.call(this,{className:"presentationLightbox"});this.Ic=a}t(sS,Backbone.View);e=sS.prototype;e.events=function(){return{"click .presentationLightbox__close":this.lx}};
e.show=function(){var a=this;this.trigger("show");this.Ic.addClass("modalContentVisible modalContentBlurAndDarkenVisible");this.ou=this.ou.bind(this);this.Ic.on("keyup",this.ou);$("\x3e .mask",this.Ic).forceLayout().addClass("on").on("click",function(){return a.lx()});this.$el.appendTo(this.Ic);this.$el.addClass("playing")};e.ou=function(a){27===a.which&&(a.stopPropagation(),a.preventDefault(),this.Ic.off("keyup",this.ou),this.lx())};
e.lx=function(){this.trigger("close");var a=$("\x3e .mask",this.Ic);this.$el.addClass("disappearing").delay(500,function(){$(this).remove()});this.Ic.removeClass("modalContentVisible modalContentBlurAndDarkenVisible");a.addClass("off").delay(500,function(){$(this).removeClass("on off white")});a.off("click")};e.Qd=function(){this.$el.find(".presentationLightbox__close").addClass("presentationLightbox__close--fadeIn")};
e.render=function(a,b){var c=this,d,f=500;switch(a){case "video":this.el.innerHTML=pS({Xl:b});P.delay(f).then(function(){return c.Qd()});break;case "facebookPost":this.el.innerHTML=qS({Zh:b});d=Date.now();FB.XFBML.parse(this.el,function(){var a=c.$el.find(".presentationLightbox__social");f=Math.max(d+2E3-Date.now(),0);P.delay(f).then(function(){return a.addClass("presentationLightbox__social--loaded")}).then(function(){return c.Qd()})});break;case "facebookVideo":a=parseInt(.7*$(window).outerWidth(),
10);this.el.innerHTML=rS({Zh:b,width:a});P.delay(f).then(function(){return c.Qd()});break;case "tweet":this.el.innerHTML=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca class\x3d"presentationLightbox__close" title\x3d"Close" alt\x3d"Close"\x3eClose\x3c/a\x3e\x3cdiv class\x3d"presentationLightbox__tweet presentationLightbox__social"\x3e\x3cdiv class\x3d"presentationLightbox__inner"\x3e\x3c/div\x3e\x3c/div\x3e');var g=this.$el.find(".presentationLightbox__social");d=Date.now();twttr.ready(function(a){function b(){f=
Math.max(d+2E3-Date.now(),0);P.delay(f).then(function(){return g.addClass("presentationLightbox__social--loaded")}).then(function(){return c.Qd()});a.events.unbind("rendered",b)}a.events.bind("rendered",b)});$.ajax({url:"https://publish.twitter.com/oembed?url\x3d"+b+"\x26maxwidth\x3d500",dataType:"jsonp",success:function(a){a.html&&g.find(".presentationLightbox__inner").html(a.html)}})}return this};var st={dm:/^#(video-)([a-z0-9-]+)$/,hT:/^(?:https?:\/\/)?support\.canva\.com\/.+/,QC:/(?:https?:\/\/)?(?:www\.)?youtu(?:be\.com\/watch\?(?:.*?&)?v=|\.be\/)([\w\-]+)(?:&?[\w\?=]*)?/,zC:/^(?:https?:\/\/)?www\.facebook\.com\/.+/,jJ:/^(?:https?:\/\/)?www\.facebook\.com\/.+\/videos\/.+/,NC:/^(?:https?:\/\/)?(?:www\.)?twitter\.com\/.+/,URL:/^(?:https?:\/\/|[\-0-9a-z]+\.)\S+$/i};function tS(a){this.sE=this.uI=!1;this.wy=!!a;this.hn=this.hn.bind(this)}e=tS.prototype;e.toggle=function(a,b){var c=this;b.filter(this.xM).forEach(function(b){a?(uS(c,b),b.F().on("mousedown",c.hn).on("touchstart",c.hn).on("mouseenter",c.iE).on("mouseleave",c.jE).attr("data-has-link","true")):uS(c,b)})};function uS(a,b){b.F().off("mousedown",a.hn).off("touchstart",a.hn).off("mouseenter",a.iE).off("mouseleave",a.jE).attr("data-has-link","")}e.xM=function(a){a=a.zg();return st.dm.test(a)||st.URL.test(a)};
e.hn=function(a){a.stopPropagation();a.preventDefault();a=$(a.currentTarget).data("canvaElement").zg();if(st.NC.test(a)&&!this.uI){if(!window.twttr){var b=document.createElement("script");b.innerHTML='window.twttr \x3d (function(d, s, id) {\n          var js, fjs \x3d d.getElementsByTagName(s)[0],\n            t \x3d window.twttr || {};\n          if (d.getElementById(id)) return t;\n          js \x3d d.createElement(s);\n          js.id \x3d id;\n          js.src \x3d "https://platform.twitter.com/widgets.js";\n          fjs.parentNode.insertBefore(js, fjs);\n         \n          t._e \x3d [];\n          t.ready \x3d function(f) {\n            t._e.push(f);\n          };\n         \n          return t;\n        }(document, "script", "twitter-wjs"));';
document.body.appendChild(b)}this.uI=!0}else st.zC.test(a)&&!this.sE&&(window.FB||(0===$("#fb-root").length&&$("body").append($('\x3cdiv id\x3d"fb-root"\x3e\x3c/div\x3e')),b=document.createElement("script"),b.innerHTML="(function(d, s, id) {\n        var js, fjs \x3d d.getElementsByTagName(s)[0];\n        if (d.getElementById(id)) return;\n        js \x3d d.createElement(s); js.id \x3d id;\n        js.src \x3d \"//connect.facebook.net/en_US/sdk.js#xfbml\x3d1\x26amp;version\x3dv2.5\";\n        fjs.parentNode.insertBefore(js, fjs);\n      }(document, 'script', 'facebook-jssdk'));",
document.body.appendChild(b)),this.sE=!0);switch(!0){case st.QC.test(a):case st.dm.test(a):vS(this,a);break;case st.jJ.test(a)&&this.wy:wS(this,"facebookVideo",a);break;case st.zC.test(a)&&this.wy:wS(this,"facebookPost",a);break;case st.NC.test(a)&&this.wy:wS(this,"tweet",a);break;default:this.trigger("open"),window.open(a,"_blank")}};
e.iE=function(){var a=$(this);if(!a.hasClass("linkHoverAnimation")){var b=a.data("initialTransform");b||(b=a.css("transform"),a.data("initialTransform",b));a.addClass("linkHoverAnimation").css("transform",b+"scale(1.1)")}};e.jE=function(){var a=$(this),b=a.data("initialTransform");b&&(a.css("transform",b),P.delay(300).then(function(){a.is(":hover")||(a.removeData("initialTransform"),a.removeClass("linkHoverAnimation"))}))};
function vS(a,b){var c={"video-tut2-tip1":"Yy9P90W987c","video-tut2-tip2":"ALLmXFaYzbo","video-tut2-tip3":"JziV33Lgq8c","video-tut2-tip4":"XTTtTbVdjU0"};if("#"===b.charAt(0)){b=b.substring(1);if(!c.hasOwnProperty(b))return;c=c[b]}else c=b.match(st.QC)[1];b=new sS;b.render("video",c);b.on("show",function(){return a.trigger("open")});b.on("close",function(){return a.trigger("close")});b.show()}
function wS(a,b,c){var d=new sS;d.render(b,c);d.on("show",function(){return a.trigger("open")});d.on("close",function(){return a.trigger("close")});d.show()}e.listenTo=Backbone.Events.listenTo;e.off=Backbone.Events.off;e.on=Backbone.Events.on;e.stopListening=Backbone.Events.stopListening;e.trigger=Backbone.Events.trigger;$(function(a,b){function c(){z&&A?(A.An(z.serialize()),setInterval(function(){z&&A&&Tn(A,z.serialize())&&z.trigger("change")},3E5)):setTimeout(c,15E3)}function d(){return NN(k,{Ha:k,Am:qb,fa:nb,analytics:De,document:z,getSession:function(){return A},pc:l,Oc:wb,kb:eb,Nb:fb,hd:w,ia:ib,eb:db,Ml:jb,Rf:kb,jd:lb,C:pb,ba:Zh,ai:B,$R:F,Kb:x,lb:y,pm:h,fg:r,Ni:q,Il:new HQ})}function f(a){var b=Op(a);return b&&(a=ms(ob,b.family||""))?{fontFamily:a.family,fontSize:b.cn(),bold:b.Rp(),italic:b.Tp()}:null}function g(a){return function(b){return b.getName()===
a}}var h=window.availableLocales||{},k=new pf(b||window.viewConfig),l=Cq(),m=Fq(l).Hk();$("body").toggleClass("highDpi",G.BC);if(!window.cmsg)throw Error("window['cmsg'] isn't defined");pb=new Nb;nb=new Pd(new Od(window.cflags));zC&&(jQuery.event.props.push("touches"),jQuery.event.props.push("changedTouches"),$("html").addClass("touch"));xS();yS();var n=window.csrfTokens;mb=a=new Hh(window.httpServiceConfig);var p=fi(new Mh(a));b=new ai("canva.editor.load",p.se,p,p.UP);b.kd("init-start");Ee=new xx({Ha:new Ix,
da:mb,ZF:new sx});Ee.init().then(function(){$("#objectPanel .content .buttonFacebook").prop("disabled",!1)});De=zi();var r=!(!window.paymentAccountConfig||!window.paymentAccountConfig.canUpgrade),q=!(!window.paymentAccountConfig||!window.paymentAccountConfig.canEditCreditCard);qb=new Ck({analytics:De,fa:nb,zx:function(){var a=RN(B),b=Fq(l).na();return QN({kb:eb,ia:ib,analytics:De,ca:b,Sn:a,hd:w,zo:!1,je:a[0].cq(),pk:!1,fg:r,Ni:q,C:pb,fa:nb})}});var v=lv();db=Kl(v);fb=new kp(mb);eb=new tf(mb);wb=new $y;
jb=sq(nb,v);kb=new Hq;gb=new Ev(mb);bb=new gA(window.mediaMap,gb);cb=new gA(window.fontMediaMap,gb);lb=new IA(mb,gb,wb,bb,new RA,new GA(2),p,Xh);ib=new pp(mb);var x=null;try{x=Yk()}catch(oa){}var w=OH(),y=new VL({ia:ib,C:pb,ig:[JB,"contextTipRoyaltyFreePaymentOption"],dt:function(a){return UL({key:a,C:Fc(pb),Nc:$(document),Fc:$("body")})},root:$("body")}),v=Gq(l).VB(),B=new nR,F=new hS({tu:mb,ia:ib,xy:!!nb.ta.get(ce)});Fb=window.localStorage?new jk(window.localStorage,Gq(l).G()):new jk;ob=new Hy(Gy,
{tb:gb,kw:window.WebFont,Lf:cb,locale:window.cmsg.localePrecedence[0]});nb.ta.get(ae)&&Jy();window.scrollTo(0,0);var D=function(){var a=Fq(l).Hk();return(a=a&&Ip(a))&&a[0]?Lp(a[0])||[]:[]}(),E={};Uy(ob,D,function(){var a=zS(D);nb.ta.get(ae)&&0<a.length&&(ob.LA=a,E={title:D.filter(g("title")).map(f)[0],subtitle:D.filter(g("subtitle")).map(f)[0],body:D.filter(g("body")).map(f)[0]},Object.keys(E).forEach(function(a){E[a]||delete E[a]}))});var H=window.csession,p=window.cdoc,V=window.cdocType;if(p){(new Zk({Ui:Hk(),
Mb:qb,lb:y,ia:ib,fa:nb,C:pb,analytics:De,wd:K,Kb:x,wk:v,vm:br})).go(p,V,k,m,d,b);window.history.replaceState("",document.title,window.location.pathname+window.location.search);var R=wD(H,p);setTimeout(c,15E3);var O=p.id,W=Date.now(),m=window.CANVA_EMBED,Q=n.session,n=!!navigator.sendBeacon,v=new Gr({da:mb,rA:W,Ye:O,Ea:R,qy:m,jd:lb,Xw:n,iy:Q});$(window).resize(wr).on("beforeunload",v.gB.bind(v));if(!m&&n){var pa=location.protocol+"//"+location.hostname+(location.port?":"+location.port:"");$(window).on("unload",
function(){var a=Math.floor((Date.now()-W)/1E3)+"",a=JSON.stringify({docId:O,session:H,durationSecs:a,syncMetrics:{sync:R.gI.serialize()},csrfToken:Q});navigator.sendBeacon(pa+"/session/editor/"+encodeURIComponent(O)+"?close",a)})}}wr();window.CANVA_EMBED&&oS(k,new co(a));Gb=new ak($("#canvaDocument"));Gb.render();De&&p&&pi(p.id,p.designType);b.kd("init-end")});
function zS(a){return a.sort(function(a){for(var c={},d=0;d<a.length;d++)c[a[d]]=d;return function(a,b){a=a.getName();b=b.getName();return c[a]-c[b]||a.localeCompare(b)}}(["title","subtitle","body"])).map(function(a){var c;Op(a)&&(c=Op(a).family);return ms(ob,c||"")}).filter(Boolean)}function yS(){$(document).on("mouseover","a",function(){"#"==$(this).attr("href")&&$(this).removeAttr("href")})}
function vr(a){rb||(rb=new tS(!!nb.ta.get(se)),rb.on("open",function(){K.trigger("pausePresentationOnExit",!0)}),rb.on("close",function(){K.trigger("pausePresentationOnExit",!1)}));rb.toggle(a,z.za())}
function xS(){function a(a){a.stopPropagation();a.preventDefault();b();$("#touchDevice").addClass("on");IC();De&&De.track("touch_device_notice")}function b(){document.removeEventListener("touchstart",a,!0);document.removeEventListener("mousedown",b)}zC&&(document.addEventListener("touchstart",a,!0),document.addEventListener("mousedown",b))};$(function(){function a(){zE(function(){var a=Cq(),f=Fq(a).na(),a=Gq(a);zE.identify({name:c(a),email:a.ze(),externalId:a.G(),organization:d(f)||void 0});zE.setLocale(a.Ag());$(".activateZendesk").click(b)})}function b(){zE&&zE.activate({hideOnClose:!0});return!zE}function c(a){var b=a.gb();a=a.Cf();return b?b:a}function d(a){var b=a.gb();a=a.Qy();return b?b:a}var f=zi();!(new Pd(new Od(window.cflags))).ta.get(ge)||window.brandPageConfig&&window.brandPageConfig.brandOnboardingSettings||a();(function(){$("#editorHelpMenuButton").click(function(){oi(f,
"need_help","editor","canvas","bottom_right")})})()});$(document).on("wheel",".disableAncestorScroll",function(a){var b=a.originalEvent&&a.originalEvent.deltaY,c=a.currentTarget,d=0>b&&0===c.scrollTop,b=0<b&&Math.ceil(c.scrollTop+c.getBoundingClientRect().height)===c.scrollHeight;(d||b)&&a.preventDefault()});function Iq(a){this.ba=a.ba;this.element=$(this.template());this.element.addClass(AS(a.style));this.element.on("click",".modalContentMask",function(a){this.trigger("maskClick",a)}.bind(this));this.style=a.style;this.Js=""}e=Iq.prototype;e.off=Backbone.Events.off;e.on=Backbone.Events.on;e.trigger=Backbone.Events.trigger;
function AS(a){switch(a){case Jq:return"modalContentBlurAndDarken";case Vq:return"modalContentDarken";case BK:return"modalContentClear";case wN:return"modalContentNone";default:throw Error();}}e.hide=function(){$("body").removeClass(this.Js).attr("data-modal-levels",$("body").attr("data-modal-levels")-1);"0"===$("body").attr("data-modal-levels")&&$("body").css("margin-right","");this.element.removeClass("modalContentOn");this.ba.setTimeout(function(){this.element.detach()}.bind(this),300)};
e.show=function(a){this.element.children(":not(.modalContentMask)").remove();this.element.append(a).appendTo("body");$h(function(){var a=this,c=parseInt($("body").attr("data-modal-levels"),10)||0,d=window.innerWidth-$(window).width();$("body").attr("data-modal-levels",c+1);0===c&&$("body").css("margin-right",d);this.element.addClass("modalContentOn");["modalContentVisible",AS(this.style)+"Visible"].forEach(function(c){$("body").hasClass(c)||(a.Js+=c+" ")});$("body").addClass(this.Js)}.bind(this))};
e.template=_.template('\x3cdiv class\x3d"modalContent"\x3e\x3cdiv class\x3d"modalContentMask"\x3e\x3c/div\x3e\x3c/div\x3e');var Jq="BLUR_AND_DARKEN",Vq="DARKEN",BK="CLEAR",wN="NONE";function lv(){return"undefined"!==typeof Rollbar?new BS:new CS}function BS(){}BS.prototype.log=function(a,b){Rollbar.log(a,b)};function CS(){}CS.prototype.log=function(a,b){console.log(a,b)};})();
